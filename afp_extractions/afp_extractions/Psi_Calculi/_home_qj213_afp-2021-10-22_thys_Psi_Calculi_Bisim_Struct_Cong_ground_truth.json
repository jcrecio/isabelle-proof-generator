{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Bisim_Struct_Cong.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma bisimParComm:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  \n  shows \"\\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P\"", "lemma bisimResComm:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   y :: name\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\"", "lemma bisimResComm':\n  fixes x    :: name\n  and   \\<Psi>   :: 'b\n  and   xvec :: \"name list\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\"", "lemma bisimScopeExt:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\"", "lemma bisimScopeExtChain:\n  fixes xvec :: \"name list\"\n  and   \\<Psi>    :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)\"", "lemma bisimParAssoc:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> (P \\<parallel> Q) \\<parallel> R \\<sim> P \\<parallel> (Q \\<parallel> R)\"", "lemma bisimParNil:\n  fixes P :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P\"", "lemma bisimResNil:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  \n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>\"", "lemma bisimOutputPushRes:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   M :: 'a\n  and   N :: 'a\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> M\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\"", "lemma bisimInputPushRes:\n  fixes x    :: name\n  and   \\<Psi>    :: 'b\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> M\"\n  and     \"x \\<sharp> xvec\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\"", "lemma bisimCasePushRes:\n  fixes x  :: name\n  and   \\<Psi>  :: 'b\n  and   Cs :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n\n  assumes \"x \\<sharp> (map fst Cs)\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\"", "lemma bangExt:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"guarded P\"\n\n  shows \"\\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P\"", "lemma bisimParPresSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q\"", "lemma bisimScopeExtSym:\n  fixes x :: name\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<sim> (\\<lparr>\\<nu>x\\<rparr>P) \\<parallel> Q\"", "lemma bisimScopeExtChainSym:\n  fixes xvec :: \"name list\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q\"", "lemma bisimParPresAuxSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\"\n  and     \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q\"", "lemma bangDerivative:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha>    :: \"'a action\"\n  and   P'   :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\"\n  and     \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"bn \\<alpha> \\<sharp>* \\<Psi>\"\n  and     \"bn \\<alpha> \\<sharp>* P\"\n  and     \"bn \\<alpha> \\<sharp>* Q\"\n  and     \"bn \\<alpha> \\<sharp>* subject \\<alpha>\"\n  and     \"guarded Q\"\n\n  obtains Q' R T where \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\" and \"\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                   and \"((supp R)::name set) \\<subseteq> supp P'\" and \"((supp T)::name set) \\<subseteq> supp Q'\"", "lemma structCongBisim:\n  fixes P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"P \\<equiv>\\<^sub>s Q\"\n\n  shows \"P \\<sim> Q\"", "lemma bisimBangPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"guarded P\"\n  and     \"guarded Q\"\n\n  shows \"\\<Psi> \\<rhd> !P \\<sim> !Q\""], "translations": [["", "lemma bisimParComm:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  \n  shows \"\\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P", "let ?X = \"{((\\<Psi>::'b), \\<lparr>\\<nu>*xvec\\<rparr>((P::('a, 'b, 'c) psi) \\<parallel> Q), \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P)) | xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n       \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n      xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "by(force simp add: eqvt_def pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst] eqvts)"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P", "have \"(\\<Psi>, P \\<parallel> Q, Q \\<parallel> P) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> Q, Q \\<parallel> P)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>xvec.\n       (\\<exists>Pa Qa.\n           P \\<parallel> Q =\n           \\<lparr>\\<nu>*xvec\\<rparr>Pa \\<parallel> Qa \\<and>\n           Q \\<parallel> P =\n           \\<lparr>\\<nu>*xvec\\<rparr>Qa \\<parallel> Pa) \\<and>\n       xvec \\<sharp>* \\<Psi>", "by(rule_tac x=\"[]\" in exI) auto"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> Q, Q \\<parallel> P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> Q, Q \\<parallel> P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P", "proof(coinduct rule: bisimWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "case(cStatEq \\<Psi> PQ QP)"], ["proof (state)\nthis:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from \\<open>(\\<Psi>, PQ, QP) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q where PFrQ: \"PQ = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)\" and QFrP: \"QP = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P)\" and \"xvec \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q.\n        \\<lbrakk>PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q;\n         QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P;\n         xvec \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"A\\<^sub>P \\<sharp>* Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, Q)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"A\\<^sub>Q \\<sharp>* A\\<^sub>P\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* A\\<^sub>P;\n         A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, A\\<^sub>P, \\<Psi>\\<^sub>P)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from FrQ \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>P\\<close> \\<open>A\\<^sub>P \\<sharp>* Q\\<close>"], ["proof (chain)\npicking this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\""], ["proof (prove)\nusing this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q", "by(force dest: extractFrameFreshChain)"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "have \"\\<langle>(xvec@A\\<^sub>P@A\\<^sub>Q), \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>(xvec@A\\<^sub>Q@A\\<^sub>P), \\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>P\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<langle>(xvec @\n              A\\<^sub>P @\n              A\\<^sub>Q), \\<Psi> \\<otimes>\n                          \\<Psi>\\<^sub>P \\<otimes>\n                          \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>(xvec @\n A\\<^sub>Q @\n A\\<^sub>P), \\<Psi> \\<otimes>\n             \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>P\\<rangle>", "by(simp add: frameChainAppend)\n        (metis frameResChainPres frameResChainComm frameNilStatEq compositionSym Associativity Commutativity FrameStatEqTrans)"], ["proof (state)\nthis:\n  \\<langle>(xvec @\n            A\\<^sub>P @\n            A\\<^sub>Q), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>(xvec @\n                                     A\\<^sub>Q @\n                                     A\\<^sub>P), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "with FrP FrQ PFrQ QFrP \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\\<close> \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>P\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  xvec \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  \\<langle>(xvec @\n            A\\<^sub>P @\n            A\\<^sub>Q), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>(xvec @\n                                     A\\<^sub>Q @\n                                     A\\<^sub>P), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>P\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  xvec \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  \\<langle>(xvec @\n            A\\<^sub>P @\n            A\\<^sub>Q), \\<Psi> \\<otimes>\n                        \\<Psi>\\<^sub>P \\<otimes>\n                        \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<langle>(xvec @\n                                     A\\<^sub>Q @\n                                     A\\<^sub>P), \\<Psi> \\<otimes>\n           \\<Psi>\\<^sub>Q \\<otimes> \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame PQ)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame QP) \\<Psi>", "by(auto simp add: frameChainAppend)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame PQ)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame QP) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "case(cSim \\<Psi> PQ QP)"], ["proof (state)\nthis:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from \\<open>(\\<Psi>, PQ, QP) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q where PFrQ: \"PQ = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)\" and QFrP: \"QP = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P)\"\n                      and \"xvec \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q.\n        \\<lbrakk>PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q;\n         QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P;\n         xvec \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "moreover"], ["proof (state)\nthis:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<leadsto>[?X] \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "have \"\\<Psi> \\<rhd> P \\<parallel> Q \\<leadsto>[?X] Q \\<parallel> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "note \\<open>eqvt ?X\\<close>"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "have \"\\<And>\\<Psi> P Q. (\\<Psi>, P \\<parallel> Q, Q \\<parallel> P) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P \\<parallel> Q, Q \\<parallel> P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<exists>xvec.\n          (\\<exists>Pa Qa.\n              P \\<parallel> Q =\n              \\<lparr>\\<nu>*xvec\\<rparr>Pa \\<parallel> Qa \\<and>\n              Q \\<parallel> P =\n              \\<lparr>\\<nu>*xvec\\<rparr>Qa \\<parallel> Pa) \\<and>\n          xvec \\<sharp>* \\<Psi>", "by(rule_tac x=\"[]\" in exI) auto"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P \\<parallel> ?Q, ?Q \\<parallel> ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "moreover"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P \\<parallel> ?Q, ?Q \\<parallel> ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "have \"\\<And>\\<Psi> P Q xvec. \\<lbrakk>(\\<Psi>, P, Q) \\<in> ?X; xvec \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P, \\<lparr>\\<nu>*xvec\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q xvec.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                       xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P,\n                          \\<lparr>\\<nu>*xvec\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "apply(induct xvec, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> xvec xveca Pa Qa.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xveca \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xvecb.\n                            (\\<exists>P Q.\n                                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>*xveca\\<rparr>Pa \\<parallel>\n         Qa =\n                                \\<lparr>\\<nu>*xvecb\\<rparr>P \\<parallel>\n                     Q \\<and>\n                                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>*xveca\\<rparr>Qa \\<parallel>\n         Pa =\n                                \\<lparr>\\<nu>*xvecb\\<rparr>Q \\<parallel>\n                     P) \\<and>\n                            xvecb \\<sharp>* \\<Psi>", "by(rule_tac x=\"xvec@xveca\" in exI) (auto simp add: resChainAppend)"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "ultimately"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  (?\\<Psi>, ?P \\<parallel> ?Q, ?Q \\<parallel> ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "show ?thesis"], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  (?\\<Psi>, ?P \\<parallel> ?Q, ?Q \\<parallel> ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>*?xvec\\<rparr>?P,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  Q \\<leadsto>[{(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q.\n                                xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P", "by(rule simParComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                Q \\<leadsto>[{(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                              xvec \\<Psi> P Q.\n                              xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                Q \\<leadsto>[{(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                              xvec \\<Psi> P Q.\n                              xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                Q \\<leadsto>[{(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                              xvec \\<Psi> P Q.\n                              xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "note \\<open>eqvt ?X\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "have \"\\<And>\\<Psi> P Q x. \\<lbrakk>(\\<Psi>, P, Q) \\<in> ?X; x \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q x.\n       \\<lbrakk>(\\<Psi>, P, Q)\n                \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                        \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                       xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n        x \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>P,\n                          \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                 \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                     P) |\n                                xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> x xvec Pa Qa.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xveca.\n                            (\\<exists>P Q.\n                                \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>Pa \\<parallel>\n     Qa) =\n                                \\<lparr>\\<nu>*xveca\\<rparr>P \\<parallel>\n                     Q \\<and>\n                                \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>Qa \\<parallel>\n     Pa) =\n                                \\<lparr>\\<nu>*xveca\\<rparr>Q \\<parallel>\n                     P) \\<and>\n                            xveca \\<sharp>* \\<Psi>", "by(rule_tac x=\"x#xvec\" in exI) auto"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                Q \\<leadsto>[{(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                              xvec \\<Psi> P Q.\n                              xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                Q \\<leadsto>[{(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                              xvec \\<Psi> P Q.\n                              xvec \\<sharp>* \\<Psi>}] Q \\<parallel> P\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n    xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>(?\\<Psi>, ?P, ?Q)\n           \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>};\n   ?x \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?x\\<rparr>?P,\n                     \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                    xvec \\<Psi> P Q.\n                    xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                                P", "by(rule resChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q.\n                  xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                              P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q.\n                  xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                              P\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{(\\<Psi>,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                        Q,\n                                    \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                        P) |\n                                   xvec \\<Psi> P Q.\n                                   xvec \\<sharp>* \\<Psi>}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "ultimately"], ["proof (chain)\npicking this:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  xvec \\<sharp>* \\<Psi>\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q.\n                  xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                              P", "show ?case"], ["proof (prove)\nusing this:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  xvec \\<sharp>* \\<Psi>\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    Q \\<leadsto>[{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                   \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                  xvec \\<Psi> P Q.\n                  xvec \\<sharp>* \\<Psi>}] \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                              P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> PQ \\<leadsto>[{(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel>\n                      P) |\n                                 xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}] QP", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> PQ \\<leadsto>[{(\\<Psi>,\n                                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n                                \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n                               xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}] QP\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "case(cExt \\<Psi> PQ QP \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from \\<open>(\\<Psi>, PQ, QP) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q where PFrQ: \"PQ = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)\" and QFrP: \"QP = \\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P)\"\n                      and \"xvec \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q.\n        \\<lbrakk>PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q;\n         QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P;\n         xvec \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "obtain p where \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>\"\n               and \"(p \\<bullet> xvec) \\<sharp>* P\"\n               and \"(p \\<bullet> xvec) \\<sharp>* Q\"\n               and \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\"\n               and S: \"(set p) \\<subseteq> (set xvec) \\<times> (set(p \\<bullet> xvec))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n         (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n         (p \\<bullet> xvec) \\<sharp>* \\<Psi>';\n         set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  distinctPerm p\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(p \\<bullet> (P \\<parallel> Q))\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n    \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> Q", "by(subst resChainAlpha) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "hence PQAlpha: \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> Q))\""], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> P \\<parallel> Q\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> S"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(p \\<bullet> (Q \\<parallel> P))\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n    \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> P", "by(subst resChainAlpha) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "hence QPAlpha: \"\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> P) = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> Q) \\<parallel> (p \\<bullet> P))\""], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n  \\<lparr>\\<nu>*p \\<bullet> xvec\\<rparr>p \\<bullet> Q \\<parallel> P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "from \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> Q)), \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> Q) \\<parallel> (p \\<bullet> P))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q),\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "with PFrQ QFrP PQAlpha QPAlpha"], ["proof (chain)\npicking this:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q)\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "show ?case"], ["proof (prove)\nusing this:\n  PQ = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q\n  QP = \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q)\n  \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel> (p \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> Q) \\<parallel> (p \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', PQ, QP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', PQ, QP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "case(cSym \\<Psi> PR QR)"], ["proof (state)\nthis:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n              xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, PR, QR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, QR, PR)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n           xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, QR, PR)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> P) |\n         xvec \\<Psi> P Q. xvec \\<sharp>* \\<Psi>}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> Q \\<sim> Q \\<parallel> P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimResComm:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   y :: name\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "proof(cases \"x=y\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n 2. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "case True"], ["proof (state)\nthis:\n  x = y\n\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n 2. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = y\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "case False"], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "{"], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "fix x::name and y::name and P::\"('a, 'b, 'c) psi\""], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "assume \"x \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "let ?X = \"{((\\<Psi>::'b), \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>(P::('a, 'b, 'c) psi)), \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) | \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P), \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n     \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n   \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n   \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> xyP yxP)"], ["proof (state)\nthis:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, xyP, yxP) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "obtain x y P where \"x \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>\" and \"xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\" and \"yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>x y P.\n        \\<lbrakk>x \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>;\n         xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P);\n         yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"x \\<sharp> A\\<^sub>P\" and \"y \\<sharp> A\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>P;\n         y \\<sharp> A\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(x, y, \\<Psi>)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  y \\<sharp> A\\<^sub>P\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  y \\<sharp> A\\<^sub>P", "show ?case"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  y \\<sharp> A\\<^sub>P\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame xyP)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame yxP) \\<Psi>", "by(force intro: frameResComm FrameStatEqTrans)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame xyP)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame yxP) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> xyP yxP)"], ["proof (state)\nthis:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, xyP, yxP) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "obtain x y P where \"x \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>\" and \"xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\" and \"yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>x y P.\n        \\<lbrakk>x \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>;\n         xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P);\n         yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "note \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n       \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n      \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "by(force simp add: eqvt_def pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n     \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n    \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence \"eqvt(?X \\<union> bisim)\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n     \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n    \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n        \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n       \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n      bisim)", "by auto"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n      \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n     \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n      \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n     \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n    bisim)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P.\n       (\\<Psi>, P, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n             bisim", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n        bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n        bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have \"\\<And>\\<Psi> x y P. \\<lbrakk>x \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P), \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) \\<in> ?X \\<union> bisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> x y P.\n       \\<lbrakk>x \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P))\n                         \\<in> {(\\<Psi>,\n                                 \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                                 \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                \\<Psi> x y P.\n                                x \\<sharp> \\<Psi> \\<and>\n                                y \\<sharp> \\<Psi>} \\<union>\n                               bisim", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?y \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>?y\\<rparr>?P),\n                     \\<lparr>\\<nu>?y\\<rparr>(\\<lparr>\\<nu>?x\\<rparr>?P))\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                           \\<Psi> x y P.\n                           x \\<sharp> \\<Psi> \\<and>\n                           y \\<sharp> \\<Psi>} \\<union>\n                          bisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n      \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n     \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n    bisim)\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n        bisim\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?y \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>?y\\<rparr>?P),\n                     \\<lparr>\\<nu>?y\\<rparr>(\\<lparr>\\<nu>?x\\<rparr>?P))\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                           \\<Psi> x y P.\n                           x \\<sharp> \\<Psi> \\<and>\n                           y \\<sharp> \\<Psi>} \\<union>\n                          bisim", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<leadsto>[(?X \\<union> bisim)] \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n      \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n     \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n    bisim)\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n        bisim\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?y \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>?y\\<rparr>?P),\n                     \\<lparr>\\<nu>?y\\<rparr>(\\<lparr>\\<nu>?x\\<rparr>?P))\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                           \\<Psi> x y P.\n                           x \\<sharp> \\<Psi> \\<and>\n                           y \\<sharp> \\<Psi>} \\<union>\n                          bisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<leadsto>[({(\\<Psi>,\n    \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n    \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n   \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\n  bisim)] \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "by(rule resComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<leadsto>[({(\\<Psi>,\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\nbisim)] \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                     \\<Psi> x y P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     y \\<sharp> \\<Psi>} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "with \\<open>xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\\<close> \\<open>yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\\<close>"], ["proof (chain)\npicking this:\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<leadsto>[({(\\<Psi>,\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\nbisim)] \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "show ?case"], ["proof (prove)\nusing this:\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<leadsto>[({(\\<Psi>,\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<union>\nbisim)] \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> xyP \\<leadsto>[({(\\<Psi>,\n                                    \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                                    \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                   \\<Psi> x y P.\n                                   x \\<sharp> \\<Psi> \\<and>\n                                   y \\<sharp> \\<Psi>} \\<union>\n                                  bisim)] yxP", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> xyP \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n                                  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n                                 \\<Psi> x y P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 y \\<sharp> \\<Psi>} \\<union>\n                                bisim)] yxP\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> xyP yxP \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, xyP, yxP) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "obtain x y P where \"x \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>\" and xyPeq: \"xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\" and yxPeq: \"yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>x y P.\n        \\<lbrakk>x \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>;\n         xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P);\n         yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "proof(case_tac \"x=y\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP\n 2. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "assume \"x = y\""], ["proof (state)\nthis:\n  x = y\n\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP\n 2. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "with xyPeq yxPeq"], ["proof (chain)\npicking this:\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  x = y", "show ?case"], ["proof (prove)\nusing this:\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  x = y\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "assume \"x \\<noteq> y\""], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "obtain x' where \"x' \\<sharp> \\<Psi>\" and \"x' \\<sharp> \\<Psi>'\" and \"x' \\<noteq> x\" and \"x' \\<noteq> y\" and \"x' \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<sharp> \\<Psi>; x' \\<sharp> \\<Psi>'; x' \\<noteq> x;\n         x' \\<noteq> y; x' \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> \\<Psi>'\n  x' \\<noteq> x\n  x' \\<noteq> y\n  x' \\<sharp> P\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "obtain y' where \"y' \\<sharp> \\<Psi>\" and \"y' \\<sharp> \\<Psi>'\" and \"y' \\<noteq> x\" and \"x' \\<noteq> y'\" and \"y' \\<noteq> y\" and \"y' \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y'.\n        \\<lbrakk>y' \\<sharp> \\<Psi>; y' \\<sharp> \\<Psi>'; y' \\<noteq> x;\n         x' \\<noteq> y'; y' \\<noteq> y; y' \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> \\<Psi>'\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  y' \\<noteq> y\n  y' \\<sharp> P\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "with xyPeq \\<open>y' \\<sharp> P\\<close> \\<open>x' \\<sharp> P\\<close> \\<open>x \\<noteq> y\\<close> \\<open>x' \\<noteq> y\\<close> \\<open>y' \\<noteq> x\\<close>"], ["proof (chain)\npicking this:\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  y' \\<sharp> P\n  x' \\<sharp> P\n  x \\<noteq> y\n  x' \\<noteq> y\n  y' \\<noteq> x\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> \\<Psi>'\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  y' \\<noteq> y\n  y' \\<sharp> P", "have \"\\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) = \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet> [(y, y')] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  y' \\<sharp> P\n  x' \\<sharp> P\n  x \\<noteq> y\n  x' \\<noteq> y\n  y' \\<noteq> x\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> \\<Psi>'\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  y' \\<noteq> y\n  y' \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n    \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n              [(y, y')] \\<bullet> P))", "apply(subst alphaRes[of x'])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P);\n     y' \\<sharp> P; x' \\<sharp> P; x \\<noteq> y; x' \\<noteq> y;\n     y' \\<noteq> x; y' \\<sharp> \\<Psi>; y' \\<sharp> \\<Psi>'; y' \\<noteq> x;\n     x' \\<noteq> y'; y' \\<noteq> y; y' \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> x' \\<sharp> \\<lparr>\\<nu>y\\<rparr>P\n 2. \\<lbrakk>xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P);\n     y' \\<sharp> P; x' \\<sharp> P; x \\<noteq> y; x' \\<noteq> y;\n     y' \\<noteq> x; y' \\<sharp> \\<Psi>; y' \\<sharp> \\<Psi>'; y' \\<noteq> x;\n     x' \\<noteq> y'; y' \\<noteq> y; y' \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n        \\<lparr>\\<nu>y\\<rparr>P) =\n                      \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x,\n                                  x')] \\<bullet>\n                                [(y, y')] \\<bullet> P))", "apply(simp add: abs_fresh)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P);\n     y' \\<sharp> P; x' \\<sharp> P; x \\<noteq> y; x' \\<noteq> y;\n     y' \\<noteq> x; y' \\<sharp> \\<Psi>; y' \\<sharp> \\<Psi>'; y' \\<noteq> x;\n     x' \\<noteq> y'; y' \\<noteq> y; y' \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n        \\<lparr>\\<nu>y\\<rparr>P) =\n                      \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x,\n                                  x')] \\<bullet>\n                                [(y, y')] \\<bullet> P))", "by(subst alphaRes[of y' _ y]) (auto simp add: eqvts calc_atm)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "moreover"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "with yxPeq \\<open>y' \\<sharp> P\\<close> \\<open>x' \\<sharp> P\\<close> \\<open>x \\<noteq> y\\<close> \\<open>x' \\<noteq> y\\<close> \\<open>y' \\<noteq> x\\<close> \\<open>x' \\<noteq> y'\\<close>"], ["proof (chain)\npicking this:\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  y' \\<sharp> P\n  x' \\<sharp> P\n  x \\<noteq> y\n  x' \\<noteq> y\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))", "have \"\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) = \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y, y')] \\<bullet> [(x, x')] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n  y' \\<sharp> P\n  x' \\<sharp> P\n  x \\<noteq> y\n  x' \\<noteq> y\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n    \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y, y')] \\<bullet>\n              [(x, x')] \\<bullet> P))", "apply(subst alphaRes[of y'])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P);\n     y' \\<sharp> P; x' \\<sharp> P; x \\<noteq> y; x' \\<noteq> y;\n     y' \\<noteq> x; x' \\<noteq> y';\n     \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n     \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n               [(y, y')] \\<bullet> P))\\<rbrakk>\n    \\<Longrightarrow> y' \\<sharp> \\<lparr>\\<nu>x\\<rparr>P\n 2. \\<lbrakk>yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P);\n     y' \\<sharp> P; x' \\<sharp> P; x \\<noteq> y; x' \\<noteq> y;\n     y' \\<noteq> x; x' \\<noteq> y';\n     \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n     \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n               [(y, y')] \\<bullet> P))\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>y'\\<rparr>([(y, y')] \\<bullet>\n        \\<lparr>\\<nu>x\\<rparr>P) =\n                      \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                                  y')] \\<bullet>\n                                [(x, x')] \\<bullet> P))", "apply(simp add: abs_fresh)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P);\n     y' \\<sharp> P; x' \\<sharp> P; x \\<noteq> y; x' \\<noteq> y;\n     y' \\<noteq> x; x' \\<noteq> y';\n     \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n     \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n               [(y, y')] \\<bullet> P))\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>y'\\<rparr>([(y, y')] \\<bullet>\n        \\<lparr>\\<nu>x\\<rparr>P) =\n                      \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                                  y')] \\<bullet>\n                                [(x, x')] \\<bullet> P))", "by(subst alphaRes[of x' _ x]) (auto simp add: eqvts calc_atm)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y, y')] \\<bullet>\n            [(x, x')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "with \\<open>x \\<noteq> y\\<close> \\<open>x' \\<noteq> y\\<close> \\<open>y' \\<noteq> y\\<close> \\<open>x' \\<noteq> x\\<close> \\<open>y' \\<noteq> x\\<close> \\<open>x' \\<noteq> y'\\<close>"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  x' \\<noteq> y\n  y' \\<noteq> y\n  x' \\<noteq> x\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y, y')] \\<bullet>\n            [(x, x')] \\<bullet> P))", "have \"\\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) = \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet> [(y, y')] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  x' \\<noteq> y\n  y' \\<noteq> y\n  x' \\<noteq> x\n  y' \\<noteq> x\n  x' \\<noteq> y'\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y, y')] \\<bullet>\n            [(x, x')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n    \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n              [(y, y')] \\<bullet> P))", "by(subst perm_compose) (simp add: calc_atm)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "moreover"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "from \\<open>x' \\<sharp> \\<Psi>\\<close> \\<open>x' \\<sharp> \\<Psi>'\\<close> \\<open>y' \\<sharp> \\<Psi>\\<close> \\<open>y' \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> \\<Psi>'\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> \\<Psi>'", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet> [(y, y')] \\<bullet> P)), \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet> [(y, y')] \\<bullet> P))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> \\<Psi>'\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n               [(y, y')] \\<bullet> P)),\n     \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n               [(y, y')] \\<bullet> P)))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)),\n   \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "ultimately"], ["proof (chain)\npicking this:\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)),\n   \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}", "show ?case"], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)),\n   \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "using xyPeq yxPeq"], ["proof (prove)\nusing this:\n  \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) =\n  \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n  \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P) =\n  \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n            [(y, y')] \\<bullet> P))\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)),\n   \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet>\n             [(y, y')] \\<bullet> P)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n  xyP = \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P)\n  yxP = \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> xyP \\<sim> yxP\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> xyP yxP)"], ["proof (state)\nthis:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n               \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n              \\<Psi> x y P.\n              x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, xyP, yxP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, yxP, xyP)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n            \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n           \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n    \\<Psi> \\<rhd> yxP \\<sim> xyP", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, yxP, xyP)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P),\n          \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) |\n         \\<Psi> x y P. x \\<sharp> \\<Psi> \\<and> y \\<sharp> \\<Psi>} \\<or>\n  \\<Psi> \\<rhd> yxP \\<sim> xyP\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?ya2 \\<sharp> \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(\\<lparr>\\<nu>?ya2\\<rparr>?Pa2) \\<sim> \\<lparr>\\<nu>?ya2\\<rparr>(\\<lparr>\\<nu>?xa2\\<rparr>?Pa2)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?ya2 \\<sharp> \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(\\<lparr>\\<nu>?ya2\\<rparr>?Pa2) \\<sim> \\<lparr>\\<nu>?ya2\\<rparr>(\\<lparr>\\<nu>?xa2\\<rparr>?Pa2)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "obtain x'::name where \"x' \\<sharp> \\<Psi>\" and \"x' \\<sharp> P\" and \"x' \\<noteq> x\" and \"x' \\<noteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>x' \\<sharp> \\<Psi>; x' \\<sharp> P; x' \\<noteq> x;\n         x' \\<noteq> y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> P\n  x' \\<noteq> x\n  x' \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "moreover"], ["proof (state)\nthis:\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> P\n  x' \\<noteq> x\n  x' \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "obtain y'::name where \"y' \\<sharp> \\<Psi>\" and \"y' \\<sharp> P\" and \"y' \\<noteq> x\" and \"y' \\<noteq> y\" and \"y' \\<noteq> x'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y'.\n        \\<lbrakk>y' \\<sharp> \\<Psi>; y' \\<sharp> P; y' \\<noteq> x;\n         y' \\<noteq> y; y' \\<noteq> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> P\n  y' \\<noteq> x\n  y' \\<noteq> y\n  y' \\<noteq> x'\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?ya2 \\<sharp> \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(\\<lparr>\\<nu>?ya2\\<rparr>?Pa2) \\<sim> \\<lparr>\\<nu>?ya2\\<rparr>(\\<lparr>\\<nu>?xa2\\<rparr>?Pa2)\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> P\n  x' \\<noteq> x\n  x' \\<noteq> y\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> P\n  y' \\<noteq> x\n  y' \\<noteq> y\n  y' \\<noteq> x'", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y, y'), (x, x')] \\<bullet> P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y, y'), (x, x')] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?ya2 \\<sharp> \\<Psi>\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(\\<lparr>\\<nu>?ya2\\<rparr>?Pa2) \\<sim> \\<lparr>\\<nu>?ya2\\<rparr>(\\<lparr>\\<nu>?xa2\\<rparr>?Pa2)\n  x' \\<sharp> \\<Psi>\n  x' \\<sharp> P\n  x' \\<noteq> x\n  x' \\<noteq> y\n  y' \\<sharp> \\<Psi>\n  y' \\<sharp> P\n  y' \\<noteq> x\n  y' \\<noteq> y\n  y' \\<noteq> x'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y, y'),\n                             (x, x')] \\<bullet>\n                            P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n             y'),\n            (x, x')] \\<bullet>\n           P))", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y, y'),\n                           (x, x')] \\<bullet>\n                          P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n           y'),\n          (x, x')] \\<bullet>\n         P))\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y, y'),\n                           (x, x')] \\<bullet>\n                          P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n           y'),\n          (x, x')] \\<bullet>\n         P))\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "using \\<open>x' \\<sharp> P\\<close> \\<open>x' \\<noteq> x\\<close> \\<open>x' \\<noteq> y\\<close> \\<open>y' \\<sharp> P\\<close> \\<open>y' \\<noteq> x\\<close> \\<open>y' \\<noteq> y\\<close> \\<open>y' \\<noteq> x'\\<close> \\<open>x \\<noteq> y\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y, y'),\n                           (x, x')] \\<bullet>\n                          P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n           y'),\n          (x, x')] \\<bullet>\n         P))\n  x' \\<sharp> P\n  x' \\<noteq> x\n  x' \\<noteq> y\n  y' \\<sharp> P\n  y' \\<noteq> x\n  y' \\<noteq> y\n  y' \\<noteq> x'\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)", "apply(subst alphaRes[where x=x and y=x' and P=P], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y,\n y')] \\<bullet>\n                                     [(x, x')] \\<bullet>\n                                     P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                      y')] \\<bullet>\n                    [(x, x')] \\<bullet> P));\n     x' \\<sharp> P; x' \\<noteq> x; x' \\<noteq> y; y' \\<sharp> P;\n     y' \\<noteq> x; y' \\<noteq> y; y' \\<noteq> x'; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x,\n                          x')] \\<bullet>\n                        P))", "apply(subst alphaRes[where x=y and y=y' and P=P], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y,\n y')] \\<bullet>\n                                     [(x, x')] \\<bullet>\n                                     P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                      y')] \\<bullet>\n                    [(x, x')] \\<bullet> P));\n     x' \\<sharp> P; x' \\<noteq> x; x' \\<noteq> y; y' \\<sharp> P;\n     y' \\<noteq> x; y' \\<noteq> y; y' \\<noteq> x'; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y,\n         y')] \\<bullet>\n       P)) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x,\n                             x')] \\<bullet>\n                           P))", "apply(subst alphaRes[where x=x and y=x' and P=\"\\<lparr>\\<nu>y'\\<rparr>([(y, y')] \\<bullet> P)\"], auto simp add: abs_fresh fresh_left)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y,\n y')] \\<bullet>\n                                     [(x, x')] \\<bullet>\n                                     P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                      y')] \\<bullet>\n                    [(x, x')] \\<bullet> P));\n     x' \\<sharp> P; x' \\<noteq> x; x' \\<noteq> y; y' \\<sharp> P;\n     y' \\<noteq> x; y' \\<noteq> y; y' \\<noteq> x'; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x,\n          x')] \\<bullet>\n        [(y, y')] \\<bullet>\n        P)) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(x,\n                              x')] \\<bullet>\n                            P))", "apply(subst alphaRes[where x=y and y=y' and P=\"\\<lparr>\\<nu>x'\\<rparr>([(x, x')] \\<bullet> P)\"], auto simp add: abs_fresh fresh_left)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(y,\n y')] \\<bullet>\n                                     [(x, x')] \\<bullet>\n                                     P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                      y')] \\<bullet>\n                    [(x, x')] \\<bullet> P));\n     x' \\<sharp> P; x' \\<noteq> x; x' \\<noteq> y; y' \\<sharp> P;\n     y' \\<noteq> x; y' \\<noteq> y; y' \\<noteq> x'; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x'\\<rparr>(\\<lparr>\\<nu>y'\\<rparr>([(x,\n          x')] \\<bullet>\n        [(y, y')] \\<bullet>\n        P)) \\<sim> \\<lparr>\\<nu>y'\\<rparr>(\\<lparr>\\<nu>x'\\<rparr>([(y,\n                               y')] \\<bullet>\n                             [(x, x')] \\<bullet> P))", "by(subst perm_compose) (simp add: eqvts calc_atm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>y\\<rparr>P) \\<sim> \\<lparr>\\<nu>y\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimResComm':\n  fixes x    :: name\n  and   \\<Psi>   :: 'b\n  and   xvec :: \"name list\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"xvec \\<sharp>* \\<Psi>\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>P", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>P", "by(induct xvec) (auto intro: bisimResComm bisimReflexive bisimResPres bisimTransitive)"], ["", "lemma bisimScopeExt:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "fix x::name and Q :: \"('a, 'b, 'c) psi\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "assume \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> P\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "let ?X1 = \"{((\\<Psi>::'b), \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>((P::('a, 'b, 'c) psi) \\<parallel> Q)), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)) | \\<Psi> xvec x P Q. x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "let ?X2 = \"{((\\<Psi>::'b), \\<lparr>\\<nu>*xvec\\<rparr>((P::('a, 'b, 'c) psi) \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q), \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))) | \\<Psi> xvec x P Q. x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "let ?X = \"?X1 \\<union> ?X2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q), P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n     P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by(auto, rule_tac x=\"[]\" in exI) (auto simp add: fresh_list_nil)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>,\n        \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n       \\<Psi> xvec x P Q.\n       x \\<sharp> \\<Psi> \\<and>\n       x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n      {(\\<Psi>,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n        \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n       \\<Psi> xvec x P Q.\n       x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>})", "by(rule eqvtUnion)\n    (fastforce simp add: eqvt_def eqvts pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst] pt_fresh_bij[OF pt_name_inst, OF at_name_inst])+"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  eqvt\n   ({(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>})", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  eqvt\n   ({(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "proof(coinduct rule: transitiveCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> R T)"], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "proof(case_tac \"(\\<Psi>, R, T) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "assume \"(\\<Psi>, R, T) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where \"R = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and \"T = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>R =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         T =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"x \\<sharp> A\\<^sub>P\" and \"A\\<^sub>P \\<sharp>* Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>P;\n         A\\<^sub>P \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, x, Q)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"x \\<sharp> A\\<^sub>Q\" and \"A\\<^sub>Q \\<sharp>* A\\<^sub>P\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>Q;\n         A\\<^sub>Q \\<sharp>* A\\<^sub>P;\n         A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, x, A\\<^sub>P, \\<Psi>\\<^sub>P)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "from FrQ \\<open>A\\<^sub>P \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\""], ["proof (prove)\nusing this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q", "by(drule_tac extractFrameFreshChain) auto"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "from \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> A\\<^sub>P\\<close> FrP"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  x \\<sharp> A\\<^sub>P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>", "have \"x \\<sharp> \\<Psi>\\<^sub>P\""], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  x \\<sharp> A\\<^sub>P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<sharp> \\<Psi>\\<^sub>P", "by(drule_tac extractFrameFresh) auto"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\\<^sub>P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "ultimately"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  x \\<sharp> \\<Psi>\\<^sub>P", "show ?case"], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  x \\<sharp> \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "by(force simp add: frameChainAppend intro: frameResComm' FrameStatEqTrans frameResChainPres)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame R)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "assume \"(\\<Psi>, R, T) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "with \\<open>(\\<Psi>, R, T) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, R, T) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where \"T = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and \"R = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>T =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         R =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"x \\<sharp> A\\<^sub>P\" and \"A\\<^sub>P \\<sharp>* Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>P;\n         A\\<^sub>P \\<sharp>* Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, x, Q)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"x \\<sharp> A\\<^sub>Q\" and \"A\\<^sub>Q \\<sharp>* A\\<^sub>P\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>Q;\n         A\\<^sub>Q \\<sharp>* A\\<^sub>P;\n         A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, x, A\\<^sub>P, \\<Psi>\\<^sub>P)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "from FrQ \\<open>A\\<^sub>P \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\""], ["proof (prove)\nusing this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q", "by(drule_tac extractFrameFreshChain) auto"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "from \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> A\\<^sub>P\\<close> FrP"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  x \\<sharp> A\\<^sub>P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>", "have \"x \\<sharp> \\<Psi>\\<^sub>P\""], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  x \\<sharp> A\\<^sub>P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<sharp> \\<Psi>\\<^sub>P", "by(drule_tac extractFrameFresh) auto"], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "ultimately"], ["proof (chain)\npicking this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  x \\<sharp> \\<Psi>\\<^sub>P", "show ?case"], ["proof (prove)\nusing this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>P\n  A\\<^sub>P \\<sharp>* Q\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  x \\<sharp> A\\<^sub>Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  x \\<sharp> \\<Psi>\\<^sub>P\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame R)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>T =\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q);\n     R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n     xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>;\n     extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n     A\\<^sub>P \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>P;\n     A\\<^sub>P \\<sharp>* Q;\n     extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n     A\\<^sub>Q \\<sharp>* \\<Psi>; x \\<sharp> A\\<^sub>Q;\n     A\\<^sub>P \\<sharp>* A\\<^sub>Q; A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P;\n     A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q; x \\<sharp> \\<Psi>\\<^sub>P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>*xvec\\<rparr>\\<langle>(A\\<^sub>P @\n                    x #\n                    A\\<^sub>Q), \\<Psi> \\<otimes>\n                                \\<Psi>\\<^sub>P \\<otimes>\n                                \\<Psi>\\<^sub>Q\\<rangle> \\<simeq>\\<^sub>F \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>\\<langle>(A\\<^sub>P @\n                 A\\<^sub>Q), \\<Psi> \\<otimes>\n                             \\<Psi>\\<^sub>P \\<otimes>\n                             \\<Psi>\\<^sub>Q\\<rangle>", "by(force simp add: frameChainAppend intro: frameResComm' FrameStatEqTrans frameResChainPres FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame R)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  insertAssertion (extractFrame R)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame T) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> R T)"], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "let ?Y = \"{(\\<Psi>, P, Q) | \\<Psi> P P' Q' Q. \\<Psi> \\<rhd> P \\<sim> P' \\<and> ((\\<Psi>, P', Q') \\<in> ?X \\<or> \\<Psi> \\<rhd> P' \\<sim> Q') \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   ({(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>})", "have \"eqvt ?Y\""], ["proof (prove)\nusing this:\n  eqvt\n   ({(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>})\n\ngoal (1 subgoal):\n 1. eqvt\n     {uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         ((\\<Psi>, P', Q')\n          \\<in> {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q),\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q)) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n          \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}", "by blast"], ["proof (state)\nthis:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "have C1: \"\\<And>\\<Psi> R T y. \\<lbrakk>(\\<Psi>, R, T) \\<in> ?Y; (y::name) \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> R T y.\n       \\<lbrakk>(\\<Psi>, R, T)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          ((\\<Psi>, P', Q')\n                           \\<in> {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q),\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<union>\n                                 {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<or>\n                           \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R,\n                          \\<lparr>\\<nu>y\\<rparr>T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> R T y.\n       \\<lbrakk>(\\<Psi>, R, T)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          ((\\<Psi>, P', Q')\n                           \\<in> {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q),\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<union>\n                                 {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<or>\n                           \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R,\n                          \\<lparr>\\<nu>y\\<rparr>T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix \\<Psi> R T y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> R T y.\n       \\<lbrakk>(\\<Psi>, R, T)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          ((\\<Psi>, P', Q')\n                           \\<in> {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q),\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<union>\n                                 {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<or>\n                           \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R,\n                          \\<lparr>\\<nu>y\\<rparr>T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(\\<Psi>, R, T) \\<in> ?Y\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> R T y.\n       \\<lbrakk>(\\<Psi>, R, T)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          ((\\<Psi>, P', Q')\n                           \\<in> {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q),\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<union>\n                                 {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<or>\n                           \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R,\n                          \\<lparr>\\<nu>y\\<rparr>T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}", "obtain R' T' where \"\\<Psi> \\<rhd> R \\<sim> R'\" and \"(\\<Psi>, R', T') \\<in> (?X \\<union> bisim)\" and \"\\<Psi> \\<rhd> T' \\<sim> T\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. (\\<And>R' T'.\n        \\<lbrakk>\\<Psi> \\<rhd> R \\<sim> R';\n         (\\<Psi>, R', T')\n         \\<in> {(\\<Psi>,\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q),\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     \\<lparr>\\<nu>x\\<rparr>Q) |\n                \\<Psi> xvec x P Q.\n                x \\<sharp> \\<Psi> \\<and>\n                x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n               {(\\<Psi>,\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     \\<lparr>\\<nu>x\\<rparr>Q,\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q)) |\n                \\<Psi> xvec x P Q.\n                x \\<sharp> \\<Psi> \\<and>\n                x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n               bisim;\n         \\<Psi> \\<rhd> T' \\<sim> T\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> T' \\<sim> T\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> R T y.\n       \\<lbrakk>(\\<Psi>, R, T)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          ((\\<Psi>, P', Q')\n                           \\<in> {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q),\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<union>\n                                 {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<or>\n                           \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R,\n                          \\<lparr>\\<nu>y\\<rparr>T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(y::name) \\<sharp> \\<Psi>\""], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> R T y.\n       \\<lbrakk>(\\<Psi>, R, T)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          ((\\<Psi>, P', Q')\n                           \\<in> {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q),\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<union>\n                                 {(\\<Psi>,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q,\n                                   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)) |\n                                  \\<Psi> xvec x P Q.\n                                  x \\<sharp> \\<Psi> \\<and>\n                                  x \\<sharp> P \\<and>\n                                  xvec \\<sharp>* \\<Psi>} \\<or>\n                           \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R,\n                          \\<lparr>\\<nu>y\\<rparr>T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "show \"(\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof(case_tac \"(\\<Psi>, R', T') \\<in> ?X\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(\\<Psi>, R', T') \\<in> ?X\""], ["proof (state)\nthis:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof(case_tac \"(\\<Psi>, R', T') \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(\\<Psi>, R', T') \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where R'eq: \"R' = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and T'eq: \"T' = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\"\n                                     and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>R' =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         T' =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  R' = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>\\<Psi> \\<rhd> R \\<sim> R'\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  y \\<sharp> \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'", "by(rule bisimResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*(y#xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q), \\<lparr>\\<nu>*(y#xvec)\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)) \\<in> ?X1\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>*(y #\n                    xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n     \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by(force simp del: resChain.simps)"], ["proof (state)\nthis:\n  (\\<Psi>,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "with R'eq T'eq"], ["proof (chain)\npicking this:\n  R' = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  (\\<Psi>,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T') \\<in> ?X \\<union> bisim\""], ["proof (prove)\nusing this:\n  R' = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  (\\<Psi>,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          bisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>\\<Psi> \\<rhd> T' \\<sim> T\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> T' \\<sim> T\n  y \\<sharp> \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> T' \\<sim> T\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T", "by(rule bisimResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}\n 2. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(\\<Psi>, R', T') \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R', T')\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "with \\<open>(\\<Psi>, R', T') \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R', T')\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, R', T') \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R', T')\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where T'eq: \"T' = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and R'eq: \"R' = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>T' =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         R' =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>\\<Psi> \\<rhd> R \\<sim> R'\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  y \\<sharp> \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'", "by(rule bisimResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*(y#xvec)\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q), \\<lparr>\\<nu>*(y#xvec)\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n     \\<lparr>\\<nu>*(y #\n                    xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by(force simp del: resChain.simps)"], ["proof (state)\nthis:\n  (\\<Psi>,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "with R'eq T'eq"], ["proof (chain)\npicking this:\n  R' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  (\\<Psi>,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T') \\<in> ?X \\<union> bisim\""], ["proof (prove)\nusing this:\n  R' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  (\\<Psi>,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*(y # xvec)\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          bisim", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>\\<Psi> \\<rhd> T' \\<sim> T\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> T' \\<sim> T\n  y \\<sharp> \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> T' \\<sim> T\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T", "by(rule bisimResPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>R \\<sim> \\<lparr>\\<nu>y\\<rparr>R'\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R', \\<lparr>\\<nu>y\\<rparr>T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>T' \\<sim> \\<lparr>\\<nu>y\\<rparr>T\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(\\<Psi>, R', T') \\<notin> ?X\""], ["proof (state)\nthis:\n  (\\<Psi>, R', T')\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n           {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q)) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "with \\<open>(\\<Psi>, R', T') \\<in> ?X \\<union> bisim\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  (\\<Psi>, R', T')\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n           {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q)) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"\\<Psi> \\<rhd> R' \\<sim> T'\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R', T')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  (\\<Psi>, R', T')\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n           {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q)) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R' \\<sim> T'", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R' \\<sim> T'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R', T')\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "with \\<open>\\<Psi> \\<rhd> R \\<sim> R'\\<close> \\<open>\\<Psi> \\<rhd> T' \\<sim> T\\<close> \\<open>y \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  \\<Psi> \\<rhd> T' \\<sim> T\n  y \\<sharp> \\<Psi>\n  \\<Psi> \\<rhd> R' \\<sim> T'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R \\<sim> R'\n  \\<Psi> \\<rhd> T' \\<sim> T\n  y \\<sharp> \\<Psi>\n  \\<Psi> \\<rhd> R' \\<sim> T'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast dest: bisimResPres)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>R, \\<lparr>\\<nu>y\\<rparr>T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>, ?R, ?T)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?y \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?y\\<rparr>?R,\n                     \\<lparr>\\<nu>?y\\<rparr>?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[{uu_.\n                                    \\<exists>\\<Psi>' R R' S' S.\n uu_ = (\\<Psi>', R, S) \\<and>\n \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n ((\\<Psi>', R', S')\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n \\<Psi>' \\<rhd> S' \\<sim> S}] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "proof(case_tac \"(\\<Psi>, R, T) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "assume \"(\\<Psi>, R, T) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where Req: \"R = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and Teq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>R =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         T =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) \\<leadsto>[?Y] \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q) \\<leadsto>[{uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         ((\\<Psi>, P', Q')\n          \\<in> {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q),\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q)) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n          \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                         \\<lparr>\\<nu>x\\<rparr>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q) \\<leadsto>[{uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         ((\\<Psi>, P', Q')\n          \\<in> {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q),\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q)) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n          \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                         \\<lparr>\\<nu>x\\<rparr>Q", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<leadsto>[?Y] P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "note \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>eqvt ?Y\\<close>"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "have \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P.\n       (\\<Psi>, P, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 ((\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                        {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q)) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                  \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "moreover"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "have \"\\<And>x \\<Psi> P Q xvec. \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P; xvec \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix x \\<Psi> P Q xvec"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(x::name) \\<sharp> (\\<Psi>::'b)\" and \"x \\<sharp> (P::('a, 'b, 'c) psi)\" and \"(xvec::name list) \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                             Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n            Q)", "by(rule bisimResComm')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n          Q)\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n          Q)\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)) \\<in> ?X \\<union> bisim\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          bisim", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n          Q)\n  (\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim", "show \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)) \\<in> ?Y\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n          Q)\n  (\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q),\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi>,\n   \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q),\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "have \"\\<And>\\<Psi> xvec P x. \\<lbrakk>x \\<sharp> \\<Psi>; xvec \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P), \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>P)) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> xvec P x.\n       \\<lbrakk>x \\<sharp> \\<Psi>; xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P),\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>P)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimResComm' bisimReflexive)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>\\<lparr>\\<nu>?x\\<rparr>?P)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "ultimately"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>\\<lparr>\\<nu>?x\\<rparr>?P)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P),\n                     \\<lparr>\\<nu>*?xvec\\<rparr>\\<lparr>\\<nu>?x\\<rparr>?P)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q", "by(rule scopeExtLeft)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q) \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q) \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q) \\<leadsto>[{uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         ((\\<Psi>, P', Q')\n          \\<in> {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q),\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q)) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n          \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                         \\<lparr>\\<nu>x\\<rparr>Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q) \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q) \\<leadsto>[{uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         ((\\<Psi>, P', Q')\n          \\<in> {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q),\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q)) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n          \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                         \\<lparr>\\<nu>x\\<rparr>Q", "using \\<open>eqvt ?Y\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> C1"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q) \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>(?\\<Psi>, ?R, ?T)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?y \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?y\\<rparr>?R,\n                     \\<lparr>\\<nu>?y\\<rparr>?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q) \\<leadsto>[{uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         ((\\<Psi>, P', Q')\n          \\<in> {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q),\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                {(\\<Psi>,\n                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q,\n                  \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q)) |\n                 \\<Psi> xvec x P Q.\n                 x \\<sharp> \\<Psi> \\<and>\n                 x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n          \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                         \\<lparr>\\<nu>x\\<rparr>Q", "by(rule resChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "with Req Teq"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q", "show ?case"], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                       \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi>' R R' S' S.\n                                 uu_ = (\\<Psi>', R, S) \\<and>\n                                 \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                 ((\\<Psi>', R', S')\n                                  \\<in> {(\\<Psi>,\n    \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n   \\<Psi> xvec x P Q.\n   x \\<sharp> \\<Psi> \\<and>\n   x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n    \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n   \\<Psi> xvec x P Q.\n   x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                 \\<Psi>' \\<rhd> S' \\<sim> S}] T\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "assume \"(\\<Psi>, R, T) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "with \\<open>(\\<Psi>, R, T) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, R, T) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where Teq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and Req: \"R = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>T =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         R =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) \\<leadsto>[?Y] \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)", "have \"\\<Psi> \\<rhd> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[?Y] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "note \\<open>x \\<sharp> P\\<close> \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>eqvt ?Y\\<close>"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "moreover"], ["proof (state)\nthis:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "have \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P.\n       (\\<Psi>, P, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 ((\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                        {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q)) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                  \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "moreover"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "have \"\\<And>x \\<Psi> P Q xvec. \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P; xvec \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q), \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q))) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix x \\<Psi> P Q xvec"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(x::name) \\<sharp> (\\<Psi>::'b)\" and \"x \\<sharp> (P::('a, 'b, 'c) psi)\" and \"(xvec::name list) \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q), \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))) \\<in> ?X \\<union> bisim\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> \\<Psi>\n  x \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          bisim", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) \\<sim> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q))\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                             Q) \\<sim> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n            Q)", "by(blast intro: bisimResComm' bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          Q)\n\ngoal (1 subgoal):\n 1. \\<And>x \\<Psi> P Q xvec.\n       \\<lbrakk>x \\<sharp> \\<Psi>; x \\<sharp> P;\n        xvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     Q))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   ((\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          Q)", "show \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q), \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q))) \\<in> ?Y\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        bisim\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q) \\<sim> \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n     \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q))\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              ((\\<Psi>, P', Q')\n               \\<in> {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q),\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                     {(\\<Psi>,\n                       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n           \\<lparr>\\<nu>x\\<rparr>Q,\n                       \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                  Q)) |\n                      \\<Psi> xvec x P Q.\n                      x \\<sharp> \\<Psi> \\<and>\n                      x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n   \\<lparr>\\<nu>x\\<rparr>(\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "ultimately"], ["proof (chain)\npicking this:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>, ?P, ?P)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            ((\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q),\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                   {(\\<Psi>,\n                     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n         \\<lparr>\\<nu>x\\<rparr>Q,\n                     \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)) |\n                    \\<Psi> xvec x P Q.\n                    x \\<sharp> \\<Psi> \\<and>\n                    x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n             \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?P;\n   ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>,\n                     \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n          \\<lparr>\\<nu>?x\\<rparr>?Q,\n                     \\<lparr>\\<nu>?x\\<rparr>(\\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                                  ?Q))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n                \\<exists>\\<Psi> P P' Q' Q.\n                   uu_ = (\\<Psi>, P, Q) \\<and>\n                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                   ((\\<Psi>, P', Q')\n                    \\<in> {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q),\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and>\n                           xvec \\<sharp>* \\<Psi>} \\<union>\n                          {(\\<Psi>,\n                            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q,\n                            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q)) |\n                           \\<Psi> xvec x P Q.\n                           x \\<sharp> \\<Psi> \\<and>\n                           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                    \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                   \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                Q)", "by(rule scopeExtRight)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 ((\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                        {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q)) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                  \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                              Q)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 ((\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                        {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q)) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                  \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                              Q)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 ((\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                        {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q)) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                  \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                              Q)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)", "using \\<open>eqvt ?Y\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> C1"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel>\n                \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 ((\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q),\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                        {(\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              \\<lparr>\\<nu>x\\<rparr>Q,\n                          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                     Q)) |\n                         \\<Psi> xvec x P Q.\n                         x \\<sharp> \\<Psi> \\<and>\n                         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                  \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                              Q)\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>(?\\<Psi>, ?R, ?T)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     ((\\<Psi>, P', Q')\n                      \\<in> {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q),\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<union>\n                            {(\\<Psi>,\n                              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                  \\<lparr>\\<nu>x\\<rparr>Q,\n                              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q)) |\n                             \\<Psi> xvec x P Q.\n                             x \\<sharp> \\<Psi> \\<and>\n                             x \\<sharp> P \\<and>\n                             xvec \\<sharp>* \\<Psi>} \\<or>\n                      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?y \\<sharp> ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, \\<lparr>\\<nu>?y\\<rparr>?R,\n                     \\<lparr>\\<nu>?y\\<rparr>?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              ((\\<Psi>, P', Q')\n                               \\<in> {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n                                     {(\\<Psi>,\n \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n\\<Psi> xvec x P Q.\nx \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                               \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       ((\\<Psi>, P', Q')\n        \\<in> {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q),\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n              {(\\<Psi>,\n                \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q,\n                \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                           Q)) |\n               \\<Psi> xvec x P Q.\n               x \\<sharp> \\<Psi> \\<and>\n               x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n        \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n        Q)", "by(rule resChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n  \\<exists>\\<Psi> P P' Q' Q.\n     uu_ = (\\<Psi>, P, Q) \\<and>\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     ((\\<Psi>, P', Q')\n      \\<in> {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q),\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n            {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q)) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n      Q)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n  \\<exists>\\<Psi> P P' Q' Q.\n     uu_ = (\\<Psi>, P, Q) \\<and>\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     ((\\<Psi>, P', Q')\n      \\<in> {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q),\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n            {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q)) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n      Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "with Req Teq"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n  \\<exists>\\<Psi> P P' Q' Q.\n     uu_ = (\\<Psi>, P, Q) \\<and>\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     ((\\<Psi>, P', Q')\n      \\<in> {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q),\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n            {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q)) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n      Q)", "show ?case"], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    \\<lparr>\\<nu>x\\<rparr>Q \\<leadsto>[{uu_.\n  \\<exists>\\<Psi> P P' Q' Q.\n     uu_ = (\\<Psi>, P, Q) \\<and>\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     ((\\<Psi>, P', Q')\n      \\<in> {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q),\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n            {(\\<Psi>,\n              \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n  \\<lparr>\\<nu>x\\<rparr>Q,\n              \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                         Q)) |\n             \\<Psi> xvec x P Q.\n             x \\<sharp> \\<Psi> \\<and>\n             x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n      \\<Psi> \\<rhd> P' \\<sim> Q') \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n      Q)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi>' R R' S' S.\n                                   uu_ = (\\<Psi>', R, S) \\<and>\n                                   \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                   ((\\<Psi>', R', S')\n                                    \\<in> {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n    {(\\<Psi>,\n      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n     \\<Psi> xvec x P Q.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                    \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                   \\<Psi>' \\<rhd> S' \\<sim> S}] T", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi>' R R' S' S.\n                                 uu_ = (\\<Psi>', R, S) \\<and>\n                                 \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                 ((\\<Psi>', R', S')\n                                  \\<in> {(\\<Psi>,\n    \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n   \\<Psi> xvec x P Q.\n   x \\<sharp> \\<Psi> \\<and>\n   x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n    \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n   \\<Psi> xvec x P Q.\n   x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                 \\<Psi>' \\<rhd> S' \\<sim> S}] T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi>' R R' S' S.\n                                 uu_ = (\\<Psi>', R, S) \\<and>\n                                 \\<Psi>' \\<rhd> R \\<sim> R' \\<and>\n                                 ((\\<Psi>', R', S')\n                                  \\<in> {(\\<Psi>,\n    \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n   \\<Psi> xvec x P Q.\n   x \\<sharp> \\<Psi> \\<and>\n   x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n  {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n    \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)) |\n   \\<Psi> xvec x P Q.\n   x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n                                  \\<Psi>' \\<rhd> R' \\<sim> S') \\<and>\n                                 \\<Psi>' \\<rhd> S' \\<sim> S}] T\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> R T \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "proof(case_tac \"(\\<Psi>, R, T) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "assume \"(\\<Psi>, R, T) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where Req: \"R = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and Teq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>R =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         T =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "obtain y::name where \"y \\<sharp> P\" and \"y \\<sharp> Q\" and \"y \\<sharp> xvec\" and \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> P; y \\<sharp> Q; y \\<sharp> xvec;\n         y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\", auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> P\n  y \\<sharp> Q\n  y \\<sharp> xvec\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "obtain p where \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>\" and \"(p \\<bullet> xvec) \\<sharp>* P\" and \"(p \\<bullet> xvec) \\<sharp>* Q\" and \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\"\n                  and \"x \\<sharp> (p \\<bullet> xvec)\" and \"y \\<sharp> (p \\<bullet> xvec)\"\n                   and S: \"(set p) \\<subseteq> (set xvec) \\<times> (set(p \\<bullet> xvec))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n         (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n         (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; x \\<sharp> p \\<bullet> xvec;\n         y \\<sharp> p \\<bullet> xvec;\n         set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, x, y, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> p \\<bullet> xvec\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  distinctPerm p\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "from \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> P", "have \"(p \\<bullet> y) \\<sharp> (p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. p \\<bullet> y \\<sharp> p \\<bullet> P", "by(simp add: pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  p \\<bullet> y \\<sharp> p \\<bullet> P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "with S \\<open>y \\<sharp> xvec\\<close> \\<open>y \\<sharp> (p \\<bullet> xvec)\\<close>"], ["proof (chain)\npicking this:\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  p \\<bullet> y \\<sharp> p \\<bullet> P", "have \"y \\<sharp> (p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  p \\<bullet> y \\<sharp> p \\<bullet> P\n\ngoal (1 subgoal):\n 1. y \\<sharp> p \\<bullet> P", "by simp"], ["proof (state)\nthis:\n  y \\<sharp> p \\<bullet> P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "with \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> p \\<bullet> P", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(\\<lparr>\\<nu>y\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> [(x, y)] \\<bullet> Q))), \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> (\\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> p \\<bullet> P\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                 P) \\<parallel>\n                (p \\<bullet> [(x, y)] \\<bullet> Q)),\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                               \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n                [(x, y)] \\<bullet> Q))\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "from Req \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>y \\<sharp> xvec\\<close> \\<open>y \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>x \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close> \\<open>x \\<sharp> P\\<close> S"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"R = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(\\<lparr>\\<nu>y\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> [(x, y)] \\<bullet> Q)))\""], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. R =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                P) \\<parallel>\n               (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(erule_tac rev_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                 Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(subst alphaRes[of y])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> y \\<sharp> P \\<parallel> Q\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>([(x,\n                                   y)] \\<bullet>\n                                 P \\<parallel> Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(clarsimp simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>([(x,\n                                   y)] \\<bullet>\n                                 P \\<parallel> Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(subst resChainAlpha[of p])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> (p \\<bullet>\n                       xvec) \\<sharp>* \\<lparr>\\<nu>y\\<rparr>([(x,\n                          y)] \\<bullet>\n                        P \\<parallel> Q)\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> set p\n                      \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n 3. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>p \\<bullet>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet>\n                                 P \\<parallel> Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "by(auto simp add: eqvts)"], ["proof (state)\nthis:\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "moreover"], ["proof (state)\nthis:\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "from Teq \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>y \\<sharp> xvec\\<close> \\<open>y \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>x \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close> \\<open>x \\<sharp> P\\<close> S"], ["proof (chain)\npicking this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"T = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q))\""], ["proof (prove)\nusing this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. T =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                              \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n               [(x, y)] \\<bullet> Q)", "apply(erule_tac rev_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          \\<lparr>\\<nu>x\\<rparr>Q \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "apply(subst alphaRes[of y])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> y \\<sharp> Q\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "apply(clarsimp simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "apply(subst resChainAlpha[of p])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> (p \\<bullet>\n                       xvec) \\<sharp>* (P \\<parallel>\n  \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> set p\n                      \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n 3. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>p \\<bullet>\n          P \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "by(auto simp add: eqvts)"], ["proof (state)\nthis:\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n             [(x, y)] \\<bullet> Q)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n 2. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n             [(x, y)] \\<bullet> Q)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n             [(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "assume \"(\\<Psi>, R, T) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "with \\<open>(\\<Psi>, R, T) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, R, T) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  (\\<Psi>, R, T)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                        Q),\n             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n \\<lparr>\\<nu>x\\<rparr>Q) |\n            \\<Psi> xvec x P Q.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "obtain xvec x P Q where Teq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>(\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q))\" and Req: \"R = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q)\" and \"xvec \\<sharp>* \\<Psi>\" and \"x \\<sharp> P\" and \"x \\<sharp> \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec x P Q.\n        \\<lbrakk>T =\n                 \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                            Q);\n         R =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q;\n         xvec \\<sharp>* \\<Psi>; x \\<sharp> P; x \\<sharp> \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  xvec \\<sharp>* \\<Psi>\n  x \\<sharp> P\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "obtain y::name where \"y \\<sharp> P\" and \"y \\<sharp> Q\" and \"y \\<sharp> xvec\" and \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> P; y \\<sharp> Q; y \\<sharp> xvec;\n         y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\", auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> P\n  y \\<sharp> Q\n  y \\<sharp> xvec\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "obtain p where \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>\" and \"(p \\<bullet> xvec) \\<sharp>* P\" and \"(p \\<bullet> xvec) \\<sharp>* Q\" and \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\"\n                   and \"x \\<sharp> (p \\<bullet> xvec)\" and \"y \\<sharp> (p \\<bullet> xvec)\"\n                   and S: \"(set p) \\<subseteq> (set xvec) \\<times> (set(p \\<bullet> xvec))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n         (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n         (p \\<bullet> xvec) \\<sharp>* \\<Psi>'; x \\<sharp> p \\<bullet> xvec;\n         y \\<sharp> p \\<bullet> xvec;\n         set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, x, y, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> p \\<bullet> xvec\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  distinctPerm p\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "from \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> P", "have \"(p \\<bullet> y) \\<sharp> (p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. p \\<bullet> y \\<sharp> p \\<bullet> P", "by(simp add: pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (state)\nthis:\n  p \\<bullet> y \\<sharp> p \\<bullet> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "with S \\<open>y \\<sharp> xvec\\<close> \\<open>y \\<sharp> (p \\<bullet> xvec)\\<close>"], ["proof (chain)\npicking this:\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  p \\<bullet> y \\<sharp> p \\<bullet> P", "have \"y \\<sharp> (p \\<bullet> P)\""], ["proof (prove)\nusing this:\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  p \\<bullet> y \\<sharp> p \\<bullet> P\n\ngoal (1 subgoal):\n 1. y \\<sharp> p \\<bullet> P", "by simp"], ["proof (state)\nthis:\n  y \\<sharp> p \\<bullet> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "with \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> p \\<bullet> P", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)), \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(\\<lparr>\\<nu>y\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> [(x, y)] \\<bullet> Q)))) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  y \\<sharp> \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> p \\<bullet> P\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                               \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n                [(x, y)] \\<bullet> Q),\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                 P) \\<parallel>\n                (p \\<bullet> [(x, y)] \\<bullet> Q)))\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "from Teq \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>y \\<sharp> xvec\\<close> \\<open>y \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>x \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close> \\<open>x \\<sharp> P\\<close> S"], ["proof (chain)\npicking this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"T = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(\\<lparr>\\<nu>y\\<rparr>((p \\<bullet> P) \\<parallel> (p \\<bullet> [(x, y)] \\<bullet> Q)))\""], ["proof (prove)\nusing this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q)\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. T =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                P) \\<parallel>\n               (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(erule_tac rev_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                                 Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(subst alphaRes[of y])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> y \\<sharp> P \\<parallel> Q\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>([(x,\n                                   y)] \\<bullet>\n                                 P \\<parallel> Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(clarsimp simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>([(x,\n                                   y)] \\<bullet>\n                                 P \\<parallel> Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "apply(subst resChainAlpha[of p])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> (p \\<bullet>\n                       xvec) \\<sharp>* \\<lparr>\\<nu>y\\<rparr>([(x,\n                          y)] \\<bullet>\n                        P \\<parallel> Q)\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> set p\n                      \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n 3. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>p \\<bullet>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet>\n                                 P \\<parallel> Q) \\<longrightarrow>\n                      T =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n                                  P) \\<parallel>\n                                 (p \\<bullet> [(x, y)] \\<bullet> Q))", "by(auto simp add: eqvts)"], ["proof (state)\nthis:\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "moreover"], ["proof (state)\nthis:\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "from Req \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>y \\<sharp> xvec\\<close> \\<open>y \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>x \\<sharp> (p \\<bullet> xvec)\\<close> \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close> \\<open>x \\<sharp> P\\<close> S"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"R = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q))\""], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  y \\<sharp> xvec\n  y \\<sharp> p \\<bullet> xvec\n  x \\<sharp> p \\<bullet> xvec\n  y \\<sharp> P\n  y \\<sharp> Q\n  x \\<sharp> P\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. R =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                              \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n               [(x, y)] \\<bullet> Q)", "apply(erule_tac rev_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          \\<lparr>\\<nu>x\\<rparr>Q \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "apply(subst alphaRes[of y])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> y \\<sharp> Q\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "apply(clarsimp simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "apply(subst resChainAlpha[of p])"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> (p \\<bullet>\n                       xvec) \\<sharp>* (P \\<parallel>\n  \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q))\n 2. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> set p\n                      \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n 3. \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     y \\<sharp> xvec; y \\<sharp> p \\<bullet> xvec;\n     x \\<sharp> p \\<bullet> xvec; y \\<sharp> P; y \\<sharp> Q; x \\<sharp> P;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>p \\<bullet>\n          P \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q) \\<longrightarrow>\n                      R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          \\<lparr>\\<nu>y\\<rparr>(p \\<bullet> [(x, y)] \\<bullet> Q)", "by(auto simp add: eqvts)"], ["proof (state)\nthis:\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n             [(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, T)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n             [(x, y)] \\<bullet> Q)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n              [(x, y)] \\<bullet> Q),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n               P) \\<parallel>\n              (p \\<bullet> [(x, y)] \\<bullet> Q)))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>\\<lparr>\\<nu>y\\<rparr>((p \\<bullet>\n              P) \\<parallel>\n             (p \\<bullet> [(x, y)] \\<bullet> Q))\n  R =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            \\<lparr>\\<nu>y\\<rparr>(p \\<bullet>\n             [(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', R, T)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', R, T)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> R \\<sim> T\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q),\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n             {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n   \\<lparr>\\<nu>x\\<rparr>Q,\n               \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                          Q)) |\n              \\<Psi> xvec x P Q.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q),\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n\\<lparr>\\<nu>x\\<rparr>Q) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n          {(\\<Psi>,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n            \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                       Q)) |\n           \\<Psi> xvec x P Q.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> P", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q),\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<union>\n        {(\\<Psi>,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q,\n          \\<lparr>\\<nu>*xvec\\<rparr>\\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q)) |\n         \\<Psi> xvec x P Q.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> P \\<and> xvec \\<sharp>* \\<Psi>} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> P\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(P \\<parallel>\n                      ?Qa2) \\<sim> P \\<parallel>\n                                   \\<lparr>\\<nu>?xa2\\<rparr>?Qa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> P\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(P \\<parallel>\n                      ?Qa2) \\<sim> P \\<parallel>\n                                   \\<lparr>\\<nu>?xa2\\<rparr>?Qa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> P\" \"y \\<sharp> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> P; y \\<sharp> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> P\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(P \\<parallel>\n                      ?Qa2) \\<sim> P \\<parallel>\n                                   \\<lparr>\\<nu>?xa2\\<rparr>?Qa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> P\n  y \\<sharp> Q", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(P \\<parallel> ([(x, y)] \\<bullet> Q)) \\<sim> P \\<parallel> \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> P\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(P \\<parallel>\n                      ?Qa2) \\<sim> P \\<parallel>\n                                   \\<lparr>\\<nu>?xa2\\<rparr>?Qa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(P \\<parallel>\n   ([(x, y)] \\<bullet>\n    Q)) \\<sim> P \\<parallel> \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(P \\<parallel>\n ([(x, y)] \\<bullet>\n  Q)) \\<sim> P \\<parallel> \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(P \\<parallel>\n ([(x, y)] \\<bullet>\n  Q)) \\<sim> P \\<parallel> \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "using assms \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(P \\<parallel>\n ([(x, y)] \\<bullet>\n  Q)) \\<sim> P \\<parallel> \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)\n  x \\<sharp> P\n  y \\<sharp> P\n  y \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q", "apply(subst alphaRes[where x=x and y=y and P=Q], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(P \\<parallel>\n            ([(x, y)] \\<bullet>\n             Q)) \\<sim> P \\<parallel>\n                        \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q);\n     x \\<sharp> P; y \\<sharp> P; y \\<sharp> Q\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n                     Q) \\<sim> P \\<parallel>\n                               \\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> Q)", "by(subst alphaRes[where x=x and y=y and P=\"P \\<parallel> Q\"]) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n Q) \\<sim> P \\<parallel> \\<lparr>\\<nu>x\\<rparr>Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimScopeExtChain:\n  fixes xvec :: \"name list\"\n  and   \\<Psi>    :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* P\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)", "using assms"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q)", "by(induct xvec) (auto intro: bisimScopeExt bisimReflexive bisimTransitive bisimResPres)"], ["", "lemma bisimParAssoc:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> (P \\<parallel> Q) \\<parallel> R \\<sim> P \\<parallel> (Q \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "let ?X = \"{(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))) | \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "let ?Y = \"{(\\<Psi>, P, Q) | \\<Psi> P P' Q' Q. \\<Psi> \\<rhd> P \\<sim> P' \\<and> (\\<Psi>, P', Q') \\<in> ?X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "have \"(\\<Psi>, (P \\<parallel> Q) \\<parallel> R, P \\<parallel> (Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by(auto, rule_tac x=\"[]\" in exI) auto"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n       \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n      \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by(force simp add: eqvt_def simp add: pt_fresh_star_bij[OF pt_name_inst, OF at_name_inst] eqvts)"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<sim> P \\<parallel> (Q \\<parallel> R)", "proof(coinduct rule: weakTransitiveCoinduct')"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "case(cStatEq \\<Psi> PQR PQR')"], ["proof (state)\nthis:\n  (\\<Psi>, PQR, PQR')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>(\\<Psi>, PQR, PQR') \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, PQR, PQR')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q R where \"xvec \\<sharp>* \\<Psi>\" and \"PQR = \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\" and \"PQR' = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (\\<Psi>, PQR, PQR')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q R.\n        \\<lbrakk>xvec \\<sharp>* \\<Psi>;\n         PQR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R;\n         PQR' =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  PQR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  PQR' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  PQR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  PQR' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\" and \"A\\<^sub>P \\<sharp>* Q\" and \"A\\<^sub>P \\<sharp>* R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>; A\\<^sub>P \\<sharp>* Q;\n         A\\<^sub>P \\<sharp>* R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, Q, R)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"A\\<^sub>Q \\<sharp>* A\\<^sub>P\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\" and \"A\\<^sub>Q \\<sharp>* R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* A\\<^sub>P;\n         A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>Q \\<sharp>* R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, A\\<^sub>P, \\<Psi>\\<^sub>P, R)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "obtain A\\<^sub>R \\<Psi>\\<^sub>R where FrR: \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\" and \"A\\<^sub>R \\<sharp>* A\\<^sub>P\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\" and \"A\\<^sub>R \\<sharp>* A\\<^sub>Q\" and \"A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>R \\<Psi>\\<^sub>R.\n        \\<lbrakk>extractFrame R =\n                 \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>;\n         A\\<^sub>R \\<sharp>* \\<Psi>; A\\<^sub>R \\<sharp>* A\\<^sub>P;\n         A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P; A\\<^sub>R \\<sharp>* A\\<^sub>Q;\n         A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, A\\<^sub>P, \\<Psi>\\<^sub>P, A\\<^sub>Q, \\<Psi>\\<^sub>Q)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* A\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* A\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from FrQ \\<open>A\\<^sub>P \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* A\\<^sub>P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\""], ["proof (prove)\nusing this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q", "by(drule_tac extractFrameFreshChain) auto"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from FrR \\<open>A\\<^sub>P \\<sharp>* R\\<close> \\<open>A\\<^sub>R \\<sharp>* A\\<^sub>P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>P \\<sharp>* R\n  A\\<^sub>R \\<sharp>* A\\<^sub>P", "have \"A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>P \\<sharp>* R\n  A\\<^sub>R \\<sharp>* A\\<^sub>P\n\ngoal (1 subgoal):\n 1. A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R", "by(drule_tac extractFrameFreshChain) auto"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from FrR \\<open>A\\<^sub>Q \\<sharp>* R\\<close> \\<open>A\\<^sub>R \\<sharp>* A\\<^sub>Q\\<close>"], ["proof (chain)\npicking this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>Q \\<sharp>* R\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q", "have \"A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\""], ["proof (prove)\nusing this:\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>Q \\<sharp>* R\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q\n\ngoal (1 subgoal):\n 1. A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R", "by(drule_tac extractFrameFreshChain) auto"], ["proof (state)\nthis:\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  PQR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  PQR' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* R\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* R\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* A\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R", "show ?case"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  PQR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  PQR' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* R\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* R\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* A\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame PQR)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame PQR') \\<Psi>", "using freshCompChain"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  PQR = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  PQR' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  A\\<^sub>P \\<sharp>* Q\n  A\\<^sub>P \\<sharp>* R\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* A\\<^sub>P\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>Q \\<sharp>* R\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* A\\<^sub>P\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>P\n  A\\<^sub>R \\<sharp>* A\\<^sub>Q\n  A\\<^sub>R \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>Q\n  A\\<^sub>P \\<sharp>* \\<Psi>\\<^sub>R\n  A\\<^sub>Q \\<sharp>* \\<Psi>\\<^sub>R\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?xvec \\<sharp>* (?\\<Psi> \\<otimes> ?\\<Psi>')\n  \\<lbrakk>?Xs \\<sharp>* ?\\<Psi>; ?Xs \\<sharp>* ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?Xs \\<sharp>* (?\\<Psi> \\<otimes> ?\\<Psi>')\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame PQR)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame PQR') \\<Psi>", "by auto (metis frameChainAppend compositionSym Associativity frameNilStatEq frameResChainPres)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame PQR)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame PQR') \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "case(cSim \\<Psi> T S)"], ["proof (state)\nthis:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>(\\<Psi>, T, S) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q R where \"xvec \\<sharp>* \\<Psi>\" and TEq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\"\n                                               and SEq: \"S = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q R.\n        \\<lbrakk>xvec \\<sharp>* \\<Psi>;\n         T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R;\n         S =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "have \"eqvt ?Y\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. eqvt\n     {uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         (\\<Psi>, P', Q')\n         \\<in> {(\\<Psi>,\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     (Q \\<parallel> R)) |\n                \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}", "by blast"], ["proof (state)\nthis:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "have C1: \"\\<And>\\<Psi> T S yvec. \\<lbrakk>(\\<Psi>, T, S) \\<in> ?Y; yvec \\<sharp>* \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T, \\<lparr>\\<nu>*yvec\\<rparr>S) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix \\<Psi> T S yvec"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(\\<Psi>, T, S) \\<in> ?Y\""], ["proof (state)\nthis:\n  (\\<Psi>, T, S)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, T, S)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}", "obtain T' S' where \"\\<Psi> \\<rhd> T \\<sim> T'\" and \"(\\<Psi>, T', S') \\<in> ?X\" and \"\\<Psi> \\<rhd> S' \\<sim> S\""], ["proof (prove)\nusing this:\n  (\\<Psi>, T, S)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. (\\<And>T' S'.\n        \\<lbrakk>\\<Psi> \\<rhd> T \\<sim> T';\n         (\\<Psi>, T', S')\n         \\<in> {(\\<Psi>,\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     (Q \\<parallel> R)) |\n                \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>};\n         \\<Psi> \\<rhd> S' \\<sim> S\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> T \\<sim> T'\n  (\\<Psi>, T', S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> S' \\<sim> S\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(yvec::name list) \\<sharp>* \\<Psi>\""], ["proof (state)\nthis:\n  yvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>(\\<Psi>, T', S') \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, T', S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q R where T'eq: \"T' = \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\" and S'eq: \"S' = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))\"\n                                                  and \"xvec \\<sharp>* \\<Psi>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, T', S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q R.\n        \\<lbrakk>T' =\n                 \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R;\n         S' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R);\n         xvec \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>\\<Psi> \\<rhd> T \\<sim> T'\\<close> \\<open>yvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> T \\<sim> T'\n  yvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>T \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>T'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> T \\<sim> T'\n  yvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>T \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>T'", "by(rule bisimResChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>T \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>T'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>T \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>T'\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>yvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  yvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*(yvec@xvec)\\<rparr>((P \\<parallel> Q) \\<parallel> R), \\<lparr>\\<nu>*(yvec@xvec)\\<rparr>(P \\<parallel> (Q \\<parallel> R))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  yvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>,\n     \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> (Q \\<parallel> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by force"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "with T'eq S'eq"], ["proof (chain)\npicking this:\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  (\\<Psi>, \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "have \"(\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T', \\<lparr>\\<nu>*yvec\\<rparr>S') \\<in> ?X\""], ["proof (prove)\nusing this:\n  T' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S' = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  (\\<Psi>, \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*(yvec @ xvec)\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T', \\<lparr>\\<nu>*yvec\\<rparr>S')\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by(simp add: resChainAppend)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T', \\<lparr>\\<nu>*yvec\\<rparr>S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T', \\<lparr>\\<nu>*yvec\\<rparr>S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>\\<Psi> \\<rhd> S' \\<sim> S\\<close> \\<open>yvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> S' \\<sim> S\n  yvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>S' \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>S\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> S' \\<sim> S\n  yvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>S' \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>S", "by(rule bisimResChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>S' \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>S\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S yvec.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        yvec \\<sharp>* \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T,\n                          \\<lparr>\\<nu>*yvec\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>T \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>T'\n  (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T', \\<lparr>\\<nu>*yvec\\<rparr>S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>S' \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>S", "show \"(\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T, \\<lparr>\\<nu>*yvec\\<rparr>S) \\<in> ?Y\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>T \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>T'\n  (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T', \\<lparr>\\<nu>*yvec\\<rparr>S')\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*yvec\\<rparr>S' \\<sim> \\<lparr>\\<nu>*yvec\\<rparr>S\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T, \\<lparr>\\<nu>*yvec\\<rparr>S)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              (\\<Psi>, P', Q')\n              \\<in> {(\\<Psi>,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R)) |\n                     \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*yvec\\<rparr>T, \\<lparr>\\<nu>*yvec\\<rparr>S)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>2, ?T2, ?S2)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?yvec2 \\<sharp>* ?\\<Psi>2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2, \\<lparr>\\<nu>*?yvec2\\<rparr>?T2,\n                     \\<lparr>\\<nu>*?yvec2\\<rparr>?S2)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "have C2: \"\\<And>\\<Psi> T S y. \\<lbrakk>(\\<Psi>, T, S) \\<in> ?Y; y \\<sharp> \\<Psi>\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>T, \\<lparr>\\<nu>y\\<rparr>S) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> T S y.\n       \\<lbrakk>(\\<Psi>, T, S)\n                \\<in> {uu_.\n                       \\<exists>\\<Psi> P P' Q' Q.\n                          uu_ = (\\<Psi>, P, Q) \\<and>\n                          \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                          (\\<Psi>, P', Q')\n                          \\<in> {(\\<Psi>,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      Q \\<parallel>\n                      R,\n                                  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                      (Q \\<parallel> R)) |\n                                 \\<Psi> xvec P Q R.\n                                 xvec \\<sharp>* \\<Psi>} \\<and>\n                          \\<Psi> \\<rhd> Q' \\<sim> Q};\n        y \\<sharp> \\<Psi>\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>y\\<rparr>T,\n                          \\<lparr>\\<nu>y\\<rparr>S)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(drule_tac yvec2=\"[y]\" in C1) auto"], ["proof (state)\nthis:\n  \\<lbrakk>(?\\<Psi>2, ?T2, ?S2)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?y2 \\<sharp> ?\\<Psi>2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2, \\<lparr>\\<nu>?y2\\<rparr>?T2,\n                     \\<lparr>\\<nu>?y2\\<rparr>?S2)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R) \\<leadsto>[?Y] \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n      R \\<leadsto>[{uu_.\n                    \\<exists>\\<Psi> P P' Q' Q.\n                       uu_ = (\\<Psi>, P, Q) \\<and>\n                       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                       (\\<Psi>, P', Q')\n                       \\<in> {(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   Q \\<parallel>\n                   R,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   (Q \\<parallel> R)) |\n                              \\<Psi> xvec P Q R.\n                              xvec \\<sharp>* \\<Psi>} \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n (Q \\<parallel> R)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n      R \\<leadsto>[{uu_.\n                    \\<exists>\\<Psi> P P' Q' Q.\n                       uu_ = (\\<Psi>, P, Q) \\<and>\n                       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                       (\\<Psi>, P', Q')\n                       \\<in> {(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   Q \\<parallel>\n                   R,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   (Q \\<parallel> R)) |\n                              \\<Psi> xvec P Q R.\n                              xvec \\<sharp>* \\<Psi>} \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n (Q \\<parallel> R)", "have \"\\<Psi> \\<rhd> (P \\<parallel> Q) \\<parallel> R \\<leadsto>[?Y] P \\<parallel> (Q \\<parallel> R)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "note \\<open>eqvt ?Y\\<close>"], ["proof (state)\nthis:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "have \"\\<And>\\<Psi> P Q R. (\\<Psi>, (P \\<parallel> Q) \\<parallel> R, P \\<parallel> (Q \\<parallel> R)) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R.\n       (\\<Psi>, P \\<parallel> Q \\<parallel> R,\n        P \\<parallel> (Q \\<parallel> R))\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R.\n       (\\<Psi>, P \\<parallel> Q \\<parallel> R,\n        P \\<parallel> (Q \\<parallel> R))\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix \\<Psi> P Q R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R.\n       (\\<Psi>, P \\<parallel> Q \\<parallel> R,\n        P \\<parallel> (Q \\<parallel> R))\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "have \"(\\<Psi>::'b, ((P::('a, 'b, 'c) psi) \\<parallel> Q) \\<parallel> R, P \\<parallel> (Q \\<parallel> R)) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by(auto, rule_tac x=\"[]\" in exI) auto"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R.\n       (\\<Psi>, P \\<parallel> Q \\<parallel> R,\n        P \\<parallel> (Q \\<parallel> R))\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "thus \"(\\<Psi>, (P \\<parallel> Q) \\<parallel> R, P \\<parallel> (Q \\<parallel> R)) \\<in> ?Y\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              (\\<Psi>, P', Q')\n              \\<in> {(\\<Psi>,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R)) |\n                     \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> Q \\<parallel> R, P \\<parallel> (Q \\<parallel> R))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (?\\<Psi>2, ?P2 \\<parallel> ?Q2 \\<parallel> ?R2,\n   ?P2 \\<parallel> (?Q2 \\<parallel> ?R2))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "moreover"], ["proof (state)\nthis:\n  (?\\<Psi>2, ?P2 \\<parallel> ?Q2 \\<parallel> ?R2,\n   ?P2 \\<parallel> (?Q2 \\<parallel> ?R2))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "have \"\\<And>xvec \\<Psi> P Q R. \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk> \\<Longrightarrow> (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R), P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R))) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix xvec \\<Psi> P Q R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(xvec::name list) \\<sharp>* (\\<Psi>::'b)\" and \"xvec \\<sharp>* (P::('a, 'b, 'c) psi)\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R)) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      (Q \\<parallel>\n       R) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)", "by(rule bisimScopeExtChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* P\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              Q \\<parallel>\n              R,\n                          P \\<parallel>\n                          (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)", "show \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R), P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>(Q \\<parallel> R))) \\<in> ?Y\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              (\\<Psi>, P', Q')\n              \\<in> {(\\<Psi>,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R)) |\n                     \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   P \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>Q \\<parallel> R))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?P2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           ?Q2 \\<parallel>\n           ?R2,\n                     ?P2 \\<parallel>\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?P2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           ?Q2 \\<parallel>\n           ?R2,\n                     ?P2 \\<parallel>\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "have \"\\<And>xvec \\<Psi> P Q R. \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk> \\<Longrightarrow> (\\<Psi>, (\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)) \\<parallel> R, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "fix xvec \\<Psi> P Q R"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "assume \"(xvec::name list) \\<sharp>* (\\<Psi>::'b)\" and \"xvec \\<sharp>* (R::('a, 'b, 'c) psi)\""], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* R\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "have \"\\<Psi> \\<rhd> (\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)) \\<parallel> R \\<sim> R \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel>\n                  R \\<sim> R \\<parallel>\n                           (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)", "by(rule bisimParComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel>\n                R \\<sim> R \\<parallel>\n                         (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel>\n                R \\<sim> R \\<parallel>\n                         (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* R\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* R", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(R \\<parallel> (P \\<parallel> Q)) \\<sim> R \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q))\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* R\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n      (P \\<parallel>\n       Q) \\<sim> R \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)", "by(rule bisimScopeExtChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (P \\<parallel>\n     Q) \\<sim> R \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "hence \"\\<Psi> \\<rhd> R \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>(R \\<parallel> (P \\<parallel> Q))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (P \\<parallel>\n     Q) \\<sim> R \\<parallel> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel>\n                  (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n       Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (P \\<parallel> Q)", "by(rule bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<parallel>\n                (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (P \\<parallel> Q)\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<parallel>\n                (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (P \\<parallel> Q)\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(R \\<parallel> (P \\<parallel> Q)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n      (P \\<parallel>\n       Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R", "by(metis bisimResChainPres bisimParComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R), \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>xvec \\<Psi> P Q R.\n       \\<lbrakk>xvec \\<sharp>* \\<Psi>; xvec \\<sharp>* R\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>,\n                          (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n               Q) \\<parallel>\n                          R,\n                          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n              (Q \\<parallel> R))\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel>\n                R \\<sim> R \\<parallel>\n                         (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)\n  \\<Psi> \\<rhd> R \\<parallel>\n                (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (P \\<parallel> Q)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "show \"(\\<Psi>, (\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q)) \\<parallel> R, \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))) \\<in> ?Y\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel>\n                R \\<sim> R \\<parallel>\n                         (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q)\n  \\<Psi> \\<rhd> R \\<parallel>\n                (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (P \\<parallel> Q)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (P \\<parallel>\n     Q) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              (\\<Psi>, P', Q')\n              \\<in> {(\\<Psi>,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R)) |\n                     \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast dest: bisimTransitive intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi>, (\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q) \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?R2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n            ?Q2) \\<parallel>\n                     ?R2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           (?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "ultimately"], ["proof (chain)\npicking this:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>2, ?P2 \\<parallel> ?Q2 \\<parallel> ?R2,\n   ?P2 \\<parallel> (?Q2 \\<parallel> ?R2))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?P2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           ?Q2 \\<parallel>\n           ?R2,\n                     ?P2 \\<parallel>\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?R2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n            ?Q2) \\<parallel>\n                     ?R2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           (?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>2, ?P2 \\<parallel> ?Q2 \\<parallel> ?R2,\n   ?P2 \\<parallel> (?Q2 \\<parallel> ?R2))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?P2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           ?Q2 \\<parallel>\n           ?R2,\n                     ?P2 \\<parallel>\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?R2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n            ?Q2) \\<parallel>\n                     ?R2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           (?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "using C1"], ["proof (prove)\nusing this:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>2, ?P2 \\<parallel> ?Q2 \\<parallel> ?R2,\n   ?P2 \\<parallel> (?Q2 \\<parallel> ?R2))\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?P2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           ?Q2 \\<parallel>\n           ?R2,\n                     ?P2 \\<parallel>\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?xvec2 \\<sharp>* ?\\<Psi>2; ?xvec2 \\<sharp>* ?R2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2,\n                     (\\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n            ?Q2) \\<parallel>\n                     ?R2,\n                     \\<lparr>\\<nu>*?xvec2\\<rparr>?P2 \\<parallel>\n           (?Q2 \\<parallel> ?R2))\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>(?\\<Psi>2, ?T2, ?S2)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?yvec2 \\<sharp>* ?\\<Psi>2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2, \\<lparr>\\<nu>*?yvec2\\<rparr>?T2,\n                     \\<lparr>\\<nu>*?yvec2\\<rparr>?S2)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                  R \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                         (Q \\<parallel> R)", "by(rule parAssocLeft)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi> P P' Q' Q.\n                                 uu_ = (\\<Psi>, P, Q) \\<and>\n                                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                 (\\<Psi>, P', Q')\n                                 \\<in> {(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n  \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                       (Q \\<parallel> R)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi> P P' Q' Q.\n                                 uu_ = (\\<Psi>, P, Q) \\<and>\n                                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                 (\\<Psi>, P', Q')\n                                 \\<in> {(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n  \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                       (Q \\<parallel> R)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n      R \\<leadsto>[{uu_.\n                    \\<exists>\\<Psi> P P' Q' Q.\n                       uu_ = (\\<Psi>, P, Q) \\<and>\n                       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                       (\\<Psi>, P', Q')\n                       \\<in> {(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   Q \\<parallel>\n                   R,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   (Q \\<parallel> R)) |\n                              \\<Psi> xvec P Q R.\n                              xvec \\<sharp>* \\<Psi>} \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n (Q \\<parallel> R)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi> P P' Q' Q.\n                                 uu_ = (\\<Psi>, P, Q) \\<and>\n                                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                 (\\<Psi>, P', Q')\n                                 \\<in> {(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n  \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                       (Q \\<parallel> R)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n      R \\<leadsto>[{uu_.\n                    \\<exists>\\<Psi> P P' Q' Q.\n                       uu_ = (\\<Psi>, P, Q) \\<and>\n                       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                       (\\<Psi>, P', Q')\n                       \\<in> {(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   Q \\<parallel>\n                   R,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   (Q \\<parallel> R)) |\n                              \\<Psi> xvec P Q R.\n                              xvec \\<sharp>* \\<Psi>} \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n (Q \\<parallel> R)", "using \\<open>eqvt ?Y\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> C2"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                R \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi> P P' Q' Q.\n                                 uu_ = (\\<Psi>, P, Q) \\<and>\n                                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                 (\\<Psi>, P', Q')\n                                 \\<in> {(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n  \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}] P \\<parallel>\n                       (Q \\<parallel> R)\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  xvec \\<sharp>* \\<Psi>\n  \\<lbrakk>(?\\<Psi>2, ?T2, ?S2)\n           \\<in> {uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?y2 \\<sharp> ?\\<Psi>2\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>2, \\<lparr>\\<nu>?y2\\<rparr>?T2,\n                     \\<lparr>\\<nu>?y2\\<rparr>?S2)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n\\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n                                     \\<Psi> xvec P Q R.\n                                     xvec \\<sharp>* \\<Psi>} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n      R \\<leadsto>[{uu_.\n                    \\<exists>\\<Psi> P P' Q' Q.\n                       uu_ = (\\<Psi>, P, Q) \\<and>\n                       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                       (\\<Psi>, P', Q')\n                       \\<in> {(\\<Psi>,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   Q \\<parallel>\n                   R,\n                               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                   (Q \\<parallel> R)) |\n                              \\<Psi> xvec P Q R.\n                              xvec \\<sharp>* \\<Psi>} \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n (Q \\<parallel> R)", "by(rule resChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n    R \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     (Q \\<parallel> R)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n    R \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     (Q \\<parallel> R)\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n        \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n       \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "with TEq SEq"], ["proof (chain)\npicking this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n    R \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     (Q \\<parallel> R)", "show ?case"], ["proof (prove)\nusing this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n    R \\<leadsto>[{uu_.\n                  \\<exists>\\<Psi> P P' Q' Q.\n                     uu_ = (\\<Psi>, P, Q) \\<and>\n                     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                     (\\<Psi>, P', Q')\n                     \\<in> {(\\<Psi>,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 Q \\<parallel>\n                 R,\n                             \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                 (Q \\<parallel> R)) |\n                            \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                     \\<Psi> \\<rhd> Q' \\<sim> Q}] \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n                                     (Q \\<parallel> R)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> T \\<leadsto>[{uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n     \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n    \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}] S", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> T \\<leadsto>[{uu_.\n                              \\<exists>\\<Psi> P P' Q' Q.\n                                 uu_ = (\\<Psi>, P, Q) \\<and>\n                                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                 (\\<Psi>, P', Q')\n                                 \\<in> {(\\<Psi>,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n   \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n  \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}] S\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "case(cExt \\<Psi> T S \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>(\\<Psi>, T, S) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q R where \"xvec \\<sharp>* \\<Psi>\" and TEq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\"\n                                               and SEq: \"S = \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R))\""], ["proof (prove)\nusing this:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q R.\n        \\<lbrakk>xvec \\<sharp>* \\<Psi>;\n         T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R;\n         S =\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "obtain p where \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>\" and \"(p \\<bullet> xvec) \\<sharp>* P\" and \"(p \\<bullet> xvec) \\<sharp>* Q\" and \"(p \\<bullet> xvec) \\<sharp>* R\" and \"(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\"\n               and S: \"(set p) \\<subseteq> (set xvec) \\<times> (set(p \\<bullet> xvec))\" and \"distinctPerm p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>p.\n        \\<lbrakk>(p \\<bullet> xvec) \\<sharp>* \\<Psi>;\n         (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n         (p \\<bullet> xvec) \\<sharp>* R;\n         (p \\<bullet> xvec) \\<sharp>* \\<Psi>';\n         set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec);\n         distinctPerm p\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac c=\"(\\<Psi>, P, Q, R, \\<Psi>')\" in name_list_avoiding) auto"], ["proof (state)\nthis:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n  distinctPerm p\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(((p \\<bullet> P) \\<parallel> (p \\<bullet> Q)) \\<parallel> (p \\<bullet> R)), \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R)))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>\n  (p \\<bullet> xvec) \\<sharp>* \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                               (p \\<bullet> Q) \\<parallel>\n                               (p \\<bullet> R),\n     \\<lparr>\\<nu>*p \\<bullet>\n                   xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                               ((p \\<bullet> Q) \\<parallel>\n                                (p \\<bullet> R)))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             (p \\<bullet> Q) \\<parallel>\n                             (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             (p \\<bullet> Q) \\<parallel>\n                             (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from TEq \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* R\\<close> S"], ["proof (chain)\npicking this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"T = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>(((p \\<bullet> P) \\<parallel> (p \\<bullet> Q)) \\<parallel> (p \\<bullet> R))\""], ["proof (prove)\nusing this:\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. T =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                              (p \\<bullet> Q) \\<parallel>\n                              (p \\<bullet> R)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R;\n     (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     (p \\<bullet> xvec) \\<sharp>* R;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          (p \\<bullet> Q) \\<parallel>\n          (p \\<bullet> R)", "by(subst resChainAlpha[of p]) auto"], ["proof (state)\nthis:\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            (p \\<bullet> Q) \\<parallel>\n                            (p \\<bullet> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            (p \\<bullet> Q) \\<parallel>\n                            (p \\<bullet> R)\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from SEq \\<open>(p \\<bullet> xvec) \\<sharp>* P\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* Q\\<close> \\<open>(p \\<bullet> xvec) \\<sharp>* R\\<close> S"], ["proof (chain)\npicking this:\n  S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)", "have \"S = \\<lparr>\\<nu>*(p \\<bullet> xvec)\\<rparr>((p \\<bullet> P) \\<parallel> ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R)))\""], ["proof (prove)\nusing this:\n  S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)\n  (p \\<bullet> xvec) \\<sharp>* P\n  (p \\<bullet> xvec) \\<sharp>* Q\n  (p \\<bullet> xvec) \\<sharp>* R\n  set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\n\ngoal (1 subgoal):\n 1. S =\n    \\<lparr>\\<nu>*p \\<bullet>\n                  xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                              ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R);\n     (p \\<bullet> xvec) \\<sharp>* P; (p \\<bullet> xvec) \\<sharp>* Q;\n     (p \\<bullet> xvec) \\<sharp>* R;\n     set p \\<subseteq> set xvec \\<times> set (p \\<bullet> xvec)\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R) =\n                      \\<lparr>\\<nu>*p \\<bullet>\n                                    xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n          ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))", "by(subst resChainAlpha[of p]) auto"], ["proof (state)\nthis:\n  S =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             (p \\<bullet> Q) \\<parallel>\n                             (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            (p \\<bullet> Q) \\<parallel>\n                            (p \\<bullet> R)\n  S =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             (p \\<bullet> Q) \\<parallel>\n                             (p \\<bullet> R),\n   \\<lparr>\\<nu>*p \\<bullet>\n                 xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                             ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R)))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  T =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            (p \\<bullet> Q) \\<parallel>\n                            (p \\<bullet> R)\n  S =\n  \\<lparr>\\<nu>*p \\<bullet>\n                xvec\\<rparr>(p \\<bullet> P) \\<parallel>\n                            ((p \\<bullet> Q) \\<parallel> (p \\<bullet> R))\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', T, S)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by simp"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "case(cSym \\<Psi> T S)"], ["proof (state)\nthis:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>(\\<Psi>, T, S) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "obtain xvec P Q R where \"xvec \\<sharp>* \\<Psi>\" and TEq: \"T = \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\"\n                                               and SEq: \"\\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R)) = S\""], ["proof (prove)\nusing this:\n  (\\<Psi>, T, S)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>xvec P Q R.\n        \\<lbrakk>xvec \\<sharp>* \\<Psi>;\n         T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R;\n         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R) =\n         S\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  xvec \\<sharp>* \\<Psi>\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R) = S\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> (Q \\<parallel> R)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((R \\<parallel> Q) \\<parallel> P)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      (Q \\<parallel>\n       R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P", "by(metis bisimParComm bisimParPres bisimTransitive bisimResChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>((R \\<parallel> Q) \\<parallel> P), \\<lparr>\\<nu>*xvec\\<rparr>(R \\<parallel> (Q \\<parallel> P))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P,\n     \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (Q \\<parallel> P))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n            \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n           \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P,\n   \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (Q \\<parallel> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P,\n   \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (Q \\<parallel> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "from \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(R \\<parallel> (Q \\<parallel> P)) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P \\<parallel> Q) \\<parallel> R)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n      (Q \\<parallel>\n       P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R", "by(metis bisimParComm bisimParPres bisimTransitive bisimResChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (Q \\<parallel>\n     P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n               \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n              \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {uu_.\n              \\<exists>\\<Psi> P P' Q' Q.\n                 uu_ = (\\<Psi>, P, Q) \\<and>\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q')\n                 \\<in> {(\\<Psi>,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             Q \\<parallel>\n             R,\n                         \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n             (Q \\<parallel> R)) |\n                        \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P,\n   \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (Q \\<parallel> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (Q \\<parallel>\n     P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P,\n   \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (Q \\<parallel> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (Q \\<parallel>\n     P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n\ngoal (1 subgoal):\n 1. (\\<Psi>, S, T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              (\\<Psi>, P', Q')\n              \\<in> {(\\<Psi>,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R)) |\n                     \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "using TEq SEq"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n    (Q \\<parallel>\n     R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P\n  (\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> Q \\<parallel> P,\n   \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel> (Q \\<parallel> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n          \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R)) |\n         \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>}\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>R \\<parallel>\n    (Q \\<parallel>\n     P) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  T = \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R\n  \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> (Q \\<parallel> R) = S\n\ngoal (1 subgoal):\n 1. (\\<Psi>, S, T)\n    \\<in> {uu_.\n           \\<exists>\\<Psi> P P' Q' Q.\n              uu_ = (\\<Psi>, P, Q) \\<and>\n              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n              (\\<Psi>, P', Q')\n              \\<in> {(\\<Psi>,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel>\n          R,\n                      \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n          (Q \\<parallel> R)) |\n                     \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n              \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast dest: bisimTransitive)"], ["proof (state)\nthis:\n  (\\<Psi>, S, T)\n  \\<in> {uu_.\n         \\<exists>\\<Psi> P P' Q' Q.\n            uu_ = (\\<Psi>, P, Q) \\<and>\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q')\n            \\<in> {(\\<Psi>,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel> Q \\<parallel> R,\n                    \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n        (Q \\<parallel> R)) |\n                   \\<Psi> xvec P Q R. xvec \\<sharp>* \\<Psi>} \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> Q \\<parallel>\n                R \\<sim> P \\<parallel> (Q \\<parallel> R)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimParNil:\n  fixes P :: \"('a, 'b, 'c) psi\"\n\n  shows \"\\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "let ?X1 = \"{(\\<Psi>, P \\<parallel> \\<zero>, P) | \\<Psi> P. True}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "let ?X2 = \"{(\\<Psi>, P, P \\<parallel> \\<zero>) | \\<Psi> P. True}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "let ?X = \"?X1 \\<union> ?X2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n      {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True})", "by(auto simp add: eqvt_def)"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n    {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "have \"(\\<Psi>, P \\<parallel> \\<zero>, P) \\<in> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi>, P \\<parallel> \\<zero>, P)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n          {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "by simp"], ["proof (state)\nthis:\n  (\\<Psi>, P \\<parallel> \\<zero>, P)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P \\<parallel> \\<zero>, P)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P", "proof(coinduct rule: bisimWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\n                                    \\<Psi> P. True} \\<union>\n                                   {(\\<Psi>, P, P \\<parallel> \\<zero>) |\n                                    \\<Psi> P. True})] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "case(cStatEq \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\n                                    \\<Psi> P. True} \\<union>\n                                   {(\\<Psi>, P, P \\<parallel> \\<zero>) |\n                                    \\<Psi> P. True})] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "proof(case_tac \"(\\<Psi>, Q, R) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n           True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "assume \"(\\<Psi>, Q, R) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R) \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n           True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R) \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True}", "obtain P where \"Q = P \\<parallel> \\<zero>\" and \"R = P\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R) \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>Q = P \\<parallel> \\<zero>; R = P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Q = P \\<parallel> \\<zero>\n  R = P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n           True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  Q = P \\<parallel> \\<zero>\n  R = P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n           True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule freshFrame)"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n           True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "ultimately"], ["proof (chain)\npicking this:\n  Q = P \\<parallel> \\<zero>\n  R = P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>", "show ?case"], ["proof (prove)\nusing this:\n  Q = P \\<parallel> \\<zero>\n  R = P\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q = P \\<parallel> \\<zero>; R = P;\n     extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n     A\\<^sub>P \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P \\<otimes>\n    \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                   \\<Psi>\\<^sub>P\\<rangle>", "by(metis frameResChainPres frameNilStatEq Identity Associativity AssertionStatEqTrans Commutativity)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "assume \"(\\<Psi>, Q, R) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "with \\<open>(\\<Psi>, Q, R) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True}", "have \"(\\<Psi>, Q, R) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R) \\<in> {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R) \\<in> {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "obtain P where \"Q = P\" and \"R = P \\<parallel> \\<zero>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R) \\<in> {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>Q = P; R = P \\<parallel> \\<zero>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Q = P\n  R = P \\<parallel> \\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "moreover"], ["proof (state)\nthis:\n  Q = P\n  R = P \\<parallel> \\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule freshFrame)"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n              True} \\<Longrightarrow>\n    insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "ultimately"], ["proof (chain)\npicking this:\n  Q = P\n  R = P \\<parallel> \\<zero>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>", "show ?case"], ["proof (prove)\nusing this:\n  Q = P\n  R = P \\<parallel> \\<zero>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q = P; R = P \\<parallel> \\<zero>;\n     extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n     A\\<^sub>P \\<sharp>* \\<Psi>\\<rbrakk>\n    \\<Longrightarrow> \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>P\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                           \\<Psi>\\<^sub>P \\<otimes> \\<one>\\<rangle>", "by(metis frameResChainPres frameNilStatEq Identity Associativity AssertionStatEqTrans AssertionStatEqSym Commutativity)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\n                                    \\<Psi> P. True} \\<union>\n                                   {(\\<Psi>, P, P \\<parallel> \\<zero>) |\n                                    \\<Psi> P. True})] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\n                                    \\<Psi> P. True} \\<union>\n                                   {(\\<Psi>, P, P \\<parallel> \\<zero>) |\n                                    \\<Psi> P. True})] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "case(cSim \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\n                                    \\<Psi> P. True} \\<union>\n                                   {(\\<Psi>, P, P \\<parallel> \\<zero>) |\n                                    \\<Psi> P. True})] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi>\n                                 P. True} \\<union>\n                                {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi>\n                                 P. True})] R", "using \\<open>eqvt ?X\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n  eqvt\n   ({(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n    {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi>\n                                 P. True} \\<union>\n                                {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi>\n                                 P. True})] R", "by(auto intro: parNilLeft parNilRight)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P.\n                               True} \\<union>\n                              {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n                               True})] R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "case(cExt \\<Psi> Q R \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n          {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "case(cSym \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P.\n              True} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n             {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, Q)\n    \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n          {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>, P \\<parallel> \\<zero>, P) |\\<Psi> P. True} \\<union>\n        {(\\<Psi>, P, P \\<parallel> \\<zero>) |\\<Psi> P. True}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> \\<zero> \\<sim> P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimResNil:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  \n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "fix x::name"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "assume \"x \\<sharp> \\<Psi>\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "let ?X1 = \"{(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) | \\<Psi> x. x \\<sharp> \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "let ?X2 = \"{(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) | \\<Psi> x. x \\<sharp> \\<Psi>}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "let ?X = \"?X1 \\<union> ?X2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "from \\<open>x \\<sharp> \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "proof(coinduct rule: bisimWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                     \\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                                   {(\\<Psi>, \\<zero>,\n                                     \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>})] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "case(cStatEq \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                     \\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                                   {(\\<Psi>, \\<zero>,\n                                     \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>})] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "using freshComp"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sharp> ?\\<Psi> \\<otimes> ?\\<Psi>'\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "by(force intro: frameResFresh FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                     \\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                                   {(\\<Psi>, \\<zero>,\n                                     \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>})] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                     \\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                                   {(\\<Psi>, \\<zero>,\n                                     \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>})] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                     \\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                                   {(\\<Psi>, \\<zero>,\n                                     \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                                    \\<Psi> x. x \\<sharp> \\<Psi>})] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                  \\<zero>) |\n                                 \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                                {(\\<Psi>, \\<zero>,\n                                  \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                                 \\<Psi> x. x \\<sharp> \\<Psi>})] Q", "by(force intro: resNilLeft resNilRight)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>,\n                                \\<zero>) |\n                               \\<Psi> x. x \\<sharp> \\<Psi>} \\<union>\n                              {(\\<Psi>, \\<zero>,\n                                \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\n                               \\<Psi> x. x \\<sharp> \\<Psi>})] Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "obtain y where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>';\n         y \\<noteq> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<noteq> x\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "proof(case_tac \"(\\<Psi>, P, Q) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "assume \"(\\<Psi>, P, Q) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}", "obtain x where \"P = \\<lparr>\\<nu>x\\<rparr>\\<zero>\" and \"Q = \\<zero>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>P = \\<lparr>\\<nu>x\\<rparr>\\<zero>; Q = \\<zero>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  Q = \\<zero>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "moreover"], ["proof (state)\nthis:\n  P = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  Q = \\<zero>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "have \"\\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr> \\<zero>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>", "by(subst alphaRes) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>\n\ngoal (2 subgoals):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}\n 2. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "ultimately"], ["proof (chain)\npicking this:\n  P = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  Q = \\<zero>\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>", "show ?case"], ["proof (prove)\nusing this:\n  P = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  Q = \\<zero>\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "using \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (prove)\nusing this:\n  P = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  Q = \\<zero>\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "assume \"(\\<Psi>, P, Q) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n            x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "with \\<open>(\\<Psi>, P, Q) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n            x \\<sharp> \\<Psi>}", "have \"(\\<Psi>, P, Q) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n  (\\<Psi>, P, Q)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n            x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<in> {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}", "obtain x where \"Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>\" and \"P = \\<zero>\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>; P = \\<zero>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  P = \\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "moreover"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  P = \\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "have \"\\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr> \\<zero>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>", "by(subst alphaRes) auto"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "ultimately"], ["proof (chain)\npicking this:\n  Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  P = \\<zero>\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>", "show ?case"], ["proof (prove)\nusing this:\n  Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  P = \\<zero>\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "using \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (prove)\nusing this:\n  Q = \\<lparr>\\<nu>x\\<rparr>\\<zero>\n  P = \\<zero>\n  \\<lparr>\\<nu>x\\<rparr>\\<zero> = \\<lparr>\\<nu>y\\<rparr>\\<zero>\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>} \\<union>\n             {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n              x \\<sharp> \\<Psi>}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>} \\<union>\n          {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n           x \\<sharp> \\<Psi>}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>\\<zero>, \\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>} \\<union>\n        {(\\<Psi>, \\<zero>, \\<lparr>\\<nu>x\\<rparr>\\<zero>) |\\<Psi> x.\n         x \\<sharp> \\<Psi>}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "}"], ["proof (state)\nthis:\n  ?xa2 \\<sharp> \\<Psi> \\<Longrightarrow>\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "moreover"], ["proof (state)\nthis:\n  ?xa2 \\<sharp> \\<Psi> \\<Longrightarrow>\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "obtain y::name where \"y \\<sharp> \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y. y \\<sharp> \\<Psi> \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "ultimately"], ["proof (chain)\npicking this:\n  ?xa2 \\<sharp> \\<Psi> \\<Longrightarrow>\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>\\<zero> \\<sim> \\<zero>\n  y \\<sharp> \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>\\<zero> \\<sim> \\<zero>\""], ["proof (prove)\nusing this:\n  ?xa2 \\<sharp> \\<Psi> \\<Longrightarrow>\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>\\<zero> \\<sim> \\<zero>\n  y \\<sharp> \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>\\<zero> \\<sim> \\<zero>", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>", "by(subst alphaRes[where x=x and y=y]) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>\\<zero> \\<sim> \\<zero>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimOutputPushRes:\n  fixes x :: name\n  and   \\<Psi> :: 'b\n  and   M :: 'a\n  and   N :: 'a\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> M\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "fix x::name and P::\"('a, 'b, 'c) psi\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "assume \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> M\" and \"x \\<sharp> N\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "let ?X1 = \"{(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P), M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) | \\<Psi> x M N P. x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "let ?X2 = \"{(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) | \\<Psi> x M N P. x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "let ?X = \"?X1 \\<union> ?X2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n        M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n       \\<Psi> x M N P.\n       x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n      {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n        \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n       \\<Psi> x M N P.\n       x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N})", "by(rule_tac eqvtUnion) (force simp add: eqvt_def pt_fresh_bij[OF pt_name_inst, OF at_name_inst] eqvts)+"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n      M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n     \\<Psi> x M N P.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n    {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n      \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n     \\<Psi> x M N P.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> M\\<close> \\<open>x \\<sharp> N\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P), M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n     M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "using freshComp"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sharp> ?\\<Psi> \\<otimes> ?\\<Psi>'\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "by(force intro: frameResFresh FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                     \\<Psi> x M N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n                                  M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                 \\<Psi> x M N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n                                {(\\<Psi>,\n                                  M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                 \\<Psi> x M N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n                                bisim)] R", "using \\<open>eqvt ?X\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n      M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n     \\<Psi> x M N P.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n    {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n      \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n     \\<Psi> x M N P.\n     x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n                                  M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                 \\<Psi> x M N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n                                {(\\<Psi>,\n                                  M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                                 \\<Psi> x M N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n                                bisim)] R", "by(fastforce intro: outputPushResLeft outputPushResRight bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n                                M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n                               \\<Psi> x M N P.\n                               x \\<sharp> \\<Psi> \\<and>\n                               x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n                              {(\\<Psi>,\n                                M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n                                \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n                               \\<Psi> x M N P.\n                               x \\<sharp> \\<Psi> \\<and>\n                               x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n                              bisim)] R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> Q R \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "proof(case_tac \"(\\<Psi>, Q, R) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "assume \"(\\<Psi>, Q, R) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "obtain x M N P where Qeq: \"Q = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\" and Req: \"R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\" and \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> M\" and \"x \\<sharp> N\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<And>x M N P.\n        \\<lbrakk>Q = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P);\n         R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P;\n         x \\<sharp> \\<Psi>; x \\<sharp> M; x \\<sharp> N\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\n  R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<sharp> M\" and \"y \\<sharp> N\" and \"y \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>'; y \\<sharp> M;\n         y \\<sharp> N; y \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "hence \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)), M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n     M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Qeq \\<open>x \\<sharp> M\\<close> \\<open>y \\<sharp> M\\<close> \\<open>x \\<sharp> N\\<close> \\<open>y \\<sharp> N\\<close> \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  Q = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P", "have \"Q = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  Q = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. Q = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P);\n     x \\<sharp> M; y \\<sharp> M; x \\<sharp> N; y \\<sharp> N;\n     y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) =\n                      \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                               y)] \\<bullet>\n                             P))", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Req \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P", "have \"R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P;\n     y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P =\n                      M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                              y)] \\<bullet>\n                            P)", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  Q = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n  R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)", "show ?case"], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  Q = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n  R = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "assume \"(\\<Psi>, Q, R) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n             M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n            \\<Psi> x M N P.\n            x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "with \\<open>(\\<Psi>, Q, R) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n             M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n            \\<Psi> x M N P.\n            x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "have \"(\\<Psi>, Q, R) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n             M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n            \\<Psi> x M N P.\n            x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "obtain x M N P where Req: \"R = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\" and Qeq: \"Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\" and \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> M\" and \"x \\<sharp> N\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<And>x M N P.\n        \\<lbrakk>R = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P);\n         Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P;\n         x \\<sharp> \\<Psi>; x \\<sharp> M; x \\<sharp> N\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\n  Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<sharp> M\" and \"y \\<sharp> N\" and \"y \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>'; y \\<sharp> M;\n         y \\<sharp> N; y \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "hence \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)), M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n     M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Req \\<open>x \\<sharp> M\\<close> \\<open>y \\<sharp> M\\<close> \\<open>x \\<sharp> N\\<close> \\<open>y \\<sharp> N\\<close> \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P", "have \"R = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. R = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>R = \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P);\n     x \\<sharp> M; y \\<sharp> M; x \\<sharp> N; y \\<sharp> N;\n     y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) =\n                      \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                               y)] \\<bullet>\n                             P))", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Qeq \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P", "have \"Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P;\n     y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P =\n                      M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                              y)] \\<bullet>\n                            P)", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  R = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n  Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)", "show ?case"], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)),\n   M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n  R = \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P))\n  Q = M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> R Q)"], ["proof (state)\nthis:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n               M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n              \\<Psi> x M N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n            M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n           \\<Psi> x M N P.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P),\n          M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P)) |\n         \\<Psi> x M N P.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<langle>N\\<rangle>.?Pa2) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<langle>N\\<rangle>.?Pa2) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> M\" and \"y \\<sharp> N\" \"y \\<sharp> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> M; y \\<sharp> N;\n         y \\<sharp> P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<langle>N\\<rangle>.?Pa2) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x, y)] \\<bullet> P)) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<langle>N\\<rangle>.?Pa2) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                           y)] \\<bullet>\n                         P)) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n      y)] \\<bullet>\n    P)", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                         y)] \\<bullet>\n                       P)) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n    y)] \\<bullet>\n  P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                         y)] \\<bullet>\n                       P)) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n    y)] \\<bullet>\n  P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "using assms \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> M\\<close> \\<open>y \\<sharp> N\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                         y)] \\<bullet>\n                       P)) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n    y)] \\<bullet>\n  P)\n  x \\<sharp> M\n  x \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> M\n  y \\<sharp> N\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P", "apply(subst alphaRes[where x=x and y=y and P=P], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<langle>N\\<rangle>.([(x,\n                                    y)] \\<bullet>\n                                  P)) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n               y)] \\<bullet>\n             P);\n     x \\<sharp> M; x \\<sharp> N; y \\<sharp> P; y \\<sharp> M;\n     y \\<sharp> N\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                      y)] \\<bullet>\n                    P)", "by(subst alphaRes[where x=x and y=y and P=\"M\\<langle>N\\<rangle>.P\"]) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<langle>N\\<rangle>.P) \\<sim> M\\<langle>N\\<rangle>.\\<lparr>\\<nu>x\\<rparr>P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimInputPushRes:\n  fixes x    :: name\n  and   \\<Psi>    :: 'b\n  and   M    :: 'a\n  and   xvec :: \"name list\"\n  and   N    :: 'a\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> M\"\n  and     \"x \\<sharp> xvec\"\n  and     \"x \\<sharp> N\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "fix x::name and P::\"('a, 'b, 'c) psi\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "assume \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> M\" and \"x \\<sharp> N\" and \"x \\<sharp> xvec\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> N\n  x \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "let ?X1 = \"{(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P), M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) | \\<Psi> x M xvec N P. x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "let ?X2 = \"{(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) | \\<Psi> x M xvec N P. x \\<sharp> \\<Psi> \\<and> x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "let ?X = \"?X1 \\<union> ?X2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n        M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n       \\<Psi> x M xvec N P.\n       x \\<sharp> \\<Psi> \\<and>\n       x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n      {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n        \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n       \\<Psi> x M xvec N P.\n       x \\<sharp> \\<Psi> \\<and>\n       x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N})", "by(rule_tac eqvtUnion) (force simp add: eqvt_def pt_fresh_bij[OF pt_name_inst, OF at_name_inst] eqvts)+"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n      M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n     \\<Psi> x M xvec N P.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n    {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n      \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n     \\<Psi> x M xvec N P.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> M\\<close> \\<open>x \\<sharp> xvec\\<close> \\<open>x \\<sharp> N\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> N", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P), M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n     M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "using freshComp"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sharp> ?\\<Psi> \\<otimes> ?\\<Psi>'\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "by(force intro: frameResFresh FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    {(\\<Psi>,\nM\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n\\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                     \\<Psi> x M xvec N P.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> M \\<and>\n                                     x \\<sharp> xvec \\<and>\n                                     x \\<sharp> N} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                 \\<Psi> x M xvec N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and>\n                                 x \\<sharp> xvec \\<and>\n                                 x \\<sharp> N} \\<union>\n                                {(\\<Psi>,\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                 \\<Psi> x M xvec N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and>\n                                 x \\<sharp> xvec \\<and>\n                                 x \\<sharp> N} \\<union>\n                                bisim)] R", "using \\<open>eqvt ?X\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n      M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n     \\<Psi> x M xvec N P.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n    {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n      \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n     \\<Psi> x M xvec N P.\n     x \\<sharp> \\<Psi> \\<and>\n     x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                                 \\<Psi> x M xvec N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and>\n                                 x \\<sharp> xvec \\<and>\n                                 x \\<sharp> N} \\<union>\n                                {(\\<Psi>,\n                                  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n                                  \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                                 \\<Psi> x M xvec N P.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> M \\<and>\n                                 x \\<sharp> xvec \\<and>\n                                 x \\<sharp> N} \\<union>\n                                bisim)] R", "by(fastforce intro: inputPushResLeft inputPushResRight bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>,\n                                \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n                                M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n                               \\<Psi> x M xvec N P.\n                               x \\<sharp> \\<Psi> \\<and>\n                               x \\<sharp> M \\<and>\n                               x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n                              {(\\<Psi>,\n                                M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n                                \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n                               \\<Psi> x M xvec N P.\n                               x \\<sharp> \\<Psi> \\<and>\n                               x \\<sharp> M \\<and>\n                               x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n                              bisim)] R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> Q R \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "proof(case_tac \"(\\<Psi>, Q, R) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "assume \"(\\<Psi>, Q, R) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "obtain x M xvec N P where Qeq: \"Q = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\" and Req: \"R = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\" and \"x \\<sharp> \\<Psi>\"\n                                   and \"x \\<sharp> M\" and \"x \\<sharp> xvec\" and \"x \\<sharp> N\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<And>x M xvec N P.\n        \\<lbrakk>Q =\n                 \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P);\n         R = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P;\n         x \\<sharp> \\<Psi>; x \\<sharp> M; x \\<sharp> xvec;\n         x \\<sharp> N\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\n  R = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> N\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<sharp> M\" and \"y \\<sharp> N\" and \"y \\<sharp> P\" and \"y \\<sharp> xvec\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>'; y \\<sharp> M;\n         y \\<sharp> N; y \\<sharp> P; y \\<sharp> xvec\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "hence \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.([(x, y)] \\<bullet> P)), M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                          y)] \\<bullet>\n                        P),\n     M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                          y)] \\<bullet>\n                        P))\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "by fastforce"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Qeq \\<open>x \\<sharp> M\\<close> \\<open>y \\<sharp> M\\<close> \\<open>x \\<sharp> xvec\\<close> \\<open>y \\<sharp> xvec\\<close> \\<open>x \\<sharp> N\\<close> \\<open>y \\<sharp> N\\<close> \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  Q = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> xvec\n  y \\<sharp> xvec\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P", "have \"Q = \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.([(x, y)] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  Q = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> xvec\n  y \\<sharp> xvec\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. Q =\n    \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                         y)] \\<bullet>\n                       P)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q =\n             \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P);\n     x \\<sharp> M; y \\<sharp> M; x \\<sharp> xvec; y \\<sharp> xvec;\n     x \\<sharp> N; y \\<sharp> N; y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) =\n                      \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n     y)] \\<bullet>\n   P)", "by(subst alphaRes[of y]) (auto simp add: eqvts inputChainFresh)"], ["proof (state)\nthis:\n  Q =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  Q =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Req \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P", "have \"R = M\\<lparr>\\<lambda>*xvec N \\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  R = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. R =\n    M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                         y)] \\<bullet>\n                       P)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>R = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P;\n     y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P =\n                      M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n     y)] \\<bullet>\n   P)", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  R =\n  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and>\n           x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  Q =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n  R =\n  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                       y)] \\<bullet>\n                     P)", "show ?case"], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  Q =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n  R =\n  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "assume \"(\\<Psi>, Q, R) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n             M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n            \\<Psi> x M xvec N P.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "with \\<open>(\\<Psi>, Q, R) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n             M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n            \\<Psi> x M xvec N P.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "have \"(\\<Psi>, Q, R) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>,\n             \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n             M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n            \\<Psi> x M xvec N P.\n            x \\<sharp> \\<Psi> \\<and>\n            x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "obtain x M xvec N P where Req: \"R = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\" and Qeq: \"Q = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\" and \"x \\<sharp> \\<Psi>\"\n                                   and \"x \\<sharp> M\" and \"x \\<sharp> xvec\" and \"x \\<sharp> N\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<And>x M xvec N P.\n        \\<lbrakk>R =\n                 \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P);\n         Q = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P;\n         x \\<sharp> \\<Psi>; x \\<sharp> M; x \\<sharp> xvec;\n         x \\<sharp> N\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\n  Q = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n  x \\<sharp> \\<Psi>\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> N\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<sharp> M\" and \"y \\<sharp> N\" and \"y \\<sharp> P\" and \"y \\<sharp> xvec\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>'; y \\<sharp> M;\n         y \\<sharp> N; y \\<sharp> P; y \\<sharp> xvec\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "hence \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.([(x, y)] \\<bullet> P)), M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                          y)] \\<bullet>\n                        P),\n     M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                          y)] \\<bullet>\n                        P))\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}", "by fastforce"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Req \\<open>x \\<sharp> M\\<close> \\<open>y \\<sharp> M\\<close> \\<open>x \\<sharp> xvec\\<close> \\<open>y \\<sharp> xvec\\<close> \\<open>x \\<sharp> N\\<close> \\<open>y \\<sharp> N\\<close> \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> xvec\n  y \\<sharp> xvec\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P", "have \"R = \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.([(x, y)] \\<bullet> P))\""], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)\n  x \\<sharp> M\n  y \\<sharp> M\n  x \\<sharp> xvec\n  y \\<sharp> xvec\n  x \\<sharp> N\n  y \\<sharp> N\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. R =\n    \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                         y)] \\<bullet>\n                       P)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>R =\n             \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P);\n     x \\<sharp> M; y \\<sharp> M; x \\<sharp> xvec; y \\<sharp> xvec;\n     x \\<sharp> N; y \\<sharp> N; y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) =\n                      \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n     y)] \\<bullet>\n   P)", "by(subst alphaRes[of y]) (auto simp add: eqvts inputChainFresh)"], ["proof (state)\nthis:\n  R =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  R =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Qeq \\<open>y \\<sharp> P\\<close>"], ["proof (chain)\npicking this:\n  Q = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P", "have \"Q = M\\<lparr>\\<lambda>*xvec N \\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  Q = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n  y \\<sharp> P\n\ngoal (1 subgoal):\n 1. Q =\n    M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                         y)] \\<bullet>\n                       P)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q = M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P;\n     y \\<sharp> P\\<rbrakk>\n    \\<Longrightarrow> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P =\n                      M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n     y)] \\<bullet>\n   P)", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  Q =\n  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  R =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n  Q =\n  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                       y)] \\<bullet>\n                     P)", "show ?case"], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                        y)] \\<bullet>\n                      P),\n   M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                        y)] \\<bullet>\n                      P))\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n  R =\n  \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                       y)] \\<bullet>\n                     P)\n  Q =\n  M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                       y)] \\<bullet>\n                     P)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> R Q)"], ["proof (state)\nthis:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and>\n              x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n             {(\\<Psi>,\n               M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n               \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n              \\<Psi> x M xvec N P.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n          {(\\<Psi>,\n            M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n            \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n           \\<Psi> x M xvec N P.\n           x \\<sharp> \\<Psi> \\<and>\n           x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P),\n          M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<union>\n        {(\\<Psi>, M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P,\n          \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P)) |\n         \\<Psi> x M xvec N P.\n         x \\<sharp> \\<Psi> \\<and>\n         x \\<sharp> M \\<and> x \\<sharp> xvec \\<and> x \\<sharp> N} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N;\n   ?xa2 \\<sharp> xvec\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.?Pa2) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N;\n   ?xa2 \\<sharp> xvec\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.?Pa2) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> M\" and \"y \\<sharp> N\" and \"y \\<sharp> P\" and \"y \\<sharp> xvec\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> M; y \\<sharp> N;\n         y \\<sharp> P; y \\<sharp> xvec\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N;\n   ?xa2 \\<sharp> xvec\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.?Pa2) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.([(x, y)] \\<bullet> P)) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x, y)] \\<bullet> P)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> M; ?xa2 \\<sharp> N;\n   ?xa2 \\<sharp> xvec\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.?Pa2) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>?xa2\\<rparr>?Pa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n y)] \\<bullet>\n                                     P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                              y)] \\<bullet>\n                            P)", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                                     y)] \\<bullet>\n                                   P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                            y)] \\<bullet>\n                          P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                                     y)] \\<bullet>\n                                   P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                            y)] \\<bullet>\n                          P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "using assms \\<open>y \\<sharp> P\\<close> \\<open>y \\<sharp> M\\<close> \\<open>y \\<sharp> N\\<close> \\<open>y \\<sharp> xvec\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n                                     y)] \\<bullet>\n                                   P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n                            y)] \\<bullet>\n                          P)\n  x \\<sharp> M\n  x \\<sharp> xvec\n  x \\<sharp> N\n  y \\<sharp> P\n  y \\<sharp> M\n  y \\<sharp> N\n  y \\<sharp> xvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P", "apply(subst alphaRes[where x=x and y=y and P=P], auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.[(x,\n          y)] \\<bullet>\n        P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n y)] \\<bullet>\n                                     P);\n     x \\<sharp> M; x \\<sharp> xvec; x \\<sharp> N; y \\<sharp> P;\n     y \\<sharp> M; y \\<sharp> N; y \\<sharp> xvec\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>y\\<rparr>([(x,\n          y)] \\<bullet>\n        P)", "by(subst alphaRes[where x=x and y=y and P=\"M\\<lparr>\\<lambda>*xvec N\\<rparr>.P\"]) (auto simp add: inputChainFresh eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<sim> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<lparr>\\<nu>x\\<rparr>P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimCasePushRes:\n  fixes x  :: name\n  and   \\<Psi>  :: 'b\n  and   Cs :: \"('c \\<times> ('a, 'b, 'c) psi) list\"\n\n  assumes \"x \\<sharp> (map fst Cs)\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "fix x::name and Cs::\"('c \\<times> ('a, 'b, 'c) psi) list\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "assume \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> (map fst Cs)\""], ["proof (state)\nthis:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "let ?X1 = \"{(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs), Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)) | \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> (map fst Cs)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "let ?X2 = \"{(\\<Psi>, Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs), \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) | \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> (map fst Cs)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "let ?X = \"?X1 \\<union> ?X2\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n        Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n               Cs) |\n       \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n      {(\\<Psi>,\n        Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n               Cs,\n        \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n       \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs})", "apply(rule_tac eqvtUnion)"], ["proof (prove)\ngoal (2 subgoals):\n 1. eqvt\n     {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n       Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n              Cs) |\n      \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n 2. eqvt\n     {(\\<Psi>,\n       Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n              Cs,\n       \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n      \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "apply(auto simp add: eqvt_def eqvts)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(rule_tac x=\"p \\<bullet> x\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Csa.\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases Csa) \\<and>\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>,\n                                     \\<lparr>\\<nu>(p \\<bullet> x)\\<rparr>P))\n                             Csa \\<and>\n                            p \\<bullet> x \\<sharp> p \\<bullet> a \\<and>\n                            p \\<bullet> x \\<sharp> map fst Csa\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(rule_tac x=\"p \\<bullet> Cs\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<lparr>\\<nu>(p \\<bullet>\n x)\\<rparr>(Cases p \\<bullet> Cs) =\n                         \\<lparr>\\<nu>(p \\<bullet>\n x)\\<rparr>(Cases p \\<bullet> Cs) \\<and>\n                         map (p \\<bullet>\n                              (\\<lambda>(\\<phi>, P).\n                                  (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                          (p \\<bullet> Cs) =\n                         map (\\<lambda>(\\<phi>, P).\n                                 (\\<phi>,\n                                  \\<lparr>\\<nu>(p \\<bullet> x)\\<rparr>P))\n                          (p \\<bullet> Cs) \\<and>\n                         p \\<bullet> x \\<sharp> p \\<bullet> a \\<and>\n                         p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(perm_extend_simp)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<forall>xa\\<in>set (p \\<bullet> Cs).\n                            p \\<bullet>\n                            (case rev p \\<bullet> xa of\n                             (\\<phi>, P) \\<Rightarrow>\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) =\n                            (case xa of\n                             (\\<phi>, P) \\<Rightarrow>\n                               (\\<phi>,\n                                \\<lparr>\\<nu>(p \\<bullet> x)\\<rparr>P))\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> p \\<bullet> a\n 3. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 4. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(auto simp add: eqvts)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> p \\<bullet> a\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 3. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(simp add: pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(drule_tac pi=p in pt_fresh_bij1[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> map fst Cs;\n        p \\<bullet> x \\<sharp> p \\<bullet> a\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(drule_tac pi=p in pt_fresh_bij1[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>p \\<bullet> x \\<sharp> p \\<bullet> a;\n        p \\<bullet> x \\<sharp> p \\<bullet> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>p \\<bullet> x \\<sharp> p \\<bullet> a;\n        p \\<bullet>\n        x \\<sharp> map (p \\<bullet> fst) (p \\<bullet> Cs)\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(perm_extend_simp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>p \\<bullet> x \\<sharp> p \\<bullet> a;\n        p \\<bullet>\n        x \\<sharp> map (\\<lambda>x. p \\<bullet> fst (rev p \\<bullet> x))\n                    (p \\<bullet> Cs)\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>xa Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>, \\<lparr>\\<nu>xa\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>xa\\<rparr>(Cases Csa) \\<and>\n                            xa \\<sharp> p \\<bullet> a \\<and>\n                            xa \\<sharp> map fst Csa", "apply(rule_tac x=\"p \\<bullet> x\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Csa.\n                            map (p \\<bullet>\n                                 (\\<lambda>(\\<phi>, P).\n                                     (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                             (p \\<bullet> Cs) =\n                            map (\\<lambda>(\\<phi>, P).\n                                    (\\<phi>,\n                                     \\<lparr>\\<nu>(p \\<bullet> x)\\<rparr>P))\n                             Csa \\<and>\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases p \\<bullet> Cs) =\n                            \\<lparr>\\<nu>(p \\<bullet>\n    x)\\<rparr>(Cases Csa) \\<and>\n                            p \\<bullet> x \\<sharp> p \\<bullet> a \\<and>\n                            p \\<bullet> x \\<sharp> map fst Csa", "apply(rule_tac x=\"p \\<bullet> Cs\" in exI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> map (p \\<bullet>\n                              (\\<lambda>(\\<phi>, P).\n                                  (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                          (p \\<bullet> Cs) =\n                         map (\\<lambda>(\\<phi>, P).\n                                 (\\<phi>,\n                                  \\<lparr>\\<nu>(p \\<bullet> x)\\<rparr>P))\n                          (p \\<bullet> Cs) \\<and>\n                         \\<lparr>\\<nu>(p \\<bullet>\n x)\\<rparr>(Cases p \\<bullet> Cs) =\n                         \\<lparr>\\<nu>(p \\<bullet>\n x)\\<rparr>(Cases p \\<bullet> Cs) \\<and>\n                         p \\<bullet> x \\<sharp> p \\<bullet> a \\<and>\n                         p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply auto"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>a x Cs p aa b.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs;\n        (aa, b) mem p \\<bullet> Cs\\<rbrakk>\n       \\<Longrightarrow> (p \\<bullet>\n                          (\\<lambda>(\\<phi>, P).\n                              (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)))\n                          (aa, b) =\n                         (aa, \\<lparr>\\<nu>(p \\<bullet> x)\\<rparr>b)\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> p \\<bullet> a\n 3. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply(perm_extend_simp)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> p \\<bullet> a\n 2. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply(simp add: pt_fresh_bij[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> a; x \\<sharp> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply(drule_tac pi=p in pt_fresh_bij1[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>x \\<sharp> map fst Cs;\n        p \\<bullet> x \\<sharp> p \\<bullet> a\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply(drule_tac pi=p in pt_fresh_bij1[OF pt_name_inst, OF at_name_inst])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>p \\<bullet> x \\<sharp> p \\<bullet> a;\n        p \\<bullet> x \\<sharp> p \\<bullet> map fst Cs\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply(simp add: eqvts)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>p \\<bullet> x \\<sharp> p \\<bullet> a;\n        p \\<bullet>\n        x \\<sharp> map (p \\<bullet> fst) (p \\<bullet> Cs)\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "apply(perm_extend_simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a x Cs p.\n       \\<lbrakk>p \\<bullet> x \\<sharp> p \\<bullet> a;\n        p \\<bullet>\n        x \\<sharp> map (\\<lambda>x. p \\<bullet> fst (rev p \\<bullet> x))\n                    (p \\<bullet> Cs)\\<rbrakk>\n       \\<Longrightarrow> p \\<bullet> x \\<sharp> map fst (p \\<bullet> Cs)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n      Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n             Cs) |\n     \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n    {(\\<Psi>,\n      Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n             Cs,\n      \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n     \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "from \\<open>x \\<sharp> \\<Psi>\\<close> \\<open>x \\<sharp> map fst Cs\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> map fst Cs", "have \"(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs), Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)) \\<in> ?X\""], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n     Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "hence \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs),\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    {(\\<Psi>,\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs),\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    {(\\<Psi>,\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "using freshComp"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  \\<lbrakk>?x \\<sharp> ?\\<Psi>; ?x \\<sharp> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?x \\<sharp> ?\\<Psi> \\<otimes> ?\\<Psi>'\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "by(force intro: frameResFresh FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs),\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    {(\\<Psi>,\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs),\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    {(\\<Psi>,\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs),\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    {(\\<Psi>,\nCases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n\\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                     \\<Psi> x Cs.\n                                     x \\<sharp> \\<Psi> \\<and>\n                                     x \\<sharp> map fst Cs} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n                                  Cases map\n   (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                 \\<Psi> x Cs.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> map fst Cs} \\<union>\n                                {(\\<Psi>,\n                                  Cases map\n   (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n                                  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                 \\<Psi> x Cs.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> map fst Cs} \\<union>\n                                bisim)] R", "using \\<open>eqvt ?X\\<close>"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  eqvt\n   ({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n      Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n             Cs) |\n     \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n    {(\\<Psi>,\n      Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n             Cs,\n      \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n     \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs})\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n                                  Cases map\n   (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                                 \\<Psi> x Cs.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> map fst Cs} \\<union>\n                                {(\\<Psi>,\n                                  Cases map\n   (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n                                  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                                 \\<Psi> x Cs.\n                                 x \\<sharp> \\<Psi> \\<and>\n                                 x \\<sharp> map fst Cs} \\<union>\n                                bisim)] R", "by(fastforce intro: casePushResLeft casePushResRight bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n                                Cases map\n (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs) |\n                               \\<Psi> x Cs.\n                               x \\<sharp> \\<Psi> \\<and>\n                               x \\<sharp> map fst Cs} \\<union>\n                              {(\\<Psi>,\n                                Cases map\n (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs,\n                                \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n                               \\<Psi> x Cs.\n                               x \\<sharp> \\<Psi> \\<and>\n                               x \\<sharp> map fst Cs} \\<union>\n                              bisim)] R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> Q R \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "proof(case_tac \"(\\<Psi>, Q, R) \\<in> ?X1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "assume \"(\\<Psi>, Q, R) \\<in> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "obtain x Cs where Qeq: \"Q = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\" and Req: \"R = Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\"\n                           and \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> (map fst Cs)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<And>x Cs.\n        \\<lbrakk>Q = \\<lparr>\\<nu>x\\<rparr>(Cases Cs);\n         R =\n         Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                Cs;\n         x \\<sharp> \\<Psi>; x \\<sharp> map fst Cs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  R = Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n  x \\<sharp> \\<Psi>\n  x \\<sharp> map fst Cs\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<sharp> Cs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>';\n         y \\<sharp> Cs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> Cs\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from \\<open>y \\<sharp> Cs\\<close> \\<open>x \\<sharp> (map fst Cs)\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs", "have \"y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\""], ["proof (prove)\nusing this:\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)", "by(induct Cs) (auto simp add: fresh_list_cons fresh_list_nil)"], ["proof (state)\nthis:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "with \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>(Cases ([(x, y)] \\<bullet> Cs)), Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P)) ([(x, y)] \\<bullet> Cs))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n     Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n            ([(x, y)] \\<bullet> Cs))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Qeq \\<open>y \\<sharp> Cs\\<close>"], ["proof (chain)\npicking this:\n  Q = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  y \\<sharp> Cs", "have \"Q = \\<lparr>\\<nu>y\\<rparr>(Cases([(x, y)] \\<bullet> Cs))\""], ["proof (prove)\nusing this:\n  Q = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. Q = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Q = \\<lparr>\\<nu>x\\<rparr>(Cases Cs); y \\<sharp> Cs\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) =\n                      \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  Q = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Req \\<open>y \\<sharp> Cs\\<close> \\<open>x \\<sharp> (map fst Cs)\\<close>"], ["proof (chain)\npicking this:\n  R = Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs", "have \"R = Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P)) ([(x, y)] \\<bullet> Cs))\""], ["proof (prove)\nusing this:\n  R = Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. R =\n    Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n           ([(x, y)] \\<bullet> Cs)", "by(induct Cs arbitrary: R) (auto simp add: fresh_list_cons fresh_prod alphaRes)"], ["proof (state)\nthis:\n  R =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs)\n\ngoal (2 subgoals):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n 2. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  Q = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n  R =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs)", "show ?case"], ["proof (prove)\nusing this:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  Q = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n  R =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "assume \"(\\<Psi>, Q, R) \\<notin> ?X1\""], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n             Cases map (\\<lambda>(\\<phi>, P).\n                           (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                    Cs) |\n            \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "with \\<open>(\\<Psi>, Q, R) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n             Cases map (\\<lambda>(\\<phi>, P).\n                           (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                    Cs) |\n            \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "have \"(\\<Psi>, Q, R) \\<in> ?X2\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  (\\<Psi>, Q, R)\n  \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n             Cases map (\\<lambda>(\\<phi>, P).\n                           (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                    Cs) |\n            \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "then"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "obtain x Cs where Req: \"R = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\" and Qeq: \"Q = Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\"\n                           and \"x \\<sharp> \\<Psi>\" and \"x \\<sharp> (map fst Cs)\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<And>x Cs.\n        \\<lbrakk>R = \\<lparr>\\<nu>x\\<rparr>(Cases Cs);\n         Q =\n         Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                Cs;\n         x \\<sharp> \\<Psi>; x \\<sharp> map fst Cs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  Q = Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n  x \\<sharp> \\<Psi>\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> \\<Psi>'\" and \"y \\<sharp> Cs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> \\<Psi>';\n         y \\<sharp> Cs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") (auto simp add: fresh_prod)"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from \\<open>y \\<sharp> Cs\\<close> \\<open>x \\<sharp> (map fst Cs)\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs", "have \"y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\""], ["proof (prove)\nusing this:\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)", "by(induct Cs) (auto simp add: fresh_list_cons fresh_list_nil)"], ["proof (state)\nthis:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "with \\<open>y \\<sharp> \\<Psi>\\<close> \\<open>y \\<sharp> \\<Psi>'\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)", "have \"(\\<Psi> \\<otimes> \\<Psi>', \\<lparr>\\<nu>y\\<rparr>(Cases ([(x, y)] \\<bullet> Cs)), Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P)) ([(x, y)] \\<bullet> Cs))) \\<in> ?X\""], ["proof (prove)\nusing this:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> \\<Psi>'\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>',\n     \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n     Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n            ([(x, y)] \\<bullet> Cs))\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Req \\<open>y \\<sharp> Cs\\<close>"], ["proof (chain)\npicking this:\n  R = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  y \\<sharp> Cs", "have \"R = \\<lparr>\\<nu>y\\<rparr>(Cases([(x, y)] \\<bullet> Cs))\""], ["proof (prove)\nusing this:\n  R = \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. R = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>R = \\<lparr>\\<nu>x\\<rparr>(Cases Cs); y \\<sharp> Cs\\<rbrakk>\n    \\<Longrightarrow> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) =\n                      \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)", "by(subst alphaRes[of y]) (auto simp add: eqvts)"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "moreover"], ["proof (state)\nthis:\n  R = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "from Qeq \\<open>y \\<sharp> Cs\\<close> \\<open>x \\<sharp> (map fst Cs)\\<close>"], ["proof (chain)\npicking this:\n  Q = Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs", "have \"Q = Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P)) ([(x, y)] \\<bullet> Cs))\""], ["proof (prove)\nusing this:\n  Q = Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n  y \\<sharp> Cs\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. Q =\n    Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n           ([(x, y)] \\<bullet> Cs)", "by(induct Cs arbitrary: Q) (auto simp add: fresh_list_cons fresh_prod alphaRes)"], ["proof (state)\nthis:\n  Q =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<notin> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n    (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  R = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n  Q =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs)", "show ?case"], ["proof (prove)\nusing this:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n  (\\<Psi> \\<otimes> \\<Psi>',\n   \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs),\n   Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n          ([(x, y)] \\<bullet> Cs))\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n  R = \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs)\n  Q =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> R Q)"], ["proof (state)\nthis:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and>\n              x \\<sharp> map fst Cs} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n             {(\\<Psi>,\n               Cases map (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                      Cs,\n               \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n              \\<Psi> x Cs.\n              x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, R)\n    \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n          {(\\<Psi>,\n            Cases map (\\<lambda>(\\<phi>, P).\n                          (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                   Cs,\n            \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n           \\<Psi> x Cs.\n           x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n    \\<Psi> \\<rhd> Q \\<sim> R", "by blast"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, \\<lparr>\\<nu>x\\<rparr>(Cases Cs),\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs) |\n         \\<Psi> x Cs.\n         x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<union>\n        {(\\<Psi>,\n          Cases map (\\<lambda>(\\<phi>, P).\n                        (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                 Cs,\n          \\<lparr>\\<nu>x\\<rparr>(Cases Cs)) |\n         \\<Psi> x Cs. x \\<sharp> \\<Psi> \\<and> x \\<sharp> map fst Cs} \\<or>\n  \\<Psi> \\<rhd> Q \\<sim> R\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                         (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                         Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> map fst ?Csa2\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(Cases ?Csa2) \\<sim> Cases map\n           (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>?xa2\\<rparr>P))\n           ?Csa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> map fst ?Csa2\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(Cases ?Csa2) \\<sim> Cases map\n           (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>?xa2\\<rparr>P))\n           ?Csa2\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "obtain y::name where \"y \\<sharp> \\<Psi>\" and \"y \\<sharp> Cs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<sharp> \\<Psi>; y \\<sharp> Cs\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(generate_fresh \"name\") auto"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "moreover"], ["proof (state)\nthis:\n  y \\<sharp> \\<Psi>\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "from \\<open>x \\<sharp> map fst Cs\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> map fst Cs", "have \"y \\<sharp> map fst([(x, y)] \\<bullet> Cs)\""], ["proof (prove)\nusing this:\n  x \\<sharp> map fst Cs\n\ngoal (1 subgoal):\n 1. y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)", "by(induct Cs) (auto simp add: fresh_left calc_atm)"], ["proof (state)\nthis:\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> map fst ?Csa2\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(Cases ?Csa2) \\<sim> Cases map\n           (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>?xa2\\<rparr>P))\n           ?Csa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> Cs\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(Cases ([(x, y)] \\<bullet> Cs)) \\<sim> Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P)) ([(x, y)] \\<bullet> Cs))\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?xa2 \\<sharp> \\<Psi>; ?xa2 \\<sharp> map fst ?Csa2\\<rbrakk>\n  \\<Longrightarrow> \\<Psi> \\<rhd> \\<lparr>\\<nu>?xa2\\<rparr>(Cases ?Csa2) \\<sim> Cases map\n           (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>?xa2\\<rparr>P))\n           ?Csa2\n  y \\<sharp> \\<Psi>\n  y \\<sharp> Cs\n  y \\<sharp> map fst ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet>\n         Cs) \\<sim> Cases map (\\<lambda>(\\<phi>, P).\n                                  (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n                           ([(x, y)] \\<bullet> Cs)", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet>\n       Cs) \\<sim> Cases map (\\<lambda>(\\<phi>, P).\n                                (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n                         ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet>\n       Cs) \\<sim> Cases map (\\<lambda>(\\<phi>, P).\n                                (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n                         ([(x, y)] \\<bullet> Cs)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "from \\<open>y \\<sharp> Cs\\<close>"], ["proof (chain)\npicking this:\n  y \\<sharp> Cs", "have \"\\<lparr>\\<nu>y\\<rparr>(Cases ([(x, y)] \\<bullet> Cs)) =  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\""], ["proof (prove)\nusing this:\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs) =\n    \\<lparr>\\<nu>x\\<rparr>(Cases Cs)", "by(simp add: alphaRes eqvts)"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs) =\n  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "moreover"], ["proof (state)\nthis:\n  \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs) =\n  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "from \\<open>x \\<sharp> map fst Cs\\<close> \\<open>y \\<sharp> Cs\\<close>"], ["proof (chain)\npicking this:\n  x \\<sharp> map fst Cs\n  y \\<sharp> Cs", "have \"Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P)) ([(x, y)] \\<bullet> Cs)) = Cases(map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs)\""], ["proof (prove)\nusing this:\n  x \\<sharp> map fst Cs\n  y \\<sharp> Cs\n\ngoal (1 subgoal):\n 1. Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n           ([(x, y)] \\<bullet> Cs) =\n    Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs", "by(induct Cs) (auto simp add: alphaRes)"], ["proof (state)\nthis:\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs) =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet>\n       Cs) \\<sim> Cases map (\\<lambda>(\\<phi>, P).\n                                (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n                         ([(x, y)] \\<bullet> Cs)\n  \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs) =\n  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs) =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet>\n       Cs) \\<sim> Cases map (\\<lambda>(\\<phi>, P).\n                                (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n                         ([(x, y)] \\<bullet> Cs)\n  \\<lparr>\\<nu>y\\<rparr>(Cases [(x, y)] \\<bullet> Cs) =\n  \\<lparr>\\<nu>x\\<rparr>(Cases Cs)\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>y\\<rparr>P))\n         ([(x, y)] \\<bullet> Cs) =\n  Cases map (\\<lambda>(\\<phi>, P). (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P)) Cs\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                           (\\<lambda>(\\<phi>, P).\n                               (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                           Cs", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(Cases Cs) \\<sim> Cases map\n                         (\\<lambda>(\\<phi>, P).\n                             (\\<phi>, \\<lparr>\\<nu>x\\<rparr>P))\n                         Cs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bangExt:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  \n  assumes \"guarded P\"\n\n  shows \"\\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P", "let ?X = \"{(\\<Psi>, !P, P \\<parallel> !P) | \\<Psi> P. guarded P} \\<union> {(\\<Psi>, P \\<parallel> !P, !P) | \\<Psi> P. guarded P}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P", "from \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P", "have \"(\\<Psi>, !P, P \\<parallel> !P) \\<in> ?X\""], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. (\\<Psi>, !P, P \\<parallel> !P)\n    \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n          {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, !P, P \\<parallel> !P)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, !P, P \\<parallel> !P)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P", "proof(coinduct rule: bisimCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cStatEq \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>(\\<Psi>, Q, R) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}", "obtain P where Eq: \"(Q = !P \\<and> R = P \\<parallel> !P) \\<or> (Q = P \\<parallel> !P \\<and> R = !P)\" and \"guarded P\""], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>Q = !P \\<and> R = P \\<parallel> !P \\<or>\n                 Q = P \\<parallel> !P \\<and> R = !P;\n         guarded P\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  Q = !P \\<and> R = P \\<parallel> !P \\<or>\n  Q = P \\<parallel> !P \\<and> R = !P\n  guarded P\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "obtain A\\<^sub>P \\<Psi>\\<^sub>P where FrP: \"extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\" and \"A\\<^sub>P \\<sharp>* \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>P \\<Psi>\\<^sub>P.\n        \\<lbrakk>extractFrame P =\n                 \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>;\n         A\\<^sub>P \\<sharp>* \\<Psi>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule freshFrame)"], ["proof (state)\nthis:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from FrP \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  guarded P", "have \"\\<Psi>\\<^sub>P \\<simeq> SBottom'\""], ["proof (prove)\nusing this:\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>P \\<simeq> \\<one>", "by(blast dest: guardedStatEq)"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>\\<Psi>\\<^sub>P \\<simeq> SBottom'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> SBottom' \\<simeq> \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> SBottom'\""], ["proof (prove)\nusing this:\n  \\<Psi>\\<^sub>P \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<one> \\<simeq> \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<one>", "by(metis Identity Composition AssertionStatEqTrans Commutativity AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<simeq> \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<one>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "hence \"\\<langle>A\\<^sub>P, \\<Psi> \\<otimes> SBottom'\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> SBottom'\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<simeq> \\<Psi> \\<otimes> \\<Psi>\\<^sub>P \\<otimes> \\<one>\n\ngoal (1 subgoal):\n 1. \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                        \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n \\<Psi>\\<^sub>P \\<otimes> \\<one>\\<rangle>", "by(force intro: frameResChainPres)"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>P \\<otimes>\n                                     \\<one>\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "moreover"], ["proof (state)\nthis:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>P \\<otimes>\n                                     \\<one>\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "from \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  A\\<^sub>P \\<sharp>* \\<Psi>", "have \"\\<langle>\\<epsilon>, \\<Psi> \\<otimes> SBottom'\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes> SBottom'\\<rangle>\""], ["proof (prove)\nusing this:\n  A\\<^sub>P \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                         \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n  \\<one>\\<rangle>", "by(rule_tac FrameStatEqSym) (fastforce intro: frameResFreshChain)"], ["proof (state)\nthis:\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n\\<one>\\<rangle>\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       insertAssertion (extractFrame R)\n        \\<Psi>' \\<simeq>\\<^sub>F insertAssertion (extractFrame S) \\<Psi>'\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 3. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 4. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "ultimately"], ["proof (chain)\npicking this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>P \\<otimes>\n                                     \\<one>\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n\\<one>\\<rangle>", "show ?case"], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>P \\<otimes>\n                                     \\<one>\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n\\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "using Eq \\<open>A\\<^sub>P \\<sharp>* \\<Psi>\\<close> FrP"], ["proof (prove)\nusing this:\n  \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                      \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n                                     \\<Psi>\\<^sub>P \\<otimes>\n                                     \\<one>\\<rangle>\n  \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                       \\<one>\\<rangle> \\<simeq>\\<^sub>F \\<langle>A\\<^sub>P, \\<Psi> \\<otimes>\n\\<one>\\<rangle>\n  Q = !P \\<and> R = P \\<parallel> !P \\<or>\n  Q = P \\<parallel> !P \\<and> R = !P\n  A\\<^sub>P \\<sharp>* \\<Psi>\n  extractFrame P = \\<langle>A\\<^sub>P, \\<Psi>\\<^sub>P\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame Q)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>", "by auto (blast dest: FrameStatEqTrans FrameStatEqSym)+"], ["proof (state)\nthis:\n  insertAssertion (extractFrame Q)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame R) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSim \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       \\<Psi>' \\<rhd> R \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi>\n                                     P. guarded P} \\<union>\n                                    bisim)] S\n 2. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 3. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P.\n                                 guarded P} \\<union>\n                                {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n                                 guarded P} \\<union>\n                                bisim)] R", "by(auto intro: bangExtLeft bangExtRight bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<leadsto>[({(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P.\n                               guarded P} \\<union>\n                              {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n                               guarded P} \\<union>\n                              bisim)] R\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cExt \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' R S \\<Psi>''.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>' \\<otimes> \\<Psi>'', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<sim> S\n 2. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>''_, Q, R)\n    \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n          {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n    \\<Psi> \\<otimes> \\<Psi>''_ \\<rhd> Q \\<sim> R", "by auto"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>''_, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n  \\<Psi> \\<otimes> \\<Psi>''_ \\<rhd> Q \\<sim> R\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "case(cSym \\<Psi> Q R)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi>' R S.\n       (\\<Psi>', R, S)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P.\n              guarded P} \\<Longrightarrow>\n       (\\<Psi>', S, R)\n       \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n             {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n       \\<Psi>' \\<rhd> S \\<sim> R", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, Q, R)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, R, Q)\n    \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n          {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n    \\<Psi> \\<rhd> R \\<sim> Q", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, R, Q)\n  \\<in> {(\\<Psi>, !P, P \\<parallel> !P) |\\<Psi> P. guarded P} \\<union>\n        {(\\<Psi>, P \\<parallel> !P, !P) |\\<Psi> P. guarded P} \\<or>\n  \\<Psi> \\<rhd> R \\<sim> Q\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<sim> P \\<parallel> !P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimParPresSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q", "by(metis bisimParComm bisimParPres bisimTransitive)"], ["", "lemma bisimScopeExtSym:\n  fixes x :: name\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes \"x \\<sharp> \\<Psi>\"\n  and     \"x \\<sharp> Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel> Q) \\<sim> (\\<lparr>\\<nu>x\\<rparr>P) \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> \\<lparr>\\<nu>x\\<rparr>P \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  x \\<sharp> \\<Psi>\n  x \\<sharp> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>x\\<rparr>(P \\<parallel>\n   Q) \\<sim> \\<lparr>\\<nu>x\\<rparr>P \\<parallel> Q", "by(metis bisimScopeExt bisimTransitive bisimParComm bisimSymmetric bisimResPres)"], ["", "lemma bisimScopeExtChainSym:\n  fixes xvec :: \"name list\"\n  and   Q    :: \"('a, 'b, 'c) psi\"\n  and   P    :: \"('a, 'b, 'c) psi\"\n\n  assumes \"xvec \\<sharp>* \\<Psi>\"\n  and     \"xvec \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P \\<parallel> Q) \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P \\<parallel>\n      Q \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P) \\<parallel> Q", "by(induct xvec) (auto intro: bisimScopeExtSym bisimReflexive bisimTransitive bisimResPres)"], ["", "lemma bisimParPresAuxSym:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   R :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\"\n  and     \"extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\"\n  and     \"A\\<^sub>R \\<sharp>* \\<Psi>\"\n  and     \"A\\<^sub>R \\<sharp>* P\"\n  and     \"A\\<^sub>R \\<sharp>* Q\"\n\n  shows \"\\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>\\<^sub>R \\<rhd> P \\<sim> Q\n  extractFrame R = \\<langle>A\\<^sub>R, \\<Psi>\\<^sub>R\\<rangle>\n  A\\<^sub>R \\<sharp>* \\<Psi>\n  A\\<^sub>R \\<sharp>* P\n  A\\<^sub>R \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel> P \\<sim> R \\<parallel> Q", "by(metis bisimParComm bisimParPresAux bisimTransitive)"], ["", "lemma bangDerivative:\n  fixes \\<Psi>   :: 'b\n  and   P    :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha>    :: \"'a action\"\n  and   P'   :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\"\n  and     \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"bn \\<alpha> \\<sharp>* \\<Psi>\"\n  and     \"bn \\<alpha> \\<sharp>* P\"\n  and     \"bn \\<alpha> \\<sharp>* Q\"\n  and     \"bn \\<alpha> \\<sharp>* subject \\<alpha>\"\n  and     \"guarded Q\"\n\n  obtains Q' R T where \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\" and \"\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                   and \"((supp R)::name set) \\<subseteq> supp P'\" and \"((supp T)::name set) \\<subseteq> supp Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'", "have \"guarded P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. guarded P", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P' \\<Longrightarrow>\n    guarded P", "by(ind_cases \"\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\") (auto simp add: psi.inject)"], ["proof (state)\nthis:\n  guarded P\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume \"\\<And>Q' R T. \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q'; \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P; \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T; ((supp R)::name set) \\<subseteq> supp P';\n                    ((supp T)::name set) \\<subseteq> supp Q'\\<rbrakk> \\<Longrightarrow> thesis\""], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> ?Q';\n   \\<Psi> \\<rhd> P' \\<sim> ?R \\<parallel> !P;\n   \\<Psi> \\<rhd> ?Q' \\<sim> ?T \\<parallel> !Q; \\<Psi> \\<rhd> ?R \\<sim> ?T;\n   supp ?R \\<subseteq> supp P'; supp ?T \\<subseteq> supp ?Q'\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> ?Q';\n   \\<Psi> \\<rhd> P' \\<sim> ?R \\<parallel> !P;\n   \\<Psi> \\<rhd> ?Q' \\<sim> ?T \\<parallel> !Q; \\<Psi> \\<rhd> ?R \\<sim> ?T;\n   supp ?R \\<subseteq> supp P'; supp ?T \\<subseteq> supp ?Q'\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'\\<close> \\<open>bn \\<alpha> \\<sharp>* subject \\<alpha>\\<close> \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>bn \\<alpha> \\<sharp>* P\\<close> \\<open>bn \\<alpha> \\<sharp>* Q\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close> \\<open>guarded Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q", "have \"\\<exists>Q' T R . \\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha>  \\<prec> Q' \\<and> \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and> \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and> \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                  ((supp R)::name set) \\<subseteq> supp P' \\<and> ((supp T)::name set) \\<subseteq> supp Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'", "proof(nominal_induct avoiding: Q rule: bangInduct')"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "case(cAlpha \\<alpha> P' p Q)"], ["proof (state)\nthis:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  distinctPerm p\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P'\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n         (P \\<parallel> !P) \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "then"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  distinctPerm p\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P'\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n         (P \\<parallel> !P) \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q", "obtain Q' T R where QTrans: \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\" and \"\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                         and suppR: \"((supp R)::name set) \\<subseteq> supp P'\" and suppT: \"((supp T)::name set) \\<subseteq> supp Q'\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  distinctPerm p\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P'\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n         (P \\<parallel> !P) \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P);\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P'\n  supp T \\<subseteq> supp Q'\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'", "have \"distinct(bn \\<alpha>)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. distinct (bn \\<alpha>)", "by(rule boundOutputDistinct)"], ["proof (state)\nthis:\n  distinct (bn \\<alpha>)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "have S: \"set p \\<subseteq> set(bn \\<alpha>) \\<times> set(bn(p \\<bullet> \\<alpha>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set p\n    \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))", "by fact"], ["proof (state)\nthis:\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* Q\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\\<close> \\<open>bn \\<alpha> \\<sharp>* subject \\<alpha>\\<close> \\<open>distinct(bn \\<alpha>)\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)", "have \"bn(p \\<bullet> \\<alpha>) \\<sharp>* Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  distinct (bn \\<alpha>)\n\ngoal (1 subgoal):\n 1. bn (p \\<bullet> \\<alpha>) \\<sharp>* Q'", "by(drule_tac freeFreshChainDerivative) simp+"], ["proof (state)\nthis:\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q'\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with QTrans \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\\<close> S \\<open>bn \\<alpha> \\<sharp>* subject \\<alpha>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q'", "have \"\\<Psi> \\<rhd> !Q \\<longmapsto>(p \\<bullet> \\<alpha>) \\<prec> (p \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                                   \\<alpha> \\<prec> p \\<bullet> Q'", "by(force simp add: residualAlpha)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q'\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q'\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)", "have \"(p \\<bullet> \\<Psi>) \\<rhd> (p \\<bullet> P') \\<sim> (p \\<bullet> (R \\<parallel> (P \\<parallel> !P)))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<rhd> p \\<bullet>\n                  P' \\<sim> p \\<bullet> R \\<parallel> (P \\<parallel> !P)", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> p \\<bullet> R \\<parallel> (P \\<parallel> !P)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>bn \\<alpha> \\<sharp>* P\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* P\\<close> S"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet>\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> p \\<bullet> R \\<parallel> (P \\<parallel> !P)", "have \"\\<Psi> \\<rhd> (p \\<bullet> P') \\<sim> (p \\<bullet> R) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* P\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet>\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> p \\<bullet> R \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> p \\<bullet>\n                  P' \\<sim> (p \\<bullet> R) \\<parallel> (P \\<parallel> !P)", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> (p \\<bullet> R) \\<parallel> (P \\<parallel> !P)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> (p \\<bullet> R) \\<parallel> (P \\<parallel> !P)\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q", "have \"(p \\<bullet> \\<Psi>) \\<rhd> (p \\<bullet> Q') \\<sim> (p \\<bullet> (T \\<parallel> !Q))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. p \\<bullet>\n    \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> p \\<bullet> T \\<parallel> !Q", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet>\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> p \\<bullet> T \\<parallel> !Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>bn \\<alpha> \\<sharp>* Q\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* Q\\<close> S"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet>\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> p \\<bullet> T \\<parallel> !Q", "have \"\\<Psi> \\<rhd> (p \\<bullet> Q') \\<sim> (p \\<bullet> T) \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* Q\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* Q\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet>\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> p \\<bullet> T \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> (p \\<bullet> T) \\<parallel> !Q", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> (p \\<bullet> T) \\<parallel> !Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> (p \\<bullet> T) \\<parallel> !Q\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> R \\<sim> T\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R \\<sim> T", "have \"(p \\<bullet> \\<Psi>) \\<rhd> (p \\<bullet> R) \\<sim> (p \\<bullet> T)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R \\<sim> T\n\ngoal (1 subgoal):\n 1. p \\<bullet> \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T", "by(rule bisimClosed)"], ["proof (state)\nthis:\n  p \\<bullet> \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>bn(p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\\<close> S"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet> \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T", "have \"\\<Psi> \\<rhd> (p \\<bullet> R) \\<sim> (p \\<bullet> T)\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>\n  set p\n  \\<subseteq> set (bn \\<alpha>) \\<times> set (bn (p \\<bullet> \\<alpha>))\n  p \\<bullet> \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T", "by(simp add: eqvts)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from suppR"], ["proof (chain)\npicking this:\n  supp R \\<subseteq> supp P'", "have \"((supp(p \\<bullet> R))::name set) \\<subseteq> supp(p \\<bullet> P')\""], ["proof (prove)\nusing this:\n  supp R \\<subseteq> supp P'\n\ngoal (1 subgoal):\n 1. supp (p \\<bullet> R) \\<subseteq> supp (p \\<bullet> P')", "apply(erule_tac rev_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. supp R \\<subseteq> supp P' \\<longrightarrow>\n    supp (p \\<bullet> R) \\<subseteq> supp (p \\<bullet> P')", "by(subst subsetClosed[of p, symmetric]) (simp add: eqvts)"], ["proof (state)\nthis:\n  supp (p \\<bullet> R) \\<subseteq> supp (p \\<bullet> P')\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  supp (p \\<bullet> R) \\<subseteq> supp (p \\<bullet> P')\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from suppT"], ["proof (chain)\npicking this:\n  supp T \\<subseteq> supp Q'", "have \"((supp(p \\<bullet> T))::name set) \\<subseteq> supp(p \\<bullet> Q')\""], ["proof (prove)\nusing this:\n  supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. supp (p \\<bullet> T) \\<subseteq> supp (p \\<bullet> Q')", "apply(erule_tac rev_mp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. supp T \\<subseteq> supp Q' \\<longrightarrow>\n    supp (p \\<bullet> T) \\<subseteq> supp (p \\<bullet> Q')", "by(subst subsetClosed[of p, symmetric]) (simp add: eqvts)"], ["proof (state)\nthis:\n  supp (p \\<bullet> T) \\<subseteq> supp (p \\<bullet> Q')\n\ngoal (6 subgoals):\n 1. \\<And>\\<alpha> P' p Q.\n       \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        set p\n        \\<subseteq> set (bn \\<alpha>) \\<times>\n                    set (bn (p \\<bullet> \\<alpha>));\n        distinctPerm p; bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<alpha>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P';\n        \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n         bn \\<alpha> \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n         guarded Q\\<rbrakk>\n        \\<Longrightarrow> \\<exists>Q' T R.\n                             \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                             \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n               (P \\<parallel> !P) \\<and>\n                             \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                             \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                             supp R \\<subseteq> supp P' \\<and>\n                             supp T \\<subseteq> supp Q';\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* \\<Psi>;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* P;\n        bn (p \\<bullet> \\<alpha>) \\<sharp>* Q; \\<Psi> \\<rhd> P \\<sim> Q;\n        guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet>\n                     \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> p \\<bullet>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 6. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q'\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> (p \\<bullet> R) \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> (p \\<bullet> T) \\<parallel> !Q\n  \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T\n  supp (p \\<bullet> R) \\<subseteq> supp (p \\<bullet> P')\n  supp (p \\<bullet> T) \\<subseteq> supp (p \\<bullet> Q')", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> p \\<bullet> Q'\n  \\<Psi> \\<rhd> p \\<bullet>\n                P' \\<sim> (p \\<bullet> R) \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> p \\<bullet> Q' \\<sim> (p \\<bullet> T) \\<parallel> !Q\n  \\<Psi> \\<rhd> p \\<bullet> R \\<sim> p \\<bullet> T\n  supp (p \\<bullet> R) \\<subseteq> supp (p \\<bullet> P')\n  supp (p \\<bullet> T) \\<subseteq> supp (p \\<bullet> Q')\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> p \\<bullet>\n                     P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n       supp T \\<subseteq> supp Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> p \\<bullet> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> p \\<bullet>\n                   P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp (p \\<bullet> P') \\<and>\n     supp T \\<subseteq> supp Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "case(cPar1 \\<alpha> P' Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close> \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> P'\\<close> \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>bn \\<alpha> \\<sharp>* Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* Q", "obtain Q' where QTrans: \"\\<Psi> \\<rhd> Q \\<longmapsto>\\<alpha> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: bisimE simE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'", "have \"\\<Psi> \\<otimes> SBottom' \\<rhd> Q \\<longmapsto>\\<alpha> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<one> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'", "by(metis statEqTransition Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<one> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "hence \"\\<Psi> \\<rhd> Q \\<parallel> !Q \\<longmapsto>\\<alpha> \\<prec> (Q' \\<parallel> !Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<one> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<parallel>\n                  !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q", "using \\<open>bn \\<alpha> \\<sharp>* Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<one> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn \\<alpha> \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<parallel>\n                  !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q", "by(rule_tac Par1) (assumption | simp)+"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "hence \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> (Q' \\<parallel> !Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q", "using \\<open>guarded Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P", "have \"\\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)", "by(metis bangExt bisimParPresSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "have \"\\<Psi> \\<rhd> Q' \\<parallel> !Q \\<sim> Q' \\<parallel> !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q' \\<parallel> !Q \\<sim> Q' \\<parallel> !Q", "by(rule bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q' \\<parallel> !Q \\<sim> Q' \\<parallel> !Q\n\ngoal (5 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<parallel>\n    !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 5. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n  \\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> Q' \\<parallel> !Q \\<sim> Q' \\<parallel> !Q", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n  \\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> Q' \\<parallel> !Q \\<sim> Q' \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P' \\<parallel>\n                     !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n       supp T \\<subseteq> supp Q'", "using \\<open>\\<Psi> \\<rhd> P' \\<sim> Q'\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<parallel> !Q\n  \\<Psi> \\<rhd> P' \\<parallel> !P \\<sim> P' \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> Q' \\<parallel> !Q \\<sim> Q' \\<parallel> !Q\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P' \\<parallel>\n                     !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n       supp T \\<subseteq> supp Q'", "by(force simp add: psi.supp)"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> P' \\<parallel>\n                   !P \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp (P' \\<parallel> !P) \\<and>\n     supp T \\<subseteq> supp Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "next"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "case(cPar2 \\<alpha> P' Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q", "obtain Q' T R where QTrans: \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\" and \"\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                         and suppR: \"((supp R)::name set) \\<subseteq> supp P'\" and suppT: \"((supp T)::name set) \\<subseteq> supp Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P'\n  supp T \\<subseteq> supp Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "note QTrans"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P", "have \"\\<Psi> \\<rhd> P \\<parallel> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<parallel> P' \\<sim> R \\<parallel> (P \\<parallel> !P)", "by(metis bisimParPresSym bisimParComm bisimTransitive bisimParAssoc)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n\ngoal (4 subgoals):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P \\<parallel>\n    P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp (P \\<parallel> P') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 4. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P \\<parallel> P' \\<sim> R \\<parallel> (P \\<parallel> !P)", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P \\<parallel> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P \\<parallel>\n                     P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp (P \\<parallel> P') \\<and>\n       supp T \\<subseteq> supp Q'", "using \\<open>\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\\<close> \\<open>\\<Psi> \\<rhd> R \\<sim> T\\<close> suppR suppT"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P \\<parallel> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P'\n  supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P \\<parallel>\n                     P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp (P \\<parallel> P') \\<and>\n       supp T \\<subseteq> supp Q'", "by(force simp add: psi.supp)"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> P \\<parallel>\n                   P' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp (P \\<parallel> P') \\<and>\n     supp T \\<subseteq> supp Q'\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "case(cComm1 M N P' K xvec P'' Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n   bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n   bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* ?b;\n   \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P'' \\<and>\n                       supp T \\<subseteq> supp Q'\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  xvec \\<sharp>* Q\n  distinct xvec\n  bn (\\<tau>) \\<sharp>* \\<Psi>\n  bn (\\<tau>) \\<sharp>* P\n  bn (\\<tau>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q", "have \"\\<Psi> \\<rhd> Q \\<leadsto>[bisim] P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<leadsto>[bisim] P", "by(metis bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<leadsto>[bisim] P\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with \\<open>\\<Psi> \\<rhd> P \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<rhd> Q \\<leadsto>[bisim] P", "obtain Q' where QTrans: \"\\<Psi> \\<rhd> Q \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> Q'\" and \"\\<Psi> \\<rhd> Q' \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<rhd> Q \\<leadsto>[bisim] P\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q';\n         \\<Psi> \\<rhd> Q' \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(force dest: simE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n  \\<Psi> \\<rhd> Q' \\<sim> P'\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'", "have \"\\<Psi> \\<otimes> SBottom' \\<rhd> Q \\<longmapsto>M\\<lparr>N\\<rparr> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'", "by(metis statEqTransition Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"A\\<^sub>Q \\<sharp>* Q\" and \"A\\<^sub>Q \\<sharp>* M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* Q;\n         A\\<^sub>Q \\<sharp>* M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, Q, M)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* M\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "note FrQ"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from FrQ \\<open>guarded Q\\<close>"], ["proof (chain)\npicking this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  guarded Q", "have \"\\<Psi>\\<^sub>Q \\<simeq> SBottom'\""], ["proof (prove)\nusing this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>Q \\<simeq> \\<one>", "by(blast dest: guardedStatEq)"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\\<close> \\<open>xvec \\<sharp>* K\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* P\\<close> \\<open>xvec \\<sharp>* Q\\<close> \\<open>guarded Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  xvec \\<sharp>* K\n  \\<Psi> \\<rhd> P \\<sim> Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* Q\n  guarded Q", "obtain Q'' T R where QTrans': \"\\<Psi> \\<rhd> !Q \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\" and \"\\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\" and \"\\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                     and suppR: \"((supp R)::name set) \\<subseteq> supp P''\" and suppT: \"((supp T)::name set) \\<subseteq> supp Q''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  xvec \\<sharp>* K\n  \\<Psi> \\<rhd> P \\<sim> Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'';\n         \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q;\n         \\<Psi> \\<rhd> R \\<sim> T; supp R \\<subseteq> supp P'';\n         supp T \\<subseteq> supp Q''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using cComm1"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  xvec \\<sharp>* K\n  \\<Psi> \\<rhd> P \\<sim> Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* Q\n  guarded Q\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P'\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P''\n  \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n   bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n   bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* ?b;\n   \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P'' \\<and>\n                       supp T \\<subseteq> supp Q'\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  xvec \\<sharp>* Q\n  distinct xvec\n  bn (\\<tau>) \\<sharp>* \\<Psi>\n  bn (\\<tau>) \\<sharp>* P\n  bn (\\<tau>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'';\n         \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q;\n         \\<Psi> \\<rhd> R \\<sim> T; supp R \\<subseteq> supp P'';\n         supp T \\<subseteq> supp Q''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n  \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\n  \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P''\n  supp T \\<subseteq> supp Q''\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans' \\<open>\\<Psi>\\<^sub>Q \\<simeq> SBottom'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto>K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''", "by(metis statEqTransition Identity compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>\\<Psi>\\<^sub>Q \\<simeq> SBottom'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> SBottom' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "by(metis statEqEnt Identity compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> Q \\<parallel> !Q \\<longmapsto>\\<tau> \\<prec> (\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q''))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<parallel>\n                  !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "using \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* M\\<close> \\<open>xvec \\<sharp>* Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q''\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* M\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<parallel>\n                  !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "by(rule_tac Comm1) (assumption | simp)+"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "hence \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<tau> \\<prec> (\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q''))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "using \\<open>guarded Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\\<close> \\<open>guarded P\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\n  guarded P\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> R) \\<parallel> (P \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\n  guarded P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n      P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n     (P \\<parallel> !P)", "by(metis bisimParPresSym bangExt bisimTransitive bisimParAssoc bisimSymmetric bisimResChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n   (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n   (P \\<parallel> !P)", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> R)) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n   (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n      P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n                 (P \\<parallel> !P)", "by(metis bisimScopeExtChainSym bisimTransitive psiFreshVec)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q'') \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> T)) \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n      Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q", "by(metis bisimParPresSym bisimTransitive bisimParAssoc bisimSymmetric bisimResChainPres bisimScopeExtChainSym psiFreshVec)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> R \\<sim> T\\<close> \\<open>\\<Psi> \\<rhd> Q' \\<sim> P'\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R \\<sim> T\n  \\<Psi> \\<rhd> Q' \\<sim> P'\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> T)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R \\<sim> T\n  \\<Psi> \\<rhd> Q' \\<sim> P'\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n      R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T", "by(metis bisimParPresSym bisimTransitive bisimResChainPres bisimParComm bisimE(4))"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from suppR"], ["proof (chain)\npicking this:\n  supp R \\<subseteq> supp P''", "have \"((supp(\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> R)))::name set) \\<subseteq>  supp((\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'')))\""], ["proof (prove)\nusing this:\n  supp R \\<subseteq> supp P''\n\ngoal (1 subgoal):\n 1. supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n    \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')", "by(auto simp add: psi.supp resChainSupp)"], ["proof (state)\nthis:\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from suppT"], ["proof (chain)\npicking this:\n  supp T \\<subseteq> supp Q''", "have \"((supp(\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> T)))::name set) \\<subseteq>  supp((\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q'')))\""], ["proof (prove)\nusing this:\n  supp T \\<subseteq> supp Q''\n\ngoal (1 subgoal):\n 1. supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n    \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')", "by(auto simp add: psi.supp resChainSupp)"], ["proof (state)\nthis:\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')\n\ngoal (3 subgoals):\n 1. \\<And>M N P' K xvec P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>N\\<rparr> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* P;\n            bn (K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle>) \\<sharp>* b;\n            \\<Psi> \\<rhd> P \\<sim> b; guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 3. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n         P'' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R\n       \\<subseteq> supp\n                    (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n       supp T \\<subseteq> supp Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n       P'' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R\n     \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n     supp T \\<subseteq> supp Q'\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "case(cComm2 M xvec N P' K P'' Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n   bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n   bn (K\\<lparr>N\\<rparr>) \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b;\n   guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P'' \\<and>\n                       supp T \\<subseteq> supp Q'\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  xvec \\<sharp>* Q\n  distinct xvec\n  bn (\\<tau>) \\<sharp>* \\<Psi>\n  bn (\\<tau>) \\<sharp>* P\n  bn (\\<tau>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close> \\<open>\\<Psi> \\<rhd> P \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q", "obtain Q' where QTrans: \"\\<Psi> \\<rhd> Q \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'.\n        \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis bisimE simE bn.simps)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'", "have \"\\<Psi> \\<otimes> SBottom' \\<rhd> Q \\<longmapsto>M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'", "by(metis statEqTransition Identity AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "obtain A\\<^sub>Q \\<Psi>\\<^sub>Q where FrQ: \"extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\" and \"A\\<^sub>Q \\<sharp>* \\<Psi>\" and \"A\\<^sub>Q \\<sharp>* Q\" and \"A\\<^sub>Q \\<sharp>* M\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A\\<^sub>Q \\<Psi>\\<^sub>Q.\n        \\<lbrakk>extractFrame Q =\n                 \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>;\n         A\\<^sub>Q \\<sharp>* \\<Psi>; A\\<^sub>Q \\<sharp>* Q;\n         A\\<^sub>Q \\<sharp>* M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule_tac C=\"(\\<Psi>, Q, M)\" in freshFrame) auto"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* M\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "note FrQ"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from FrQ \\<open>guarded Q\\<close>"], ["proof (chain)\npicking this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  guarded Q", "have \"\\<Psi>\\<^sub>Q \\<simeq> SBottom'\""], ["proof (prove)\nusing this:\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<Psi>\\<^sub>Q \\<simeq> \\<one>", "by(blast dest: guardedStatEq)"], ["proof (state)\nthis:\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> !P \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> P''\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close> \\<open>guarded Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q", "obtain Q'' T R where QTrans': \"\\<Psi> \\<rhd> !Q \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> Q''\" and \"\\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\" and \"\\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                    and suppR: \"((supp R)::name set) \\<subseteq> supp P''\" and suppT: \"((supp T)::name set) \\<subseteq> supp Q''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'';\n         \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q;\n         \\<Psi> \\<rhd> R \\<sim> T; supp R \\<subseteq> supp P'';\n         supp T \\<subseteq> supp Q''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using cComm2"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n  \\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P'\n  \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P''\n  \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n   bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n   bn (K\\<lparr>N\\<rparr>) \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b;\n   guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P'' \\<and>\n                       supp T \\<subseteq> supp Q'\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  xvec \\<sharp>* M\n  xvec \\<sharp>* K\n  xvec \\<sharp>* Q\n  distinct xvec\n  bn (\\<tau>) \\<sharp>* \\<Psi>\n  bn (\\<tau>) \\<sharp>* P\n  bn (\\<tau>) \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q'' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q'';\n         \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q;\n         \\<Psi> \\<rhd> R \\<sim> T; supp R \\<subseteq> supp P'';\n         supp T \\<subseteq> supp Q''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n  \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\n  \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P''\n  supp T \\<subseteq> supp Q''\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from QTrans' \\<open>\\<Psi>\\<^sub>Q \\<simeq> SBottom'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto>K\\<lparr>N\\<rparr> \\<prec> Q''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''", "by(metis statEqTransition Identity compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>\\<Psi>\\<^sub>Q \\<simeq> SBottom'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>", "have \"\\<Psi> \\<otimes> \\<Psi>\\<^sub>Q \\<otimes> SBottom' \\<turnstile> M \\<leftrightarrow> K\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  \\<Psi>\\<^sub>Q \\<simeq> \\<one>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "by(metis statEqEnt Identity compositionSym AssertionStatEqSym)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> Q \\<parallel> !Q \\<longmapsto>\\<tau> \\<prec> (\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q''))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<parallel>\n                  !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "using \\<open>A\\<^sub>Q \\<sharp>* \\<Psi>\\<close> \\<open>A\\<^sub>Q \\<sharp>* Q\\<close> \\<open>A\\<^sub>Q \\<sharp>* M\\<close> \\<open>xvec \\<sharp>* Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<one> \\<rhd> Q \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> Q'\n  extractFrame Q = \\<langle>A\\<^sub>Q, \\<Psi>\\<^sub>Q\\<rangle>\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<rhd> !Q \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q''\n  \\<Psi> \\<otimes>\n  \\<Psi>\\<^sub>Q \\<otimes> \\<one> \\<turnstile> M \\<leftrightarrow> K\n  A\\<^sub>Q \\<sharp>* \\<Psi>\n  A\\<^sub>Q \\<sharp>* Q\n  A\\<^sub>Q \\<sharp>* M\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<parallel>\n                  !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "by(rule_tac Comm2) (assumption | simp)+"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "hence \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<tau> \\<prec> (\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q''))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "using \\<open>guarded Q\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<parallel>\n                !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\nQ''", "by(rule Bang)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\\<close> \\<open>guarded P\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\n  guarded P\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>((P' \\<parallel> R) \\<parallel> (P \\<parallel> !P))\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel> !P\n  guarded P\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n      P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n     (P \\<parallel> !P)", "by(metis bisimParPresSym bangExt bisimTransitive bisimParAssoc bisimSymmetric bisimResChainPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n   (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* P\\<close>"], ["proof (chain)\npicking this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n   (P \\<parallel> !P)", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'') \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> R)) \\<parallel> (P \\<parallel> !P)\""], ["proof (prove)\nusing this:\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* P\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R \\<parallel>\n   (P \\<parallel> !P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n      P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n                 (P \\<parallel> !P)", "by(metis bisimScopeExtChainSym bisimTransitive psiFreshVec)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close> \\<open>xvec \\<sharp>* Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q'') \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> T)) \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q'' \\<sim> T \\<parallel> !Q\n  xvec \\<sharp>* \\<Psi>\n  xvec \\<sharp>* Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n      Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q", "by(metis bisimParPresSym bisimTransitive bisimParAssoc bisimSymmetric bisimResChainPres bisimScopeExtChainSym psiFreshVec)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> R \\<sim> T\\<close> \\<open>\\<Psi> \\<rhd> P' \\<sim> Q'\\<close> \\<open>xvec \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> R \\<sim> T\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n  xvec \\<sharp>* \\<Psi>", "have \"\\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> R) \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> T)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> R \\<sim> T\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n  xvec \\<sharp>* \\<Psi>\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n      R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T", "by(metis bisimParPresSym bisimTransitive bisimResChainPres bisimParComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from suppR"], ["proof (chain)\npicking this:\n  supp R \\<subseteq> supp P''", "have \"((supp(\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> R)))::name set) \\<subseteq>  supp((\\<lparr>\\<nu>*xvec\\<rparr>(P' \\<parallel> P'')))\""], ["proof (prove)\nusing this:\n  supp R \\<subseteq> supp P''\n\ngoal (1 subgoal):\n 1. supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n    \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')", "by(auto simp add: psi.supp resChainSupp)"], ["proof (state)\nthis:\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "moreover"], ["proof (state)\nthis:\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from suppT"], ["proof (chain)\npicking this:\n  supp T \\<subseteq> supp Q''", "have \"((supp(\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> T)))::name set) \\<subseteq>  supp((\\<lparr>\\<nu>*xvec\\<rparr>(Q' \\<parallel> Q'')))\""], ["proof (prove)\nusing this:\n  supp T \\<subseteq> supp Q''\n\ngoal (1 subgoal):\n 1. supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n    \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')", "by(auto simp add: psi.supp resChainSupp)"], ["proof (state)\nthis:\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')\n\ngoal (2 subgoals):\n 1. \\<And>M xvec N P' K P'' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> M\\<lparr>\\<nu>*xvec\\<rparr>\\<langle>N\\<rangle> \\<prec> P';\n        \\<Psi> \\<rhd> !P \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> P'';\n        \\<And>b.\n           \\<lbrakk>bn (K\\<lparr>N\\<rparr>) \\<sharp>* \\<Psi>;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* P;\n            bn (K\\<lparr>N\\<rparr>) \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> K\\<lparr>N\\<rparr> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P'' \\<sim> R \\<parallel>\n                   !P \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P'' \\<and>\n                                supp T \\<subseteq> supp Q';\n        \\<Psi> \\<turnstile> M \\<leftrightarrow> K; xvec \\<sharp>* \\<Psi>;\n        xvec \\<sharp>* P; xvec \\<sharp>* M; xvec \\<sharp>* K;\n        xvec \\<sharp>* Q; distinct xvec; bn (\\<tau>) \\<sharp>* \\<Psi>;\n        bn (\\<tau>) \\<sharp>* P; bn (\\<tau>) \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n                              P'' \\<sim> R \\<parallel>\n   (P \\<parallel> !P) \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R\n                            \\<subseteq> supp\n   (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n                            supp T \\<subseteq> supp Q'\n 2. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n                                    Q''\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    P'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R) \\<parallel>\n               (P \\<parallel> !P)\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel>\n    Q'' \\<sim> (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T) \\<parallel> !Q\n  \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n    R \\<sim> \\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> R)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'')\n  supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> T)\n  \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>Q' \\<parallel> Q'')\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n         P'' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R\n       \\<subseteq> supp\n                    (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n       supp T \\<subseteq> supp Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<tau> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> \\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel>\n       P'' \\<sim> R \\<parallel> (P \\<parallel> !P) \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R\n     \\<subseteq> supp (\\<lparr>\\<nu>*xvec\\<rparr>P' \\<parallel> P'') \\<and>\n     supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "case(cBang \\<alpha> P' Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n         (P \\<parallel> !P) \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  guarded P\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "then"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n         (P \\<parallel> !P) \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  guarded P\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q", "obtain Q' T R where QTrans: \"\\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q'\" and \"\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\" and \"\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\" and \"\\<Psi> \\<rhd> R \\<sim> T\"\n                         and suppR: \"((supp R)::name set) \\<subseteq> supp P'\" and suppT: \"((supp T)::name set) \\<subseteq> supp Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<parallel> !P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n  \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n   bn \\<alpha> \\<sharp>* ?b; \\<Psi> \\<rhd> P \\<sim> ?b; guarded ?b\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' T R.\n                       \\<Psi> \\<rhd> !?b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n         (P \\<parallel> !P) \\<and>\n                       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?b \\<and>\n                       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp P' \\<and>\n                       supp T \\<subseteq> supp Q'\n  guarded P\n  distinct (bn \\<alpha>)\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* Q\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P);\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P'\n  supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "from \\<open>\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\\<close> \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n  guarded P", "have \"\\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> (P \\<parallel> !P)\n  guarded P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P", "by(metis bangExt bisimParPresSym bisimTransitive bisimSymmetric)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<And>\\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<parallel>\n                              !P \\<longmapsto> \\<alpha> \\<prec> P';\n        guarded P;\n        \\<And>b.\n           \\<lbrakk>bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n            bn \\<alpha> \\<sharp>* b; \\<Psi> \\<rhd> P \\<sim> b;\n            guarded b\\<rbrakk>\n           \\<Longrightarrow> \\<exists>Q' T R.\n                                \\<Psi> \\<rhd> !b \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                                \\<Psi> \\<rhd> P' \\<sim> R \\<parallel>\n                  (P \\<parallel> !P) \\<and>\n                                \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel>\n                  !b \\<and>\n                                \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                                supp R \\<subseteq> supp P' \\<and>\n                                supp T \\<subseteq> supp Q';\n        guarded P; distinct (bn \\<alpha>); bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q;\n        \\<Psi> \\<rhd> P \\<sim> Q; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' T R.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "with QTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'", "using \\<open>\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\\<close> \\<open>\\<Psi> \\<rhd> R \\<sim> T\\<close> suppR suppT"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P\n  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<sim> T\n  supp R \\<subseteq> supp P'\n  supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. \\<exists>Q' T R.\n       \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n       \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n       \\<Psi> \\<rhd> R \\<sim> T \\<and>\n       supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'", "by blast"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. (\\<And>Q' R T.\n        \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q';\n         \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P;\n         \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q; \\<Psi> \\<rhd> R \\<sim> T;\n         supp R \\<subseteq> supp P'; supp T \\<subseteq> supp Q'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> ?Q';\n   \\<Psi> \\<rhd> P' \\<sim> ?R \\<parallel> !P;\n   \\<Psi> \\<rhd> ?Q' \\<sim> ?T \\<parallel> !Q; \\<Psi> \\<rhd> ?R \\<sim> ?T;\n   supp ?R \\<subseteq> supp P'; supp ?T \\<subseteq> supp ?Q'\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> ?Q';\n   \\<Psi> \\<rhd> P' \\<sim> ?R \\<parallel> !P;\n   \\<Psi> \\<rhd> ?Q' \\<sim> ?T \\<parallel> !Q; \\<Psi> \\<rhd> ?R \\<sim> ?T;\n   supp ?R \\<subseteq> supp P'; supp ?T \\<subseteq> supp ?Q'\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<exists>Q' T R.\n     \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n     \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n     \\<Psi> \\<rhd> R \\<sim> T \\<and>\n     supp R \\<subseteq> supp P' \\<and> supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. thesis", "by blast"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma structCongBisim:\n  fixes P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"P \\<equiv>\\<^sub>s Q\"\n\n  shows \"P \\<sim> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<sim> Q", "using assms"], ["proof (prove)\nusing this:\n  P \\<equiv>\\<^sub>s Q\n\ngoal (1 subgoal):\n 1. P \\<sim> Q", "by(induct rule: structCong.induct)\n  (auto intro: bisimReflexive bisimSymmetric bisimTransitive bisimParComm bisimParAssoc bisimParNil bisimResNil bisimResComm bisimScopeExt bisimCasePushRes bisimInputPushRes bisimOutputPushRes bangExt)"], ["", "lemma bisimBangPres:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<sim> Q\"\n  and     \"guarded P\"\n  and     \"guarded Q\"\n\n  shows \"\\<Psi> \\<rhd> !P \\<sim> !Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "let ?X = \"{(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) | \\<Psi> P Q R. \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "let ?Y = \"{(\\<Psi>, P, Q) | \\<Psi> P P' Q' Q. \\<Psi> \\<rhd> P \\<sim> P' \\<and> (\\<Psi>, P', Q') \\<in> ?X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "from assms"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded P\n  guarded Q", "have \"(\\<Psi>, \\<zero> \\<parallel> !P, \\<zero> \\<parallel> !Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded P\n  guarded Q\n\ngoal (1 subgoal):\n 1. (\\<Psi>, \\<zero> \\<parallel> !P, \\<zero> \\<parallel> !Q)\n    \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n           \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi>, \\<zero> \\<parallel> !P, \\<zero> \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, \\<zero> \\<parallel> !P, \\<zero> \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "have \"eqvt ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eqvt\n     {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n      \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "apply(auto simp add: eqvt_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a P Q p R.\n       \\<lbrakk>a \\<rhd> P \\<sim> Q; guarded P; guarded Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Pa Qa.\n                            (\\<exists>Ra.\n                                (p \\<bullet> R) \\<parallel>\n                                !(p \\<bullet> P) =\n                                Ra \\<parallel> !Pa \\<and>\n                                (p \\<bullet> R) \\<parallel>\n                                !(p \\<bullet> Q) =\n                                Ra \\<parallel> !Qa) \\<and>\n                            p \\<bullet> a \\<rhd> Pa \\<sim> Qa \\<and>\n                            guarded Pa \\<and> guarded Qa", "apply(drule_tac p=p in bisimClosed)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a P Q p R.\n       \\<lbrakk>guarded P; guarded Q;\n        p \\<bullet> a \\<rhd> p \\<bullet> P \\<sim> p \\<bullet> Q\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Pa Qa.\n                            (\\<exists>Ra.\n                                (p \\<bullet> R) \\<parallel>\n                                !(p \\<bullet> P) =\n                                Ra \\<parallel> !Pa \\<and>\n                                (p \\<bullet> R) \\<parallel>\n                                !(p \\<bullet> Q) =\n                                Ra \\<parallel> !Qa) \\<and>\n                            p \\<bullet> a \\<rhd> Pa \\<sim> Qa \\<and>\n                            guarded Pa \\<and> guarded Qa", "by fastforce"], ["proof (state)\nthis:\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, \\<zero> \\<parallel> !P, \\<zero> \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "have \"\\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<sim> \\<zero> \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, \\<zero> \\<parallel> !P, \\<zero> \\<parallel> !Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<sim> \\<zero> \\<parallel> !Q", "proof(coinduct rule: weakTransitiveCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "case(cStatEq \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       insertAssertion (extractFrame P)\n        \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F insertAssertion (extractFrame Q) \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "case(cSim \\<Psi> RP RQ)"], ["proof (state)\nthis:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "from \\<open>(\\<Psi>, RP, RQ) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "obtain P Q R where \"\\<Psi> \\<rhd> P \\<sim> Q\" and \"guarded P\" and \"guarded Q\"\n                                           and \"RP = R \\<parallel> !P\" and \"RQ = R \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. (\\<And>P Q R.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; guarded P; guarded Q;\n         RP = R \\<parallel> !P; RQ = R \\<parallel> !Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  guarded P\n  guarded Q\n  RP = R \\<parallel> !P\n  RQ = R \\<parallel> !Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "note \\<open>\\<Psi> \\<rhd> P \\<sim> Q\\<close>"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "from \\<open>eqvt ?X\\<close>"], ["proof (chain)\npicking this:\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "have \"eqvt ?Y\""], ["proof (prove)\nusing this:\n  eqvt\n   {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. eqvt\n     {uu_.\n      \\<exists>\\<Psi> P P' Q' Q.\n         uu_ = (\\<Psi>, P, Q) \\<and>\n         \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n         (\\<Psi>, P', Q')\n         \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n                \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                guarded P \\<and> guarded Q} \\<and>\n         \\<Psi> \\<rhd> Q' \\<sim> Q}", "by blast"], ["proof (state)\nthis:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "moreover"], ["proof (state)\nthis:\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "note \\<open>guarded P\\<close> \\<open>guarded Q\\<close> bisimE(2) bisimE(3) bisimE(4) statEqBisim bisimClosed bisimParAssoc[THEN bisimSymmetric] \n                  bisimParPres bisimParPresAuxSym bisimResChainPres bisimScopeExtChainSym bisimTransitive"], ["proof (state)\nthis:\n  guarded P\n  guarded Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<sim> ?Q \\<parallel> ?R\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<sim> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<sim> ?R \\<parallel> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "moreover"], ["proof (state)\nthis:\n  guarded P\n  guarded Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<sim> ?Q \\<parallel> ?R\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<sim> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<sim> ?R \\<parallel> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "have \"\\<And>\\<Psi> P Q R T. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> ?Y; \\<Psi> \\<rhd> R \\<sim> T\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, T) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R T.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q;\n        (\\<Psi>, Q, R)\n        \\<in> {uu_.\n               \\<exists>\\<Psi> P P' Q' Q.\n                  uu_ = (\\<Psi>, P, Q) \\<and>\n                  \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                  (\\<Psi>, P', Q')\n                  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\n                         \\<Psi> P Q R.\n                         \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                         guarded P \\<and> guarded Q} \\<and>\n                  \\<Psi> \\<rhd> Q' \\<sim> Q};\n        \\<Psi> \\<rhd> R \\<sim> T\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, P, T)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>, R \\<parallel> !P,\n     R \\<parallel> !Q) |\n    \\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "by auto (metis bisimTransitive)"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q;\n   (?\\<Psi>, ?Q, ?R)\n   \\<in> {uu_.\n          \\<exists>\\<Psi> P P' Q' Q.\n             uu_ = (\\<Psi>, P, Q) \\<and>\n             \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n             (\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q\n                    R. \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                       guarded P \\<and> guarded Q} \\<and>\n             \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?R \\<sim> ?T\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q;\n   (?\\<Psi>, ?Q, ?R)\n   \\<in> {uu_.\n          \\<exists>\\<Psi> P P' Q' Q.\n             uu_ = (\\<Psi>, P, Q) \\<and>\n             \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n             (\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q\n                    R. \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                       guarded P \\<and> guarded Q} \\<and>\n             \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?R \\<sim> ?T\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "have \"\\<And>\\<Psi> P Q R. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; guarded P; guarded Q\\<rbrakk> \\<Longrightarrow> (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q R.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; guarded P; guarded Q\\<rbrakk>\n       \\<Longrightarrow> (\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q)\n                         \\<in> {uu_.\n                                \\<exists>\\<Psi> P P' Q' Q.\n                                   uu_ = (\\<Psi>, P, Q) \\<and>\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q')\n                                   \\<in> {(\\<Psi>, R \\<parallel> !P,\n     R \\<parallel> !Q) |\n    \\<Psi> P Q R.\n    \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast intro: bisimReflexive)"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "have \"\\<And>\\<Psi> P \\<alpha> P' Q. \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto>\\<alpha> \\<prec> P'; \\<Psi> \\<rhd> P \\<sim> Q; bn \\<alpha> \\<sharp>* \\<Psi>;  bn \\<alpha> \\<sharp>* P;  bn \\<alpha> \\<sharp>* Q; guarded Q; bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk> \\<Longrightarrow>\n                                         \\<exists>Q' R T.  \\<Psi> \\<rhd> !Q \\<longmapsto>\\<alpha> \\<prec> Q' \\<and> \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>  \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                                                   \\<Psi> \\<rhd> R \\<sim> T \\<and> ((supp R)::name set) \\<subseteq> supp P' \\<and> \n                                                   ((supp T)::name set) \\<subseteq> supp Q'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P \\<alpha> P' Q.\n       \\<lbrakk>\\<Psi> \\<rhd> !P \\<longmapsto> \\<alpha> \\<prec> P';\n        \\<Psi> \\<rhd> P \\<sim> Q; bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P; bn \\<alpha> \\<sharp>* Q; guarded Q;\n        bn \\<alpha> \\<sharp>* subject \\<alpha>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Q' R T.\n                            \\<Psi> \\<rhd> !Q \\<longmapsto> \\<alpha> \\<prec> Q' \\<and>\n                            \\<Psi> \\<rhd> P' \\<sim> R \\<parallel> !P \\<and>\n                            \\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !Q \\<and>\n                            \\<Psi> \\<rhd> R \\<sim> T \\<and>\n                            supp R \\<subseteq> supp P' \\<and>\n                            supp T \\<subseteq> supp Q'", "by(blast elim: bangDerivative)"], ["proof (state)\nthis:\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   ?\\<Psi> \\<rhd> ?P \\<sim> ?Q; bn ?\\<alpha> \\<sharp>* ?\\<Psi>;\n   bn ?\\<alpha> \\<sharp>* ?P; bn ?\\<alpha> \\<sharp>* ?Q; guarded ?Q;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' R T.\n                       ?\\<Psi> \\<rhd> !?Q \\<longmapsto> ?\\<alpha> \\<prec> Q' \\<and>\n                       ?\\<Psi> \\<rhd> ?P' \\<sim> R \\<parallel> !?P \\<and>\n                       ?\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?Q \\<and>\n                       ?\\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp ?P' \\<and>\n                       supp T \\<subseteq> supp Q'\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  guarded P\n  guarded Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<sim> ?Q \\<parallel> ?R\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<sim> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<sim> ?R \\<parallel> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q;\n   (?\\<Psi>, ?Q, ?R)\n   \\<in> {uu_.\n          \\<exists>\\<Psi> P P' Q' Q.\n             uu_ = (\\<Psi>, P, Q) \\<and>\n             \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n             (\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q\n                    R. \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                       guarded P \\<and> guarded Q} \\<and>\n             \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?R \\<sim> ?T\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   ?\\<Psi> \\<rhd> ?P \\<sim> ?Q; bn ?\\<alpha> \\<sharp>* ?\\<Psi>;\n   bn ?\\<alpha> \\<sharp>* ?P; bn ?\\<alpha> \\<sharp>* ?Q; guarded ?Q;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' R T.\n                       ?\\<Psi> \\<rhd> !?Q \\<longmapsto> ?\\<alpha> \\<prec> Q' \\<and>\n                       ?\\<Psi> \\<rhd> ?P' \\<sim> R \\<parallel> !?P \\<and>\n                       ?\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?Q \\<and>\n                       ?\\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp ?P' \\<and>\n                       supp T \\<subseteq> supp Q'", "have \"\\<Psi> \\<rhd> R \\<parallel> !P \\<leadsto>[?Y] R \\<parallel> !Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> Q\n  eqvt\n   {uu_.\n    \\<exists>\\<Psi> P P' Q' Q.\n       uu_ = (\\<Psi>, P, Q) \\<and>\n       \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n       (\\<Psi>, P', Q')\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<and>\n       \\<Psi> \\<rhd> Q' \\<sim> Q}\n  guarded P\n  guarded Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>[bisim] ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow> ?\\<Psi> \\<rhd> ?Q \\<sim> ?P\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<sim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?p \\<bullet> ?\\<Psi> \\<rhd> ?p \\<bullet> ?P \\<sim> ?p \\<bullet> ?Q\n  ?\\<Psi> \\<rhd> ?P1 \\<parallel>\n                 (?Q1 \\<parallel>\n                  ?R1) \\<sim> ?P1 \\<parallel> ?Q1 \\<parallel> ?R1\n  ?\\<Psi> \\<rhd> ?P \\<sim> ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<parallel> ?R \\<sim> ?Q \\<parallel> ?R\n  \\<lbrakk>?\\<Psi> \\<otimes> ?\\<Psi>\\<^sub>R \\<rhd> ?P \\<sim> ?Q;\n   extractFrame ?R = \\<langle>?A\\<^sub>R, ?\\<Psi>\\<^sub>R\\<rangle>;\n   ?A\\<^sub>R \\<sharp>* ?\\<Psi>; ?A\\<^sub>R \\<sharp>* ?P;\n   ?A\\<^sub>R \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?R \\<parallel>\n                                   ?P \\<sim> ?R \\<parallel> ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?xvec \\<sharp>* ?\\<Psi>\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<sim> \\<lparr>\\<nu>*?xvec\\<rparr>?Q\n  \\<lbrakk>?xvec \\<sharp>* ?\\<Psi>; ?xvec \\<sharp>* ?Q\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> \\<lparr>\\<nu>*?xvec\\<rparr>?P \\<parallel>\n                        ?Q \\<sim> (\\<lparr>\\<nu>*?xvec\\<rparr>?P) \\<parallel>\n                                  ?Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; ?\\<Psi> \\<rhd> ?Q \\<sim> ?R\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi> \\<rhd> ?P \\<sim> ?R\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q;\n   (?\\<Psi>, ?Q, ?R)\n   \\<in> {uu_.\n          \\<exists>\\<Psi> P P' Q' Q.\n             uu_ = (\\<Psi>, P, Q) \\<and>\n             \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n             (\\<Psi>, P', Q')\n             \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q\n                    R. \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                       guarded P \\<and> guarded Q} \\<and>\n             \\<Psi> \\<rhd> Q' \\<sim> Q};\n   ?\\<Psi> \\<rhd> ?R \\<sim> ?T\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?P, ?T)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<sim> ?Q; guarded ?P; guarded ?Q\\<rbrakk>\n  \\<Longrightarrow> (?\\<Psi>, ?R \\<parallel> !?P, ?R \\<parallel> !?Q)\n                    \\<in> {uu_.\n                           \\<exists>\\<Psi> P P' Q' Q.\n                              uu_ = (\\<Psi>, P, Q) \\<and>\n                              \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                              (\\<Psi>, P', Q')\n                              \\<in> {(\\<Psi>, R \\<parallel> !P,\nR \\<parallel> !Q) |\n                                     \\<Psi> P Q R.\n                                     \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n                                     guarded P \\<and> guarded Q} \\<and>\n                              \\<Psi> \\<rhd> Q' \\<sim> Q}\n  \\<lbrakk>?\\<Psi> \\<rhd> !?P \\<longmapsto> ?\\<alpha> \\<prec> ?P';\n   ?\\<Psi> \\<rhd> ?P \\<sim> ?Q; bn ?\\<alpha> \\<sharp>* ?\\<Psi>;\n   bn ?\\<alpha> \\<sharp>* ?P; bn ?\\<alpha> \\<sharp>* ?Q; guarded ?Q;\n   bn ?\\<alpha> \\<sharp>* subject ?\\<alpha>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>Q' R T.\n                       ?\\<Psi> \\<rhd> !?Q \\<longmapsto> ?\\<alpha> \\<prec> Q' \\<and>\n                       ?\\<Psi> \\<rhd> ?P' \\<sim> R \\<parallel> !?P \\<and>\n                       ?\\<Psi> \\<rhd> Q' \\<sim> T \\<parallel> !?Q \\<and>\n                       ?\\<Psi> \\<rhd> R \\<sim> T \\<and>\n                       supp R \\<subseteq> supp ?P' \\<and>\n                       supp T \\<subseteq> supp Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> R \\<parallel>\n                  !P \\<leadsto>[{uu_.\n                                 \\<exists>\\<Psi> P P' Q' Q.\n                                    uu_ = (\\<Psi>, P, Q) \\<and>\n                                    \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                    (\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>, R \\<parallel> !P,\n      R \\<parallel> !Q) |\n     \\<Psi> P Q R.\n     \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                    \\<Psi> \\<rhd> Q' \\<sim> Q}] R \\<parallel>\n                          !Q", "by(rule bangPres)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> R \\<parallel>\n                !P \\<leadsto>[{uu_.\n                               \\<exists>\\<Psi> P P' Q' Q.\n                                  uu_ = (\\<Psi>, P, Q) \\<and>\n                                  \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                  (\\<Psi>, P', Q')\n                                  \\<in> {(\\<Psi>, R \\<parallel> !P,\n    R \\<parallel> !Q) |\n   \\<Psi> P Q R.\n   \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                  \\<Psi> \\<rhd> Q' \\<sim> Q}] R \\<parallel>\n                        !Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>[{uu_.\n                                   \\<exists>\\<Psi> P P' Q' Q.\nuu_ = (\\<Psi>, P, Q) \\<and>\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q')\n\\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n       \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n\\<Psi> \\<rhd> Q' \\<sim> Q}] Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "with \\<open>RP = R \\<parallel> !P\\<close> \\<open>RQ = R \\<parallel> !Q\\<close>"], ["proof (chain)\npicking this:\n  RP = R \\<parallel> !P\n  RQ = R \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<parallel>\n                !P \\<leadsto>[{uu_.\n                               \\<exists>\\<Psi> P P' Q' Q.\n                                  uu_ = (\\<Psi>, P, Q) \\<and>\n                                  \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                  (\\<Psi>, P', Q')\n                                  \\<in> {(\\<Psi>, R \\<parallel> !P,\n    R \\<parallel> !Q) |\n   \\<Psi> P Q R.\n   \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                  \\<Psi> \\<rhd> Q' \\<sim> Q}] R \\<parallel>\n                        !Q", "show ?case"], ["proof (prove)\nusing this:\n  RP = R \\<parallel> !P\n  RQ = R \\<parallel> !Q\n  \\<Psi> \\<rhd> R \\<parallel>\n                !P \\<leadsto>[{uu_.\n                               \\<exists>\\<Psi> P P' Q' Q.\n                                  uu_ = (\\<Psi>, P, Q) \\<and>\n                                  \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                  (\\<Psi>, P', Q')\n                                  \\<in> {(\\<Psi>, R \\<parallel> !P,\n    R \\<parallel> !Q) |\n   \\<Psi> P Q R.\n   \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                  \\<Psi> \\<rhd> Q' \\<sim> Q}] R \\<parallel>\n                        !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> RP \\<leadsto>[{uu_.\n                                 \\<exists>\\<Psi> P P' Q' Q.\n                                    uu_ = (\\<Psi>, P, Q) \\<and>\n                                    \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                    (\\<Psi>, P', Q')\n                                    \\<in> {(\\<Psi>, R \\<parallel> !P,\n      R \\<parallel> !Q) |\n     \\<Psi> P Q R.\n     \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                    \\<Psi> \\<rhd> Q' \\<sim> Q}] RQ", "by blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> RP \\<leadsto>[{uu_.\n                               \\<exists>\\<Psi> P P' Q' Q.\n                                  uu_ = (\\<Psi>, P, Q) \\<and>\n                                  \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                  (\\<Psi>, P', Q')\n                                  \\<in> {(\\<Psi>, R \\<parallel> !P,\n    R \\<parallel> !Q) |\n   \\<Psi> P Q R.\n   \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q} \\<and>\n                                  \\<Psi> \\<rhd> Q' \\<sim> Q}] RQ\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "case(cExt \\<Psi> RP RQ \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', RP, RQ)\n    \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n           \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "case(cSym \\<Psi> RP RQ)"], ["proof (state)\nthis:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and>\n              guarded P \\<and> guarded Q} \\<Longrightarrow>\n       (\\<Psi>, Q, P)\n       \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n              \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, RP, RQ)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal (1 subgoal):\n 1. (\\<Psi>, RQ, RP)\n    \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n           \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}", "by(blast dest: bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, RQ, RP)\n  \\<in> {(\\<Psi>, R \\<parallel> !P, R \\<parallel> !Q) |\\<Psi> P Q R.\n         \\<Psi> \\<rhd> P \\<sim> Q \\<and> guarded P \\<and> guarded Q}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<sim> \\<zero> \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<zero> \\<parallel> !P \\<sim> \\<zero> \\<parallel> !Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> !P \\<sim> !Q", "by(metis bisimTransitive bisimParNil bisimSymmetric bisimParComm)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> !P \\<sim> !Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}