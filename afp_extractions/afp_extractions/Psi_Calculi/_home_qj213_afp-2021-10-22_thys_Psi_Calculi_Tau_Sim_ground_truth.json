{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Tau_Sim.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma bindPrefixEqvt[eqvt]:\n  fixes p :: \"name prm\"\n  and   \\<alpha> :: \"'a prefix\"\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  shows \"(p \\<bullet> (\\<alpha>\\<cdot>P)) = (p \\<bullet> \\<alpha>)\\<cdot>(p \\<bullet> P)\"", "lemma prefixCases[consumes 1, case_names cInput cOutput cTau]:\n  fixes \\<Psi> :: 'b\n  and   \\<alpha>  :: \"'a prefix\"\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   \\<beta>  :: \"'a action\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\"\n  and     rInput: \"\\<And>M xvec N K Tvec. \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K; set xvec \\<subseteq> supp N; length xvec = length Tvec; distinct xvec\\<rbrakk> \\<Longrightarrow> \n                                       Prop (pInput M xvec N) (K\\<lparr>N[xvec::=Tvec]\\<rparr>) (P[xvec::=Tvec])\"\n  and     rOutput: \"\\<And>M N K. \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow> Prop (pOutput M N) (K\\<langle>N\\<rangle>) P\"\n  and     rTau: \"\\<Psi> \\<rhd> P \\<sim> P' \\<Longrightarrow> Prop (pTau) (\\<tau>) P'\"\n\n  shows \"Prop \\<alpha> \\<beta> P'\"", "lemma prefixTauCases[consumes 1, case_names cTau]:\n  fixes \\<alpha>  :: \"'a prefix\"\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     rTau: \"\\<Psi> \\<rhd> P \\<sim> P' \\<Longrightarrow> Prop (pTau) P'\"\n\n  shows \"Prop \\<alpha> P'\"", "lemma hennessySim1:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"", "lemma hennessySim2:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes PTrans: \"\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     P'RelQ: \"(\\<Psi>, P', Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>(\\<Psi>, P, Q) \\<in> Rel; \\<Psi> \\<rhd> Q \\<sim> R\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.(Q)\"", "lemma hennessySim3:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\"\n  and     C1: \"\\<And>Q'. \\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q' \\<Longrightarrow> (\\<Psi>, P, Q') \\<notin> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\"", "lemma tauLaw1SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\"\n  and     \"eqvt Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto><Rel> Q\"", "lemma tauLaw1SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"eqvt Rel\"\n  and     \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>(\\<Psi>, P, Q) \\<in> Rel; \\<Psi> \\<rhd> Q \\<sim> R\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<leadsto><Rel> \\<tau>.(Q)\"", "lemma tauLaw3SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha> :: \"'a prefix\"\n\n  assumes \"eqvt Rel\"\n  and     \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     Subst: \"\\<And>xvec Tvec. length xvec = length Tvec \\<Longrightarrow> (\\<Psi>, P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> Rel \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P)) \\<leadsto><Rel> \\<alpha>\\<cdot>Q\"", "lemma tauLaw3SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"eqvt Rel\"\n  and     Subst: \"\\<And>\\<Psi> xvec Tvec. length xvec = length Tvec \\<Longrightarrow> (\\<Psi>, P[xvec::=Tvec], \\<tau>.(Q[xvec::=Tvec])) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     \"\\<And>\\<Psi>. (\\<Psi>, P, \\<tau>.(Q)) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.(Q))\"", "lemma tauLaw3CongSimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> Rel \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P)) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>Q\"", "lemma tauLaw3CongSimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     \"\\<And>\\<Psi>. (\\<Psi>, P, \\<tau>.(Q)) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>(\\<tau>.(Q))\"", "lemma tauLaw2SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes Id: \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<leadsto><Rel> \\<tau>.(P)\"", "lemma tauLaw2CongSimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes Id: \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.(P)\"", "lemma tauLaw2SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto><Rel> P \\<oplus> \\<tau>.(P)\"", "lemma tauLaw2CongSimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> P \\<oplus> \\<tau>.(P)\"", "lemma tauLaw4SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   M :: 'a\n  and   N :: 'a\n\n  assumes \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\"", "lemma tauLaw4CongSimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   M :: 'a\n  and   N :: 'a\n\n  assumes \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\"", "lemma tauLaw4SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha> :: \"'a prefix\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n  and         \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto><Rel> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\"", "lemma tauLaw4CongSimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha> :: \"'a prefix\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], "translations": [["", "lemma bindPrefixEqvt[eqvt]:\n  fixes p :: \"name prm\"\n  and   \\<alpha> :: \"'a prefix\"\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  shows \"(p \\<bullet> (\\<alpha>\\<cdot>P)) = (p \\<bullet> \\<alpha>)\\<cdot>(p \\<bullet> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<bullet> \\<alpha>\\<cdot>P =\n    (p \\<bullet> \\<alpha>)\\<cdot>(p \\<bullet> P)", "by(nominal_induct \\<alpha> rule: prefix.strong_inducts) (auto simp add: eqvts)"], ["", "lemma prefixCases[consumes 1, case_names cInput cOutput cTau]:\n  fixes \\<Psi> :: 'b\n  and   \\<alpha>  :: \"'a prefix\"\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   \\<beta>  :: \"'a action\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\"\n  and     rInput: \"\\<And>M xvec N K Tvec. \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K; set xvec \\<subseteq> supp N; length xvec = length Tvec; distinct xvec\\<rbrakk> \\<Longrightarrow> \n                                       Prop (pInput M xvec N) (K\\<lparr>N[xvec::=Tvec]\\<rparr>) (P[xvec::=Tvec])\"\n  and     rOutput: \"\\<And>M N K. \\<Psi> \\<turnstile> M \\<leftrightarrow> K \\<Longrightarrow> Prop (pOutput M N) (K\\<langle>N\\<rangle>) P\"\n  and     rTau: \"\\<Psi> \\<rhd> P \\<sim> P' \\<Longrightarrow> Prop (pTau) (\\<tau>) P'\"\n\n  shows \"Prop \\<alpha> \\<beta> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Prop \\<alpha> \\<beta> P'", "using \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Prop \\<alpha> \\<beta> P'", "proof(nominal_induct rule: prefix.strong_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>a1 list a2.\n       \\<Psi> \\<rhd> pInput a1 list\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pInput a1 list a2) \\<beta> P'\n 2. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 3. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "case(pInput M xvec N)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> pInput M xvec N\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>a1 list a2.\n       \\<Psi> \\<rhd> pInput a1 list\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pInput a1 list a2) \\<beta> P'\n 2. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 3. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "from \\<open>\\<Psi> \\<rhd> (pInput M xvec N)\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> pInput M xvec N\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto>\\<beta> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> pInput M xvec N\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> \\<beta> \\<prec> P'", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>a1 list a2.\n       \\<Psi> \\<rhd> pInput a1 list\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pInput a1 list a2) \\<beta> P'\n 2. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 3. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Prop (pInput M xvec N) \\<beta> P'", "by(auto elim: inputCases intro: rInput)"], ["proof (state)\nthis:\n  Prop (pInput M xvec N) \\<beta> P'\n\ngoal (2 subgoals):\n 1. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 2. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 2. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "case(pOutput M N)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> pOutput M N\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 2. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "from \\<open>\\<Psi> \\<rhd> (pOutput M N)\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> pOutput M N\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'", "have \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto>\\<beta> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> pOutput M N\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> \\<beta> \\<prec> P'", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>a1 a2.\n       \\<Psi> \\<rhd> pOutput a1\n                      a2\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n       Prop (pOutput a1 a2) \\<beta> P'\n 2. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Prop (pOutput M N) \\<beta> P'", "by(auto elim: outputCases intro: rOutput)"], ["proof (state)\nthis:\n  Prop (pOutput M N) \\<beta> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "case pTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "from \\<open>\\<Psi> \\<rhd> (pTau)\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<beta> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<beta> \\<prec> P'", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> pTau\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P' \\<Longrightarrow>\n    Prop pTau \\<beta> P'", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<beta> \\<prec> P'\n\ngoal (1 subgoal):\n 1. Prop pTau \\<beta> P'", "by(nominal_induct rule: action.strong_induct) (auto dest: tauActionE intro: rTau)"], ["proof (state)\nthis:\n  Prop pTau \\<beta> P'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma prefixTauCases[consumes 1, case_names cTau]:\n  fixes \\<alpha>  :: \"'a prefix\"\n  and   P  :: \"('a, 'b, 'c) psi\"\n  and   P' :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     rTau: \"\\<Psi> \\<rhd> P \\<sim> P' \\<Longrightarrow> Prop (pTau) P'\"\n\n  shows \"Prop \\<alpha> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Prop \\<alpha> P'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Prop \\<alpha> P'", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> P'", "obtain \\<beta> where \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<beta> \\<prec> P'\" and \"\\<beta> = \\<tau>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<And>\\<beta>.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P';\n         \\<beta> = \\<tau>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n  \\<beta> = \\<tau>\n\ngoal (1 subgoal):\n 1. Prop \\<alpha> P'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> P'\n  \\<beta> = \\<tau>\n\ngoal (1 subgoal):\n 1. Prop \\<alpha> P'", "by(induct rule: prefixCases) (auto intro: rTau)"], ["proof (state)\nthis:\n  Prop \\<alpha> P'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hennessySim1:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\\<close> \\<open>\\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'", "obtain P' where PChain: \"\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\" and P'RelQ': \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n         (\\<Psi>, P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: weakSimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from PChain"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "obtain P'' where \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sub>\\<tau> P''\" and \"\\<Psi> \\<rhd> P' \\<sim> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'';\n         \\<Psi> \\<rhd> P' \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule tauChainStepCons)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  \\<Psi> \\<rhd> P' \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  \\<Psi> \\<rhd> P' \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "using P'RelQ'"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  \\<Psi> \\<rhd> P' \\<sim> P''\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by(metis bisimE C1)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hennessySim2:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes PTrans: \"\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\"\n  and     P'RelQ: \"(\\<Psi>, P', Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>(\\<Psi>, P, Q) \\<in> Rel; \\<Psi> \\<rhd> Q \\<sim> R\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.(Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.Q", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(Q) \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q'", "have \"\\<Psi> \\<rhd> Q \\<sim> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q'", "by(blast dest: tauActionE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with PTrans P'RelQ"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  (\\<Psi>, P', Q) \\<in> Rel\n  \\<Psi> \\<rhd> Q \\<sim> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  (\\<Psi>, P', Q) \\<in> Rel\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by(metis C1 tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma hennessySim3:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\"\n  and     C1: \"\\<And>Q'. \\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q' \\<Longrightarrow> (\\<Psi>, P, Q') \\<notin> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> Q", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\\<close> \\<open>\\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'", "obtain P' where PChain: \"\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\" and P'RelQ': \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n         (\\<Psi>, P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: weakSimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with C1 \\<open>\\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> ?Q' \\<Longrightarrow>\n  (\\<Psi>, P, ?Q') \\<notin> Rel\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> ?Q' \\<Longrightarrow>\n  (\\<Psi>, P, ?Q') \\<notin> Rel\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by(force simp add: rtrancl_eq_or_trancl)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw1SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\"\n  and     \"eqvt Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto><Rel> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<leadsto><Rel> Q", "proof(induct rule: weakSimI2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<alpha> Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* (\\<tau>.P)\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>bn \\<alpha> \\<sharp>* (\\<tau>.(P))\\<close>"], ["proof (chain)\npicking this:\n  bn \\<alpha> \\<sharp>* (\\<tau>.P)", "have \"bn \\<alpha> \\<sharp>* P\""], ["proof (prove)\nusing this:\n  bn \\<alpha> \\<sharp>* (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. bn \\<alpha> \\<sharp>* P", "by simp"], ["proof (state)\nthis:\n  bn \\<alpha> \\<sharp>* P\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with \\<open>\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\\<close> \\<open>\\<Psi> \\<rhd> Q \\<longmapsto>\\<alpha> \\<prec> Q'\\<close> \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>\\<alpha> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P", "obtain P'' P' where PTrans: \"\\<Psi> : Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P''\" and P''Chain: \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\"\n                  and P'RelQ': \"(\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  \\<alpha> \\<noteq> \\<tau>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (\\<And>P'' P'.\n        \\<lbrakk>\\<Psi> : Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P'';\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: weakSimE)"], ["proof (state)\nthis:\n  \\<Psi> : Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P''\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from PTrans \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close> \\<open>bn \\<alpha> \\<sharp>* P\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> : Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P''\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P", "obtain P''' where \"\\<Psi> : Q \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<alpha> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P'' \\<sim> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> : Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P''\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P''';\n         \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule weakTransitionTau)"], ["proof (state)\nthis:\n  \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P'' \\<sim> P'''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P'' \\<sim> P'''", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<sim> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<sim> P'''", "by(rule bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<sim> P'''\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with P''Chain"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<sim> P'''", "obtain P'''' where \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''''\" and \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<sim> P''''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P'' \\<sim> P'''\n\ngoal (1 subgoal):\n 1. (\\<And>P''''.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<sim> P''''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule tauChainBisim)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<sim> P''''\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<sim> P''''", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<sim> P''''\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "using \\<open>(\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''''\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P' \\<sim> P''''\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "by(metis bisimE C1)"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : Q \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<leadsto><Rel> Q\\<close> \\<open>\\<Psi> \\<rhd> Q \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'", "obtain P' where PChain: \"\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\" and P'RelQ': \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><Rel> Q\n  \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P';\n         (\\<Psi>, P', Q') \\<in> Rel\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(blast dest: weakSimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from PChain"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "obtain P'' where \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\" and \"\\<Psi> \\<rhd> P' \\<sim> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'';\n         \\<Psi> \\<rhd> P' \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(rule tauChainCons)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  \\<Psi> \\<rhd> P' \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  \\<Psi> \\<rhd> P' \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "using P'RelQ'"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  \\<Psi> \\<rhd> P' \\<sim> P''\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by(metis bisimE C1)"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw1SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"eqvt Rel\"\n  and     \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R. \\<lbrakk>(\\<Psi>, P, Q) \\<in> Rel; \\<Psi> \\<rhd> Q \\<sim> R\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, R) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<leadsto><Rel> \\<tau>.(Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><Rel> \\<tau>.Q", "using \\<open>eqvt Rel\\<close>"], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><Rel> \\<tau>.Q", "proof(induct rule: weakSimI[where C=Q])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* (\\<tau>.Q);\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<tau>.Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<alpha> Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* (\\<tau>.Q)\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* (\\<tau>.Q);\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<tau>.Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "hence False"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P\n  bn \\<alpha> \\<sharp>* (\\<tau>.Q)\n  bn \\<alpha> \\<sharp>* subject \\<alpha>\n  bn \\<alpha> \\<sharp>* Q\n  distinct (bn \\<alpha>)\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. False", "by(cases rule: actionCases[where \\<alpha>=\\<alpha>]) auto"], ["proof (state)\nthis:\n  False\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* P;\n        bn \\<alpha> \\<sharp>* (\\<tau>.Q);\n        bn \\<alpha> \\<sharp>* subject \\<alpha>; bn \\<alpha> \\<sharp>* Q;\n        distinct (bn \\<alpha>); \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<tau>.Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : \\<tau>.Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "by simp"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : \\<tau>.Q \\<rhd> P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "have \"\\<Psi> \\<rhd> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(Q) \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q'", "have \"\\<Psi> \\<rhd> Q \\<sim> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q'", "by(rule tauActionE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with \\<open>(\\<Psi>, P, Q) \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> Rel\n  \\<Psi> \\<rhd> Q \\<sim> Q'", "have \"(\\<Psi>, P, Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> Rel\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q') \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n  (\\<Psi>, P, Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> Q\n  (\\<Psi>, P, Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw3SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha> :: \"'a prefix\"\n\n  assumes \"eqvt Rel\"\n  and     \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     Subst: \"\\<And>xvec Tvec. length xvec = length Tvec \\<Longrightarrow> (\\<Psi>, P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> Rel \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P)) \\<leadsto><Rel> \\<alpha>\\<cdot>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<leadsto><Rel> \\<alpha>\\<cdot>Q", "using \\<open>eqvt Rel\\<close>"], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<leadsto><Rel> \\<alpha>\\<cdot>Q", "proof(induct rule: weakSimI[where C=Q])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.P);\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>Q;\n        bn \\<alpha>' \\<sharp>* subject \\<alpha>'; bn \\<alpha>' \\<sharp>* Q;\n        distinct (bn \\<alpha>'); \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<alpha>\\<cdot>Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<beta> Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<beta> \\<prec> Q'\n  bn \\<beta> \\<sharp>* \\<Psi>\n  bn \\<beta> \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.P)\n  bn \\<beta> \\<sharp>* \\<alpha>\\<cdot>Q\n  bn \\<beta> \\<sharp>* subject \\<beta>\n  bn \\<beta> \\<sharp>* Q\n  distinct (bn \\<beta>)\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.P);\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>Q;\n        bn \\<alpha>' \\<sharp>* subject \\<alpha>'; bn \\<alpha>' \\<sharp>* Q;\n        distinct (bn \\<alpha>'); \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<alpha>\\<cdot>Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto>\\<beta> \\<prec> Q'\\<close> \\<open>\\<beta> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<beta> \\<prec> Q'\n  \\<beta> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<beta> \\<prec> Q'\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : \\<alpha>\\<cdot>Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "proof(induct rule: prefixCases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "case(cInput M xvec N K Tvec)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  distinct xvec\n  K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "note \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>distinct xvec\\<close> \\<open>set xvec \\<subseteq> supp N\\<close> \\<open>length xvec = length Tvec\\<close>"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "have \"insertAssertion (extractFrame(M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q)) \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                     \\<one>\\<rangle>", "by auto"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  insertAssertion (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>", "have \"\\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P))) \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P))[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  insertAssertion (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P)[xvec::=Tvec]", "by(rule weakInput)"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P)[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "hence \"\\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q) \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P))) \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> \\<tau>.(P[xvec::=Tvec])\""], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P)[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> \\<tau>.P[xvec::=Tvec]", "using \\<open>length xvec = length Tvec\\<close> \\<open>distinct xvec\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P)[xvec::=Tvec]\n  length xvec = length Tvec\n  distinct xvec\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> \\<tau>.P[xvec::=Tvec]", "by simp"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> \\<tau>.P[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> \\<tau>.P[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "obtain P' where PTrans: \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P[xvec::=Tvec]) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> (P[xvec::=Tvec]) \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P[xvec::=Tvec]) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "from \\<open>length xvec = length Tvec\\<close>"], ["proof (chain)\npicking this:\n  length xvec = length Tvec", "have \"(\\<Psi>, P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  length xvec = length Tvec\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel", "by(rule Subst)"], ["proof (state)\nthis:\n  (\\<Psi>, P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "hence \"(\\<Psi> \\<otimes> \\<Psi>', P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel", "by(rule rExt)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "with \\<open>\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel", "have \"(\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P[xvec::=Tvec], Q[xvec::=Tvec]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel", "by(blast intro: bisimE C1 bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>Q \\<rhd> pInput M xvec\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> \\<tau>.P[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> \\<tau>.P[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pInput M xvec\n                 N\\<cdot>Q \\<rhd> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pInput M xvec\n               N\\<cdot>Q \\<rhd> pInput M xvec\n                                 N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q[xvec::=Tvec]) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "case(cOutput M N K)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  K\\<langle>N\\<rangle> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "note \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "have \"insertAssertion (extractFrame (M\\<langle>N\\<rangle>.Q)) \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame (M\\<langle>N\\<rangle>.Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                     \\<one>\\<rangle>", "by auto"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (M\\<langle>N\\<rangle>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  insertAssertion (extractFrame (M\\<langle>N\\<rangle>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>", "have \"\\<Psi> : M\\<langle>N\\<rangle>.Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P)) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> \\<tau>.(P)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  insertAssertion (extractFrame (M\\<langle>N\\<rangle>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<langle>N\\<rangle>.Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> \\<tau>.P", "by(rule weakOutput)"], ["proof (state)\nthis:\n  \\<Psi> : M\\<langle>N\\<rangle>.Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> \\<tau>.P\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : M\\<langle>N\\<rangle>.Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> \\<tau>.P\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "obtain P' where PTrans: \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "from \\<open>(\\<Psi>, P, Q) \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> Rel", "have \"(\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel", "by(rule rExt)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "with \\<open>\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel", "have \"(\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel", "by(blast intro: bisimE C1 bisimReflexive)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>Q \\<rhd> pOutput M\n                  N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : M\\<langle>N\\<rangle>.Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> \\<tau>.P\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<langle>N\\<rangle>.Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> \\<tau>.P\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pOutput M\n                 N\\<cdot>Q \\<rhd> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pOutput M\n               N\\<cdot>Q \\<rhd> pOutput M\n                                 N\\<cdot>(\\<tau>.P) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> Q \\<sim> Q'; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "with \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n  \\<tau> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "by simp"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pTau\\<cdot>Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : \\<alpha>\\<cdot>Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P' where tPTrans: \"\\<Psi> \\<rhd> \\<tau>.(\\<tau>.(P)) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> \\<tau>.(P) \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from PTrans \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'", "obtain P''' where P'Trans: \"\\<Psi> \\<rhd> P' \\<longmapsto>\\<tau> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P'' \\<sim> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n         \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(drule_tac bisimE(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<sim> \\<tau>.P\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac bisimE(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<leadsto>[bisim] \\<tau>.P\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac simE, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P'a.\n       \\<lbrakk>\\<And>P'''.\n                   \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                    \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n        \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'a;\n        \\<Psi> \\<rhd> P'a \\<sim> P''\\<rbrakk>\n       \\<Longrightarrow> thesis", "by(metis bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from tPTrans P'Trans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''", "have \"\\<Psi> \\<rhd> \\<tau>.(\\<tau>.(P)) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''", "by(fastforce dest: tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>(\\<Psi>, P, Q) \\<in> Rel\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P'' \\<sim> P'''\\<close> \\<open>\\<Psi> \\<rhd> Q \\<sim> Q'\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> Q \\<sim> Q'", "have \"(\\<Psi>, P''', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P''', Q') \\<in> Rel", "by(metis bisimTransitive C1 bisimSymmetric)"], ["proof (state)\nthis:\n  (\\<Psi>, P''', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw3SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"eqvt Rel\"\n  and     Subst: \"\\<And>\\<Psi> xvec Tvec. length xvec = length Tvec \\<Longrightarrow> (\\<Psi>, P[xvec::=Tvec], \\<tau>.(Q[xvec::=Tvec])) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     \"\\<And>\\<Psi>. (\\<Psi>, P, \\<tau>.(Q)) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.(Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.Q)", "using \\<open>eqvt Rel\\<close>"], ["proof (prove)\nusing this:\n  eqvt Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.Q)", "proof(induct rule: weakSimI[where C=Q])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>P;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.Q);\n        bn \\<alpha>' \\<sharp>* subject \\<alpha>'; bn \\<alpha>' \\<sharp>* Q;\n        distinct (bn \\<alpha>'); \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.Q) \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<beta> Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<beta> \\<prec> Q'\n  bn \\<beta> \\<sharp>* \\<Psi>\n  bn \\<beta> \\<sharp>* \\<alpha>\\<cdot>P\n  bn \\<beta> \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.Q)\n  bn \\<beta> \\<sharp>* subject \\<beta>\n  bn \\<beta> \\<sharp>* Q\n  distinct (bn \\<beta>)\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>P;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.Q);\n        bn \\<alpha>' \\<sharp>* subject \\<alpha>'; bn \\<alpha>' \\<sharp>* Q;\n        distinct (bn \\<alpha>'); \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.Q) \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(Q)) \\<longmapsto>\\<beta> \\<prec> Q'\\<close> \\<open>\\<beta> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<beta> \\<prec> Q'\n  \\<beta> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<beta> \\<prec> Q'\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.Q) \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "proof(induct rule: prefixCases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "case(cInput M xvec N K Tvec)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  distinct xvec\n  K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "note \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>distinct xvec\\<close> \\<open>set xvec \\<subseteq> supp N\\<close> \\<open>length xvec=length Tvec\\<close>"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "have \"insertAssertion (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(Q)))) \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                     \\<one>\\<rangle>", "by auto"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  insertAssertion\n   (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>", "have \"\\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(Q))) \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> P[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  insertAssertion\n   (extractFrame (M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]", "by(rule weakInput)"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P[xvec::=Tvec]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P[xvec::=Tvec]", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n                           N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.Q)[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P[xvec::=Tvec]", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pInput M xvec\n                 N\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n      N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', (\\<tau>.Q)[xvec::=Tvec])\n           \\<in> Rel)", "using Subst \\<open>length xvec=length Tvec\\<close> \\<open>distinct xvec\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.\\<tau>.Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P[xvec::=Tvec]\n  length ?xvec = length ?Tvec \\<Longrightarrow>\n  (?\\<Psi>, P[?xvec::=?Tvec], \\<tau>.Q[?xvec::=?Tvec]) \\<in> Rel\n  length xvec = length Tvec\n  distinct xvec\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pInput M xvec\n                 N\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n      N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', (\\<tau>.Q)[xvec::=Tvec])\n           \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pInput M xvec\n               N\\<cdot>(\\<tau>.Q) \\<rhd> pInput M xvec\n    N\\<cdot>P \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', (\\<tau>.Q)[xvec::=Tvec]) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "case(cOutput M N K)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  K\\<langle>N\\<rangle> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "note \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "have \"insertAssertion (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.(Q)))) \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.Q)))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                     \\<one>\\<rangle>", "by auto"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.Q)))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  insertAssertion (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.Q)))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>", "have \"\\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.(Q)) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  insertAssertion (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.Q)))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n                   \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.Q) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P", "by(rule weakOutput)"], ["proof (state)\nthis:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.Q) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.Q) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n                           N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.Q) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.Q) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pOutput M\n                 N\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n      N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q) \\<in> Rel)", "using \\<open>(\\<Psi> \\<otimes> \\<Psi>', P, \\<tau>.(Q)) \\<in> Rel\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.Q) \\<rhd> M\\<langle>N\\<rangle>.P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P\n  (\\<Psi> \\<otimes> \\<Psi>', P, \\<tau>.Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pOutput M\n                 N\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n      N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q) \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pOutput M\n               N\\<cdot>(\\<tau>.Q) \\<rhd> pOutput M\n    N\\<cdot>P \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', \\<tau>.Q) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q';\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "with \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  \\<tau> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)", "by simp"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pTau\\<cdot>(\\<tau>.Q) \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.Q) \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', Q') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(Q)) \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> P \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P'\\<close> \\<open>\\<Psi> \\<rhd> \\<tau>.(Q) \\<sim> Q'\\<close>  \\<open>(\\<Psi>, P, \\<tau>.(Q)) \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P'\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  (\\<Psi>, P, \\<tau>.Q) \\<in> Rel", "have \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P'\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  (\\<Psi>, P, \\<tau>.Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P', Q') \\<in> Rel", "by(metis bisimTransitive bisimSymmetric C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw3CongSimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> Rel \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P)) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>Q", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P' where tPTrans: \"\\<Psi> \\<rhd> \\<tau>.(\\<tau>.(P)) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> \\<tau>.(P) \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from PTrans \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'", "obtain P''' where P'Trans: \"\\<Psi> \\<rhd> P' \\<longmapsto>\\<tau> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P'' \\<sim> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> \\<tau>.P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n         \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(drule_tac bisimE(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<sim> \\<tau>.P\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac bisimE(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<leadsto>[bisim] \\<tau>.P\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac simE, auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P'a.\n       \\<lbrakk>\\<And>P'''.\n                   \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                    \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                   \\<Longrightarrow> thesis;\n        \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n        \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'a;\n        \\<Psi> \\<rhd> P'a \\<sim> P''\\<rbrakk>\n       \\<Longrightarrow> thesis", "by(metis bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from tPTrans P'Trans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''", "have \"\\<Psi> \\<rhd> \\<tau>.(\\<tau>.(P)) \\<Longrightarrow>\\<^sub>\\<tau> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''", "by(fastforce dest: tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>(\\<Psi>, P, Q) \\<in> Rel\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P'' \\<sim> P'''\\<close> \\<open>\\<Psi> \\<rhd> Q \\<sim> Q'\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> Q \\<sim> Q'", "have \"(\\<Psi>, P''', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P''', Q') \\<in> Rel", "by(metis bisimTransitive C1 bisimSymmetric)"], ["proof (state)\nthis:\n  (\\<Psi>, P''', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.\\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw3CongSimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n  and     \"\\<And>\\<Psi>. (\\<Psi>, P, \\<tau>.(Q)) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>(\\<tau>.(Q))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>(\\<tau>.Q)", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(Q)) \\<longmapsto>\\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.Q) \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> P \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'", "by(rule tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P'\\<close> \\<open>\\<Psi> \\<rhd> \\<tau>.(Q) \\<sim> Q'\\<close>  \\<open>(\\<Psi>, P, \\<tau>.(Q)) \\<in> Rel\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P'\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  (\\<Psi>, P, \\<tau>.Q) \\<in> Rel", "have \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P'\n  \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q'\n  (\\<Psi>, P, \\<tau>.Q) \\<in> Rel\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P', Q') \\<in> Rel", "by(metis bisimTransitive bisimSymmetric C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "locale tauSum = tau + sum\nbegin"], ["", "lemma tauLaw2SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes Id: \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<leadsto><Rel> \\<tau>.(P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<leadsto><Rel> \\<tau>.P", "proof(induct rule: weakSimI2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P \\<oplus>\\<^sub>\\<top> \\<tau>.P;\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<tau>.P \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<alpha> P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P \\<oplus>\\<^sub>\\<top> \\<tau>.P\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>;\n        bn \\<alpha> \\<sharp>* P \\<oplus>\\<^sub>\\<top> \\<tau>.P;\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<tau>.P \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P \\<oplus>\\<^sub>\\<top> \\<tau>.P\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : \\<tau>.P \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'a.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "by(nominal_induct \\<alpha> rule: action.strong_inducts) auto"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : \\<tau>.P \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n     (\\<exists>P'a.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> P \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> P'", "by(rule tauActionE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "have \"guarded(\\<tau>.(P))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. guarded (\\<tau>.P)", "by(rule guardedTau)"], ["proof (state)\nthis:\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  guarded (\\<tau>.P)", "have \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''", "by(rule Sum2)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "hence \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>(\\<Psi>, P, P) \\<in> Rel\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  (\\<Psi>, P, P) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P'", "have \"(\\<Psi>, P'', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  (\\<Psi>, P, P) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P'', P') \\<in> Rel", "by(metis C1 bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw2CongSimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes Id: \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q R S. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> Q; (\\<Psi>, Q, R) \\<in> Rel; \\<Psi> \\<rhd> R \\<sim> S\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, S) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.(P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<tau>.P", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> P \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> P'", "by(rule tauActionE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "have \"guarded(\\<tau>.(P))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. guarded (\\<tau>.P)", "by(rule guardedTau)"], ["proof (state)\nthis:\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  guarded (\\<tau>.P)", "have \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''", "by(rule Sum2)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "hence \"\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<Longrightarrow>\\<^sub>\\<tau> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''", "by(rule tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>(\\<Psi>, P, P) \\<in> Rel\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  (\\<Psi>, P, P) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P'", "have \"(\\<Psi>, P'', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  (\\<Psi>, P, P) \\<in> Rel\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P'', P') \\<in> Rel", "by(metis C1 bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw2SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto><Rel> P \\<oplus> \\<tau>.(P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<leadsto><Rel> P \\<oplus>\\<^sub>\\<top> \\<tau>.P", "proof(induct rule: weakSimI2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<alpha> P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* (\\<tau>.P)\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha> Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> Q';\n        bn \\<alpha> \\<sharp>* \\<Psi>; bn \\<alpha> \\<sharp>* (\\<tau>.P);\n        \\<alpha> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<longmapsto>\\<alpha> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'a.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "case cSum1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded P\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "from \\<open>guarded P\\<close>"], ["proof (chain)\npicking this:\n  guarded P", "have \"insertAssertion (extractFrame P) \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\nusing this:\n  guarded P\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P)\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n            \\<one>\\<rangle>", "by(rule insertGuardedAssertion)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n          \\<one>\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "with \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n          \\<one>\\<rangle>", "have \"insertAssertion (extractFrame P'') \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes> \\<one>\\<rangle>\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  insertAssertion (extractFrame P)\n   \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n          \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame P'')\n     \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n            \\<one>\\<rangle>", "by(metis bisimE FrameStatEqTrans FrameStatEqSym)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame P'')\n   \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n          \\<one>\\<rangle>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "hence \"insertAssertion (extractFrame(P \\<oplus> \\<tau>.(P))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P'') \\<Psi>\""], ["proof (prove)\nusing this:\n  insertAssertion (extractFrame P'')\n   \\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, \\<Psi> \\<otimes>\n          \\<one>\\<rangle>\n\ngoal (1 subgoal):\n 1. insertAssertion (extractFrame (P \\<oplus>\\<^sub>\\<top> \\<tau>.P))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P'')\n \\<Psi>", "by(simp add: FrameStatEq_def)"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (P \\<oplus>\\<^sub>\\<top> \\<tau>.P))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P'')\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion (extractFrame (P \\<oplus>\\<^sub>\\<top> \\<tau>.P))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P'')\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "from PTrans \\<open>bn \\<alpha> \\<sharp>* (\\<tau>.(P))\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  bn \\<alpha> \\<sharp>* (\\<tau>.P)", "have \"bn \\<alpha> \\<sharp>* P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  bn \\<alpha> \\<sharp>* (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. bn \\<alpha> \\<sharp>* P''", "by(rule tauFreshChainDerivative)"], ["proof (state)\nthis:\n  bn \\<alpha> \\<sharp>* P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "with \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<alpha> \\<prec> P'\\<close> \\<open>bn \\<alpha> \\<sharp>* \\<Psi>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P''", "obtain P''' where P''Trans: \"\\<Psi> \\<rhd> P'' \\<longmapsto>\\<alpha> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P''' \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P'\n  bn \\<alpha> \\<sharp>* \\<Psi>\n  bn \\<alpha> \\<sharp>* P''\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<alpha> \\<prec> P''';\n         \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(metis bisimE simE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  insertAssertion (extractFrame (P \\<oplus>\\<^sub>\\<top> \\<tau>.P))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P'')\n                                     \\<Psi>\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'", "have \"\\<Psi> : (P \\<oplus> \\<tau>.(P)) \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<alpha> \\<prec> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  insertAssertion (extractFrame (P \\<oplus>\\<^sub>\\<top> \\<tau>.P))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame P'')\n                                     \\<Psi>\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<alpha> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''", "by(rule_tac weakTransitionI)"], ["proof (state)\nthis:\n  \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "from \\<open>\\<Psi> \\<rhd> P''' \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P''' \\<sim> P'", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P''' \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P''' \\<sim> P'", "by(rule bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P''' \\<sim> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "hence \"(\\<Psi> \\<otimes> \\<Psi>', P''', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P''', P') \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P''', P') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi> \\<otimes> \\<Psi>', P''', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'''\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> P''' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi> \\<otimes> \\<Psi>', P''', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'a.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "by blast"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n     (\\<exists>P'a.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "case cSum2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n                         (\\<exists>P'a.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'a.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "using \\<open>\\<alpha> \\<noteq> \\<tau>\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<alpha> \\<prec> P'\n  guarded (\\<tau>.P)\n  \\<alpha> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n       (\\<exists>P'a.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)", "by(nominal_induct \\<alpha> rule: action.strong_inducts) auto"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n     (\\<exists>P'a.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<rhd> \\<tau>.P \\<Longrightarrow>\\<alpha> \\<prec> P'' \\<and>\n     (\\<exists>P'a.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P'a, P') \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "case cSum1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "obtain P''' where P''Trans: \"\\<Psi> \\<rhd> P'' \\<longmapsto>\\<tau> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P''' \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P''';\n         \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(drule_tac bisimE(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     \\<Psi> \\<rhd> P'' \\<sim> P\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac bisimE(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     \\<Psi> \\<rhd> P'' \\<leadsto>[bisim] P\\<rbrakk>\n    \\<Longrightarrow> thesis", "by(drule_tac simE, auto)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''", "by(auto dest: tauActTauChain rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P''' \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P''' \\<sim> P'", "have \"(\\<Psi>, P''', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P''', P') \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P''', P') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "case cSum2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> P \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> P'", "by(rule tauActionE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "hence \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''", "by(rule_tac tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<sim> P'", "have \"(\\<Psi>, P'', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P'', P') \\<in> Rel", "by(metis C1 bisimTransitive bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw2CongSimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<tau>.(P) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> P \\<oplus> \\<tau>.(P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> P \\<oplus>\\<^sub>\\<top> \\<tau>.P", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau P')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<oplus> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<oplus>\\<^sub>\\<top> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "case cSum1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded P\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'", "obtain P''' where P''Trans: \"\\<Psi> \\<rhd> P'' \\<longmapsto>\\<tau> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P''' \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P''';\n         \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(drule_tac bisimE(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     \\<Psi> \\<rhd> P'' \\<sim> P\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac bisimE(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P''' \\<sim> P'\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     \\<Psi> \\<rhd> P'' \\<leadsto>[bisim] P\\<rbrakk>\n    \\<Longrightarrow> thesis", "by(drule_tac simE) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sub>\\<tau> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P'' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''", "by(auto dest: tauActTauStepChain trancl_into_trancl)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P''' \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P''' \\<sim> P'", "have \"(\\<Psi>, P''', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P''' \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P''', P') \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P''', P') \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded P\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "case cSum2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> P \\<sim> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> P'", "by(rule tauActionE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "obtain P'' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "hence \"\\<Psi> \\<rhd> \\<tau>.(P) \\<Longrightarrow>\\<^sub>\\<tau> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''", "by(rule_tac tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<sim> P'", "have \"(\\<Psi>, P'', P') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> P''\n  \\<Psi> \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P'', P') \\<in> Rel", "by(metis C1 bisimTransitive bisimE)"], ["proof (state)\nthis:\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n     guarded (\\<tau>.P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'a.\n                         \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n                         (\\<Psi>, P'a, P') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P''\n  (\\<Psi>, P'', P') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'a.\n       \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n       (\\<Psi>, P'a, P') \\<in> Rel", "by blast"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'a.\n     \\<Psi> \\<rhd> \\<tau>.P \\<Longrightarrow>\\<^sub>\\<tau> P'a \\<and>\n     (\\<Psi>, P'a, P') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw4SimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   M :: 'a\n  and   N :: 'a\n\n  assumes \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<leadsto><Rel> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "proof(induct rule: weakSimI2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q;\n        \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<beta> PQ)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  bn \\<beta> \\<sharp>* \\<Psi>\n  bn \\<beta> \\<sharp>* (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q;\n        \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<beta> \\<prec> PQ\\<close> \\<open>\\<beta> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  \\<beta> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "proof(induct rule: prefixCases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case(cInput M xvec N K Tvec)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  distinct xvec\n  K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"insertAssertion (extractFrame(\\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame(\\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q))) \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame\n   ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "using insertTauAssertion Identity"], ["proof (prove)\nusing this:\n  insertAssertion (extractFrame (\\<tau>.?P))\n   ?\\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, ?\\<Psi>\\<rangle>\n  ?\\<Psi> \\<otimes> \\<one> \\<simeq> ?\\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame\n   ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "by(nominal_induct \\<alpha> rule: prefix.strong_inducts, auto) \n        (rule FrameStatImpTrans[where G=\"\\<langle>\\<epsilon>, \\<Psi>\\<rangle>\"], auto simp add: FrameStatEq_def AssertionStatEq_def)"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>distinct xvec\\<close> \\<open>set xvec \\<subseteq> supp N\\<close> \\<open>length xvec=length Tvec\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule Input)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "hence \"\\<Psi> \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule_tac Sum2) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "have \"\\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule_tac weakTransitionI) auto"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pInput M xvec\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M xvec\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pInput M xvec\n                 N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M\n                               xvec\n                               N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M\n                           xvec\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n           \\<in> Rel)", "using \\<open>(\\<Psi> \\<otimes> \\<Psi>', (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec], (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]) \\<in> Rel\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  (\\<Psi> \\<otimes> \\<Psi>',\n   (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec],\n   (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n  \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pInput M xvec\n                 N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M\n                               xvec\n                               N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M\n                           xvec\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n           \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pInput M xvec\n               N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pInput M\n                             xvec\n                             N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                         N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P',\n          (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n         \\<in> Rel)\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case(cOutput M N K)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  K\\<langle>N\\<rangle> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"insertAssertion (extractFrame(\\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame(\\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q))) \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame\n   ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "using insertTauAssertion Identity"], ["proof (prove)\nusing this:\n  insertAssertion (extractFrame (\\<tau>.?P))\n   ?\\<Psi> \\<simeq>\\<^sub>F \\<langle>\\<epsilon>, ?\\<Psi>\\<rangle>\n  ?\\<Psi> \\<otimes> \\<one> \\<simeq> ?\\<Psi>\n\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame\n   ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "by(nominal_induct \\<alpha> rule: prefix.strong_inducts, auto) \n        (rule FrameStatImpTrans[where G=\"\\<langle>\\<epsilon>, \\<Psi>\\<rangle>\"], auto simp add: FrameStatEq_def AssertionStatEq_def)"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule Output)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "hence \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.P \\<oplus> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule_tac Sum2) auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "have \"\\<Psi> : (M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> M\\<langle>N\\<rangle>.P \\<oplus> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n ((\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule_tac weakTransitionI) auto"], ["proof (state)\nthis:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P) \\<oplus> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> \\<tau>.(P) \\<oplus> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : pOutput M\nN\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n              N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pOutput M\n                 N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput\n                               M N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                             N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n           \\<in> Rel)", "using \\<open>(\\<Psi> \\<otimes> \\<Psi>', \\<tau>.(P) \\<oplus> Q, \\<tau>.(P) \\<oplus> Q) \\<in> Rel\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  (\\<Psi> \\<otimes> \\<Psi>', (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q,\n   (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n  \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pOutput M\n                 N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput\n                               M N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                             N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n           \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pOutput M\n               N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pOutput M\n                             N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                         N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n         \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "by simp"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P)) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> \\<tau>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "by(rule_tac Sum2) (auto intro: guardedTau)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "hence \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> \\<tau>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q \\<sim> P'\\<close> \\<open>\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q'", "have \"\\<Psi> \\<rhd> P' \\<sim> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P' \\<sim> Q'", "by(metis bisimSymmetric bisimTransitive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "hence \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P', Q') \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw4CongSimLeft:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   M :: 'a\n  and   N :: 'a\n\n  assumes \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n  and     C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau Q')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P)) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q'\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> \\<tau>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "by(rule_tac Sum2) (auto intro: guardedTau)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "hence \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> \\<tau>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'", "by(rule tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q \\<sim> P'\\<close> \\<open>\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> Q'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q'", "have \"\\<Psi> \\<rhd> P' \\<sim> Q'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P' \\<sim> Q'", "by(metis bisimSymmetric bisimTransitive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "hence \"(\\<Psi>, P', Q') \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> Q'\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P', Q') \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> Q' \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n  (\\<Psi>, P', Q') \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', Q') \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw4SimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha> :: \"'a prefix\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n  and         \"\\<And>\\<Psi> P. (\\<Psi>, P, P) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto><Rel> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<leadsto><Rel> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "proof(induct rule: weakSimI2)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q;\n        \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cAct \\<Psi>' \\<beta> PQ)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  bn \\<beta> \\<sharp>* \\<Psi>\n  bn \\<beta> \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi>' \\<alpha>' Q'.\n       \\<lbrakk>\\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<alpha>' \\<prec> Q';\n        bn \\<alpha>' \\<sharp>* \\<Psi>;\n        bn \\<alpha>' \\<sharp>* \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q;\n        \\<alpha>' \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<alpha>' \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', Q')\n                                \\<in> Rel)\n 2. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<beta> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case cSum1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> PQ\n  guarded (\\<alpha>\\<cdot>P)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto>\\<beta> \\<prec> PQ\\<close> \\<open>\\<beta> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> PQ\n  \\<beta> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<beta> \\<prec> PQ\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "proof(induct rule: prefixCases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case(cInput M xvec N K Tvec)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  distinct xvec\n  K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"insertAssertion (extractFrame((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame(M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame\n       ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame\n   (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>distinct xvec\\<close> \\<open>set xvec \\<subseteq> supp N\\<close> \\<open>length xvec = length Tvec\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule Input)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "have \"\\<Psi> : ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr>\\<prec> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule_tac weakTransitionI) auto"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "with \\<open>length xvec = length Tvec\\<close> \\<open>distinct xvec\\<close>"], ["proof (chain)\npicking this:\n  length xvec = length Tvec\n  distinct xvec\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "have \"\\<Psi> : ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P[xvec::=Tvec]) \\<oplus> Q[xvec::=Tvec])\""], ["proof (prove)\nusing this:\n  length xvec = length Tvec\n  distinct xvec\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by auto"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "obtain P' where PTrans: \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P[xvec::=Tvec]) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"guarded(\\<tau>.(P[xvec::=Tvec]))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. guarded (\\<tau>.P[xvec::=Tvec])", "by(rule guardedTau)"], ["proof (state)\nthis:\n  guarded (\\<tau>.P[xvec::=Tvec])\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n  guarded (\\<tau>.P[xvec::=Tvec])", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> (\\<tau>.(P[xvec::=Tvec])) \\<oplus> (Q[xvec::=Tvec]) \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> \\<tau>.P[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n  guarded (\\<tau>.P[xvec::=Tvec])\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'", "by(rule Sum1)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "hence \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> (\\<tau>.(P[xvec::=Tvec])) \\<oplus> (Q[xvec::=Tvec]) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'", "have \"(\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P[xvec::=Tvec] \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel", "by(metis bisimE C1)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 P[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pInput M xvec\n                  N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n              N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput M\n                           xvec\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (pInput M xvec\n                N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n            N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput M xvec\n                         N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', P[xvec::=Tvec]) \\<in> Rel)\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case(cOutput M N K)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  K\\<langle>N\\<rangle> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"insertAssertion (extractFrame(M\\<langle>N\\<rangle>.P \\<oplus> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame(M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame\n       ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule Output)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "have \"\\<Psi> : (M\\<langle>N\\<rangle>.P \\<oplus> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule_tac weakTransitionI) auto"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "obtain P' where PTrans: \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<otimes>\n                 \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"guarded(\\<tau>.(P))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. guarded (\\<tau>.P)", "by(rule guardedTau)"], ["proof (state)\nthis:\n  guarded (\\<tau>.P)\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "with PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded (\\<tau>.P)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<longmapsto>\\<tau> \\<prec> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'\n  guarded (\\<tau>.P)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "by(rule Sum1)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "hence \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'", "have \"(\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel", "by(metis bisimE C1)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pOutput M\n                  N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n              N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput M\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (pOutput M\n                N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n            N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput M\n                         N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', P) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> P \\<sim> PQ; \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "by simp"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case cSum2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<beta> \\<prec> PQ\\<close> \\<open>\\<beta> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  \\<beta> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<beta> \\<prec> PQ\n  \\<beta> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "proof(induct rule: prefixCases)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case(cInput M xvec N K Tvec)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n  distinct xvec\n  K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"insertAssertion (extractFrame((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame(M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame\n       ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame\n   (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close> \\<open>distinct xvec\\<close> \\<open>set xvec \\<subseteq> supp N\\<close> \\<open>length xvec = length Tvec\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P) \\<oplus> Q)[xvec::=Tvec]\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  distinct xvec\n  set xvec \\<subseteq> supp N\n  length xvec = length Tvec\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule Input)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "with \\<open>length xvec = length Tvec\\<close> \\<open>distinct xvec\\<close>"], ["proof (chain)\npicking this:\n  length xvec = length Tvec\n  distinct xvec\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "have \"\\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P[xvec::=Tvec]) \\<oplus> Q[xvec::=Tvec])\""], ["proof (prove)\nusing this:\n  length xvec = length Tvec\n  distinct xvec\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by simp"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "have \"\\<Psi> : ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<lparr>(N[xvec::=Tvec])\\<rparr> \\<prec> (\\<tau>.(P[xvec::=Tvec]) \\<oplus> Q[xvec::=Tvec])\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by(rule_tac weakTransitionI) auto"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P[xvec::=Tvec]) \\<oplus> (Q[xvec::=Tvec]) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> \\<tau>.(P[xvec::=Tvec]) \\<oplus> (Q[xvec::=Tvec])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (3 subgoals):\n 1. \\<And>M xvec N K Tvec.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        set xvec \\<subseteq> supp N; length xvec = length Tvec;\n        distinct xvec;\n        K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pInput M xvec\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput\n          M xvec\n          N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n                                \\<in> Rel)\n 2. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 3. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pInput M xvec\n                  N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n              N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput M\n                           xvec\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n           \\<in> Rel)", "using \\<open>(\\<Psi> \\<otimes> \\<Psi>', \\<tau>.(P[xvec::=Tvec]) \\<oplus> (Q[xvec::=Tvec]), \\<tau>.(P[xvec::=Tvec]) \\<oplus> (Q[xvec::=Tvec])) \\<in> Rel\\<close> \\<open>length xvec = length Tvec\\<close> \\<open>distinct xvec\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : (M\\<lparr>\\<lambda>*xvec N\\<rparr>.P) \\<oplus>\\<^sub>\\<top> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<lparr>\\<lambda>*xvec N\\<rparr>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec] \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec]\n  (\\<Psi> \\<otimes> \\<Psi>',\n   (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec],\n   (\\<tau>.P[xvec::=Tvec]) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n  \\<in> Rel\n  length xvec = length Tvec\n  distinct xvec\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pInput M xvec\n                  N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n              N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput M\n                           xvec\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n           \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (pInput M xvec\n                N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pInput M xvec\n            N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pInput M xvec\n                         N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<lparr>N[xvec::=Tvec]\\<rparr> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P',\n          (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q[xvec::=Tvec])\n         \\<in> Rel)\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case(cOutput M N K)"], ["proof (state)\nthis:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n  K\\<langle>N\\<rangle> \\<noteq> \\<tau>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"insertAssertion (extractFrame(M\\<langle>N\\<rangle>.P \\<oplus> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion (extractFrame(M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q))) \\<Psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insertAssertion\n     (extractFrame\n       ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n     \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n (extractFrame (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n \\<Psi>", "by auto"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<Psi> \\<turnstile> M \\<leftrightarrow> K\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K", "have \"\\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<turnstile> M \\<leftrightarrow> K\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule Output)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "have \"\\<Psi> : (M\\<langle>N\\<rangle>.P \\<oplus> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q)) \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.(P) \\<oplus> Q) \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  insertAssertion\n   (extractFrame\n     ((M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n   \\<Psi> \\<hookrightarrow>\\<^sub>F insertAssertion\n                                     (extractFrame\n (M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q))\n                                     \\<Psi>\n  \\<Psi> \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by(rule_tac weakTransitionI) auto"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "moreover"], ["proof (state)\nthis:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "have \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> \\<tau>.(P) \\<oplus> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> \\<tau>.(P) \\<oplus> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes>\n    \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (2 subgoals):\n 1. \\<And>M N K.\n       \\<lbrakk>\\<Psi> \\<turnstile> M \\<leftrightarrow> K;\n        K\\<langle>N\\<rangle> \\<noteq> \\<tau>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>P''.\n                            \\<Psi> : (pOutput M\n N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n                                   N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput\n          M N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n                            (\\<exists>P'.\n                                \\<Psi> \\<otimes>\n                                \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                                (\\<Psi> \\<otimes> \\<Psi>', P',\n                                 (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n                                \\<in> Rel)\n 2. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pOutput M\n                  N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n              N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput M\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n           \\<in> Rel)", "using \\<open>(\\<Psi> \\<otimes> \\<Psi>', \\<tau>.(P) \\<oplus> Q, \\<tau>.(P) \\<oplus> Q) \\<in> Rel\\<close>"], ["proof (prove)\nusing this:\n  \\<Psi> : (M\\<langle>N\\<rangle>.P) \\<oplus>\\<^sub>\\<top> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> M\\<langle>N\\<rangle>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  \\<Psi> \\<otimes>\n  \\<Psi>' \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\n  (\\<Psi> \\<otimes> \\<Psi>', (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q,\n   (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n  \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pOutput M\n                  N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n              N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput M\n                           N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P',\n            (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n           \\<in> Rel)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (pOutput M\n                N\\<cdot>P) \\<oplus>\\<^sub>\\<top> pOutput M\n            N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pOutput M\n                         N\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>K\\<langle>N\\<rangle> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n         \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ;\n     \\<tau> \\<noteq> \\<tau>\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P''.\n                         \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n                         (\\<exists>P'.\n                             \\<Psi> \\<otimes>\n                             \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                             (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "from \\<open>\\<tau> \\<noteq> \\<tau>\\<close>"], ["proof (chain)\npicking this:\n  \\<tau> \\<noteq> \\<tau>", "show ?case"], ["proof (prove)\nusing this:\n  \\<tau> \\<noteq> \\<tau>\n\ngoal (1 subgoal):\n 1. \\<exists>P''.\n       \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n       (\\<exists>P'.\n           \\<Psi> \\<otimes>\n           \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n           (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)", "by simp"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (pTau\\<cdot>P) \\<oplus>\\<^sub>\\<top> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<tau> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P''.\n     \\<Psi> : (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<beta> \\<prec> P'' \\<and>\n     (\\<exists>P'.\n         \\<Psi> \\<otimes>\n         \\<Psi>' \\<rhd> P'' \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n         (\\<Psi> \\<otimes> \\<Psi>', P', PQ) \\<in> Rel)\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau PQ)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "case cSum1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ\n  guarded (\\<alpha>\\<cdot>P)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "obtain P'' where P'Trans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from P'Trans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q\\<longmapsto>\\<tau> \\<prec> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''", "by(rule_tac Sum1) (auto intro: guardedTau)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "with \\<open>\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''", "obtain P''' where P''Trans: \"\\<Psi> \\<rhd> P' \\<longmapsto>\\<tau> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P'' \\<sim> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n         \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(drule_tac bisimE(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<sim> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac bisimE(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<leadsto>[bisim] (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac simE)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> ?\\<alpha>6 \\<prec> ?Q'6\n 2. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\\<rbrakk>\n    \\<Longrightarrow> bn ?\\<alpha>6 \\<sharp>* \\<Psi>\n 3. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\\<rbrakk>\n    \\<Longrightarrow> bn ?\\<alpha>6 \\<sharp>* P'\n 4. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<exists>P'a.\n        \\<Psi> \\<rhd> P' \\<longmapsto> ?\\<alpha>6 \\<prec> P'a \\<and>\n        \\<Psi> \\<rhd> P'a \\<sim> ?Q'6\\<rbrakk>\n    \\<Longrightarrow> thesis", "by(auto dest: bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from PTrans P''Trans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''", "have \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''", "by(fastforce dest: tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> PQ\\<close> \\<open>\\<Psi> \\<rhd> P'' \\<sim> P'''\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> P \\<sim> P''", "have \"\\<Psi> \\<rhd> P''' \\<sim> PQ\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P''' \\<sim> PQ", "by(metis bisimSymmetric bisimTransitive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P''' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "hence \"(\\<Psi>, P''', PQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P''' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P''', PQ) \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P''', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', PQ) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "case cSum2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n  guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>((\\<tau>.(P)) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'", "by(rule tauActTauChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\\<close> \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q \\<sim> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ", "have \"\\<Psi> \\<rhd> P' \\<sim> PQ\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P' \\<sim> PQ", "by(metis bisimSymmetric bisimTransitive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "hence \"(\\<Psi>, P', PQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P', PQ) \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', PQ) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P'\n  (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sup>^\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tauLaw4CongSimRight:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   \\<alpha> :: \"'a prefix\"\n\n  assumes C1: \"\\<And>\\<Psi> P Q. \\<Psi> \\<rhd> P \\<sim> Q \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> Rel\"\n\n  shows \"\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<leadsto>\\<guillemotleft>Rel\\<guillemotright> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q", "proof(induct rule: weakCongSimI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "case(cTau PQ)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<And>Q'.\n       \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> Q' \\<Longrightarrow>\n       \\<exists>P'.\n          \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n          (\\<Psi>, P', Q') \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<oplus> \\<alpha>\\<cdot>(\\<tau>.(P) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<alpha>\\<cdot>P) \\<oplus>\\<^sub>\\<top> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "proof(induct rule: sumCases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "case cSum1"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ\n  guarded (\\<alpha>\\<cdot>P)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>P)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel\n 2. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>P \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "obtain P'' where P'Trans: \"\\<Psi> \\<rhd> \\<tau>.(P) \\<longmapsto>\\<tau> \\<prec> P''\" and \"\\<Psi> \\<rhd> P \\<sim> P''\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P''.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P'';\n         \\<Psi> \\<rhd> P \\<sim> P''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from P'Trans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''", "have \"\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q\\<longmapsto>\\<tau> \\<prec> P''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.P \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''", "by(rule_tac Sum1) (auto intro: guardedTau)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "with \\<open>\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''", "obtain P''' where P''Trans: \"\\<Psi> \\<rhd> P' \\<longmapsto>\\<tau> \\<prec> P'''\" and \"\\<Psi> \\<rhd> P'' \\<sim> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\n\ngoal (1 subgoal):\n 1. (\\<And>P'''.\n        \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n         \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "apply(drule_tac bisimE(4))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<sim> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac bisimE(2))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<Psi> \\<rhd> P' \\<leadsto>[bisim] (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q\\<rbrakk>\n    \\<Longrightarrow> thesis", "apply(drule_tac simE)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\\<rbrakk>\n    \\<Longrightarrow> \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> ?\\<alpha>6 \\<prec> ?Q'6\n 2. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\\<rbrakk>\n    \\<Longrightarrow> bn ?\\<alpha>6 \\<sharp>* \\<Psi>\n 3. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P''\\<rbrakk>\n    \\<Longrightarrow> bn ?\\<alpha>6 \\<sharp>* P'\n 4. \\<lbrakk>\\<And>P'''.\n                \\<lbrakk>\\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P''';\n                 \\<Psi> \\<rhd> P'' \\<sim> P'''\\<rbrakk>\n                \\<Longrightarrow> thesis;\n     \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'';\n     \\<exists>P'a.\n        \\<Psi> \\<rhd> P' \\<longmapsto> ?\\<alpha>6 \\<prec> P'a \\<and>\n        \\<Psi> \\<rhd> P'a \\<sim> ?Q'6\\<rbrakk>\n    \\<Longrightarrow> thesis", "by(auto dest: bisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from PTrans P''Trans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''", "have \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<Longrightarrow>\\<^sub>\\<tau> P'''\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> P' \\<longmapsto> \\<tau> \\<prec> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'''", "by(fastforce dest: tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> P \\<sim> PQ\\<close> \\<open>\\<Psi> \\<rhd> P'' \\<sim> P'''\\<close> \\<open>\\<Psi> \\<rhd> P \\<sim> P''\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> P \\<sim> P''", "have \"\\<Psi> \\<rhd> P''' \\<sim> PQ\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<sim> PQ\n  \\<Psi> \\<rhd> P'' \\<sim> P'''\n  \\<Psi> \\<rhd> P \\<sim> P''\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P''' \\<sim> PQ", "by(metis bisimSymmetric bisimTransitive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P''' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "hence \"(\\<Psi>, P''', PQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P''' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P''', PQ) \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P''', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', PQ) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'''\n  (\\<Psi>, P''', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "case cSum2"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n  guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ;\n     guarded (\\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>P'.\n                         \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n                         (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> \\<alpha>\\<cdot>((\\<tau>.(P)) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> PQ\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "proof(induct rule: prefixTauCases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "case cTau"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "obtain P' where PTrans: \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<longmapsto>\\<tau> \\<prec> P'\" and \"\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using tauActionI"], ["proof (prove)\nusing this:\n  \\<exists>P'.\n     ?\\<Psi> \\<rhd> \\<tau>.?P \\<longmapsto> \\<tau> \\<prec> P' \\<and>\n     ?\\<Psi> \\<rhd> ?P \\<sim> P'\n\ngoal (1 subgoal):\n 1. (\\<And>P'.\n        \\<lbrakk>\\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P';\n         \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from PTrans"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'", "have \"\\<Psi> \\<rhd> \\<tau>.((\\<tau>.(P)) \\<oplus> Q) \\<Longrightarrow>\\<^sub>\\<tau> P'\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<longmapsto> \\<tau> \\<prec> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'", "by(rule tauActTauStepChain)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "moreover"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "from \\<open>\\<Psi> \\<rhd> (\\<tau>.(P)) \\<oplus> Q \\<sim> P'\\<close> \\<open>\\<Psi> \\<rhd> \\<tau>.(P) \\<oplus> Q \\<sim> PQ\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ", "have \"\\<Psi> \\<rhd> P' \\<sim> PQ\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> P'\n  \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P' \\<sim> PQ", "by(metis bisimSymmetric bisimTransitive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "hence \"(\\<Psi>, P', PQ) \\<in> Rel\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P' \\<sim> PQ\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P', PQ) \\<in> Rel", "by(rule C1)"], ["proof (state)\nthis:\n  (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> (\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<sim> PQ \\<Longrightarrow>\n    \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "ultimately"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n  (\\<Psi>, P', PQ) \\<in> Rel", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> \\<tau>.(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P'\n  (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal (1 subgoal):\n 1. \\<exists>P'.\n       \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n       (\\<Psi>, P', PQ) \\<in> Rel", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> pTau\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>P'.\n     \\<Psi> \\<rhd> \\<alpha>\\<cdot>(\\<tau>.P) \\<oplus>\\<^sub>\\<top> Q \\<Longrightarrow>\\<^sub>\\<tau> P' \\<and>\n     (\\<Psi>, P', PQ) \\<in> Rel\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}