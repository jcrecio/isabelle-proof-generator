{"file_name": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi/Weaken_Bisimulation.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Psi_Calculi", "problem_names": ["lemma weakenMonoCoinduct: \"\\<And>x y xa xb xc P Q \\<Psi>.\n                      x \\<le> y \\<Longrightarrow>\n                      (\\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xc, xb, xa). x xc xb xa}> P) \\<longrightarrow>\n                     (\\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xb, xa, xc). y xb xa xc}> P)\"", "lemma weakenMonoCoinduct2: \"\\<And>x y xa xb xc P Q \\<Psi>.\n                      x \\<le> y \\<Longrightarrow>\n                      (\\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xc, xb, xa). x xc xb xa}> P) \\<longrightarrow>\n                     (\\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xb, xa, xc). y xb xa xc}> P)\"", "lemma weakenBisimCoinductAux[consumes 1]:\n  fixes F :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q) \\<and>\n                                    (\\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> Q) \\<and>\n                                    (\\<forall>\\<Psi>'. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<or> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> weakenBisim) \\<and>\n                                    ((\\<Psi>, Q, P) \\<in> X \\<or> (\\<Psi>, Q, P) \\<in> weakenBisim)\"\n\n  shows \"(\\<Psi>, P, Q) \\<in> weakenBisim\"", "lemma weakenBisimCoinduct[consumes 1, case_names cStatImp cSim cExt cSym]:\n  fixes F :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi>' R S. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> \\<Psi>' \\<rhd> R \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> S\"\n  and     \"\\<And>\\<Psi>' R S. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> \\<Psi>' \\<rhd> R \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> S\"\n  and     \"\\<And>\\<Psi>' R S \\<Psi>''. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> (\\<Psi>' \\<otimes> \\<Psi>'', R, S) \\<in> X \\<or> \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx>\\<^sub>w S\"\n  and     \"\\<And>\\<Psi>' R S. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> (\\<Psi>', S, R) \\<in> X \\<or> \\<Psi>' \\<rhd> S \\<approx>\\<^sub>w R\"\n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\"", "lemma weakenBisimWeakCoinductAux[consumes 1]:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<X> Q \\<and> (\\<forall>\\<Psi>'. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X) \\<and> \n                                    (\\<Psi>, Q, P) \\<in> X\" \n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\"", "lemma weakenBisimE:\n  fixes P  :: \"('a, 'b, 'c) psi\"\n  and   Q  :: \"('a, 'b, 'c) psi\"\n  and   \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q\"\n  and   \"\\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakenBisim> Q\"\n  and   \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\"\n  and   \"\\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P\"", "lemma weakenBisimWeakCoinduct[consumes 1, case_names cStatImp cSim cExt cSym]:\n  fixes F :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<X> Q\"\n  and     \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X\"\n\n  shows \"(\\<Psi>, P, Q) \\<in> weakenBisim\"", "lemma weakenBisimEqWeakBisim[simp]: \"weakenBisim = weakBisim\"", "lemma weakenTransitiveWeakCoinduct[case_names cStatImp cSim cExt cSym, case_conclusion bisim step, consumes 2]:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes p: \"(\\<Psi>, P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and rStatImp: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\"\n  and rSim: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<({(\\<Psi>, P, Q) | \\<Psi> P Q. \\<exists>P' Q'. \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                                                        (\\<Psi>, P', Q') \\<in> X \\<and>\n                                                                        \\<Psi> \\<rhd> Q' \\<sim> Q})> Q\"\n  and rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\"\n  and rSym: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X\"\n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\"", "lemma weakenTransitiveCoinduct[case_names cStatImp cSim cExt cSym, case_conclusion bisim step, consumes 2]:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes p: \"(\\<Psi>, P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and rStatImp: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q\"\n  and rSim: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<({(\\<Psi>, P, Q) | \\<Psi> P Q. \\<exists>P' Q'. \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                                                        (\\<Psi>, P', Q') \\<in> (X \\<union> weakenBisim) \\<and>\n                                                                        \\<Psi> \\<rhd> Q' \\<sim> Q})> Q\"\n  and rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\"\n  and rSym: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim\"\n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], "translations": [["", "lemma weakenMonoCoinduct: \"\\<And>x y xa xb xc P Q \\<Psi>.\n                      x \\<le> y \\<Longrightarrow>\n                      (\\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xc, xb, xa). x xc xb xa}> P) \\<longrightarrow>\n                     (\\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xb, xa, xc). y xb xa xc}> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y xa xb xc P Q \\<Psi>.\n       x \\<le> y \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xc, xb, xa).\n     x xc xb xa}> P \\<longrightarrow>\n       \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xb, xa, xc). y xb xa xc}> P", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y P Q \\<Psi>.\n       \\<lbrakk>x \\<le> y;\n        \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xc, xa, y).\n      x xc xa y}> P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xb, x, ya).\n                       y xb x ya}> P", "apply(rule weakenSimMonotonic)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x y P Q \\<Psi>.\n       \\<lbrakk>x \\<le> y;\n        \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xc, xa, y).\n      x xc xa y}> P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<?A1 x y P Q\n                       \\<Psi>> P\n 2. \\<And>x y P Q \\<Psi>.\n       \\<lbrakk>x \\<le> y;\n        \\<Psi> \\<rhd> Q \\<leadsto>\\<^sub>w<{(xc, xa, y).\n      x xc xa y}> P\\<rbrakk>\n       \\<Longrightarrow> ?A1 x y P Q \\<Psi>\n                         \\<subseteq> {(xb, x, ya). y xb x ya}", "by(auto dest: le_funE)"], ["", "lemma weakenMonoCoinduct2: \"\\<And>x y xa xb xc P Q \\<Psi>.\n                      x \\<le> y \\<Longrightarrow>\n                      (\\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xc, xb, xa). x xc xb xa}> P) \\<longrightarrow>\n                     (\\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xb, xa, xc). y xb xa xc}> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y xa xb xc P Q \\<Psi>.\n       x \\<le> y \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xc, xb, xa).\n        x xc xb xa}> P \\<longrightarrow>\n       \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xb, xa, xc). y xb xa xc}> P", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y P Q \\<Psi>.\n       \\<lbrakk>x \\<le> y;\n        \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xc, xa, y).\n         x xc xa y}> P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xb, x, ya).\n                          y xb x ya}> P", "apply(rule weakenStatImpMonotonic)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x y P Q \\<Psi>.\n       \\<lbrakk>x \\<le> y;\n        \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xc, xa, y).\n         x xc xa y}> P\\<rbrakk>\n       \\<Longrightarrow> \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<?A1 x y P Q\n                          \\<Psi>> P\n 2. \\<And>x y P Q \\<Psi>.\n       \\<lbrakk>x \\<le> y;\n        \\<Psi> \\<rhd> Q \\<lessapprox>\\<^sub>w<{(xc, xa, y).\n         x xc xa y}> P\\<rbrakk>\n       \\<Longrightarrow> ?A1 x y P Q \\<Psi>\n                         \\<subseteq> {(xb, x, ya). y xb x ya}", "by(auto dest: le_funE)"], ["", "coinductive_set weakenBisim :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\" \nwhere\n  step: \"\\<lbrakk>\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q; \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakenBisim> Q;\n          \\<forall>\\<Psi>'. (\\<Psi> \\<otimes> \\<Psi>',  P, Q) \\<in> weakenBisim; (\\<Psi>, Q, P) \\<in> weakenBisim\\<rbrakk> \\<Longrightarrow> (\\<Psi>, P, Q) \\<in> weakenBisim\"\nmonos weakenMonoCoinduct weakenMonoCoinduct2"], ["", "abbreviation\n  weakenBisimJudge (\"_ \\<rhd> _ \\<approx>\\<^sub>w _\" [70, 70, 70] 65) where \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<equiv> (\\<Psi>, P, Q) \\<in> weakenBisim\""], ["", "abbreviation\n  weakenBisimNilJudge (\"_ \\<approx>\\<^sub>w _\" [70, 70] 65) where \"P \\<approx>\\<^sub>w Q \\<equiv> \\<one> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["", "lemma weakenBisimCoinductAux[consumes 1]:\n  fixes F :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q) \\<and>\n                                    (\\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> Q) \\<and>\n                                    (\\<forall>\\<Psi>'. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<or> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> weakenBisim) \\<and>\n                                    ((\\<Psi>, Q, P) \\<in> X \\<or> (\\<Psi>, Q, P) \\<in> weakenBisim)\"\n\n  shows \"(\\<Psi>, P, Q) \\<in> weakenBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "have \"X \\<union> weakenBisim = {(\\<Psi>, P, Q). (\\<Psi>, P, Q) \\<in> X \\<or> (\\<Psi>, P, Q) \\<in> weakenBisim}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakenBisim =\n    {(\\<Psi>, P, Q).\n     (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}", "by auto"], ["proof (state)\nthis:\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "with assms"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<(X \\<union>\n     weakenBisim)> ?Q \\<and>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> ?Q \\<and>\n  (\\<forall>\\<Psi>'.\n      (?\\<Psi> \\<otimes> \\<Psi>', ?P, ?Q) \\<in> X \\<or>\n      ?\\<Psi> \\<otimes> \\<Psi>' \\<rhd> ?P \\<approx>\\<^sub>w ?Q) \\<and>\n  ((?\\<Psi>, ?Q, ?P) \\<in> X \\<or> ?\\<Psi> \\<rhd> ?Q \\<approx>\\<^sub>w ?P)\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<(X \\<union>\n     weakenBisim)> ?Q \\<and>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> ?Q \\<and>\n  (\\<forall>\\<Psi>'.\n      (?\\<Psi> \\<otimes> \\<Psi>', ?P, ?Q) \\<in> X \\<or>\n      ?\\<Psi> \\<otimes> \\<Psi>' \\<rhd> ?P \\<approx>\\<^sub>w ?Q) \\<and>\n  ((?\\<Psi>, ?Q, ?P) \\<in> X \\<or> ?\\<Psi> \\<rhd> ?Q \\<approx>\\<^sub>w ?P)\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "by coinduct (simp add: rtrancl_def)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakenBisimCoinduct[consumes 1, case_names cStatImp cSim cExt cSym]:\n  fixes F :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi>' R S. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> \\<Psi>' \\<rhd> R \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> S\"\n  and     \"\\<And>\\<Psi>' R S. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> \\<Psi>' \\<rhd> R \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> S\"\n  and     \"\\<And>\\<Psi>' R S \\<Psi>''. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> (\\<Psi>' \\<otimes> \\<Psi>'', R, S) \\<in> X \\<or> \\<Psi>' \\<otimes> \\<Psi>'' \\<rhd> R \\<approx>\\<^sub>w S\"\n  and     \"\\<And>\\<Psi>' R S. (\\<Psi>', R, S) \\<in> X \\<Longrightarrow> (\\<Psi>', S, R) \\<in> X \\<or> \\<Psi>' \\<rhd> S \\<approx>\\<^sub>w R\"\n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "have \"X \\<union> weakenBisim = {(\\<Psi>, P, Q). (\\<Psi>, P, Q) \\<in> X \\<or> (\\<Psi>, P, Q) \\<in> weakenBisim}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakenBisim =\n    {(\\<Psi>, P, Q).\n     (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}", "by auto"], ["proof (state)\nthis:\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "with assms"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  ?\\<Psi>' \\<rhd> ?R \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> ?S\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  ?\\<Psi>' \\<rhd> ?R \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> ?S\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  (?\\<Psi>' \\<otimes> ?\\<Psi>'', ?R, ?S) \\<in> X \\<or>\n  ?\\<Psi>' \\<otimes> ?\\<Psi>'' \\<rhd> ?R \\<approx>\\<^sub>w ?S\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  (?\\<Psi>', ?S, ?R) \\<in> X \\<or> ?\\<Psi>' \\<rhd> ?S \\<approx>\\<^sub>w ?R\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  ?\\<Psi>' \\<rhd> ?R \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> ?S\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  ?\\<Psi>' \\<rhd> ?R \\<leadsto>\\<^sub>w<(X \\<union> weakenBisim)> ?S\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  (?\\<Psi>' \\<otimes> ?\\<Psi>'', ?R, ?S) \\<in> X \\<or>\n  ?\\<Psi>' \\<otimes> ?\\<Psi>'' \\<rhd> ?R \\<approx>\\<^sub>w ?S\n  (?\\<Psi>', ?R, ?S) \\<in> X \\<Longrightarrow>\n  (?\\<Psi>', ?S, ?R) \\<in> X \\<or> ?\\<Psi>' \\<rhd> ?S \\<approx>\\<^sub>w ?R\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "by coinduct (simp add: rtrancl_def)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakenBisimWeakCoinductAux[consumes 1]:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q \\<and>\n                                     \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<X> Q \\<and> (\\<forall>\\<Psi>'. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X) \\<and> \n                                    (\\<Psi>, Q, P) \\<in> X\" \n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "using assms"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q \\<and>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<X> ?Q \\<and>\n  (\\<forall>\\<Psi>'. (?\\<Psi> \\<otimes> \\<Psi>', ?P, ?Q) \\<in> X) \\<and>\n  (?\\<Psi>, ?Q, ?P) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "by(coinduct rule: weakenBisimCoinductAux) (blast intro: weakenSimMonotonic weakenStatImpMonotonic)"], ["", "lemma weakenBisimE:\n  fixes P  :: \"('a, 'b, 'c) psi\"\n  and   Q  :: \"('a, 'b, 'c) psi\"\n  and   \\<Psi>  :: 'b\n  and   \\<Psi>' :: 'b\n\n  assumes \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\"\n\n  shows \"\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q\"\n  and   \"\\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakenBisim> Q\"\n  and   \"\\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\"\n  and   \"\\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q &&&\n     \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakenBisim> Q) &&&\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q &&&\n    \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "using assms"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q &&&\n     \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakenBisim> Q) &&&\n    \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q &&&\n    \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "by(auto intro: weakenBisim.cases simp add: rtrancl_def)"], ["", "lemma weakenBisimWeakCoinduct[consumes 1, case_names cStatImp cSim cExt cSym]:\n  fixes F :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes \"(\\<Psi>, P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<X> Q\"\n  and     \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\"\n  and     \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X\"\n\n  shows \"(\\<Psi>, P, Q) \\<in> weakenBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "have \"X \\<union> weakenBisim = {(\\<Psi>, P, Q). (\\<Psi>, P, Q) \\<in> X \\<or> (\\<Psi>, P, Q) \\<in> weakenBisim}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakenBisim =\n    {(\\<Psi>, P, Q).\n     (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}", "by auto"], ["proof (state)\nthis:\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "with assms"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow> (?\\<Psi>, ?Q, ?P) \\<in> X\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow> (?\\<Psi>, ?Q, ?P) \\<in> X\n  X \\<union> weakenBisim =\n  {(\\<Psi>, P, Q).\n   (\\<Psi>, P, Q) \\<in> X \\<or> \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "by(coinduct rule: weakenBisimWeakCoinductAux) blast"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakenBisimEqWeakBisim[simp]: \"weakenBisim = weakBisim\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakenBisim = weakBisim", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx>\\<^sub>w b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx> b\n 2. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "fix \\<Psi> P Q"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx>\\<^sub>w b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx> b\n 2. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "assume \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (2 subgoals):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx>\\<^sub>w b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx> b\n 2. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "thus \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx> Q", "proof(coinduct rule: weakBisimWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><weakenBisim> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 4. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><weakenBisim> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 4. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "from \\<open>\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "have \"\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q", "by(rule weakenBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><weakenBisim> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 4. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><weakenBisim> Q", "using weakenBisimE(3)"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakenBisim> Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx>\\<^sub>w ?Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><weakenBisim> Q", "by(rule weakenStatImpWeakStatImp)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakenBisim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "from \\<open>\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\\<close> weakenBisimE"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<weakenBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<weakenBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx>\\<^sub>w ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx>\\<^sub>w ?P", "show ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<weakenBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<weakenBisim> ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<otimes> ?\\<Psi>' \\<rhd> ?P \\<approx>\\<^sub>w ?Q\n  ?\\<Psi> \\<rhd> ?P \\<approx>\\<^sub>w ?Q \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?Q \\<approx>\\<^sub>w ?P\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q", "by(rule weakenSimWeakSim)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><weakenBisim> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q", "by(rule weakenBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P", "by(rule weakenBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<approx>\\<^sub>w P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "fix \\<Psi> P Q"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "assume \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>a aa b.\n       a \\<rhd> aa \\<approx> b \\<Longrightarrow>\n       a \\<rhd> aa \\<approx>\\<^sub>w b", "thus \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof(coinduct rule: weakenBisimWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 4. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 4. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "from \\<open>\\<Psi> \\<rhd> P \\<approx> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q", "have \"\\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 4. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakBisim> Q", "using statEqWeakBisim"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox><weakBisim> Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakBisim> Q", "by(rule weakStatImpWeakenStatImp)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<weakBisim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "from \\<open>\\<Psi> \\<rhd> P \\<approx> Q\\<close>"], ["proof (chain)\npicking this:\n  \\<Psi> \\<rhd> P \\<approx> Q", "have \"\\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\""], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 3. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q", "using statEqWeakBisim"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<leadsto><weakBisim> Q\n  \\<lbrakk>?\\<Psi> \\<rhd> ?P \\<approx> ?Q;\n   ?\\<Psi> \\<simeq> ?\\<Psi>'\\<rbrakk>\n  \\<Longrightarrow> ?\\<Psi>' \\<rhd> ?P \\<approx> ?Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q", "by(rule weakSimWeakenSim)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<weakBisim> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n 2. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<otimes> \\<Psi>' \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       \\<Psi> \\<rhd> P \\<approx> Q \\<Longrightarrow>\n       \\<Psi> \\<rhd> Q \\<approx> P", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> Q \\<approx> P", "by(rule weakBisimE)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> Q \\<approx> P\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakenTransitiveWeakCoinduct[case_names cStatImp cSim cExt cSym, case_conclusion bisim step, consumes 2]:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes p: \"(\\<Psi>, P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and rStatImp: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\"\n  and rSim: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<({(\\<Psi>, P, Q) | \\<Psi> P Q. \\<exists>P' Q'. \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                                                        (\\<Psi>, P', Q') \\<in> X \\<and>\n                                                                        \\<Psi> \\<rhd> Q' \\<sim> Q})> Q\"\n  and rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\"\n  and rSym: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X\"\n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "from p \\<open>eqvt X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X\n  eqvt X", "have \"\\<Psi> \\<rhd> P \\<approx> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  eqvt X\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx> Q", "proof(coinduct rule: weakTransitiveWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><X> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><X> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "from \\<open>(\\<Psi>, P, Q) \\<in> X\\<close>"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X", "have \"\\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q", "by(rule rStatImp)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox><X> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><X> Q", "using rExt"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<X> Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox><X> Q", "by(rule weakenStatImpWeakStatImp)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox><X> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "let ?Y = \"{(\\<Psi>, P, Q) | \\<Psi> P Q. \\<exists>P' Q'. \\<Psi> \\<rhd> P \\<sim> P' \\<and> (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\""], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "note \\<open>(\\<Psi>, P, Q) \\<in> X\\<close>"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "note rStatImp rSim"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n  \\<exists>P' Q'.\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "moreover"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n  \\<exists>P' Q'.\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> ?Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "have \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> ?Y \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q)\n       \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n              \\<exists>P' Q'.\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q') \\<in> X \\<and>\n                 \\<Psi> \\<rhd> Q' \\<sim> Q} \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q)\n       \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n              \\<exists>P' Q'.\n                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                 (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}", "by(blast dest: bisimE rExt)"], ["proof (state)\nthis:\n  (?\\<Psi>, ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q} \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                   \\<exists>P' Q'.\n\\<Psi> \\<rhd> P \\<sim> P' \\<and>\n(\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n  \\<exists>P' Q'.\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> ?Q\n  (?\\<Psi>, ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q} \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n  \\<exists>P' Q'.\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> ?Q\n  (?\\<Psi>, ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q} \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                \\<exists>P' Q'.\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q') \\<in> X \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}> Q", "using rSym"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<lessapprox>\\<^sub>w<X> ?Q\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?\\<Psi> \\<rhd> ?P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n  \\<exists>P' Q'.\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}> ?Q\n  (?\\<Psi>, ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and>\n            \\<Psi> \\<rhd> Q' \\<sim> Q} \\<Longrightarrow>\n  (?\\<Psi> \\<otimes> ?\\<Psi>', ?P, ?Q)\n  \\<in> {(\\<Psi>, P, Q) |\\<Psi> P Q.\n         \\<exists>P' Q'.\n            \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n            (\\<Psi>, P', Q') \\<in> X \\<and> \\<Psi> \\<rhd> Q' \\<sim> Q}\n  (?\\<Psi>, ?P, ?Q) \\<in> X \\<Longrightarrow> (?\\<Psi>, ?Q, ?P) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                                \\<exists>P' Q'.\n                                   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                   (\\<Psi>, P', Q') \\<in> X \\<and>\n                                   \\<Psi> \\<rhd> Q' \\<sim> Q}> Q", "by(rule weakenSimWeakSim)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto><{(\\<Psi>, P, Q) |\\<Psi> P Q.\n                              \\<exists>P' Q'.\n                                 \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                 (\\<Psi>, P', Q') \\<in> X \\<and>\n                                 \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X", "by(rule rExt)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P) \\<in> X", "by(rule rSym)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P) \\<in> X\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Psi> \\<rhd> P \\<approx> Q\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "by(simp add: weakenBisimEqWeakBisim)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakenTransitiveCoinduct[case_names cStatImp cSim cExt cSym, case_conclusion bisim step, consumes 2]:\n  fixes \\<Psi> :: 'b\n  and   P :: \"('a, 'b, 'c) psi\"\n  and   Q :: \"('a, 'b, 'c) psi\"\n  and   X :: \"('b \\<times> ('a, 'b, 'c) psi \\<times> ('a, 'b, 'c) psi) set\"\n\n  assumes p: \"(\\<Psi>, P, Q) \\<in> X\"\n  and Eqvt: \"eqvt X\"\n  and rStatImp: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q\"\n  and rSim: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<({(\\<Psi>, P, Q) | \\<Psi> P Q. \\<exists>P' Q'. \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n                                                                        (\\<Psi>, P', Q') \\<in> (X \\<union> weakenBisim) \\<and>\n                                                                        \\<Psi> \\<rhd> Q' \\<sim> Q})> Q\"\n  and rExt: \"\\<And>\\<Psi> P Q \\<Psi>'. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\"\n  and rSym: \"\\<And>\\<Psi> P Q. (\\<Psi>, P, Q) \\<in> X \\<Longrightarrow> (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim\"\n\n  shows \"\\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "from p"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X", "have \"(\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\""], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim", "by auto"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "moreover"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "from \\<open>eqvt X\\<close>"], ["proof (chain)\npicking this:\n  eqvt X", "have \"eqvt(X \\<union> weakenBisim)\""], ["proof (prove)\nusing this:\n  eqvt X\n\ngoal (1 subgoal):\n 1. eqvt (X \\<union> weakenBisim)", "by auto"], ["proof (state)\nthis:\n  eqvt (X \\<union> weakenBisim)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n  eqvt (X \\<union> weakenBisim)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n  eqvt (X \\<union> weakenBisim)\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q", "proof(coinduct rule: weakenTransitiveWeakCoinduct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n     \\<exists>P' Q'.\n        \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n        (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n        \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "case(cStatImp \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (4 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n     \\<exists>P' Q'.\n        \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n        (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n        \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 3. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 4. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q", "by(fastforce intro: rStatImp weakenBisimE(1) weakenStatImpMonotonic)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<lessapprox>\\<^sub>w<(X \\<union> weakenBisim)> Q\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n     \\<exists>P' Q'.\n        \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n        (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n        \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n     \\<exists>P' Q'.\n        \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n        (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n        \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "case(cSim \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (3 subgoals):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n     \\<exists>P' Q'.\n        \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n        (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n        \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n 2. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 3. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n  \\<exists>P' Q'.\n     \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n     (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n     \\<Psi> \\<rhd> Q' \\<sim> Q}> Q", "by(fastforce intro: rSim weakenBisimE(2) weakenSimMonotonic bisimReflexive)"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<leadsto>\\<^sub>w<{(\\<Psi>, P, Q) |\\<Psi> P Q.\n\\<exists>P' Q'.\n   \\<Psi> \\<rhd> P \\<sim> P' \\<and>\n   (\\<Psi>, P', Q') \\<in> X \\<union> weakenBisim \\<and>\n   \\<Psi> \\<rhd> Q' \\<sim> Q}> Q\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "case(cExt \\<Psi> P Q \\<Psi>')"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (2 subgoals):\n 1. \\<And>\\<Psi> P Q \\<Psi>'.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n 2. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim", "by(blast dest: weakenBisimE rExt)"], ["proof (state)\nthis:\n  (\\<Psi> \\<otimes> \\<Psi>', P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "case(cSym \\<Psi> P Q)"], ["proof (state)\nthis:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. \\<And>\\<Psi> P Q.\n       (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim \\<Longrightarrow>\n       (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Psi>, P, Q) \\<in> X \\<union> weakenBisim\n\ngoal (1 subgoal):\n 1. (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim", "by(blast dest: weakenBisimE rSym)"], ["proof (state)\nthis:\n  (\\<Psi>, Q, P) \\<in> X \\<union> weakenBisim\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<Psi> \\<rhd> P \\<approx>\\<^sub>w Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "end"]]}