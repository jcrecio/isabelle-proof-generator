{"file_name": "/home/qj213/afp-2021-10-22/thys/Algebraic_Numbers/Show_Real_Precise.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Algebraic_Numbers", "problem_names": ["lemma real_alg_show_info: \"real_alg_show_info x = Rat_Info r \\<Longrightarrow> real_of x = of_rat r\" \n  \"real_alg_show_info x = Sqrt_Info r sq \\<Longrightarrow> real_of x = of_rat r + sqrt (of_rat sq)\" \n  \"real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow> p represents (real_of x) \\<and> n = card {y. y \\<le> real_of x \\<and> ipoly p y = 0}\" \n  (is \"?l \\<Longrightarrow> ?r\")"], "translations": [["", "lemma real_alg_show_info: \"real_alg_show_info x = Rat_Info r \\<Longrightarrow> real_of x = of_rat r\" \n  \"real_alg_show_info x = Sqrt_Info r sq \\<Longrightarrow> real_of x = of_rat r + sqrt (of_rat sq)\" \n  \"real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow> p represents (real_of x) \\<and> n = card {y. y \\<le> real_of x \\<and> ipoly p y = 0}\" \n  (is \"?l \\<Longrightarrow> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<Longrightarrow>\n     real_of x = real_of_rat r) &&&\n    (real_alg_show_info x = Sqrt_Info r sq \\<Longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) &&&\n    (real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "proof (atomize(full), goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "note d = real_alg_show_info_def"], ["proof (state)\nthis:\n  real_alg_show_info ?x = convert_info (info_real_alg ?x)\n\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "proof (cases \"info_real_alg x\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a.\n       info_real_alg x = Inl a \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})\n 2. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "case (Inl q)"], ["proof (state)\nthis:\n  info_real_alg x = Inl q\n\ngoal (2 subgoals):\n 1. \\<And>a.\n       info_real_alg x = Inl a \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})\n 2. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from info_real_alg(2)[OF this] this"], ["proof (chain)\npicking this:\n  real_of x = real_of_rat q\n  info_real_alg x = Inl q", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of x = real_of_rat q\n  info_real_alg x = Inl q\n\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "unfolding d"], ["proof (prove)\nusing this:\n  real_of x = real_of_rat q\n  info_real_alg x = Inl q\n\ngoal (1 subgoal):\n 1. (convert_info (info_real_alg x) = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (convert_info (info_real_alg x) = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (convert_info (info_real_alg x) = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "by auto"], ["proof (state)\nthis:\n  (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n   real_of x = real_of_rat r) \\<and>\n  (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n   real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n  (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n   p represents real_of x \\<and>\n   n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "case (Inr qm)"], ["proof (state)\nthis:\n  info_real_alg x = Inr qm\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "then"], ["proof (chain)\npicking this:\n  info_real_alg x = Inr qm", "obtain p n where id: \"info_real_alg x = Inr (p,n)\""], ["proof (prove)\nusing this:\n  info_real_alg x = Inr qm\n\ngoal (1 subgoal):\n 1. (\\<And>p n.\n        info_real_alg x = Inr (p, n) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases qm, auto)"], ["proof (state)\nthis:\n  info_real_alg x = Inr (p, n)\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from info_real_alg(1)[OF id]"], ["proof (chain)\npicking this:\n  p represents real_of x \\<and>\n  card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  n \\<and>\n  irreducible p", "have ap: \"p represents (real_of x)\" and n: \"n = card {y. y \\<le> real_of x \\<and> ipoly p y = 0}\" \n      and irr: \"irreducible p\""], ["proof (prove)\nusing this:\n  p represents real_of x \\<and>\n  card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  n \\<and>\n  irreducible p\n\ngoal (1 subgoal):\n 1. p represents real_of x &&&\n    n =\n    card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} &&&\n    irreducible p", "by auto"], ["proof (state)\nthis:\n  p represents real_of x\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  irreducible p\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "note id' = real_alg_show_info_def id convert_info.simps Fract_of_int_quotient Let_def"], ["proof (state)\nthis:\n  real_alg_show_info ?x = convert_info (info_real_alg ?x)\n  info_real_alg x = Inr (p, n)\n  convert_info (Inl ?q) = Rat_Info ?q\n  convert_info (Inr (?f, ?n)) =\n  (if degree ?f = 2\n   then let a = coeff ?f 2; b = coeff ?f 1; c = coeff ?f 0;\n            b2a = Rat.Fract (- b) (2 * a);\n            below = Rat.Fract (b * b - 4 * a * c) (4 * a * a)\n        in Sqrt_Info b2a (if ?n = 1 then - below else below)\n   else Real_Alg_Info ?f ?n)\n  Rat.Fract ?k ?l = rat_of_int ?k / rat_of_int ?l\n  Let ?s ?f \\<equiv> ?f ?s\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "have last: \"?l \\<Longrightarrow> ?r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow>\n    p represents real_of x \\<and>\n    n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "unfolding id'"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if degree p = 2\n     then Sqrt_Info (rat_of_int (- coeff p 1) / rat_of_int (2 * coeff p 2))\n           (if n = 1\n            then - (rat_of_int\n                     (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n                    rat_of_int (4 * coeff p 2 * coeff p 2))\n            else rat_of_int\n                  (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n                 rat_of_int (4 * coeff p 2 * coeff p 2))\n     else Real_Alg_Info p n) =\n    Real_Alg_Info p n \\<Longrightarrow>\n    p represents real_of x \\<and>\n    n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "using ap n"], ["proof (prove)\nusing this:\n  p represents real_of x\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. (if degree p = 2\n     then Sqrt_Info (rat_of_int (- coeff p 1) / rat_of_int (2 * coeff p 2))\n           (if n = 1\n            then - (rat_of_int\n                     (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n                    rat_of_int (4 * coeff p 2 * coeff p 2))\n            else rat_of_int\n                  (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n                 rat_of_int (4 * coeff p 2 * coeff p 2))\n     else Real_Alg_Info p n) =\n    Real_Alg_Info p n \\<Longrightarrow>\n    p represents real_of x \\<and>\n    n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "by (auto split: if_splits)"], ["proof (state)\nthis:\n  real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow>\n  p represents real_of x \\<and>\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "{"], ["proof (state)\nthis:\n  real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow>\n  p represents real_of x \\<and>\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "assume *: \"real_alg_show_info x = Sqrt_Info r sq\""], ["proof (state)\nthis:\n  real_alg_show_info x = Sqrt_Info r sq\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from this[unfolded id']"], ["proof (chain)\npicking this:\n  (if degree p = 2\n   then Sqrt_Info (rat_of_int (- coeff p 1) / rat_of_int (2 * coeff p 2))\n         (if n = 1\n          then - (rat_of_int\n                   (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n                  rat_of_int (4 * coeff p 2 * coeff p 2))\n          else rat_of_int\n                (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n               rat_of_int (4 * coeff p 2 * coeff p 2))\n   else Real_Alg_Info p n) =\n  Sqrt_Info r sq", "have deg: \"degree p = 2\""], ["proof (prove)\nusing this:\n  (if degree p = 2\n   then Sqrt_Info (rat_of_int (- coeff p 1) / rat_of_int (2 * coeff p 2))\n         (if n = 1\n          then - (rat_of_int\n                   (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n                  rat_of_int (4 * coeff p 2 * coeff p 2))\n          else rat_of_int\n                (coeff p 1 * coeff p 1 - 4 * coeff p 2 * coeff p 0) /\n               rat_of_int (4 * coeff p 2 * coeff p 2))\n   else Real_Alg_Info p n) =\n  Sqrt_Info r sq\n\ngoal (1 subgoal):\n 1. degree p = 2", "by (auto split: if_splits)"], ["proof (state)\nthis:\n  degree p = 2\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from degree2_coeffs[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>a b c. p = [:c, b, a:] \\<and> a \\<noteq> 0", "obtain a b c where p: \"p = [:c,b,a:]\" and a: \"a \\<noteq> 0\""], ["proof (prove)\nusing this:\n  \\<exists>a b c. p = [:c, b, a:] \\<and> a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>c b a.\n        \\<lbrakk>p = [:c, b, a:]; a \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  p = [:c, b, a:]\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "hence coeffs: \"coeff p 0 = c\" \"coeff p 1 = b\" \"coeff p (Suc (Suc 0)) = a\" \"2 = Suc (Suc 0)\""], ["proof (prove)\nusing this:\n  p = [:c, b, a:]\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (coeff p 0 = c &&& coeff p 1 = b) &&&\n    coeff p (Suc (Suc 0)) = a &&& 2 = Suc (Suc 0)", "by auto"], ["proof (state)\nthis:\n  coeff p 0 = c\n  coeff p 1 = b\n  coeff p (Suc (Suc 0)) = a\n  2 = Suc (Suc 0)\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?a = \"real_of_int a\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?b = \"real_of_int b\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?c = \"real_of_int c\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "define A where \"A = ?a\""], ["proof (state)\nthis:\n  A = real_of_int a\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "define B where \"B = ?b\""], ["proof (state)\nthis:\n  B = real_of_int b\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "define C where \"C = ?c\""], ["proof (state)\nthis:\n  C = real_of_int c\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?r = \"- (B / (2 * A))\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "define R where \"R = ?r\""], ["proof (state)\nthis:\n  R = - (B / (2 * A))\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?sq = \"(B * B - 4 * A * C) / (4 * A * A)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?p = \"real_of_int_poly p\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "let ?disc = \"(B / (2 * A)) ^ Suc (Suc 0) - C / A\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "define D where \"D = ?disc\""], ["proof (state)\nthis:\n  D = (B / (2 * A)) ^ Suc (Suc 0) - C / A\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from arg_cong[OF p, of \"map_poly real_of_int\"]"], ["proof (chain)\npicking this:\n  real_of_int_poly p = real_of_int_poly [:c, b, a:]", "have rp: \"?p = [: C, B, A :]\""], ["proof (prove)\nusing this:\n  real_of_int_poly p = real_of_int_poly [:c, b, a:]\n\ngoal (1 subgoal):\n 1. real_of_int_poly p = [:C, B, A:]", "using a"], ["proof (prove)\nusing this:\n  real_of_int_poly p = real_of_int_poly [:c, b, a:]\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. real_of_int_poly p = [:C, B, A:]", "by (auto simp: A_def B_def C_def)"], ["proof (state)\nthis:\n  real_of_int_poly p = [:C, B, A:]\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from a"], ["proof (chain)\npicking this:\n  a \\<noteq> 0", "have A: \"A \\<noteq> 0\""], ["proof (prove)\nusing this:\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. A \\<noteq> 0", "unfolding A_def"], ["proof (prove)\nusing this:\n  a \\<noteq> 0\n\ngoal (1 subgoal):\n 1. real_of_int a \\<noteq> 0", "by auto"], ["proof (state)\nthis:\n  A \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from *[unfolded id' deg, unfolded coeffs of_int_minus of_int_minus of_int_mult of_int_diff, simplified]"], ["proof (chain)\npicking this:\n  - (rat_of_int b / (2 * rat_of_int a)) = r \\<and>\n  (if n = Suc 0\n   then - ((rat_of_int b * rat_of_int b -\n            rat_of_int 4 * rat_of_int a * rat_of_int c) /\n           (rat_of_int 4 * rat_of_int a * rat_of_int a))\n   else (rat_of_int b * rat_of_int b -\n         rat_of_int 4 * rat_of_int a * rat_of_int c) /\n        (rat_of_int 4 * rat_of_int a * rat_of_int a)) =\n  sq", "have r: \"real_of_rat r = R\" and sq: \"sqrt (of_rat sq) = (if n = 1 then - sqrt ?sq else sqrt ?sq)\""], ["proof (prove)\nusing this:\n  - (rat_of_int b / (2 * rat_of_int a)) = r \\<and>\n  (if n = Suc 0\n   then - ((rat_of_int b * rat_of_int b -\n            rat_of_int 4 * rat_of_int a * rat_of_int c) /\n           (rat_of_int 4 * rat_of_int a * rat_of_int a))\n   else (rat_of_int b * rat_of_int b -\n         rat_of_int 4 * rat_of_int a * rat_of_int c) /\n        (rat_of_int 4 * rat_of_int a * rat_of_int a)) =\n  sq\n\ngoal (1 subgoal):\n 1. real_of_rat r = R &&&\n    sqrt (real_of_rat sq) =\n    (if n = 1 then - sqrt ((B * B - 4 * A * C) / (4 * A * A))\n     else sqrt ((B * B - 4 * A * C) / (4 * A * A)))", "by (auto simp: A_def B_def C_def R_def real_sqrt_minus hom_distribs)"], ["proof (state)\nthis:\n  real_of_rat r = R\n  sqrt (real_of_rat sq) =\n  (if n = 1 then - sqrt ((B * B - 4 * A * C) / (4 * A * A))\n   else sqrt ((B * B - 4 * A * C) / (4 * A * A)))\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "note sq"], ["proof (state)\nthis:\n  sqrt (real_of_rat sq) =\n  (if n = 1 then - sqrt ((B * B - 4 * A * C) / (4 * A * A))\n   else sqrt ((B * B - 4 * A * C) / (4 * A * A)))\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "also"], ["proof (state)\nthis:\n  sqrt (real_of_rat sq) =\n  (if n = 1 then - sqrt ((B * B - 4 * A * C) / (4 * A * A))\n   else sqrt ((B * B - 4 * A * C) / (4 * A * A)))\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "have \"?sq = D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (B * B - 4 * A * C) / (4 * A * A) = D", "using A"], ["proof (prove)\nusing this:\n  A \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (B * B - 4 * A * C) / (4 * A * A) = D", "by (auto simp: field_simps D_def)"], ["proof (state)\nthis:\n  (B * B - 4 * A * C) / (4 * A * A) = D\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "finally"], ["proof (chain)\npicking this:\n  sqrt (real_of_rat sq) = (if n = 1 then - sqrt D else sqrt D)", "have sq: \"sqrt (of_rat sq) = (if n = 1 then - sqrt D else sqrt D)\""], ["proof (prove)\nusing this:\n  sqrt (real_of_rat sq) = (if n = 1 then - sqrt D else sqrt D)\n\ngoal (1 subgoal):\n 1. sqrt (real_of_rat sq) = (if n = 1 then - sqrt D else sqrt D)", "by simp"], ["proof (state)\nthis:\n  sqrt (real_of_rat sq) = (if n = 1 then - sqrt D else sqrt D)\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "with rp"], ["proof (chain)\npicking this:\n  real_of_int_poly p = [:C, B, A:]\n  sqrt (real_of_rat sq) = (if n = 1 then - sqrt D else sqrt D)", "have coeffs': \"coeff ?p 0 = C\" \"coeff ?p 1 = B\" \"coeff ?p (Suc (Suc 0)) = A\" \"2 = Suc (Suc 0)\""], ["proof (prove)\nusing this:\n  real_of_int_poly p = [:C, B, A:]\n  sqrt (real_of_rat sq) = (if n = 1 then - sqrt D else sqrt D)\n\ngoal (1 subgoal):\n 1. (coeff (real_of_int_poly p) 0 = C &&&\n     coeff (real_of_int_poly p) 1 = B) &&&\n    coeff (real_of_int_poly p) (Suc (Suc 0)) = A &&& 2 = Suc (Suc 0)", "by auto"], ["proof (state)\nthis:\n  coeff (real_of_int_poly p) 0 = C\n  coeff (real_of_int_poly p) 1 = B\n  coeff (real_of_int_poly p) (Suc (Suc 0)) = A\n  2 = Suc (Suc 0)\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from rp A"], ["proof (chain)\npicking this:\n  real_of_int_poly p = [:C, B, A:]\n  A \\<noteq> 0", "have \"degree (real_of_int_poly p) = 2\""], ["proof (prove)\nusing this:\n  real_of_int_poly p = [:C, B, A:]\n  A \\<noteq> 0\n\ngoal (1 subgoal):\n 1. degree (real_of_int_poly p) = 2", "by auto"], ["proof (state)\nthis:\n  degree (real_of_int_poly p) = 2\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "note roots = rroots2[OF this, unfolded rroots2_def Let_def coeffs', folded D_def R_def]"], ["proof (state)\nthis:\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R]\n       else if D < 0 then [] else [R + sqrt D, R - sqrt D])\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from ap[unfolded represents_def]"], ["proof (chain)\npicking this:\n  poly (real_of_int_poly p) (real_of x) = 0 \\<and> p \\<noteq> 0", "have root: \"ipoly p (real_of x) = 0\""], ["proof (prove)\nusing this:\n  poly (real_of_int_poly p) (real_of x) = 0 \\<and> p \\<noteq> 0\n\ngoal (1 subgoal):\n 1. poly (real_of_int_poly p) (real_of x) = 0", "by auto"], ["proof (state)\nthis:\n  poly (real_of_int_poly p) (real_of x) = 0\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "from root roots"], ["proof (chain)\npicking this:\n  poly (real_of_int_poly p) (real_of x) = 0\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R]\n       else if D < 0 then [] else [R + sqrt D, R - sqrt D])", "have D: \"(D < 0) = False\""], ["proof (prove)\nusing this:\n  poly (real_of_int_poly p) (real_of x) = 0\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R]\n       else if D < 0 then [] else [R + sqrt D, R - sqrt D])\n\ngoal (1 subgoal):\n 1. (D < 0) = False", "by auto"], ["proof (state)\nthis:\n  (D < 0) = False\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "note roots = roots[unfolded this if_False, folded R_def]"], ["proof (state)\nthis:\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R] else [R + sqrt D, R - sqrt D])\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "have \"real_of x = of_rat r + sqrt (of_rat sq)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of x = real_of_rat r + sqrt (real_of_rat sq)", "proof (cases \"D = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. D = 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)\n 2. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "case True"], ["proof (state)\nthis:\n  D = 0\n\ngoal (2 subgoals):\n 1. D = 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)\n 2. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of x = real_of_rat r + sqrt (real_of_rat sq)", "using roots root"], ["proof (prove)\nusing this:\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R] else [R + sqrt D, R - sqrt D])\n  poly (real_of_int_poly p) (real_of x) = 0\n\ngoal (1 subgoal):\n 1. real_of x = real_of_rat r + sqrt (real_of_rat sq)", "unfolding sq r True"], ["proof (prove)\nusing this:\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if 0 = 0 then [R] else [R + sqrt 0, R - sqrt 0])\n  poly (real_of_int_poly p) (real_of x) = 0\n\ngoal (1 subgoal):\n 1. real_of x = R + (if n = 1 then - sqrt 0 else sqrt 0)", "by auto"], ["proof (state)\nthis:\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "case False"], ["proof (state)\nthis:\n  D \\<noteq> 0\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "with D"], ["proof (chain)\npicking this:\n  (D < 0) = False\n  D \\<noteq> 0", "have D: \"D > 0\""], ["proof (prove)\nusing this:\n  (D < 0) = False\n  D \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < D", "by auto"], ["proof (state)\nthis:\n  0 < D\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "from roots False"], ["proof (chain)\npicking this:\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R] else [R + sqrt D, R - sqrt D])\n  D \\<noteq> 0", "have roots: \"{x. ipoly p x = 0} = {R + sqrt D, R - sqrt D}\""], ["proof (prove)\nusing this:\n  {x. poly (real_of_int_poly p) x = 0} =\n  set (if D = 0 then [R] else [R + sqrt D, R - sqrt D])\n  D \\<noteq> 0\n\ngoal (1 subgoal):\n 1. {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}", "by auto"], ["proof (state)\nthis:\n  {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "let ?Roots = \"{y. y \\<le> real_of x \\<and> ipoly p y = 0}\""], ["proof (state)\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "have x: \"real_of x \\<in> ?Roots\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of x\n    \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "using root"], ["proof (prove)\nusing this:\n  poly (real_of_int_poly p) (real_of x) = 0\n\ngoal (1 subgoal):\n 1. real_of x\n    \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "by auto"], ["proof (state)\nthis:\n  real_of x\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "from root roots"], ["proof (chain)\npicking this:\n  poly (real_of_int_poly p) (real_of x) = 0\n  {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}", "have choice: \"real_of x = R + sqrt D \\<or> real_of x = R - sqrt D\""], ["proof (prove)\nusing this:\n  poly (real_of_int_poly p) (real_of x) = 0\n  {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}\n\ngoal (1 subgoal):\n 1. real_of x = R + sqrt D \\<or> real_of x = R - sqrt D", "by auto"], ["proof (state)\nthis:\n  real_of x = R + sqrt D \\<or> real_of x = R - sqrt D\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "hence small: \"R - sqrt D \\<in> ?Roots\""], ["proof (prove)\nusing this:\n  real_of x = R + sqrt D \\<or> real_of x = R - sqrt D\n\ngoal (1 subgoal):\n 1. R - sqrt D\n    \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "using roots D"], ["proof (prove)\nusing this:\n  real_of x = R + sqrt D \\<or> real_of x = R - sqrt D\n  {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}\n  0 < D\n\ngoal (1 subgoal):\n 1. R - sqrt D\n    \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "by auto"], ["proof (state)\nthis:\n  R - sqrt D\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. D \\<noteq> 0 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of x = real_of_rat r + sqrt (real_of_rat sq)", "proof (cases \"n = 1\")"], ["proof (state)\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)\n 2. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "case True"], ["proof (state)\nthis:\n  n = 1\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)\n 2. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "from card_1_singletonE[OF n[symmetric, unfolded this]]"], ["proof (chain)\npicking this:\n  (\\<And>xa.\n      {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n      {xa} \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain y where id: \"?Roots = {y}\""], ["proof (prove)\nusing this:\n  (\\<And>xa.\n      {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n      {xa} \\<Longrightarrow>\n      ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n        {y} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} = {y}\n\ngoal (2 subgoals):\n 1. n = 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)\n 2. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "from x small"], ["proof (chain)\npicking this:\n  real_of x\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  R - sqrt D\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of x\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  R - sqrt D\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. real_of x = real_of_rat r + sqrt (real_of_rat sq)", "unfolding sq r id"], ["proof (prove)\nusing this:\n  real_of x \\<in> {y}\n  R - sqrt D \\<in> {y}\n\ngoal (1 subgoal):\n 1. real_of x = R + (if n = 1 then - sqrt D else sqrt D)", "using True"], ["proof (prove)\nusing this:\n  real_of x \\<in> {y}\n  R - sqrt D \\<in> {y}\n  n = 1\n\ngoal (1 subgoal):\n 1. real_of x = R + (if n = 1 then - sqrt D else sqrt D)", "by auto"], ["proof (state)\nthis:\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "case False"], ["proof (state)\nthis:\n  n \\<noteq> 1\n\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "from x"], ["proof (chain)\npicking this:\n  real_of x\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}", "obtain Y where Y: \"?Roots = insert (real_of x) (Y - {real_of x})\""], ["proof (prove)\nusing this:\n  real_of x\n  \\<in> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n\ngoal (1 subgoal):\n 1. (\\<And>Y.\n        {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n        insert (real_of x) (Y - {real_of x}) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  insert (real_of x) (Y - {real_of x})\n\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "with False[unfolded n]"], ["proof (chain)\npicking this:\n  card\n   {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} \\<noteq>\n  1\n  {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  insert (real_of x) (Y - {real_of x})", "obtain z Z where Z: \"Y - {real_of x} = insert z Z\""], ["proof (prove)\nusing this:\n  card\n   {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} \\<noteq>\n  1\n  {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  insert (real_of x) (Y - {real_of x})\n\ngoal (1 subgoal):\n 1. (\\<And>z Z.\n        Y - {real_of x} = insert z Z \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases \"Y - {real_of x} = {}\", auto)"], ["proof (state)\nthis:\n  Y - {real_of x} = insert z Z\n\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "from Y[unfolded Z] Z"], ["proof (chain)\npicking this:\n  {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  insert (real_of x) (insert z Z)\n  Y - {real_of x} = insert z Z", "have sub: \"{real_of x, z} \\<subseteq> ?Roots\" and z: \"z \\<noteq> real_of x\""], ["proof (prove)\nusing this:\n  {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0} =\n  insert (real_of x) (insert z Z)\n  Y - {real_of x} = insert z Z\n\ngoal (1 subgoal):\n 1. {real_of x, z}\n    \\<subseteq> {y. y \\<le> real_of x \\<and>\n                    poly (real_of_int_poly p) y = 0} &&&\n    z \\<noteq> real_of x", "by auto"], ["proof (state)\nthis:\n  {real_of x, z}\n  \\<subseteq> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  z \\<noteq> real_of x\n\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "with roots choice D"], ["proof (chain)\npicking this:\n  {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}\n  real_of x = R + sqrt D \\<or> real_of x = R - sqrt D\n  0 < D\n  {real_of x, z}\n  \\<subseteq> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  z \\<noteq> real_of x", "have \"real_of x = R + sqrt D\""], ["proof (prove)\nusing this:\n  {x. poly (real_of_int_poly p) x = 0} = {R + sqrt D, R - sqrt D}\n  real_of x = R + sqrt D \\<or> real_of x = R - sqrt D\n  0 < D\n  {real_of x, z}\n  \\<subseteq> {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  z \\<noteq> real_of x\n\ngoal (1 subgoal):\n 1. real_of x = R + sqrt D", "by force"], ["proof (state)\nthis:\n  real_of x = R + sqrt D\n\ngoal (1 subgoal):\n 1. n \\<noteq> 1 \\<Longrightarrow>\n    real_of x = real_of_rat r + sqrt (real_of_rat sq)", "thus ?thesis"], ["proof (prove)\nusing this:\n  real_of x = R + sqrt D\n\ngoal (1 subgoal):\n 1. real_of x = real_of_rat r + sqrt (real_of_rat sq)", "unfolding sq r id"], ["proof (prove)\nusing this:\n  real_of x = R + sqrt D\n\ngoal (1 subgoal):\n 1. real_of x = R + (if n = 1 then - sqrt D else sqrt D)", "using False"], ["proof (prove)\nusing this:\n  real_of x = R + sqrt D\n  n \\<noteq> 1\n\ngoal (1 subgoal):\n 1. real_of x = R + (if n = 1 then - sqrt D else sqrt D)", "by auto"], ["proof (state)\nthis:\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "}"], ["proof (state)\nthis:\n  real_alg_show_info x = Sqrt_Info r sq \\<Longrightarrow>\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal (1 subgoal):\n 1. \\<And>b.\n       info_real_alg x = Inr b \\<Longrightarrow>\n       (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n        real_of x = real_of_rat r) \\<and>\n       (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n        real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n       (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n        p represents real_of x \\<and>\n        n =\n        card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "with last"], ["proof (chain)\npicking this:\n  real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow>\n  p represents real_of x \\<and>\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  real_alg_show_info x = Sqrt_Info r sq \\<Longrightarrow>\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_alg_show_info x = Real_Alg_Info p n \\<Longrightarrow>\n  p represents real_of x \\<and>\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  real_alg_show_info x = Sqrt_Info r sq \\<Longrightarrow>\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal (1 subgoal):\n 1. (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "unfolding d"], ["proof (prove)\nusing this:\n  convert_info (info_real_alg x) = Real_Alg_Info p n \\<Longrightarrow>\n  p represents real_of x \\<and>\n  n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0}\n  convert_info (info_real_alg x) = Sqrt_Info r sq \\<Longrightarrow>\n  real_of x = real_of_rat r + sqrt (real_of_rat sq)\n\ngoal (1 subgoal):\n 1. (convert_info (info_real_alg x) = Rat_Info r \\<longrightarrow>\n     real_of x = real_of_rat r) \\<and>\n    (convert_info (info_real_alg x) = Sqrt_Info r sq \\<longrightarrow>\n     real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n    (convert_info (info_real_alg x) = Real_Alg_Info p n \\<longrightarrow>\n     p represents real_of x \\<and>\n     n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})", "by (auto simp: id Let_def)"], ["proof (state)\nthis:\n  (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n   real_of x = real_of_rat r) \\<and>\n  (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n   real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n  (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n   p represents real_of x \\<and>\n   n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_alg_show_info x = Rat_Info r \\<longrightarrow>\n   real_of x = real_of_rat r) \\<and>\n  (real_alg_show_info x = Sqrt_Info r sq \\<longrightarrow>\n   real_of x = real_of_rat r + sqrt (real_of_rat sq)) \\<and>\n  (real_alg_show_info x = Real_Alg_Info p n \\<longrightarrow>\n   p represents real_of x \\<and>\n   n = card {y. y \\<le> real_of x \\<and> poly (real_of_int_poly p) y = 0})\n\ngoal:\nNo subgoals!", "qed"], ["", "fun show_rai_info :: \"int \\<Rightarrow> real_alg_show_info \\<Rightarrow> string\" where\n  \"show_rai_info fl (Rat_Info r) = show r\" \n| \"show_rai_info fl (Sqrt_Info r sq) = (let sqrt = ''sqrt('' @ show (abs sq) @ '')''\n      in if r = 0 then (if sq < 0 then '' -'' else []) @ sqrt \n                  else (''('' @ show r @ (if sq < 0 then ''-'' else ''+'') @ sqrt @ '')''))\" \n| \"show_rai_info fl (Real_Alg_Info p n) = \n    ''(root #'' @ show n @ '' of '' @ show p @ '', in ('' @ show fl @ '','' @ show (fl + 1) @ ''))''\""], ["", "overloading show_real_alg \\<equiv> show_real_alg\nbegin"], ["", "definition show_real_alg[code]:\n    \"show_real_alg x \\<equiv> show_rai_info (floor x) (real_alg_show_info x)\""], ["", "end"], ["", "end"]]}