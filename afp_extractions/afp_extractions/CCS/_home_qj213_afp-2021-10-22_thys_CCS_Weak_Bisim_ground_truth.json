{"file_name": "/home/qj213/afp-2021-10-22/thys/CCS/Weak_Bisim.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/CCS", "problem_names": ["lemma weakMonoCoinduct: \"\\<And>x y xa xb P Q.\n                         x \\<le> y \\<Longrightarrow>\n                         (Q \\<leadsto>\\<^sup>^<{(xb, xa). x xb xa}> P) \\<longrightarrow>\n                        (Q \\<leadsto>\\<^sup>^<{(xb, xa). y xb xa}> P)\"", "lemma weakBisimulationCoinductAux[consumes 1]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> Q \\<and> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimulationCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> R \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> S\"\n  and     \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> (S, R) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimWeakCoinductAux[consumes 1]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X\" \n\n  shows \"P \\<approx> Q\"", "lemma weakBisimWeakCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimulationE:\n  fixes P  :: \"ccs\"\n  and   Q  :: \"ccs\"\n\n  assumes \"P \\<approx> Q\"\n\n  shows \"P \\<leadsto>\\<^sup>^<weakBisimulation> Q\"\n  and   \"Q \\<approx> P\"", "lemma weakBisimulationI:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n\n  assumes \"P \\<leadsto>\\<^sup>^<weakBisimulation> Q\"\n  and     \"Q \\<approx> P\"\n\n  shows \"P \\<approx> Q\"", "lemma reflexive: \n  fixes P :: ccs\n\n  shows \"P \\<approx> P\"", "lemma symmetric: \n  fixes P :: ccs\n  and   Q :: ccs\n\n  assumes \"P \\<approx> Q\"\n\n  shows \"Q \\<approx> P\"", "lemma transitive: \n  fixes P :: ccs\n  and   Q :: ccs\n  and   R :: ccs\n\n  assumes \"P \\<approx> Q\"\n  and     \"Q \\<approx> R\"\n\n  shows \"P \\<approx> R\"", "lemma bisimWeakBisimulation:\n  fixes P :: ccs\n  and   Q :: ccs\n  \n  assumes \"P \\<sim> Q\"\n\n  shows \"P \\<approx> Q\"", "lemma structCongWeakBisimulation:\n  fixes P :: ccs\n  and   Q :: ccs\n\n  assumes \"P \\<equiv>\\<^sub>s Q\"\n\n  shows \"P \\<approx> Q\"", "lemma strongAppend:\n  fixes P     :: ccs\n  and   Q     :: ccs\n  and   R     :: ccs\n  and   Rel   :: \"(ccs \\<times> ccs) set\"\n  and   Rel'  :: \"(ccs \\<times> ccs) set\"\n  and   Rel'' :: \"(ccs \\<times> ccs) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<^sup>^<Rel> Q\"\n  and     QSimR: \"Q \\<leadsto>[Rel'] R\"\n  and     Trans: \"Rel O Rel' \\<subseteq> Rel''\"\n\n  shows \"P \\<leadsto>\\<^sup>^<Rel''> R\"", "lemma weakBisimWeakUpto[case_names cSim cSym, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and rSim: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\"\n  and rSym: \"\\<And> P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\"", "lemma weakBisimUpto[case_names cSim cSym, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and rSim: \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> R \\<leadsto>\\<^sup>^<(weakBisimulation O (X \\<union> weakBisimulation) O bisim)> S\"\n  and rSym: \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> (S, R) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], "translations": [["", "lemma weakMonoCoinduct: \"\\<And>x y xa xb P Q.\n                         x \\<le> y \\<Longrightarrow>\n                         (Q \\<leadsto>\\<^sup>^<{(xb, xa). x xb xa}> P) \\<longrightarrow>\n                        (Q \\<leadsto>\\<^sup>^<{(xb, xa). y xb xa}> P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y xa xb P Q.\n       x \\<le> y \\<Longrightarrow>\n       Q \\<leadsto>\\<^sup>^<{(xb, xa). x xb xa}> P \\<longrightarrow>\n       Q \\<leadsto>\\<^sup>^<{(xb, xa). y xb xa}> P", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y P Q.\n       \\<lbrakk>x \\<le> y;\n        Q \\<leadsto>\\<^sup>^<{(xa, y). x xa y}> P\\<rbrakk>\n       \\<Longrightarrow> Q \\<leadsto>\\<^sup>^<{(x, ya). y x ya}> P", "apply(rule weakMonotonic)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x y P Q.\n       \\<lbrakk>x \\<le> y;\n        Q \\<leadsto>\\<^sup>^<{(xa, y). x xa y}> P\\<rbrakk>\n       \\<Longrightarrow> Q \\<leadsto>\\<^sup>^<?A1 x y P Q> P\n 2. \\<And>x y P Q.\n       \\<lbrakk>x \\<le> y;\n        Q \\<leadsto>\\<^sup>^<{(xa, y). x xa y}> P\\<rbrakk>\n       \\<Longrightarrow> ?A1 x y P Q \\<subseteq> {(x, ya). y x ya}", "by(auto dest: le_funE)"], ["", "coinductive_set weakBisimulation :: \"(ccs \\<times> ccs) set\"\nwhere\n  \"\\<lbrakk>P \\<leadsto>\\<^sup>^<weakBisimulation> Q; (Q, P) \\<in> weakBisimulation\\<rbrakk> \\<Longrightarrow> (P, Q) \\<in> weakBisimulation\"\nmonos weakMonoCoinduct"], ["", "abbreviation\n  weakBisimJudge (\"_ \\<approx> _\" [70, 70] 65) where \"P \\<approx> Q \\<equiv> (P, Q) \\<in> weakBisimulation\""], ["", "lemma weakBisimulationCoinductAux[consumes 1]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> Q \\<and> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "have \"X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisimulation}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakBisimulation =\n    {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}", "by auto"], ["proof (state)\nthis:\n  X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "with assms"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> ?Q \\<and>\n  (?Q, ?P) \\<in> X\n  X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> ?Q \\<and>\n  (?Q, ?P) \\<in> X\n  X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by coinduct simp"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimulationCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> R \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> S\"\n  and     \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> (S, R) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "have \"X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisimulation}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakBisimulation =\n    {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}", "by auto"], ["proof (state)\nthis:\n  X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "with assms"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X\n  (?R, ?S) \\<in> X \\<Longrightarrow>\n  ?R \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> ?S\n  (?R, ?S) \\<in> X \\<Longrightarrow> (?S, ?R) \\<in> X\n  X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  (?R, ?S) \\<in> X \\<Longrightarrow>\n  ?R \\<leadsto>\\<^sup>^<(X \\<union> weakBisimulation)> ?S\n  (?R, ?S) \\<in> X \\<Longrightarrow> (?S, ?R) \\<in> X\n  X \\<union> weakBisimulation = {(P, Q). (P, Q) \\<in> X \\<or> P \\<approx> Q}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by coinduct simp"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimWeakCoinductAux[consumes 1]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q \\<and> (Q, P) \\<in> X\" \n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<X> ?Q \\<and> (?Q, ?P) \\<in> X\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: weakBisimulationCoinductAux) (blast intro: weakMonotonic)"], ["", "lemma weakBisimWeakCoinduct[consumes 1, case_names cSim cSym]:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n  and   X :: \"(ccs \\<times> ccs) set\"\n\n  assumes \"(P, Q) \\<in> X\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<X> Q\"\n  and     \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "have \"X \\<union> weakBisim = {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisim}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. X \\<union> weakBisim =\n    {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisim}", "by auto"], ["proof (state)\nthis:\n  X \\<union> weakBisim =\n  {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisim}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "with assms"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<X> ?Q\n  (?P, ?Q) \\<in> X \\<Longrightarrow> (?Q, ?P) \\<in> X\n  X \\<union> weakBisim =\n  {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisim}", "show ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n  (?P, ?Q) \\<in> X \\<Longrightarrow> ?P \\<leadsto>\\<^sup>^<X> ?Q\n  (?P, ?Q) \\<in> X \\<Longrightarrow> (?Q, ?P) \\<in> X\n  X \\<union> weakBisim =\n  {(P, Q). (P, Q) \\<in> X \\<or> (P, Q) \\<in> weakBisim}\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: weakBisimulationCoinduct) (blast intro: weakMonotonic)+"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimulationE:\n  fixes P  :: \"ccs\"\n  and   Q  :: \"ccs\"\n\n  assumes \"P \\<approx> Q\"\n\n  shows \"P \\<leadsto>\\<^sup>^<weakBisimulation> Q\"\n  and   \"Q \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<weakBisimulation> Q &&& Q \\<approx> P", "using assms"], ["proof (prove)\nusing this:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<weakBisimulation> Q &&& Q \\<approx> P", "by(auto simp add: intro: weakBisimulation.cases)"], ["", "lemma weakBisimulationI:\n  fixes P :: \"ccs\"\n  and   Q :: \"ccs\"\n\n  assumes \"P \\<leadsto>\\<^sup>^<weakBisimulation> Q\"\n  and     \"Q \\<approx> P\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<weakBisimulation> Q\n  Q \\<approx> P\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(auto intro: weakBisimulation.intros)"], ["", "lemma reflexive: \n  fixes P :: ccs\n\n  shows \"P \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> P", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> P", "have \"(P, P) \\<in> Id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (P, P) \\<in> Id", "by blast"], ["proof (state)\nthis:\n  (P, P) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<approx> P", "thus ?thesis"], ["proof (prove)\nusing this:\n  (P, P) \\<in> Id\n\ngoal (1 subgoal):\n 1. P \\<approx> P", "by(coinduct rule: weakBisimulationCoinduct) (auto intro: Weak_Sim.reflexive)"], ["proof (state)\nthis:\n  P \\<approx> P\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma symmetric: \n  fixes P :: ccs\n  and   Q :: ccs\n\n  assumes \"P \\<approx> Q\"\n\n  shows \"Q \\<approx> P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Q \\<approx> P", "using assms"], ["proof (prove)\nusing this:\n  P \\<approx> Q\n\ngoal (1 subgoal):\n 1. Q \\<approx> P", "by(rule weakBisimulationE)"], ["", "lemma transitive: \n  fixes P :: ccs\n  and   Q :: ccs\n  and   R :: ccs\n\n  assumes \"P \\<approx> Q\"\n  and     \"Q \\<approx> R\"\n\n  shows \"P \\<approx> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> R", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> R", "from assms"], ["proof (chain)\npicking this:\n  P \\<approx> Q\n  Q \\<approx> R", "have \"(P, R) \\<in> weakBisimulation O weakBisimulation\""], ["proof (prove)\nusing this:\n  P \\<approx> Q\n  Q \\<approx> R\n\ngoal (1 subgoal):\n 1. (P, R) \\<in> weakBisimulation O weakBisimulation", "by auto"], ["proof (state)\nthis:\n  (P, R) \\<in> weakBisimulation O weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "thus ?thesis"], ["proof (prove)\nusing this:\n  (P, R) \\<in> weakBisimulation O weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<approx> R", "proof(coinduct rule: weakBisimulationCoinduct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "case(cSim P R)"], ["proof (state)\nthis:\n  (P, R) \\<in> weakBisimulation O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "from \\<open>(P, R) \\<in> weakBisimulation O weakBisimulation\\<close>"], ["proof (chain)\npicking this:\n  (P, R) \\<in> weakBisimulation O weakBisimulation", "obtain Q where \"P \\<approx> Q\" and \"Q \\<approx> R\""], ["proof (prove)\nusing this:\n  (P, R) \\<in> weakBisimulation O weakBisimulation\n\ngoal (1 subgoal):\n 1. (\\<And>Q.\n        \\<lbrakk>P \\<approx> Q; Q \\<approx> R\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<approx> Q\n  Q \\<approx> R\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "note \\<open>P \\<approx> Q\\<close>"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "from \\<open>Q \\<approx> R\\<close>"], ["proof (chain)\npicking this:\n  Q \\<approx> R", "have \"Q \\<leadsto>\\<^sup>^<weakBisimulation> R\""], ["proof (prove)\nusing this:\n  Q \\<approx> R\n\ngoal (1 subgoal):\n 1. Q \\<leadsto>\\<^sup>^<weakBisimulation> R", "by(rule weakBisimulationE)"], ["proof (state)\nthis:\n  Q \\<leadsto>\\<^sup>^<weakBisimulation> R\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  Q \\<leadsto>\\<^sup>^<weakBisimulation> R\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "have \"weakBisimulation O weakBisimulation \\<subseteq> (weakBisimulation O weakBisimulation) \\<union> weakBisimulation\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakBisimulation O weakBisimulation\n    \\<subseteq> weakBisimulation O weakBisimulation \\<union>\n                weakBisimulation", "by auto"], ["proof (state)\nthis:\n  weakBisimulation O weakBisimulation\n  \\<subseteq> weakBisimulation O weakBisimulation \\<union> weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  weakBisimulation O weakBisimulation\n  \\<subseteq> weakBisimulation O weakBisimulation \\<union> weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "note weakBisimulationE(1)"], ["proof (state)\nthis:\n  ?P \\<approx> ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<weakBisimulation> ?Q\n\ngoal (2 subgoals):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       R \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                             weakBisimulation)> S\n 2. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "ultimately"], ["proof (chain)\npicking this:\n  P \\<approx> Q\n  Q \\<leadsto>\\<^sup>^<weakBisimulation> R\n  weakBisimulation O weakBisimulation\n  \\<subseteq> weakBisimulation O weakBisimulation \\<union> weakBisimulation\n  ?P \\<approx> ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<weakBisimulation> ?Q", "show ?case"], ["proof (prove)\nusing this:\n  P \\<approx> Q\n  Q \\<leadsto>\\<^sup>^<weakBisimulation> R\n  weakBisimulation O weakBisimulation\n  \\<subseteq> weakBisimulation O weakBisimulation \\<union> weakBisimulation\n  ?P \\<approx> ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<weakBisimulation> ?Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                          weakBisimulation)> R", "by(rule Weak_Sim.transitive)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(weakBisimulation O weakBisimulation \\<union>\n                        weakBisimulation)> R\n\ngoal (1 subgoal):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "case(cSym P R)"], ["proof (state)\nthis:\n  (P, R) \\<in> weakBisimulation O weakBisimulation\n\ngoal (1 subgoal):\n 1. \\<And>R S.\n       (R, S) \\<in> weakBisimulation O weakBisimulation \\<Longrightarrow>\n       (S, R) \\<in> weakBisimulation O weakBisimulation", "thus ?case"], ["proof (prove)\nusing this:\n  (P, R) \\<in> weakBisimulation O weakBisimulation\n\ngoal (1 subgoal):\n 1. (R, P) \\<in> weakBisimulation O weakBisimulation", "by(blast dest: symmetric)"], ["proof (state)\nthis:\n  (R, P) \\<in> weakBisimulation O weakBisimulation\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<approx> R\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma bisimWeakBisimulation:\n  fixes P :: ccs\n  and   Q :: ccs\n  \n  assumes \"P \\<sim> Q\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  P \\<sim> Q\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(coinduct rule: weakBisimWeakCoinduct[where X=bisim])\n  (auto dest: bisimE simWeakSim)"], ["", "lemma structCongWeakBisimulation:\n  fixes P :: ccs\n  and   Q :: ccs\n\n  assumes \"P \\<equiv>\\<^sub>s Q\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "using assms"], ["proof (prove)\nusing this:\n  P \\<equiv>\\<^sub>s Q\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "by(auto intro: bisimWeakBisimulation bisimStructCong)"], ["", "lemma strongAppend:\n  fixes P     :: ccs\n  and   Q     :: ccs\n  and   R     :: ccs\n  and   Rel   :: \"(ccs \\<times> ccs) set\"\n  and   Rel'  :: \"(ccs \\<times> ccs) set\"\n  and   Rel'' :: \"(ccs \\<times> ccs) set\"\n\n  assumes PSimQ: \"P \\<leadsto>\\<^sup>^<Rel> Q\"\n  and     QSimR: \"Q \\<leadsto>[Rel'] R\"\n  and     Trans: \"Rel O Rel' \\<subseteq> Rel''\"\n\n  shows \"P \\<leadsto>\\<^sup>^<Rel''> R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<Rel''> R", "using assms"], ["proof (prove)\nusing this:\n  P \\<leadsto>\\<^sup>^<Rel> Q\n  Q \\<leadsto>[Rel'] R\n  Rel O Rel' \\<subseteq> Rel''\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<Rel''> R", "by(simp add: weakSimulation_def simulation_def) blast"], ["", "lemma weakBisimWeakUpto[case_names cSim cSym, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and rSim: \"\\<And>P Q. (P, Q) \\<in> X \\<Longrightarrow> P \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\"\n  and rSym: \"\\<And> P Q. (P, Q) \\<in> X \\<Longrightarrow> (Q, P) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "let ?X = \"weakBisimulation O X O weakBisimulation\""], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "let ?Y = \"weakBisimulation O X O bisim\""], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "from \\<open>(P, Q) \\<in> X\\<close>"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X", "have \"(P, Q) \\<in> ?X\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. (P, Q) \\<in> weakBisimulation O X O weakBisimulation", "by(blast intro: Strong_Bisim.reflexive reflexive)"], ["proof (state)\nthis:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof(coinduct rule: weakBisimWeakCoinduct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "case(cSim P Q)"], ["proof (state)\nthis:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "{"], ["proof (state)\nthis:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "fix P P' Q' Q"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "assume \"P \\<approx> P'\" and \"(P', Q') \\<in> X\" and \"Q' \\<approx> Q\""], ["proof (state)\nthis:\n  P \\<approx> P'\n  (P', Q') \\<in> X\n  Q' \\<approx> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "from \\<open>(P', Q') \\<in> X\\<close>"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> X", "have \"(P', Q') \\<in> ?Y\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> X\n\ngoal (1 subgoal):\n 1. (P', Q') \\<in> weakBisimulation O X O bisim", "by(blast intro: reflexive Strong_Bisim.reflexive)"], ["proof (state)\nthis:\n  (P', Q') \\<in> weakBisimulation O X O bisim\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  (P', Q') \\<in> weakBisimulation O X O bisim\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "from \\<open>Q' \\<approx> Q\\<close>"], ["proof (chain)\npicking this:\n  Q' \\<approx> Q", "have \"Q' \\<leadsto>\\<^sup>^<weakBisimulation> Q\""], ["proof (prove)\nusing this:\n  Q' \\<approx> Q\n\ngoal (1 subgoal):\n 1. Q' \\<leadsto>\\<^sup>^<weakBisimulation> Q", "by(rule weakBisimulationE)"], ["proof (state)\nthis:\n  Q' \\<leadsto>\\<^sup>^<weakBisimulation> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  Q' \\<leadsto>\\<^sup>^<weakBisimulation> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "have \"?Y O weakBisimulation \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakBisimulation O X O bisim) O weakBisimulation\n    \\<subseteq> weakBisimulation O X O weakBisimulation", "by(blast dest: bisimWeakBisimulation transitive)"], ["proof (state)\nthis:\n  (weakBisimulation O X O bisim) O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  (weakBisimulation O X O bisim) O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "{"], ["proof (state)\nthis:\n  (weakBisimulation O X O bisim) O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "fix P Q"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "assume \"(P, Q) \\<in> ?Y\""], ["proof (state)\nthis:\n  (P, Q) \\<in> weakBisimulation O X O bisim\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "then"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> weakBisimulation O X O bisim", "obtain P' Q' where \"P \\<approx> P'\" and \"(P', Q') \\<in> X\" and \"Q' \\<sim> Q\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> weakBisimulation O X O bisim\n\ngoal (1 subgoal):\n 1. (\\<And>P' Q'.\n        \\<lbrakk>P \\<approx> P'; (P', Q') \\<in> X; Q' \\<sim> Q\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  P \\<approx> P'\n  (P', Q') \\<in> X\n  Q' \\<sim> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "from \\<open>(P', Q') \\<in> X\\<close>"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> X", "have \"P' \\<leadsto>\\<^sup>^<?Y> Q'\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> X\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q'", "by(rule rSim)"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q'\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q'\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "from \\<open>Q' \\<sim> Q\\<close>"], ["proof (chain)\npicking this:\n  Q' \\<sim> Q", "have \"Q' \\<leadsto>[bisim] Q\""], ["proof (prove)\nusing this:\n  Q' \\<sim> Q\n\ngoal (1 subgoal):\n 1. Q' \\<leadsto>[bisim] Q", "by(rule bisimE)"], ["proof (state)\nthis:\n  Q' \\<leadsto>[bisim] Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  Q' \\<leadsto>[bisim] Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "have \"?Y O bisim \\<subseteq> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (weakBisimulation O X O bisim) O bisim\n    \\<subseteq> weakBisimulation O X O bisim", "by(auto dest: Strong_Bisim.transitive)"], ["proof (state)\nthis:\n  (weakBisimulation O X O bisim) O bisim\n  \\<subseteq> weakBisimulation O X O bisim\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q'\n  Q' \\<leadsto>[bisim] Q\n  (weakBisimulation O X O bisim) O bisim\n  \\<subseteq> weakBisimulation O X O bisim", "have \"P' \\<leadsto>\\<^sup>^<?Y> Q\""], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q'\n  Q' \\<leadsto>[bisim] Q\n  (weakBisimulation O X O bisim) O bisim\n  \\<subseteq> weakBisimulation O X O bisim\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q", "by(rule strongAppend)"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "note \\<open>P \\<approx> P'\\<close>"], ["proof (state)\nthis:\n  P \\<approx> P'\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  P \\<approx> P'\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "have \"weakBisimulation O ?Y \\<subseteq> ?Y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakBisimulation O weakBisimulation O X O bisim\n    \\<subseteq> weakBisimulation O X O bisim", "by(blast dest: transitive)"], ["proof (state)\nthis:\n  weakBisimulation O weakBisimulation O X O bisim\n  \\<subseteq> weakBisimulation O X O bisim\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\n  P \\<approx> P'\n  weakBisimulation O weakBisimulation O X O bisim\n  \\<subseteq> weakBisimulation O X O bisim", "have \"P \\<leadsto>\\<^sup>^<?Y> Q\""], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\n  P \\<approx> P'\n  weakBisimulation O weakBisimulation O X O bisim\n  \\<subseteq> weakBisimulation O X O bisim\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q", "using weakBisimulationE(1)"], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\n  P \\<approx> P'\n  weakBisimulation O weakBisimulation O X O bisim\n  \\<subseteq> weakBisimulation O X O bisim\n  ?P \\<approx> ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<weakBisimulation> ?Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q", "by(rule_tac Weak_Sim.transitive)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "}"], ["proof (state)\nthis:\n  (?Pc2, ?Qc2) \\<in> weakBisimulation O X O bisim \\<Longrightarrow>\n  ?Pc2 \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> ?Qc2\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "ultimately"], ["proof (chain)\npicking this:\n  (P', Q') \\<in> weakBisimulation O X O bisim\n  Q' \\<leadsto>\\<^sup>^<weakBisimulation> Q\n  (weakBisimulation O X O bisim) O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n  (?Pc2, ?Qc2) \\<in> weakBisimulation O X O bisim \\<Longrightarrow>\n  ?Pc2 \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> ?Qc2", "have \"P' \\<leadsto>\\<^sup>^<?X> Q\""], ["proof (prove)\nusing this:\n  (P', Q') \\<in> weakBisimulation O X O bisim\n  Q' \\<leadsto>\\<^sup>^<weakBisimulation> Q\n  (weakBisimulation O X O bisim) O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n  (?Pc2, ?Qc2) \\<in> weakBisimulation O X O bisim \\<Longrightarrow>\n  ?Pc2 \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim)> ?Qc2\n\ngoal (1 subgoal):\n 1. P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q", "by(rule Weak_Sim.transitive)"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "note \\<open>P \\<approx> P'\\<close>"], ["proof (state)\nthis:\n  P \\<approx> P'\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "moreover"], ["proof (state)\nthis:\n  P \\<approx> P'\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "have \"weakBisimulation O ?X \\<subseteq> ?X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weakBisimulation O weakBisimulation O X O weakBisimulation\n    \\<subseteq> weakBisimulation O X O weakBisimulation", "by(blast dest: transitive)"], ["proof (state)\nthis:\n  weakBisimulation O weakBisimulation O X O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "ultimately"], ["proof (chain)\npicking this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n  P \\<approx> P'\n  weakBisimulation O weakBisimulation O X O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation", "have \"P \\<leadsto>\\<^sup>^<?X> Q\""], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n  P \\<approx> P'\n  weakBisimulation O weakBisimulation O X O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q", "using weakBisimulationE(1)"], ["proof (prove)\nusing this:\n  P' \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n  P \\<approx> P'\n  weakBisimulation O weakBisimulation O X O weakBisimulation\n  \\<subseteq> weakBisimulation O X O weakBisimulation\n  ?P \\<approx> ?Q \\<Longrightarrow>\n  ?P \\<leadsto>\\<^sup>^<weakBisimulation> ?Q\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q", "by(rule_tac Weak_Sim.transitive)"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?Pb2 \\<approx> ?P'2; (?P'2, ?Q'2) \\<in> X;\n   ?Q'2 \\<approx> ?Qb2\\<rbrakk>\n  \\<Longrightarrow> ?Pb2 \\<leadsto>\\<^sup>^<(weakBisimulation O\n       X O weakBisimulation)> ?Qb2\n\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n 2. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "with \\<open>(P, Q) \\<in> ?X\\<close>"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n  \\<lbrakk>?Pb2 \\<approx> ?P'2; (?P'2, ?Q'2) \\<in> X;\n   ?Q'2 \\<approx> ?Qb2\\<rbrakk>\n  \\<Longrightarrow> ?Pb2 \\<leadsto>\\<^sup>^<(weakBisimulation O\n       X O weakBisimulation)> ?Qb2", "show ?case"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n  \\<lbrakk>?Pb2 \\<approx> ?P'2; (?P'2, ?Q'2) \\<in> X;\n   ?Q'2 \\<approx> ?Qb2\\<rbrakk>\n  \\<Longrightarrow> ?Pb2 \\<leadsto>\\<^sup>^<(weakBisimulation O\n       X O weakBisimulation)> ?Qb2\n\ngoal (1 subgoal):\n 1. P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q", "by auto"], ["proof (state)\nthis:\n  P \\<leadsto>\\<^sup>^<(weakBisimulation O X O weakBisimulation)> Q\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "case(cSym P Q)"], ["proof (state)\nthis:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       (P, Q)\n       \\<in> weakBisimulation O X O weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "thus ?case"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal (1 subgoal):\n 1. (Q, P) \\<in> weakBisimulation O X O weakBisimulation", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>xa ya.\n       \\<lbrakk>P \\<approx> xa; (xa, ya) \\<in> X; ya \\<approx> Q\\<rbrakk>\n       \\<Longrightarrow> (Q, P)\n                         \\<in> weakBisimulation O X O weakBisimulation", "by(blast dest: bisimE rSym weakBisimulationE)"], ["proof (state)\nthis:\n  (Q, P) \\<in> weakBisimulation O X O weakBisimulation\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma weakBisimUpto[case_names cSim cSym, consumes 1]:\n  assumes p: \"(P, Q) \\<in> X\"\n  and rSim: \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> R \\<leadsto>\\<^sup>^<(weakBisimulation O (X \\<union> weakBisimulation) O bisim)> S\"\n  and rSym: \"\\<And>R S. (R, S) \\<in> X \\<Longrightarrow> (S, R) \\<in> X\"\n\n  shows \"P \\<approx> Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P \\<approx> Q", "from p"], ["proof (chain)\npicking this:\n  (P, Q) \\<in> X", "have \"(P, Q) \\<in> X \\<union> weakBisimulation\""], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X\n\ngoal (1 subgoal):\n 1. (P, Q) \\<in> X \\<union> weakBisimulation", "by simp"], ["proof (state)\nthis:\n  (P, Q) \\<in> X \\<union> weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "thus ?thesis"], ["proof (prove)\nusing this:\n  (P, Q) \\<in> X \\<union> weakBisimulation\n\ngoal (1 subgoal):\n 1. P \\<approx> Q", "apply(coinduct rule: weakBisimWeakUpto)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       (P, Q) \\<in> X \\<union> weakBisimulation \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O\n                             (X \\<union> weakBisimulation) O bisim)> Q\n 2. \\<And>P Q.\n       (P, Q) \\<in> X \\<union> weakBisimulation \\<Longrightarrow>\n       (Q, P) \\<in> X \\<union> weakBisimulation", "apply(auto dest: rSim rSym weakBisimulationE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<approx> Q \\<Longrightarrow>\n       P \\<leadsto>\\<^sup>^<(weakBisimulation O X O bisim \\<union>\n                             weakBisimulation O weakBisimulation O bisim)> Q", "apply(rule weakMonotonic)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>P Q.\n       P \\<approx> Q \\<Longrightarrow> P \\<leadsto>\\<^sup>^<?A16 P Q> Q\n 2. \\<And>P Q.\n       P \\<approx> Q \\<Longrightarrow>\n       ?A16 P Q\n       \\<subseteq> weakBisimulation O X O bisim \\<union>\n                   weakBisimulation O weakBisimulation O bisim", "apply(blast dest: weakBisimulationE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q.\n       P \\<approx> Q \\<Longrightarrow>\n       weakBisimulation\n       \\<subseteq> weakBisimulation O X O bisim \\<union>\n                   weakBisimulation O weakBisimulation O bisim", "apply(auto simp add: relcomp_unfold)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>P Q a b.\n       \\<lbrakk>P \\<approx> Q; a \\<approx> b;\n        \\<forall>y.\n           a \\<approx> y \\<longrightarrow>\n           (\\<forall>ya.\n               y \\<approx> ya \\<longrightarrow>\n               (ya, b) \\<notin> bisim)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y.\n                            a \\<approx> y \\<and>\n                            (\\<exists>ya.\n                                (y, ya) \\<in> X \\<and> ya \\<sim> b)", "by(metis reflexive Strong_Bisim.reflexive transitive)"], ["proof (state)\nthis:\n  P \\<approx> Q\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}