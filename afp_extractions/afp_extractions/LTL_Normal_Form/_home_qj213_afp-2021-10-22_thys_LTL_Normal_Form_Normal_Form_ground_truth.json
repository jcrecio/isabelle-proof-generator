{"file_name": "/home/qj213/afp-2021-10-22/thys/LTL_Normal_Form/Normal_Form.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LTL_Normal_Form", "problem_names": ["lemma ltln_strong_weak_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>\" (is \"?thesis1\")\n  \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)\" (is \"?thesis2\")", "lemma ltln_weak_strong_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)\" (is \"?thesis1\")\n  \"w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>\" (is \"?thesis2\")", "lemma GF_advice_restriction:\n  \"\\<phi>[\\<G>\\<F> (\\<phi> W\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1 = \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1\"\n  \"\\<psi>[\\<G>\\<F> (\\<phi> R\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1 = \\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1\"", "lemma FG_advice_restriction: \n  \"\\<psi>[\\<F>\\<G> (\\<phi> U\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1 = \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\"\n  \"\\<phi>[\\<F>\\<G> (\\<phi> M\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1 = \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\"", "lemma flatten_sigma_2_intersection:\n  \"M \\<inter> subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> S \\<Longrightarrow> \\<phi>[M \\<inter> S]\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\"", "lemma flatten_sigma_2_intersection_eq:\n  \"M \\<inter> subformulas\\<^sub>\\<mu> \\<phi> = M' \\<Longrightarrow> \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\"", "lemma flatten_sigma_2_monotone: \n  \"w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<Longrightarrow> M \\<subseteq> M' \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2\"", "lemma flatten_pi_2_intersection:\n  \"N \\<inter> subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> S \\<Longrightarrow> \\<phi>[N \\<inter> S]\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\"", "lemma flatten_pi_2_intersection_eq:\n  \"N \\<inter> subformulas\\<^sub>\\<nu> \\<phi> = N' \\<Longrightarrow> \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\"", "lemma flatten_pi_2_monotone: \n  \"w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<Longrightarrow> N \\<subseteq> N' \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2\"", "lemma ltln_weak_strong_stable_words_1:\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> W\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n (G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma ltln_weak_strong_stable_words_2:\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> R\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1)) M\\<^sub>n \\<psi>\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma ltln_weak_strong_stable_words:\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> W\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n (G\\<^sub>n \\<phi>[\\<G>\\<F> (\\<phi> W\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1))\"\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> R\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> (\\<phi> R\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1)) M\\<^sub>n \\<psi>\"", "lemma flatten_sigma_2_IH_lifting: \n  assumes \"\\<psi> \\<in> subfrmlsn \\<phi>\"\n  assumes \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi> (suffix i w)]\\<^sub>\\<Sigma>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\"\n  shows \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\"", "lemma flatten_sigma_2_correct:\n  \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2 \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "lemma ltln_strong_weak_stable_words_1:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1)) W\\<^sub>n \\<psi>\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma ltln_strong_weak_stable_words_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n (F\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "lemma ltln_strong_weak_stable_words:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> (\\<phi> U\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1)) W\\<^sub>n \\<psi>\"\n  \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n (F\\<^sub>n \\<phi>[\\<F>\\<G> (\\<phi> M\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1))\"", "lemma flatten_pi_2_IH_lifting: \n  assumes \"\\<psi> \\<in> subfrmlsn \\<phi>\"\n  assumes \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> (suffix i w)]\\<^sub>\\<Pi>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\"\n  shows \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\"", "lemma flatten_pi_2_correct:\n  \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2 \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\"", "theorem normal_form_with_flatten_sigma_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> \n    (\\<exists>M \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>. \\<exists>N \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>.\n      w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and> (\\<forall>\\<psi> \\<in> M. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and> (\\<forall>\\<psi> \\<in> N. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")", "theorem normal_form_with_flatten_pi_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> \n    (\\<exists>M \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>. \\<exists>N \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>.\n      w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and> (\\<forall>\\<psi> \\<in> M. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and> (\\<forall>\\<psi> \\<in> N. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], "translations": [["", "lemma ltln_strong_weak_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>\" (is \"?thesis1\")\n  \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)\" (is \"?thesis2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "have \"\\<exists>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\"\n    if \"suffix j w \\<Turnstile>\\<^sub>n \\<psi>\" and \"\\<forall>j\\<le>i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. suffix (i + ?j) w \\<Turnstile>\\<^sub>n \\<psi>", "from that"], ["proof (chain)\npicking this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<forall>j\\<le>i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>", "have \"j > i\""], ["proof (prove)\nusing this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<forall>j\\<le>i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. i < j", "by (cases \"j > i\") auto"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. suffix (i + ?j) w \\<Turnstile>\\<^sub>n \\<psi>", "thus \"suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  i < j\n\ngoal (1 subgoal):\n 1. suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<psi>", "using that"], ["proof (prove)\nusing this:\n  i < j\n  suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  \\<forall>j\\<le>i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<forall>j\\<le>?i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>j.\n                       suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "thus ?thesis1"], ["proof (prove)\nusing this:\n  \\<lbrakk>suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<forall>j\\<le>?i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>j.\n                       suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>", "unfolding ltln_strong_weak"], ["proof (prove)\nusing this:\n  \\<lbrakk>suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<forall>j\\<le>?i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>j.\n                       suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi> and\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "have \"\\<exists>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<phi>\"\n    if \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>\" and \"\\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<phi>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. suffix (i + ?j) w \\<Turnstile>\\<^sub>n \\<phi>", "from that"], ["proof (chain)\npicking this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>", "have \"j \\<ge> i\""], ["proof (prove)\nusing this:\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. i \\<le> j", "by (cases \"j \\<ge> i\") auto"], ["proof (state)\nthis:\n  i \\<le> j\n\ngoal (1 subgoal):\n 1. suffix (i + ?j) w \\<Turnstile>\\<^sub>n \\<phi>", "thus \"suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\nusing this:\n  i \\<le> j\n\ngoal (1 subgoal):\n 1. suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<phi>", "using that"], ["proof (prove)\nusing this:\n  i \\<le> j\n  suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<forall>j<i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<phi>", "by auto"], ["proof (state)\nthis:\n  suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<forall>j<?i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>j.\n                       suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "thus ?thesis2"], ["proof (prove)\nusing this:\n  \\<lbrakk>suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<forall>j<?i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>j.\n                       suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "unfolding ltln_strong_weak"], ["proof (prove)\nusing this:\n  \\<lbrakk>suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<forall>j<?i. \\<not> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>j.\n                       suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi> and\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_weak_strong_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)\" (is \"?thesis1\")\n  \"w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>\" (is \"?thesis2\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>) &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<phi>\"\n    if \"\\<And>j. j < i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\" and \"\\<And>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<phi>\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<phi>", "using that(1)[of j] that(2)[of \"j - i\"]"], ["proof (prove)\nusing this:\n  j < i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<phi>\n  suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<phi>", "by (cases \"j < i\") simp_all"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>j.\n              j < ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "thus ?thesis1"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>j.\n              j < ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)", "unfolding ltln_weak_strong"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>j.\n              j < ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> or\\<^sub>n (\\<phi> U\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)", "unfolding semantics_ltln.simps suffix_suffix"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>j.\n              j < ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<phi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<phi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. ((\\<forall>i.\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<or>\n         (\\<exists>j<i. False)) \\<or>\n     (\\<exists>i.\n         suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<and>\n         (\\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi>))) =\n    (\\<exists>i.\n        (suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<or>\n         (\\<forall>ia.\n             suffix (i + ia) w \\<Turnstile>\\<^sub>n \\<phi> \\<or>\n             (\\<exists>j<ia. False))) \\<and>\n        (\\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi>))", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "have \"suffix j w \\<Turnstile>\\<^sub>n \\<psi>\"\n    if \"\\<And>j. j \\<le> i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\" and \"\\<And>j. suffix (i + j) w \\<Turnstile>\\<^sub>n \\<psi>\" for i j"], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<psi>", "using that(1)[of j] that(2)[of \"j - i\"]"], ["proof (prove)\nusing this:\n  j \\<le> i \\<Longrightarrow> suffix j w \\<Turnstile>\\<^sub>n \\<psi>\n  suffix (i + (j - i)) w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. suffix j w \\<Turnstile>\\<^sub>n \\<psi>", "by (cases \"j \\<le> i\") simp_all"], ["proof (state)\nthis:\n  \\<lbrakk>\\<And>j.\n              j \\<le> ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "thus ?thesis2"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>j.\n              j \\<le> ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "unfolding ltln_weak_strong"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>j.\n              j \\<le> ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi> or\\<^sub>n (\\<phi> M\\<^sub>n \\<psi>) =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "unfolding semantics_ltln.simps suffix_suffix"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>j.\n              j \\<le> ?i \\<Longrightarrow>\n              suffix j w \\<Turnstile>\\<^sub>n \\<psi>;\n   \\<And>j. suffix (?i + j) w \\<Turnstile>\\<^sub>n \\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?j w \\<Turnstile>\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. ((\\<forall>i.\n         suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<or>\n         (\\<exists>j<i. False)) \\<or>\n     (\\<exists>i.\n         suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<and>\n         (\\<forall>j\\<le>i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>))) =\n    (\\<exists>i.\n        (suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<or>\n         (\\<forall>ia.\n             suffix (i + ia) w \\<Turnstile>\\<^sub>n \\<psi> \\<or>\n             (\\<exists>j<ia. False))) \\<and>\n        (\\<forall>j\\<le>i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>))", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>$\\evalnu{\\psi}{M}$, $\\evalmu{\\psi}{N}$, $\\flatten{\\psi}{M}$, and $\\flattentwo{\\psi}{N}$\\<close>"], ["", "text \\<open>The following four functions use \"promise sets\", named $M$ or $N$, to rewrite arbitrary \n  formulas into formulas from the class $\\Sigma_1$-, $\\Sigma_2$-, $\\Pi_1$-, and $\\Pi_2$, \n  respectively. In general the obtained formulas are not  equivalent, but under some conditions \n  (as outlined below) they are.\\<close>"], ["", "no_notation FG_advice (\"_[_]\\<^sub>\\<mu>\" [90,60] 89)"], ["", "no_notation GF_advice (\"_[_]\\<^sub>\\<nu>\" [90,60] 89)"], ["", "notation FG_advice (\"_[_]\\<^sub>\\<Sigma>\\<^sub>1\" [90,60] 89)"], ["", "notation GF_advice (\"_[_]\\<^sub>\\<Pi>\\<^sub>1\" [90,60] 89)"], ["", "fun flatten_sigma_2:: \"'a ltln \\<Rightarrow> 'a ltln set \\<Rightarrow> 'a ltln\" (\"_[_]\\<^sub>\\<Sigma>\\<^sub>2\")\nwhere\n  \"(\\<phi> U\\<^sub>n \\<psi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = (\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2) U\\<^sub>n (\\<psi>[M]\\<^sub>\\<Sigma>\\<^sub>2)\"\n| \"(\\<phi> W\\<^sub>n \\<psi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = (\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2) U\\<^sub>n ((\\<psi>[M]\\<^sub>\\<Sigma>\\<^sub>2) or\\<^sub>n (G\\<^sub>n \\<phi>[M]\\<^sub>\\<Pi>\\<^sub>1))\"\n| \"(\\<phi> M\\<^sub>n \\<psi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = (\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2) M\\<^sub>n (\\<psi>[M]\\<^sub>\\<Sigma>\\<^sub>2)\"\n| \"(\\<phi> R\\<^sub>n \\<psi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = ((\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2) or\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) M\\<^sub>n (\\<psi>[M]\\<^sub>\\<Sigma>\\<^sub>2)\"\n| \"(\\<phi> and\\<^sub>n \\<psi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = (\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2) and\\<^sub>n (\\<psi>[M]\\<^sub>\\<Sigma>\\<^sub>2)\"\n| \"(\\<phi> or\\<^sub>n \\<psi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = (\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2) or\\<^sub>n (\\<psi>[M]\\<^sub>\\<Sigma>\\<^sub>2)\"\n| \"(X\\<^sub>n \\<phi>)[M]\\<^sub>\\<Sigma>\\<^sub>2 = X\\<^sub>n (\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2)\"\n| \"\\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>\""], ["", "fun flatten_pi_2 :: \"'a ltln \\<Rightarrow> 'a ltln set \\<Rightarrow> 'a ltln\" (\"_[_]\\<^sub>\\<Pi>\\<^sub>2\")\nwhere\n  \"(\\<phi> W\\<^sub>n \\<psi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2) W\\<^sub>n (\\<psi>[N]\\<^sub>\\<Pi>\\<^sub>2)\"\n| \"(\\<phi> U\\<^sub>n \\<psi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 and\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) W\\<^sub>n (\\<psi>[N]\\<^sub>\\<Pi>\\<^sub>2)\"\n| \"(\\<phi> R\\<^sub>n \\<psi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2) R\\<^sub>n (\\<psi>[N]\\<^sub>\\<Pi>\\<^sub>2)\"\n| \"(\\<phi> M\\<^sub>n \\<psi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2) R\\<^sub>n ((\\<psi>[N]\\<^sub>\\<Pi>\\<^sub>2) and\\<^sub>n (F\\<^sub>n \\<phi>[N]\\<^sub>\\<Sigma>\\<^sub>1))\"\n| \"(\\<phi> and\\<^sub>n \\<psi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2) and\\<^sub>n (\\<psi>[N]\\<^sub>\\<Pi>\\<^sub>2)\"\n| \"(\\<phi> or\\<^sub>n \\<psi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2) or\\<^sub>n (\\<psi>[N]\\<^sub>\\<Pi>\\<^sub>2)\"\n| \"(X\\<^sub>n \\<phi>)[N]\\<^sub>\\<Pi>\\<^sub>2 = X\\<^sub>n (\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2)\"\n| \"\\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>\""], ["", "lemma GF_advice_restriction:\n  \"\\<phi>[\\<G>\\<F> (\\<phi> W\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1 = \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1\"\n  \"\\<psi>[\\<G>\\<F> (\\<phi> R\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1 = \\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<phi>[\\<G>\\<F> (\\<phi> W\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1 =\n    \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1 &&&\n    \\<psi>[\\<G>\\<F> (\\<phi> R\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1 =\n    \\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1", "by (metis (no_types, lifting) \\<G>\\<F>_semantics' inf_commute inf_left_commute inf_sup_absorb subformulas\\<^sub>\\<mu>.simps(6) GF_advice_inter_subformulas) \n     (metis (no_types, lifting) GF_advice_inter \\<G>\\<F>.simps(5) \\<G>\\<F>_semantics' \\<G>\\<F>_subformulas\\<^sub>\\<mu> inf.commute sup.boundedE)"], ["", "lemma FG_advice_restriction: \n  \"\\<psi>[\\<F>\\<G> (\\<phi> U\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1 = \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\"\n  \"\\<phi>[\\<F>\\<G> (\\<phi> M\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1 = \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<psi>[\\<F>\\<G> (\\<phi> U\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1 =\n    \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1 &&&\n    \\<phi>[\\<F>\\<G> (\\<phi> M\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1 =\n    \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1", "by (metis (no_types, lifting) FG_advice_inter \\<F>\\<G>.simps(4) \\<F>\\<G>_semantics' \\<F>\\<G>_subformulas\\<^sub>\\<nu> inf.commute sup.boundedE) \n     (metis (no_types, lifting) FG_advice_inter \\<F>\\<G>.simps(7) \\<F>\\<G>_semantics' \\<F>\\<G>_subformulas\\<^sub>\\<nu> inf.right_idem inf_commute sup.cobounded1)"], ["", "lemma flatten_sigma_2_intersection:\n  \"M \\<inter> subformulas\\<^sub>\\<mu> \\<phi> \\<subseteq> S \\<Longrightarrow> \\<phi>[M \\<inter> S]\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M \\<inter> subformulas\\<^sub>\\<mu> \\<phi>\n    \\<subseteq> S \\<Longrightarrow>\n    \\<phi>[M \\<inter> S]\\<^sub>\\<Sigma>\\<^sub>2 =\n    \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2", "by (induction \\<phi>) (simp; blast intro: GF_advice_inter)+"], ["", "lemma flatten_sigma_2_intersection_eq:\n  \"M \\<inter> subformulas\\<^sub>\\<mu> \\<phi> = M' \\<Longrightarrow> \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. M \\<inter> subformulas\\<^sub>\\<mu> \\<phi> = M' \\<Longrightarrow>\n    \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2", "using flatten_sigma_2_intersection"], ["proof (prove)\nusing this:\n  ?M \\<inter> subformulas\\<^sub>\\<mu> ?\\<phi>\n  \\<subseteq> ?S \\<Longrightarrow>\n  ?\\<phi>[?M \\<inter> ?S]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?\\<phi>[?M]\\<^sub>\\<Sigma>\\<^sub>2\n\ngoal (1 subgoal):\n 1. M \\<inter> subformulas\\<^sub>\\<mu> \\<phi> = M' \\<Longrightarrow>\n    \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2 = \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2", "by auto"], ["", "lemma flatten_sigma_2_monotone: \n  \"w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<Longrightarrow> M \\<subseteq> M' \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2;\n     M \\<subseteq> M'\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>[M']\\<^sub>\\<Sigma>\\<^sub>2", "by (induction \\<phi> arbitrary: w)\n     (simp; blast dest: GF_advice_monotone)+"], ["", "lemma flatten_pi_2_intersection:\n  \"N \\<inter> subformulas\\<^sub>\\<nu> \\<phi> \\<subseteq> S \\<Longrightarrow> \\<phi>[N \\<inter> S]\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<inter> subformulas\\<^sub>\\<nu> \\<phi>\n    \\<subseteq> S \\<Longrightarrow>\n    \\<phi>[N \\<inter> S]\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2", "by (induction \\<phi>) (simp; blast intro: FG_advice_inter)+"], ["", "lemma flatten_pi_2_intersection_eq:\n  \"N \\<inter> subformulas\\<^sub>\\<nu> \\<phi> = N' \\<Longrightarrow> \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<inter> subformulas\\<^sub>\\<nu> \\<phi> = N' \\<Longrightarrow>\n    \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2", "using flatten_pi_2_intersection"], ["proof (prove)\nusing this:\n  ?N \\<inter> subformulas\\<^sub>\\<nu> ?\\<phi>\n  \\<subseteq> ?S \\<Longrightarrow>\n  ?\\<phi>[?N \\<inter> ?S]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?\\<phi>[?N]\\<^sub>\\<Pi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. N \\<inter> subformulas\\<^sub>\\<nu> \\<phi> = N' \\<Longrightarrow>\n    \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2 = \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2", "by auto"], ["", "lemma flatten_pi_2_monotone: \n  \"w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<Longrightarrow> N \\<subseteq> N' \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2;\n     N \\<subseteq> N'\\<rbrakk>\n    \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>[N']\\<^sub>\\<Pi>\\<^sub>2", "by (induction \\<phi> arbitrary: w)\n     (simp; blast dest: FG_advice_monotone)+"], ["", "lemma ltln_weak_strong_stable_words_1:\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> W\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n (G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "{"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "assume assm: \"w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "obtain i where \"\\<And>j. \\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        (\\<And>j.\n            \\<F> \\<phi> (suffix i w)\n            \\<subseteq> \\<G>\\<F> \\<phi> w) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis MOST_nat_le \\<G>\\<F>_suffix \\<mu>_stable_def order_refl suffix_\\<mu>_stable)"], ["proof (state)\nthis:\n  \\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "hence \"\\<And>j. \\<F> \\<phi> (suffix i (suffix j w)) \\<subseteq> \\<G>\\<F> \\<phi> w\""], ["proof (prove)\nusing this:\n  \\<F> \\<phi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       \\<F> \\<phi> (suffix i (suffix j w)) \\<subseteq> \\<G>\\<F> \\<phi> w", "by (metis \\<F>_suffix \\<G>\\<F>_\\<F>_subset \\<G>\\<F>_suffix semiring_normalization_rules(24) subset_Un_eq suffix_suffix sup.orderE)"], ["proof (state)\nthis:\n  \\<F> \\<phi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<phi> w\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\n  \\<F> \\<phi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<phi> w", "have \"suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\n  \\<F> \\<phi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<phi> w\n\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n        w]\\<^sub>\\<Pi>\\<^sub>1", "using GF_advice_a1[OF \\<open>\\<And>j. \\<F> \\<phi> (suffix i (suffix j w)) \\<subseteq> \\<G>\\<F> \\<phi> w\\<close>]"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\n  \\<F> \\<phi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<phi> w\n  suffix i (suffix ?j1 w) \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix i\n   (suffix ?j1\n     w) \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1\n\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n        w]\\<^sub>\\<Pi>\\<^sub>1", "by (simp add: add.commute)"], ["proof (state)\nthis:\n  suffix i\n   w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n      w]\\<^sub>\\<Pi>\\<^sub>1\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "hence \"?rhs\""], ["proof (prove)\nusing this:\n  suffix i\n   w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n      w]\\<^sub>\\<Pi>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "using assm"], ["proof (prove)\nusing this:\n  suffix i\n   w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n      w]\\<^sub>\\<Pi>\\<^sub>1\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "have \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow> ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "show ?rhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "using ltln_weak_to_strong(1)"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<phi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> W\\<^sub>n ?\\<psi>;\n   \\<not> ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> U\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "assume ?rhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "thus ?lhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>", "unfolding ltln_weak_strong_2"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n   \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>)", "unfolding semantics_ltln.simps"], ["proof (prove)\nusing this:\n  \\<exists>i.\n     (suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<or>\n      (\\<forall>ia.\n          suffix ia\n           (suffix i\n             w) \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n       w]\\<^sub>\\<Pi>\\<^sub>1 \\<or>\n          (\\<exists>j<ia. False))) \\<and>\n     (\\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi>)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       (suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<or>\n        (\\<forall>ia.\n            suffix ia (suffix i w) \\<Turnstile>\\<^sub>n \\<phi> \\<or>\n            (\\<exists>j<ia. False))) \\<and>\n       (\\<forall>j<i. suffix j w \\<Turnstile>\\<^sub>n \\<phi>)", "by (metis \\<G>\\<F>_suffix order_refl GF_advice_a2)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_weak_strong_stable_words_2:\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> R\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1)) M\\<^sub>n \\<psi>\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "{"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "assume assm: \"w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "obtain i where \"\\<And>j. \\<F> \\<psi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<psi> w\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        (\\<And>j.\n            \\<F> \\<psi> (suffix i w)\n            \\<subseteq> \\<G>\\<F> \\<psi> w) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis MOST_nat_le \\<G>\\<F>_suffix \\<mu>_stable_def order_refl suffix_\\<mu>_stable)"], ["proof (state)\nthis:\n  \\<F> \\<psi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<psi> w\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "hence \"\\<And>j. \\<F> \\<psi> (suffix i (suffix j w)) \\<subseteq> \\<G>\\<F> \\<psi> w\""], ["proof (prove)\nusing this:\n  \\<F> \\<psi> (suffix i w) \\<subseteq> \\<G>\\<F> \\<psi> w\n\ngoal (1 subgoal):\n 1. \\<And>j.\n       \\<F> \\<psi> (suffix i (suffix j w)) \\<subseteq> \\<G>\\<F> \\<psi> w", "by (metis \\<F>_suffix \\<G>\\<F>_\\<F>_subset \\<G>\\<F>_suffix semiring_normalization_rules(24) subset_Un_eq suffix_suffix sup.orderE)"], ["proof (state)\nthis:\n  \\<F> \\<psi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<psi> w\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n  \\<F> \\<psi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<psi> w", "have \"suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1)\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n  \\<F> \\<psi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<psi> w\n\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n        w]\\<^sub>\\<Pi>\\<^sub>1", "using GF_advice_a1[OF \\<open>\\<And>j. \\<F> \\<psi> (suffix i (suffix j w)) \\<subseteq> \\<G>\\<F> \\<psi> w\\<close>]"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n  \\<F> \\<psi> (suffix i (suffix ?j2 w)) \\<subseteq> \\<G>\\<F> \\<psi> w\n  suffix i (suffix ?j1 w) \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix i\n   (suffix ?j1\n     w) \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1\n\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n        w]\\<^sub>\\<Pi>\\<^sub>1", "by (simp add: add.commute)"], ["proof (state)\nthis:\n  suffix i\n   w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n      w]\\<^sub>\\<Pi>\\<^sub>1\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "hence \"?rhs\""], ["proof (prove)\nusing this:\n  suffix i\n   w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n      w]\\<^sub>\\<Pi>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "using assm"], ["proof (prove)\nusing this:\n  suffix i\n   w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n      w]\\<^sub>\\<Pi>\\<^sub>1\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "have \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow> ?rhs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "show ?rhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "using ltln_weak_to_strong"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> W\\<^sub>n ?\\<psi>;\n   \\<not> ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> U\\<^sub>n ?\\<psi>\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> W\\<^sub>n ?\\<psi>;\n   ?w \\<Turnstile>\\<^sub>n F\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> U\\<^sub>n ?\\<psi>\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> R\\<^sub>n ?\\<psi>;\n   \\<not> ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi>\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> R\\<^sub>n ?\\<psi>;\n   ?w \\<Turnstile>\\<^sub>n F\\<^sub>n ?\\<phi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "assume ?rhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi>\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "thus ?lhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>", "unfolding ltln_weak_strong_2"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n                        w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>) M\\<^sub>n \\<psi>", "unfolding semantics_ltln.simps"], ["proof (prove)\nusing this:\n  \\<exists>i.\n     (suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<or>\n      (\\<forall>ia.\n          suffix ia\n           (suffix i\n             w) \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi>\n       w]\\<^sub>\\<Pi>\\<^sub>1 \\<or>\n          (\\<exists>j<ia. False))) \\<and>\n     (\\<forall>j\\<le>i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>)\n\ngoal (1 subgoal):\n 1. \\<exists>i.\n       (suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<or>\n        (\\<forall>ia.\n            suffix ia (suffix i w) \\<Turnstile>\\<^sub>n \\<psi> \\<or>\n            (\\<exists>j<ia. False))) \\<and>\n       (\\<forall>j\\<le>i. suffix j w \\<Turnstile>\\<^sub>n \\<psi>)", "by (metis GF_advice_a2 \\<G>\\<F>_suffix order_refl)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_weak_strong_stable_words:\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> W\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n (G\\<^sub>n \\<phi>[\\<G>\\<F> (\\<phi> W\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1))\"\n  \"w \\<Turnstile>\\<^sub>n (\\<phi> R\\<^sub>n \\<psi>) \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> (\\<phi> R\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1)) M\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     (\\<phi> W\\<^sub>n \\<psi>) w]\\<^sub>\\<Pi>\\<^sub>1) &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          (\\<phi> R\\<^sub>n \\<psi>)\n                          w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "unfolding ltln_weak_strong_stable_words_1 ltln_weak_strong_stable_words_2 GF_advice_restriction"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) =\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n (\\<psi> or\\<^sub>n G\\<^sub>n \\<phi>[\\<G>\\<F>\n     \\<phi> w]\\<^sub>\\<Pi>\\<^sub>1) &&&\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> or\\<^sub>n G\\<^sub>n \\<psi>[\\<G>\\<F>\n                          \\<psi> w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<psi>", "by simp+"], ["", "lemma flatten_sigma_2_IH_lifting: \n  assumes \"\\<psi> \\<in> subfrmlsn \\<phi>\"\n  assumes \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<psi> (suffix i w)]\\<^sub>\\<Sigma>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\"\n  shows \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n \\<psi>[\\<G>\\<F> \\<phi>\n                                    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "by (metis (no_types, lifting) inf.absorb_iff2 inf_assoc inf_commute assms(2) \\<G>\\<F>_suffix flatten_sigma_2_intersection_eq[of \"\\<G>\\<F> \\<phi> w\" \\<psi> \"\\<G>\\<F> \\<psi> w\"] \\<G>\\<F>_semantics' subformulas\\<^sub>\\<mu>_subset[OF assms(1)])"], ["", "lemma flatten_sigma_2_correct:\n  \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2 \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<G>\\<F>\n (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n              w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "case (And_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<G>\\<F>\n (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n              w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<G>\\<F>\n                  (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2", "using flatten_sigma_2_IH_lifting[of _ \"\\<phi>1 and\\<^sub>n \\<phi>2\" 0]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 and\\<^sub>n \\<phi>2);\n   suffix 0\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix 0 ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix 0\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (\\<phi>1 and\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<G>\\<F>\n                  (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n              w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n              w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Or_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n              w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n(\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n                 (\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2", "using flatten_sigma_2_IH_lifting[of _ \"\\<phi>1 or\\<^sub>n \\<phi>2\" 0]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 or\\<^sub>n \\<phi>2);\n   suffix 0\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix 0 ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix 0\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (\\<phi>1 or\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n                 (\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<G>\\<F>\n               (\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n                                  ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n    w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n                                  ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n                                  ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "using flatten_sigma_2_IH_lifting[of _ \"X\\<^sub>n \\<phi>\" 1]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi>\n                                  ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (X\\<^sub>n \\<phi>);\n   suffix 1\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix 1 ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix 1 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix 1\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (X\\<^sub>n \\<phi>) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix 1 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<G>\\<F> (X\\<^sub>n \\<phi>)\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Until_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2", "using flatten_sigma_2_IH_lifting[of _ \"\\<phi>1 U\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 U\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix ?i\n ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<G>\\<F>\n              (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Release_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2", "unfolding ltln_weak_strong_stable_words"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n (\\<phi>1 or\\<^sub>n G\\<^sub>n \\<phi>2[\\<G>\\<F>\n                            (\\<phi>1 R\\<^sub>n \\<phi>2)\n                            w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<phi>2", "using flatten_sigma_2_IH_lifting[of _ \"\\<phi>1 R\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 R\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix ?i\n ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n (\\<phi>1 or\\<^sub>n G\\<^sub>n \\<phi>2[\\<G>\\<F>\n                            (\\<phi>1 R\\<^sub>n \\<phi>2)\n                            w]\\<^sub>\\<Pi>\\<^sub>1) M\\<^sub>n \\<phi>2", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<G>\\<F>\n              (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (WeakUntil_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2", "unfolding ltln_weak_strong_stable_words"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n (\\<phi>2 or\\<^sub>n G\\<^sub>n \\<phi>1[\\<G>\\<F>\n        (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>1)", "using flatten_sigma_2_IH_lifting[of _ \"\\<phi>1 W\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 W\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix ?i\n ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n (\\<phi>2 or\\<^sub>n G\\<^sub>n \\<phi>1[\\<G>\\<F>\n        (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>1)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<G>\\<F>\n              (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (StrongRelease_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n             w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "using flatten_sigma_2_IH_lifting[of _ \"\\<phi>1 M\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<G>\\<F> \\<phi>1\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<G>\\<F> \\<phi>2\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 M\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F> ?\\<psi>\n                                     (suffix ?i\n ?w)]\\<^sub>\\<Sigma>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<G>\\<F>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<G>\\<F>\n              (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<G>\\<F> true\\<^sub>n\n      w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<G>\\<F> false\\<^sub>n\n       w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<G>\\<F> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<G>\\<F> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Sigma>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)", "qed auto"], ["", "lemma ltln_strong_weak_stable_words_1:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1)) W\\<^sub>n \\<psi>\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "assume ?rhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                         \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                         \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "obtain i where \"\\<nu>_stable \\<psi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<nu>_stable \\<psi> (suffix i w) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis MOST_nat less_Suc_eq suffix_\\<nu>_stable)"], ["proof (state)\nthis:\n  \\<nu>_stable \\<psi> (suffix i w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "hence \"\\<forall>\\<psi> \\<in> \\<F>\\<G> \\<psi> w. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<nu>_stable \\<psi> (suffix i w)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<psi> w.\n       suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "using \\<F>\\<G>_suffix \\<G>_elim \\<nu>_stable_def"], ["proof (prove)\nusing this:\n  \\<nu>_stable \\<psi> (suffix i w)\n  \\<F>\\<G> ?\\<phi> (suffix ?i ?w) = \\<F>\\<G> ?\\<phi> ?w\n  ?\\<psi> \\<in> \\<G> ?\\<phi> ?w \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<psi>\n  \\<nu>_stable ?\\<phi> ?w = (\\<F>\\<G> ?\\<phi> ?w = \\<G> ?\\<phi> ?w)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<psi> w.\n       suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<psi> w.\n     suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "{"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<psi> w.\n     suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "assume assm: \"w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1))\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                                   \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "hence \"suffix i w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<psi>)[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                                   \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<psi>)[\\<F>\\<G> \\<psi>\n          w]\\<^sub>\\<Sigma>\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  suffix i\n   w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<psi>)[\\<F>\\<G> \\<psi>\n        w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "hence \"suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  suffix i\n   w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<psi>)[\\<F>\\<G> \\<psi>\n        w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>", "by (blast dest: FG_advice_b2_helper[OF \\<open>\\<forall>\\<psi> \\<in> \\<F>\\<G> \\<psi> w. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\\<close>])"], ["proof (state)\nthis:\n  suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "hence \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "using assm"], ["proof (prove)\nusing this:\n  suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                                   \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                                   \\<psi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n 2. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                         \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                                   \\<psi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "show ?lhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                         \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                                   \\<psi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>", "by (meson ltln_weak_to_strong(1) semantics_ltln.simps(5) until_and_left_distrib)"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "have \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow> suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n       suffix i\n        w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi>\n w]\\<^sub>\\<Sigma>\\<^sub>1", "using \\<F>\\<G>_suffix"], ["proof (prove)\nusing this:\n  \\<F>\\<G> ?\\<phi> (suffix ?i ?w) = \\<F>\\<G> ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n       suffix i\n        w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi>\n w]\\<^sub>\\<Sigma>\\<^sub>1", "by (blast intro: FG_advice_b1)"], ["proof (state)\nthis:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1", "show \"?rhs\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "unfolding ltln_strong_weak_2"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>) W\\<^sub>n \\<psi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<psi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                         \\<psi> w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_strong_weak_stable_words_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n (F\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "assume ?rhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n    \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n    \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "obtain i where \"\\<nu>_stable \\<phi> (suffix i w)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<nu>_stable \\<phi> (suffix i w) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (metis MOST_nat less_Suc_eq suffix_\\<nu>_stable)"], ["proof (state)\nthis:\n  \\<nu>_stable \\<phi> (suffix i w)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "hence \"\\<forall>\\<psi> \\<in> \\<F>\\<G> \\<phi> w. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  \\<nu>_stable \\<phi> (suffix i w)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<phi> w.\n       suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "using \\<F>\\<G>_suffix \\<G>_elim \\<nu>_stable_def"], ["proof (prove)\nusing this:\n  \\<nu>_stable \\<phi> (suffix i w)\n  \\<F>\\<G> ?\\<phi> (suffix ?i ?w) = \\<F>\\<G> ?\\<phi> ?w\n  ?\\<psi> \\<in> \\<G> ?\\<phi> ?w \\<Longrightarrow>\n  ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<psi>\n  \\<nu>_stable ?\\<phi> ?w = (\\<F>\\<G> ?\\<phi> ?w = \\<G> ?\\<phi> ?w)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<phi> w.\n       suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<phi> w.\n     suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "{"], ["proof (state)\nthis:\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> \\<phi> w.\n     suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "assume assm: \"w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n (F\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1))\""], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "hence \"suffix i w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<phi>)[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<phi>)[\\<F>\\<G> \\<phi>\n          w]\\<^sub>\\<Sigma>\\<^sub>1", "by simp"], ["proof (state)\nthis:\n  suffix i\n   w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<phi>)[\\<F>\\<G> \\<phi>\n        w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "hence \"suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi>\""], ["proof (prove)\nusing this:\n  suffix i\n   w \\<Turnstile>\\<^sub>n (F\\<^sub>n \\<phi>)[\\<F>\\<G> \\<phi>\n        w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi>", "by (blast dest: FG_advice_b2_helper[OF \\<open>\\<forall>\\<psi> \\<in> \\<F>\\<G> \\<phi> w. suffix i w \\<Turnstile>\\<^sub>n G\\<^sub>n \\<psi>\\<close>])"], ["proof (state)\nthis:\n  suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "hence \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\""], ["proof (prove)\nusing this:\n  suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "using assm"], ["proof (prove)\nusing this:\n  suffix i w \\<Turnstile>\\<^sub>n F\\<^sub>n \\<phi>\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "by auto"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "}"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n 2. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n    \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "show ?lhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n    \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "using ltln_weak_to_strong(3) semantics_ltln.simps(5) strong_release_and_right_distrib"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n    \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n  w \\<Turnstile>\\<^sub>n G\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n                                   \\<phi>\n                                   w]\\<^sub>\\<Sigma>\\<^sub>1) \\<Longrightarrow>\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi> R\\<^sub>n ?\\<psi>;\n   \\<not> ?w \\<Turnstile>\\<^sub>n G\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi>\n  ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi> and\\<^sub>n ?\\<psi> =\n  (?\\<xi> \\<Turnstile>\\<^sub>n ?\\<phi> \\<and>\n   ?\\<xi> \\<Turnstile>\\<^sub>n ?\\<psi>)\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n (?\\<psi>\\<^sub>1 and\\<^sub>n ?\\<psi>\\<^sub>2) =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi>\\<^sub>1 and\\<^sub>n ?\\<phi> M\\<^sub>n ?\\<psi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "moreover"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "have \"\\<And>i. suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow> suffix i w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n       suffix i\n        w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n w]\\<^sub>\\<Sigma>\\<^sub>1", "using \\<F>\\<G>_suffix"], ["proof (prove)\nusing this:\n  \\<F>\\<G> ?\\<phi> (suffix ?i ?w) = \\<F>\\<G> ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       suffix i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n       suffix i\n        w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n w]\\<^sub>\\<Sigma>\\<^sub>1", "by (blast intro: FG_advice_b1)"], ["proof (state)\nthis:\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "ultimately"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1", "show \"?rhs\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi>\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "unfolding ltln_strong_weak_2"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>)\n  suffix ?i w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n  suffix ?i\n   w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n    \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ltln_strong_weak_stable_words:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> (\\<phi> U\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1)) W\\<^sub>n \\<psi>\"\n  \"w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n (F\\<^sub>n \\<phi>[\\<F>\\<G> (\\<phi> M\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> U\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           (\\<phi> U\\<^sub>n \\<psi>)\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> M\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      (\\<phi> M\\<^sub>n \\<psi>) w]\\<^sub>\\<Sigma>\\<^sub>1)", "unfolding ltln_strong_weak_stable_words_1 ltln_strong_weak_stable_words_2 FG_advice_restriction"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> =\n    w \\<Turnstile>\\<^sub>n (\\<phi> and\\<^sub>n F\\<^sub>n \\<psi>[\\<F>\\<G>\n                           \\<psi>\n                           w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<psi> &&&\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1) =\n    w \\<Turnstile>\\<^sub>n \\<phi> R\\<^sub>n (\\<psi> and\\<^sub>n F\\<^sub>n \\<phi>[\\<F>\\<G>\n      \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>1)", "by simp+"], ["", "lemma flatten_pi_2_IH_lifting: \n  assumes \"\\<psi> \\<in> subfrmlsn \\<phi>\"\n  assumes \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<psi> (suffix i w)]\\<^sub>\\<Pi>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\"\n  shows \"suffix i w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2 = suffix i w \\<Turnstile>\\<^sub>n \\<psi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suffix i\n     w \\<Turnstile>\\<^sub>n \\<psi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2 =\n    suffix i w \\<Turnstile>\\<^sub>n \\<psi>", "by (metis (no_types, lifting) inf.absorb_iff2 inf_assoc inf_commute assms(2) \\<F>\\<G>_suffix flatten_pi_2_intersection_eq[of \"\\<F>\\<G> \\<phi> w\" \\<psi> \"\\<F>\\<G> \\<psi> w\"] \\<F>\\<G>_semantics' subformulas\\<^sub>\\<nu>_subset[OF assms(1)])"], ["", "lemma flatten_pi_2_correct:\n  \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2 \\<longleftrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>", "proof (induction \\<phi> arbitrary: w)"], ["proof (state)\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<F>\\<G>\n (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n              w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "case (And_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (11 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<F>\\<G>\n (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n              w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\nA total of 11 subgoals...", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<F>\\<G>\n                  (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2", "using flatten_pi_2_IH_lifting[of _ \"\\<phi>1 and\\<^sub>n \\<phi>2\" 0]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 and\\<^sub>n \\<phi>2);\n   suffix 0\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix 0 ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix 0\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (\\<phi>1 and\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<F>\\<G>\n                  (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 and\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 and\\<^sub>n \\<phi>2\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n              w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n              w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Or_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (10 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 10. \\<And>\\<phi>1 \\<phi>2 w.\n        \\<lbrakk>\\<And>w.\n                    w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n              w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    w \\<Turnstile>\\<^sub>n \\<phi>1;\n         \\<And>w.\n            w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n            w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n        \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n(\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n                          w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n                 (\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2", "using flatten_pi_2_IH_lifting[of _ \"\\<phi>1 or\\<^sub>n \\<phi>2\" 0]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 or\\<^sub>n \\<phi>2);\n   suffix 0\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix 0 ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix 0\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (\\<phi>1 or\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix 0 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n                 (\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2", "by simp"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2[\\<F>\\<G>\n               (\\<phi>1 or\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 or\\<^sub>n \\<phi>2\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Next_ltln \\<phi>)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (9 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi> w.\n       (\\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi>\n    w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>) \\<Longrightarrow>\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 9. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "using flatten_pi_2_IH_lifting[of _ \"X\\<^sub>n \\<phi>\" 1]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (X\\<^sub>n \\<phi>);\n   suffix 1\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix 1 ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix 1 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix 1\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (X\\<^sub>n \\<phi>) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix 1 ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>[\\<F>\\<G> (X\\<^sub>n \\<phi>)\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n X\\<^sub>n \\<phi>\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Until_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (8 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 U\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 8. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2", "unfolding ltln_strong_weak_stable_words"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n (\\<phi>1 and\\<^sub>n F\\<^sub>n \\<phi>2[\\<F>\\<G>\n                             (\\<phi>1 U\\<^sub>n \\<phi>2)\n                             w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<phi>2", "using flatten_pi_2_IH_lifting[of _ \"\\<phi>1 U\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 U\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix ?i ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n (\\<phi>1 and\\<^sub>n F\\<^sub>n \\<phi>2[\\<F>\\<G>\n                             (\\<phi>1 U\\<^sub>n \\<phi>2)\n                             w]\\<^sub>\\<Sigma>\\<^sub>1) W\\<^sub>n \\<phi>2", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2[\\<F>\\<G>\n              (\\<phi>1 U\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 U\\<^sub>n \\<phi>2\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (Release_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (7 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 R\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 7. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2", "using flatten_pi_2_IH_lifting[of _ \"\\<phi>1 R\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 R\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix ?i ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2[\\<F>\\<G>\n              (\\<phi>1 R\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n \\<phi>2\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (WeakUntil_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (6 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 W\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n 6. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2", "using flatten_pi_2_IH_lifting[of _ \"\\<phi>1 W\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 W\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix ?i ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2[\\<F>\\<G>\n              (\\<phi>1 W\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 W\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "case (StrongRelease_ltln \\<phi>1 \\<phi>2)"], ["proof (state)\nthis:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (5 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)\n 5. \\<And>\\<phi>1 \\<phi>2 w.\n       \\<lbrakk>\\<And>w.\n                   w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1\n             w]\\<^sub>\\<Pi>\\<^sub>2 =\n                   w \\<Turnstile>\\<^sub>n \\<phi>1;\n        \\<And>w.\n           w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2\n     w]\\<^sub>\\<Pi>\\<^sub>2 =\n           w \\<Turnstile>\\<^sub>n \\<phi>2\\<rbrakk>\n       \\<Longrightarrow> w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                                     (\\<phi>1 M\\<^sub>n \\<phi>2)\n                                     w]\\<^sub>\\<Pi>\\<^sub>2 =\n                         w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "then"], ["proof (chain)\npicking this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2", "show ?case"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2", "unfolding ltln_strong_weak_stable_words"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n (\\<phi>2 and\\<^sub>n F\\<^sub>n \\<phi>1[\\<F>\\<G>\n         (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>1)", "using flatten_pi_2_IH_lifting[of _ \"\\<phi>1 M\\<^sub>n \\<phi>2\"]"], ["proof (prove)\nusing this:\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1[\\<F>\\<G> \\<phi>1 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>1\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2[\\<F>\\<G> \\<phi>2 ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n \\<phi>2\n  \\<lbrakk>?\\<psi> \\<in> subfrmlsn (\\<phi>1 M\\<^sub>n \\<phi>2);\n   suffix ?i\n    ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G> ?\\<psi>\n                                     (suffix ?i ?w)]\\<^sub>\\<Pi>\\<^sub>2 =\n   suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\\<rbrakk>\n  \\<Longrightarrow> suffix ?i\n                     ?w \\<Turnstile>\\<^sub>n ?\\<psi>[\\<F>\\<G>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n                    suffix ?i ?w \\<Turnstile>\\<^sub>n ?\\<psi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n                (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n    w \\<Turnstile>\\<^sub>n \\<phi>1 R\\<^sub>n (\\<phi>2 and\\<^sub>n F\\<^sub>n \\<phi>1[\\<F>\\<G>\n         (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Sigma>\\<^sub>1)", "by fastforce"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2[\\<F>\\<G>\n              (\\<phi>1 M\\<^sub>n \\<phi>2) w]\\<^sub>\\<Pi>\\<^sub>2 =\n  w \\<Turnstile>\\<^sub>n \\<phi>1 M\\<^sub>n \\<phi>2\n\ngoal (4 subgoals):\n 1. \\<And>w.\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n[\\<F>\\<G> true\\<^sub>n\n      w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n true\\<^sub>n\n 2. \\<And>w.\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n[\\<F>\\<G> false\\<^sub>n\n       w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n false\\<^sub>n\n 3. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)[\\<F>\\<G> prop\\<^sub>n(x)\n         w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n prop\\<^sub>n(x)\n 4. \\<And>x w.\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)[\\<F>\\<G> nprop\\<^sub>n(x)\n          w]\\<^sub>\\<Pi>\\<^sub>2 =\n       w \\<Turnstile>\\<^sub>n nprop\\<^sub>n(x)", "qed auto"], ["", "subsection \\<open>Main Theorem\\<close>"], ["", "text \\<open>Using the four previously defined functions we obtain our normal form.\\<close>"], ["", "theorem normal_form_with_flatten_sigma_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> \n    (\\<exists>M \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>. \\<exists>N \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>.\n      w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and> (\\<forall>\\<psi> \\<in> M. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and> (\\<forall>\\<psi> \\<in> N. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> =\n    (\\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n        \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n           w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n           (\\<forall>\\<psi>\\<in>M.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n           (\\<forall>\\<psi>\\<in>N.\n               w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n 2. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n 2. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>", "have \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2", "using flatten_sigma_2_correct"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>[\\<G>\\<F> ?\\<phi>\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n 2. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2", "show ?rhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))", "using \\<G>\\<F>_subformulas\\<^sub>\\<mu> \\<F>\\<G>_subformulas\\<^sub>\\<nu> \\<G>\\<F>_implies_GF \\<F>\\<G>_implies_FG"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\n  \\<G>\\<F> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n  \\<F>\\<G> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n  \\<forall>\\<psi>\\<in>\\<G>\\<F> ?\\<phi> ?w.\n     ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> ?\\<phi>\n                    ?w]\\<^sub>\\<Sigma>\\<^sub>1)\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> ?\\<phi> ?w.\n     ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> ?\\<phi>\n                    ?w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))", "by metis"], ["proof (state)\nthis:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "assume ?rhs"], ["proof (state)\nthis:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))", "obtain M N where \"w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\" and \"M \\<subseteq> \\<G>\\<F> \\<phi> w\" and \"N \\<subseteq> \\<F>\\<G> \\<phi> w\""], ["proof (prove)\nusing this:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n\ngoal (1 subgoal):\n 1. (\\<And>M N.\n        \\<lbrakk>w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2;\n         M \\<subseteq> \\<G>\\<F> \\<phi> w;\n         N \\<subseteq> \\<F>\\<G> \\<phi> w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using X_\\<G>\\<F>_Y_\\<F>\\<G>"], ["proof (prove)\nusing this:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n  \\<lbrakk>?X \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>;\n   ?Y \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>;\n   \\<forall>\\<psi>\\<in>?X.\n      ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[?Y]\\<^sub>\\<Sigma>\\<^sub>1);\n   \\<forall>\\<psi>\\<in>?Y.\n      ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[?X]\\<^sub>\\<Pi>\\<^sub>1)\\<rbrakk>\n  \\<Longrightarrow> ?X \\<subseteq> \\<G>\\<F> ?\\<phi> ?w \\<and>\n                    ?Y \\<subseteq> \\<F>\\<G> ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. (\\<And>M N.\n        \\<lbrakk>w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2;\n         M \\<subseteq> \\<G>\\<F> \\<phi> w;\n         N \\<subseteq> \\<F>\\<G> \\<phi> w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w", "have \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2", "using flatten_sigma_2_monotone"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi>[?M]\\<^sub>\\<Sigma>\\<^sub>2;\n   ?M \\<subseteq> ?M'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?M']\\<^sub>\\<Sigma>\\<^sub>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[M]\\<^sub>\\<Sigma>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2", "show ?lhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>", "using flatten_sigma_2_correct"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<G>\\<F> \\<phi> w]\\<^sub>\\<Sigma>\\<^sub>2\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>[\\<G>\\<F> ?\\<phi>\n                                   ?w]\\<^sub>\\<Sigma>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem normal_form_with_flatten_pi_2:\n  \"w \\<Turnstile>\\<^sub>n \\<phi> \\<longleftrightarrow> \n    (\\<exists>M \\<subseteq> subformulas\\<^sub>\\<mu> \\<phi>. \\<exists>N \\<subseteq> subformulas\\<^sub>\\<nu> \\<phi>.\n      w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and> (\\<forall>\\<psi> \\<in> M. w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and> (\\<forall>\\<psi> \\<in> N. w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)))\" (is \"?lhs \\<longleftrightarrow> ?rhs\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> =\n    (\\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n        \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n           w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n           (\\<forall>\\<psi>\\<in>M.\n               w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n           (\\<forall>\\<psi>\\<in>N.\n               w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n 2. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "assume ?lhs"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n 2. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>", "have \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2", "using flatten_pi_2_correct"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>[\\<F>\\<G> ?\\<phi> ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\n\ngoal (2 subgoals):\n 1. w \\<Turnstile>\\<^sub>n \\<phi> \\<Longrightarrow>\n    \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n 2. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2", "show ?rhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))", "using \\<G>\\<F>_subformulas\\<^sub>\\<mu> \\<F>\\<G>_subformulas\\<^sub>\\<nu> \\<G>\\<F>_implies_GF \\<F>\\<G>_implies_FG"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\n  \\<G>\\<F> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>\n  \\<F>\\<G> ?\\<phi> ?w \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>\n  \\<forall>\\<psi>\\<in>\\<G>\\<F> ?\\<phi> ?w.\n     ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[\\<F>\\<G> ?\\<phi>\n                    ?w]\\<^sub>\\<Sigma>\\<^sub>1)\n  \\<forall>\\<psi>\\<in>\\<F>\\<G> ?\\<phi> ?w.\n     ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[\\<G>\\<F> ?\\<phi>\n                    ?w]\\<^sub>\\<Pi>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))", "by metis"], ["proof (state)\nthis:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "assume ?rhs"], ["proof (state)\nthis:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))", "obtain M N where \"w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\" and \"M \\<subseteq> \\<G>\\<F> \\<phi> w\" and \"N \\<subseteq> \\<F>\\<G> \\<phi> w\""], ["proof (prove)\nusing this:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n\ngoal (1 subgoal):\n 1. (\\<And>N M.\n        \\<lbrakk>w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2;\n         M \\<subseteq> \\<G>\\<F> \\<phi> w;\n         N \\<subseteq> \\<F>\\<G> \\<phi> w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using X_\\<G>\\<F>_Y_\\<F>\\<G>"], ["proof (prove)\nusing this:\n  \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n     \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n        w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n        (\\<forall>\\<psi>\\<in>M.\n            w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n        (\\<forall>\\<psi>\\<in>N.\n            w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1))\n  \\<lbrakk>?X \\<subseteq> subformulas\\<^sub>\\<mu> ?\\<phi>;\n   ?Y \\<subseteq> subformulas\\<^sub>\\<nu> ?\\<phi>;\n   \\<forall>\\<psi>\\<in>?X.\n      ?w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[?Y]\\<^sub>\\<Sigma>\\<^sub>1);\n   \\<forall>\\<psi>\\<in>?Y.\n      ?w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[?X]\\<^sub>\\<Pi>\\<^sub>1)\\<rbrakk>\n  \\<Longrightarrow> ?X \\<subseteq> \\<G>\\<F> ?\\<phi> ?w \\<and>\n                    ?Y \\<subseteq> \\<F>\\<G> ?\\<phi> ?w\n\ngoal (1 subgoal):\n 1. (\\<And>N M.\n        \\<lbrakk>w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2;\n         M \\<subseteq> \\<G>\\<F> \\<phi> w;\n         N \\<subseteq> \\<F>\\<G> \\<phi> w\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w", "have \"w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\""], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2", "using flatten_pi_2_monotone"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2\n  M \\<subseteq> \\<G>\\<F> \\<phi> w\n  N \\<subseteq> \\<F>\\<G> \\<phi> w\n  \\<lbrakk>?w \\<Turnstile>\\<^sub>n ?\\<phi>[?N]\\<^sub>\\<Pi>\\<^sub>2;\n   ?N \\<subseteq> ?N'\\<rbrakk>\n  \\<Longrightarrow> ?w \\<Turnstile>\\<^sub>n ?\\<phi>[?N']\\<^sub>\\<Pi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2", "by metis"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. \\<exists>M\\<subseteq>subformulas\\<^sub>\\<mu> \\<phi>.\n       \\<exists>N\\<subseteq>subformulas\\<^sub>\\<nu> \\<phi>.\n          w \\<Turnstile>\\<^sub>n \\<phi>[N]\\<^sub>\\<Pi>\\<^sub>2 \\<and>\n          (\\<forall>\\<psi>\\<in>M.\n              w \\<Turnstile>\\<^sub>n G\\<^sub>n (F\\<^sub>n \\<psi>[N]\\<^sub>\\<Sigma>\\<^sub>1)) \\<and>\n          (\\<forall>\\<psi>\\<in>N.\n              w \\<Turnstile>\\<^sub>n F\\<^sub>n (G\\<^sub>n \\<psi>[M]\\<^sub>\\<Pi>\\<^sub>1)) \\<Longrightarrow>\n    w \\<Turnstile>\\<^sub>n \\<phi>", "then"], ["proof (chain)\npicking this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2", "show ?lhs"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>", "using flatten_pi_2_correct"], ["proof (prove)\nusing this:\n  w \\<Turnstile>\\<^sub>n \\<phi>[\\<F>\\<G> \\<phi> w]\\<^sub>\\<Pi>\\<^sub>2\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>[\\<F>\\<G> ?\\<phi> ?w]\\<^sub>\\<Pi>\\<^sub>2 =\n  ?w \\<Turnstile>\\<^sub>n ?\\<phi>\n\ngoal (1 subgoal):\n 1. w \\<Turnstile>\\<^sub>n \\<phi>", "by blast"], ["proof (state)\nthis:\n  w \\<Turnstile>\\<^sub>n \\<phi>\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}