{"file_name": "/home/qj213/afp-2021-10-22/thys/SenSocialChoice/RPRs.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/SenSocialChoice", "problem_names": ["lemma indifferent_prefI[intro]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<preceq> x \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<approx> y\"", "lemma indifferent_prefD[dest]: \"x \\<^bsub>r\\<^esub>\\<approx> y \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> y \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma strict_pref_def_irrefl[simp]: \"\\<not> (x \\<^bsub>r\\<^esub>\\<prec> x)\"", "lemma strict_prefI[intro]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; \\<not>(y \\<^bsub>r\\<^esub>\\<preceq> x) \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> y\"", "lemma completeI[intro]:\n  \"(\\<And>x y. \\<lbrakk> x \\<in> A; y \\<in> A; x \\<noteq> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x) \\<Longrightarrow> complete A r\"", "lemma completeD[dest]:\n  \"\\<lbrakk> complete A r; x \\<in> A; y \\<in> A; x \\<noteq> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma complete_less_not: \"\\<lbrakk> complete A r; hasw [x,y] A; \\<not> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma complete_indiff_not: \"\\<lbrakk> complete A r; hasw [x,y] A; \\<not> x \\<^bsub>r\\<^esub>\\<approx> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> y \\<or> y \\<^bsub>r\\<^esub>\\<prec> x\"", "lemma complete_exh:\n  assumes \"complete A r\"\n      and \"hasw [x,y] A\"\n  obtains (xPy) \"x \\<^bsub>r\\<^esub>\\<prec> y\"\n    | (yPx) \"y \\<^bsub>r\\<^esub>\\<prec> x\"\n    | (xIy) \"x \\<^bsub>r\\<^esub>\\<approx> y\"", "lemma complete_refl_on:\n  \"\\<lbrakk> complete A r; refl_on A r; x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma irreflI[intro]: \"\\<lbrakk> r \\<subseteq> A \\<times> A; \\<And>x. x \\<in> A \\<Longrightarrow> \\<not> x \\<^bsub>r\\<^esub>\\<preceq> x \\<rbrakk> \\<Longrightarrow> irrefl A r\"", "lemma irreflD[dest]: \"\\<lbrakk> irrefl A r; (x, y) \\<in> r \\<rbrakk> \\<Longrightarrow> hasw [x,y] A\"", "lemma irreflD'[dest]:\n  \"\\<lbrakk> irrefl A r; r \\<noteq> {} \\<rbrakk> \\<Longrightarrow> \\<exists>x y. hasw [x,y] A \\<and> (x, y) \\<in> r\"", "lemma rprI[intro]: \"\\<lbrakk> complete A r; refl_on A r; trans r \\<rbrakk> \\<Longrightarrow> rpr A r\"", "lemma rprD: \"rpr A r \\<Longrightarrow> complete A r \\<and> refl_on A r \\<and> trans r\"", "lemma rpr_in_set[dest]: \"\\<lbrakk> rpr A r; x \\<^bsub>r\\<^esub>\\<preceq> y \\<rbrakk> \\<Longrightarrow> {x,y} \\<subseteq> A\"", "lemma rpr_refl[dest]: \"\\<lbrakk> rpr A r; x \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma rpr_less_not: \"\\<lbrakk> rpr A r; hasw [x,y] A; \\<not> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma rpr_less_imp_le[simp]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y\"", "lemma rpr_less_imp_neq[simp]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> x \\<noteq> y\"", "lemma rpr_less_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y; y \\<^bsub>r\\<^esub>\\<prec> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z\"", "lemma rpr_le_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<preceq> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z\"", "lemma rpr_le_less_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<prec> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z\"", "lemma rpr_less_le_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y; y \\<^bsub>r\\<^esub>\\<preceq> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z\"", "lemma rpr_complete: \"\\<lbrakk> rpr A r; x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\"", "lemma profileI[intro]: \"\\<lbrakk> \\<And>i. i \\<in> Is \\<Longrightarrow> rpr A (P i); Is \\<noteq> {} \\<rbrakk> \\<Longrightarrow> profile A Is P\"", "lemma profile_rprD[dest]: \"\\<lbrakk> profile A Is P; i \\<in> Is \\<rbrakk> \\<Longrightarrow> rpr A (P i)\"", "lemma profile_non_empty: \"profile A Is P \\<Longrightarrow> Is \\<noteq> {}\""], "translations": [["", "lemma indifferent_prefI[intro]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<preceq> x \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<approx> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y;\n     y \\<^bsub>r\\<^esub>\\<preceq> x\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<approx> y", "unfolding indifferent_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y;\n     y \\<^bsub>r\\<^esub>\\<preceq> x\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "by simp"], ["", "lemma indifferent_prefD[dest]: \"x \\<^bsub>r\\<^esub>\\<approx> y \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> y \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<^bsub>r\\<^esub>\\<approx> y \\<Longrightarrow>\n    x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> y \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding indifferent_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n    y \\<^bsub>r\\<^esub>\\<preceq> x \\<Longrightarrow>\n    x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> y \\<^bsub>r\\<^esub>\\<preceq> x", "by simp"], ["", "definition strict_pref :: \"'a \\<Rightarrow> 'a RPR \\<Rightarrow> 'a \\<Rightarrow> bool\" (\"_ \\<^bsub>_\\<^esub>\\<prec> _\" [50, 1000, 51] 50) where\n  \"x \\<^bsub>r\\<^esub>\\<prec> y \\<equiv> (x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> \\<not>(y \\<^bsub>r\\<^esub>\\<preceq> x))\""], ["", "lemma strict_pref_def_irrefl[simp]: \"\\<not> (x \\<^bsub>r\\<^esub>\\<prec> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> x \\<^bsub>r\\<^esub>\\<prec> x", "unfolding strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> (x \\<^bsub>r\\<^esub>\\<preceq> x \\<and> (x, x) \\<notin> r)", "by blast"], ["", "lemma strict_prefI[intro]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; \\<not>(y \\<^bsub>r\\<^esub>\\<preceq> x) \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y; (y, x) \\<notin> r\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> y", "unfolding strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y; (y, x) \\<notin> r\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n                      (y, x) \\<notin> r", "by simp"], ["", "text\\<open>\n\nTraditionally, @{term \"x \\<^bsub>r\\<^esub>\\<preceq> y\"} would be written $x\\ R\\ y$,\n@{term \"x \\<^bsub>r\\<^esub>\\<approx> y\"} as $x\\ I\\ y$ and @{term \"x\n\\<^bsub>r\\<^esub>\\<prec> y\"} as $x\\ P\\ y$, where the relation $r$ is implicit, and\nprofiles are indexed by subscripting.\n\n\\<close>"], ["", "text\\<open>\n\n\\emph{Complete} means that every pair of distinct alternatives is\nranked. The \"distinct\" part is a matter of taste, as it makes sense to\nregard an alternative as as good as itself. Here I take reflexivity\nseparately.\n\n\\<close>"], ["", "definition complete :: \"'a set \\<Rightarrow> 'a RPR \\<Rightarrow> bool\" where\n  \"complete A r \\<equiv> (\\<forall>x \\<in> A. \\<forall>y \\<in> A - {x}. x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x)\""], ["", "lemma completeI[intro]:\n  \"(\\<And>x y. \\<lbrakk> x \\<in> A; y \\<in> A; x \\<noteq> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x) \\<Longrightarrow> complete A r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x y.\n        \\<lbrakk>x \\<in> A; y \\<in> A; x \\<noteq> y\\<rbrakk>\n        \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                          y \\<^bsub>r\\<^esub>\\<preceq> x) \\<Longrightarrow>\n    complete A r", "unfolding complete_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x y.\n        \\<lbrakk>x \\<in> A; y \\<in> A; x \\<noteq> y\\<rbrakk>\n        \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                          y \\<^bsub>r\\<^esub>\\<preceq> x) \\<Longrightarrow>\n    \\<forall>x\\<in>A.\n       \\<forall>y\\<in>A - {x}.\n          x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n          y \\<^bsub>r\\<^esub>\\<preceq> x", "by auto"], ["", "lemma completeD[dest]:\n  \"\\<lbrakk> complete A r; x \\<in> A; y \\<in> A; x \\<noteq> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r; x \\<in> A; y \\<in> A; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding complete_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>A.\n                \\<forall>y\\<in>A - {x}.\n                   x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                   y \\<^bsub>r\\<^esub>\\<preceq> x;\n     x \\<in> A; y \\<in> A; x \\<noteq> y\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "by auto"], ["", "lemma complete_less_not: \"\\<lbrakk> complete A r; hasw [x,y] A; \\<not> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r; hasw [x, y] A;\n     \\<not> x \\<^bsub>r\\<^esub>\\<prec> y\\<rbrakk>\n    \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding complete_def strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>A.\n                \\<forall>y\\<in>A - {x}.\n                   x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                   y \\<^bsub>r\\<^esub>\\<preceq> x;\n     hasw [x, y] A;\n     \\<not> (x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n             (y, x) \\<notin> r)\\<rbrakk>\n    \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x", "by auto"], ["", "lemma complete_indiff_not: \"\\<lbrakk> complete A r; hasw [x,y] A; \\<not> x \\<^bsub>r\\<^esub>\\<approx> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> y \\<or> y \\<^bsub>r\\<^esub>\\<prec> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r; hasw [x, y] A;\n     \\<not> x \\<^bsub>r\\<^esub>\\<approx> y\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<prec> x", "unfolding complete_def indifferent_pref_def strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>A.\n                \\<forall>y\\<in>A - {x}.\n                   x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                   y \\<^bsub>r\\<^esub>\\<preceq> x;\n     hasw [x, y] A;\n     \\<not> (x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n             y \\<^bsub>r\\<^esub>\\<preceq> x)\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n                      (y, x) \\<notin> r \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x \\<and>\n                      (x, y) \\<notin> r", "by auto"], ["", "lemma complete_exh:\n  assumes \"complete A r\"\n      and \"hasw [x,y] A\"\n  obtains (xPy) \"x \\<^bsub>r\\<^esub>\\<prec> y\"\n    | (yPx) \"y \\<^bsub>r\\<^esub>\\<prec> x\"\n    | (xIy) \"x \\<^bsub>r\\<^esub>\\<approx> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<prec> y \\<Longrightarrow> thesis;\n     y \\<^bsub>r\\<^esub>\\<prec> x \\<Longrightarrow> thesis;\n     x \\<^bsub>r\\<^esub>\\<approx> y \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "using assms"], ["proof (prove)\nusing this:\n  complete A r\n  hasw [x, y] A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<prec> y \\<Longrightarrow> thesis;\n     y \\<^bsub>r\\<^esub>\\<prec> x \\<Longrightarrow> thesis;\n     x \\<^bsub>r\\<^esub>\\<approx> y \\<Longrightarrow> thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "unfolding complete_def strict_pref_def indifferent_pref_def"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>A.\n     \\<forall>y\\<in>A - {x}.\n        x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\n  hasw [x, y] A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n             (y, x) \\<notin> r \\<Longrightarrow>\n             thesis;\n     y \\<^bsub>r\\<^esub>\\<preceq> x \\<and>\n     (x, y) \\<notin> r \\<Longrightarrow>\n     thesis;\n     x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n     y \\<^bsub>r\\<^esub>\\<preceq> x \\<Longrightarrow>\n     thesis\\<rbrakk>\n    \\<Longrightarrow> thesis", "by auto"], ["", "text\\<open>\n\nUse the standard @{term \"refl\"}. Also define \\emph{irreflexivity}\nanalogously to how @{term \"refl\"} is defined in the standard library.\n\n\\<close>"], ["", "declare refl_onI[intro] refl_onD[dest]"], ["", "lemma complete_refl_on:\n  \"\\<lbrakk> complete A r; refl_on A r; x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r; refl_on A r; x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding complete_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>x\\<in>A.\n                \\<forall>y\\<in>A - {x}.\n                   x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                   y \\<^bsub>r\\<^esub>\\<preceq> x;\n     refl_on A r; x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "by auto"], ["", "definition irrefl :: \"'a set \\<Rightarrow> 'a RPR \\<Rightarrow> bool\" where\n  \"irrefl A r \\<equiv> r \\<subseteq> A \\<times> A \\<and> (\\<forall>x \\<in> A. \\<not> x \\<^bsub>r\\<^esub>\\<preceq> x)\""], ["", "lemma irreflI[intro]: \"\\<lbrakk> r \\<subseteq> A \\<times> A; \\<And>x. x \\<in> A \\<Longrightarrow> \\<not> x \\<^bsub>r\\<^esub>\\<preceq> x \\<rbrakk> \\<Longrightarrow> irrefl A r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<subseteq> A \\<times> A;\n     \\<And>x. x \\<in> A \\<Longrightarrow> (x, x) \\<notin> r\\<rbrakk>\n    \\<Longrightarrow> RPRs.irrefl A r", "unfolding irrefl_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<subseteq> A \\<times> A;\n     \\<And>x. x \\<in> A \\<Longrightarrow> (x, x) \\<notin> r\\<rbrakk>\n    \\<Longrightarrow> r \\<subseteq> A \\<times> A \\<and>\n                      (\\<forall>x\\<in>A. (x, x) \\<notin> r)", "by simp"], ["", "lemma irreflD[dest]: \"\\<lbrakk> irrefl A r; (x, y) \\<in> r \\<rbrakk> \\<Longrightarrow> hasw [x,y] A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>RPRs.irrefl A r; x \\<^bsub>r\\<^esub>\\<preceq> y\\<rbrakk>\n    \\<Longrightarrow> hasw [x, y] A", "unfolding irrefl_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<subseteq> A \\<times> A \\<and>\n             (\\<forall>x\\<in>A. (x, x) \\<notin> r);\n     x \\<^bsub>r\\<^esub>\\<preceq> y\\<rbrakk>\n    \\<Longrightarrow> hasw [x, y] A", "by auto"], ["", "lemma irreflD'[dest]:\n  \"\\<lbrakk> irrefl A r; r \\<noteq> {} \\<rbrakk> \\<Longrightarrow> \\<exists>x y. hasw [x,y] A \\<and> (x, y) \\<in> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>RPRs.irrefl A r; r \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x y.\n                         hasw [x, y] A \\<and> x \\<^bsub>r\\<^esub>\\<preceq> y", "unfolding irrefl_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>r \\<subseteq> A \\<times> A \\<and>\n             (\\<forall>x\\<in>A. (x, x) \\<notin> r);\n     r \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x y.\n                         hasw [x, y] A \\<and> x \\<^bsub>r\\<^esub>\\<preceq> y", "by auto"], ["", "text\\<open>Rational preference relations, also known as weak orders and (I\nguess) complete pre-orders.\\<close>"], ["", "definition rpr :: \"'a set \\<Rightarrow> 'a RPR \\<Rightarrow> bool\" where\n  \"rpr A r \\<equiv> complete A r \\<and> refl_on A r \\<and> trans r\""], ["", "lemma rprI[intro]: \"\\<lbrakk> complete A r; refl_on A r; trans r \\<rbrakk> \\<Longrightarrow> rpr A r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r; refl_on A r; trans r\\<rbrakk>\n    \\<Longrightarrow> rpr A r", "unfolding rpr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r; refl_on A r; trans r\\<rbrakk>\n    \\<Longrightarrow> complete A r \\<and> refl_on A r \\<and> trans r", "by simp"], ["", "lemma rprD: \"rpr A r \\<Longrightarrow> complete A r \\<and> refl_on A r \\<and> trans r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rpr A r \\<Longrightarrow> complete A r \\<and> refl_on A r \\<and> trans r", "unfolding rpr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. complete A r \\<and> refl_on A r \\<and> trans r \\<Longrightarrow>\n    complete A r \\<and> refl_on A r \\<and> trans r", "by simp"], ["", "lemma rpr_in_set[dest]: \"\\<lbrakk> rpr A r; x \\<^bsub>r\\<^esub>\\<preceq> y \\<rbrakk> \\<Longrightarrow> {x,y} \\<subseteq> A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>rpr A r; x \\<^bsub>r\\<^esub>\\<preceq> y\\<rbrakk>\n    \\<Longrightarrow> {x, y} \\<subseteq> A", "unfolding rpr_def refl_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r \\<and>\n             (r \\<subseteq> A \\<times> A \\<and>\n              (\\<forall>x\\<in>A. x \\<^bsub>r\\<^esub>\\<preceq> x)) \\<and>\n             trans r;\n     x \\<^bsub>r\\<^esub>\\<preceq> y\\<rbrakk>\n    \\<Longrightarrow> {x, y} \\<subseteq> A", "by auto"], ["", "lemma rpr_refl[dest]: \"\\<lbrakk> rpr A r; x \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>rpr A r; x \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding rpr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r \\<and> refl_on A r \\<and> trans r;\n     x \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> x", "by blast"], ["", "lemma rpr_less_not: \"\\<lbrakk> rpr A r; hasw [x,y] A; \\<not> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>rpr A r; hasw [x, y] A;\n     \\<not> x \\<^bsub>r\\<^esub>\\<prec> y\\<rbrakk>\n    \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding rpr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r \\<and> refl_on A r \\<and> trans r; hasw [x, y] A;\n     \\<not> x \\<^bsub>r\\<^esub>\\<prec> y\\<rbrakk>\n    \\<Longrightarrow> y \\<^bsub>r\\<^esub>\\<preceq> x", "by (auto simp add: complete_less_not)"], ["", "lemma rpr_less_imp_le[simp]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<^bsub>r\\<^esub>\\<prec> y \\<Longrightarrow>\n    x \\<^bsub>r\\<^esub>\\<preceq> y", "unfolding strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n    (y, x) \\<notin> r \\<Longrightarrow>\n    x \\<^bsub>r\\<^esub>\\<preceq> y", "by simp"], ["", "lemma rpr_less_imp_neq[simp]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y \\<rbrakk> \\<Longrightarrow> x \\<noteq> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<^bsub>r\\<^esub>\\<prec> y \\<Longrightarrow> x \\<noteq> y", "unfolding strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<^bsub>r\\<^esub>\\<preceq> y \\<and>\n    (y, x) \\<notin> r \\<Longrightarrow>\n    x \\<noteq> y", "by blast"], ["", "lemma rpr_less_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y; y \\<^bsub>r\\<^esub>\\<prec> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<prec> y; y \\<^bsub>r\\<^esub>\\<prec> z;\n     rpr A r\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z", "unfolding rpr_def strict_pref_def trans_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> (y, x) \\<notin> r;\n     y \\<^bsub>r\\<^esub>\\<preceq> z \\<and> (z, y) \\<notin> r;\n     complete A r \\<and>\n     refl_on A r \\<and>\n     (\\<forall>x y z.\n         x \\<^bsub>r\\<^esub>\\<preceq> y \\<longrightarrow>\n         y \\<^bsub>r\\<^esub>\\<preceq> z \\<longrightarrow>\n         x \\<^bsub>r\\<^esub>\\<preceq> z)\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z \\<and>\n                      (z, x) \\<notin> r", "by blast"], ["", "lemma rpr_le_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<preceq> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<preceq> z;\n     rpr A r\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z", "unfolding rpr_def trans_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<preceq> z;\n     complete A r \\<and>\n     refl_on A r \\<and>\n     (\\<forall>x y z.\n         x \\<^bsub>r\\<^esub>\\<preceq> y \\<longrightarrow>\n         y \\<^bsub>r\\<^esub>\\<preceq> z \\<longrightarrow>\n         x \\<^bsub>r\\<^esub>\\<preceq> z)\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z", "by blast"], ["", "lemma rpr_le_less_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<prec> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y; y \\<^bsub>r\\<^esub>\\<prec> z;\n     rpr A r\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z", "unfolding rpr_def strict_pref_def trans_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y;\n     y \\<^bsub>r\\<^esub>\\<preceq> z \\<and> (z, y) \\<notin> r;\n     complete A r \\<and>\n     refl_on A r \\<and>\n     (\\<forall>x y z.\n         x \\<^bsub>r\\<^esub>\\<preceq> y \\<longrightarrow>\n         y \\<^bsub>r\\<^esub>\\<preceq> z \\<longrightarrow>\n         x \\<^bsub>r\\<^esub>\\<preceq> z)\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z \\<and>\n                      (z, x) \\<notin> r", "by blast"], ["", "lemma rpr_less_le_trans[trans]: \"\\<lbrakk> x \\<^bsub>r\\<^esub>\\<prec> y; y \\<^bsub>r\\<^esub>\\<preceq> z; rpr A r \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<prec> y; y \\<^bsub>r\\<^esub>\\<preceq> z;\n     rpr A r\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<prec> z", "unfolding rpr_def strict_pref_def trans_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<^bsub>r\\<^esub>\\<preceq> y \\<and> (y, x) \\<notin> r;\n     y \\<^bsub>r\\<^esub>\\<preceq> z;\n     complete A r \\<and>\n     refl_on A r \\<and>\n     (\\<forall>x y z.\n         x \\<^bsub>r\\<^esub>\\<preceq> y \\<longrightarrow>\n         y \\<^bsub>r\\<^esub>\\<preceq> z \\<longrightarrow>\n         x \\<^bsub>r\\<^esub>\\<preceq> z)\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> z \\<and>\n                      (z, x) \\<notin> r", "by blast"], ["", "lemma rpr_complete: \"\\<lbrakk> rpr A r; x \\<in> A; y \\<in> A \\<rbrakk> \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or> y \\<^bsub>r\\<^esub>\\<preceq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>rpr A r; x \\<in> A; y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "unfolding rpr_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>complete A r \\<and> refl_on A r \\<and> trans r; x \\<in> A;\n     y \\<in> A\\<rbrakk>\n    \\<Longrightarrow> x \\<^bsub>r\\<^esub>\\<preceq> y \\<or>\n                      y \\<^bsub>r\\<^esub>\\<preceq> x", "by (blast dest: complete_refl_on)"], ["", "(* **************************************** *)"], ["", "subsection\\<open>Profiles\\<close>"], ["", "text \\<open>A \\emph{profile} (also termed a collection of \\emph{ballots}) maps\neach individual to an RPR for that individual.\\<close>"], ["", "type_synonym ('a, 'i) Profile = \"'i \\<Rightarrow> 'a RPR\""], ["", "definition profile :: \"'a set \\<Rightarrow> 'i set \\<Rightarrow> ('a, 'i) Profile \\<Rightarrow> bool\" where\n  \"profile A Is P \\<equiv> Is \\<noteq> {} \\<and> (\\<forall>i \\<in> Is. rpr A (P i))\""], ["", "lemma profileI[intro]: \"\\<lbrakk> \\<And>i. i \\<in> Is \\<Longrightarrow> rpr A (P i); Is \\<noteq> {} \\<rbrakk> \\<Longrightarrow> profile A Is P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>i. i \\<in> Is \\<Longrightarrow> rpr A (P i);\n     Is \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> profile A Is P", "unfolding profile_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>i. i \\<in> Is \\<Longrightarrow> rpr A (P i);\n     Is \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> Is \\<noteq> {} \\<and> (\\<forall>i\\<in>Is. rpr A (P i))", "by simp"], ["", "lemma profile_rprD[dest]: \"\\<lbrakk> profile A Is P; i \\<in> Is \\<rbrakk> \\<Longrightarrow> rpr A (P i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>profile A Is P; i \\<in> Is\\<rbrakk>\n    \\<Longrightarrow> rpr A (P i)", "unfolding profile_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Is \\<noteq> {} \\<and> (\\<forall>i\\<in>Is. rpr A (P i));\n     i \\<in> Is\\<rbrakk>\n    \\<Longrightarrow> rpr A (P i)", "by simp"], ["", "lemma profile_non_empty: \"profile A Is P \\<Longrightarrow> Is \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. profile A Is P \\<Longrightarrow> Is \\<noteq> {}", "unfolding profile_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. Is \\<noteq> {} \\<and> (\\<forall>i\\<in>Is. rpr A (P i)) \\<Longrightarrow>\n    Is \\<noteq> {}", "by simp"], ["", "(*<*)"], ["", "end"], ["", "(*>*)"]]}