{"file_name": "/home/qj213/afp-2021-10-22/thys/SenSocialChoice/Sen.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/SenSocialChoice", "problem_names": ["lemma SDFI[intro]:\n  \"(\\<And>P. Pcond A Is P \\<Longrightarrow> choiceFn A (sdf P)) \\<Longrightarrow> SDF sdf A Is Pcond\"", "lemma SWF_SDF:\n  assumes finiteA: \"finite A\"\n  shows \"SWF scf A Is universal_domain \\<Longrightarrow> SDF scf A Is universal_domain\"", "lemma SDF_nodictator_witness:\n  assumes has2A: \"hasw [x,y] A\"\n      and has2Is: \"hasw [i,j] Is\"\n  obtains P\n  where \"profile A Is P\"\n    and \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n    and \"y \\<^bsub>(P j)\\<^esub>\\<prec> x\"", "lemma SDF_possibility:\n  assumes finiteA: \"finite A\"\n      and has2A: \"has 2 A\"\n      and has2Is: \"has 2 Is\"\n  obtains sdf\n  where \"weak_pareto sdf A Is universal_domain\"\n    and \"iia sdf A Is\"\n    and \"\\<not>(\\<exists>j. dictator sdf A Is j)\"\n    and \"SDF sdf A Is universal_domain\"", "lemma liberalE:\n  \"\\<lbrakk> liberal scf A Is; i \\<in> Is \\<rbrakk>\n   \\<Longrightarrow> \\<exists>x \\<in> A. \\<exists>y \\<in> A. x \\<noteq> y\n         \\<and> decisive scf A Is {i} x y \\<and> decisive scf A Is {i} y x\"", "lemma liberal_imp_minimally_liberal:\n  assumes has2Is: \"has 2 Is\"\n      and L: \"liberal scf A Is\"\n  shows \"minimally_liberal scf A Is\"", "lemmas liberal_witness_two = SDF_nodictator_witness", "lemma liberal_witness_three:\n  assumes threeA: \"hasw [x,y,v] A\"\n      and twoIs: \"hasw [i,j] Is\"\n  obtains P\n    where \"profile A Is P\"\n      and \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n      and \"v \\<^bsub>(P j)\\<^esub>\\<prec> x\"\n      and \"\\<forall>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\"", "lemma liberal_witness_four:\n  assumes fourA: \"hasw [x,y,u,v] A\"\n      and twoIs: \"hasw [i,j] Is\"\n  obtains P\n    where \"profile A Is P\"\n      and \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n      and \"u \\<^bsub>(P j)\\<^esub>\\<prec> v\"\n      and \"\\<forall>i \\<in> Is. v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and> y \\<^bsub>(P i)\\<^esub>\\<prec> u\"", "theorem LiberalParadox:\n  assumes SDF: \"SDF sdf A Is universal_domain\"\n      and ml: \"minimally_liberal sdf A Is\"\n      and wp: \"weak_pareto sdf A Is universal_domain\"\n  shows False"], "translations": [["", "lemma SDFI[intro]:\n  \"(\\<And>P. Pcond A Is P \\<Longrightarrow> choiceFn A (sdf P)) \\<Longrightarrow> SDF sdf A Is Pcond\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        Pcond A Is P \\<Longrightarrow> choiceFn A (sdf P)) \\<Longrightarrow>\n    SDF sdf A Is Pcond", "unfolding SDF_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        Pcond A Is P \\<Longrightarrow> choiceFn A (sdf P)) \\<Longrightarrow>\n    \\<forall>P. Pcond A Is P \\<longrightarrow> choiceFn A (sdf P)", "by simp"], ["", "lemma SWF_SDF:\n  assumes finiteA: \"finite A\"\n  shows \"SWF scf A Is universal_domain \\<Longrightarrow> SDF scf A Is universal_domain\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SWF scf A Is universal_domain \\<Longrightarrow>\n    SDF scf A Is universal_domain", "unfolding SDF_def SWF_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>P.\n       universal_domain A Is P \\<longrightarrow>\n       rpr A (scf P) \\<Longrightarrow>\n    \\<forall>P. universal_domain A Is P \\<longrightarrow> choiceFn A (scf P)", "by (blast dest: rpr_choiceFn[OF finiteA])"], ["", "text\\<open>In contrast to SWFs, there are SDFs satisfying Arrow's (relevant)\nrequirements. The lemma uses a witness to show the absence of a\ndictatorship.\\<close>"], ["", "lemma SDF_nodictator_witness:\n  assumes has2A: \"hasw [x,y] A\"\n      and has2Is: \"hasw [i,j] Is\"\n  obtains P\n  where \"profile A Is P\"\n    and \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n    and \"y \\<^bsub>(P j)\\<^esub>\\<prec> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    profile A Is ?P2\n 2. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    x \\<^bsub>(?P2 i)\\<^esub>\\<prec> y\n 3. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    y \\<^bsub>(?P2 j)\\<^esub>\\<prec> x", "let ?P = \"\\<lambda>k. (if k = i then ({ (x, u) | u. u \\<in> A }\n                               \\<union> { (y, u) | u. u \\<in> A - {x} })\n                          else ({ (y, u) | u. u \\<in> A }\n                               \\<union> { (x, u) | u. u \\<in> A - {y} }))\n                      \\<union> (A - {x,y}) \\<times> (A - {x,y})\""], ["proof (state)\ngoal (3 subgoals):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    profile A Is ?P2\n 2. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    x \\<^bsub>(?P2 i)\\<^esub>\\<prec> y\n 3. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    y \\<^bsub>(?P2 j)\\<^esub>\\<prec> x", "show \"profile A Is ?P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. profile A Is\n     (\\<lambda>k.\n         (if k = i\n          then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n          else {(y, u) |u. u \\<in> A} \\<union>\n               {(x, u) |u. u \\<in> A - {y}}) \\<union>\n         (A - {x, y}) \\<times> (A - {x, y}))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        ((if ia = i\n          then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n          else {(y, u) |u. u \\<in> A} \\<union>\n               {(x, u) |u. u \\<in> A - {y}}) \\<union>\n         (A - {x, y}) \\<times> (A - {x, y}))\n 2. Is \\<noteq> {}", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        ((if ia = i\n          then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n          else {(y, u) |u. u \\<in> A} \\<union>\n               {(x, u) |u. u \\<in> A - {y}}) \\<union>\n         (A - {x, y}) \\<times> (A - {x, y}))\n 2. Is \\<noteq> {}", "assume iis: \"i \\<in> Is\""], ["proof (state)\nthis:\n  i \\<in> Is\n\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        ((if ia = i\n          then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n          else {(y, u) |u. u \\<in> A} \\<union>\n               {(x, u) |u. u \\<in> A - {y}}) \\<union>\n         (A - {x, y}) \\<times> (A - {x, y}))\n 2. Is \\<noteq> {}", "from has2A"], ["proof (chain)\npicking this:\n  hasw [x, y] A", "show \"rpr A (?P i)\""], ["proof (prove)\nusing this:\n  hasw [x, y] A\n\ngoal (1 subgoal):\n 1. rpr A\n     ((if i = i\n       then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n       else {(y, u) |u. u \\<in> A} \\<union>\n            {(x, u) |u. u \\<in> A - {y}}) \\<union>\n      (A - {x, y}) \\<times> (A - {x, y}))", "by - (rule rprI, simp_all add: trans_def, blast+)"], ["proof (state)\nthis:\n  rpr A\n   ((if i = i\n     then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n     else {(y, u) |u. u \\<in> A} \\<union>\n          {(x, u) |u. u \\<in> A - {y}}) \\<union>\n    (A - {x, y}) \\<times> (A - {x, y}))\n\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "from has2Is"], ["proof (chain)\npicking this:\n  hasw [i, j] Is", "show \"Is \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  Is \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  profile A Is\n   (\\<lambda>k.\n       (if k = i\n        then {(x, u) |u. u \\<in> A} \\<union> {(y, u) |u. u \\<in> A - {x}}\n        else {(y, u) |u. u \\<in> A} \\<union>\n             {(x, u) |u. u \\<in> A - {y}}) \\<union>\n       (A - {x, y}) \\<times> (A - {x, y}))\n\ngoal (2 subgoals):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    x \\<^bsub>((if i = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}}\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(x, u) |u. u \\<in> A - {y}}) \\<union>\n               (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<prec> y\n 2. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    y \\<^bsub>((if j = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}}\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(x, u) |u. u \\<in> A - {y}}) \\<union>\n               (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<prec> x", "from has2A has2Is"], ["proof (chain)\npicking this:\n  hasw [x, y] A\n  hasw [i, j] Is", "show \"x \\<^bsub>(?P i)\\<^esub>\\<prec> y\"\n   and \"y \\<^bsub>(?P j)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  hasw [x, y] A\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. x \\<^bsub>((if i = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}}\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(x, u) |u. u \\<in> A - {y}}) \\<union>\n               (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<prec> y &&&\n    y \\<^bsub>((if j = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}}\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(x, u) |u. u \\<in> A - {y}}) \\<union>\n               (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<prec> x", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  hasw [x, y] A\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. x \\<^bsub>((if i = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}}\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(x, u) |u. u \\<in> A - {y}}) \\<union>\n               (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<preceq> y \\<and>\n    (y, x)\n    \\<notin> (if i = i\n              then {(x, u) |u. u \\<in> A} \\<union>\n                   {(y, u) |u. u \\<in> A - {x}}\n              else {(y, u) |u. u \\<in> A} \\<union>\n                   {(x, u) |u. u \\<in> A - {y}}) \\<union>\n             (A - {x, y}) \\<times> (A - {x, y}) &&&\n    y \\<^bsub>((if j = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}}\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(x, u) |u. u \\<in> A - {y}}) \\<union>\n               (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<preceq> x \\<and>\n    (x, y)\n    \\<notin> (if j = i\n              then {(x, u) |u. u \\<in> A} \\<union>\n                   {(y, u) |u. u \\<in> A - {x}}\n              else {(y, u) |u. u \\<in> A} \\<union>\n                   {(x, u) |u. u \\<in> A - {y}}) \\<union>\n             (A - {x, y}) \\<times> (A - {x, y})", "by auto"], ["proof (state)\nthis:\n  x \\<^bsub>((if i = i\n              then {(x, u) |u. u \\<in> A} \\<union>\n                   {(y, u) |u. u \\<in> A - {x}}\n              else {(y, u) |u. u \\<in> A} \\<union>\n                   {(x, u) |u. u \\<in> A - {y}}) \\<union>\n             (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<prec> y\n  y \\<^bsub>((if j = i\n              then {(x, u) |u. u \\<in> A} \\<union>\n                   {(y, u) |u. u \\<in> A - {x}}\n              else {(y, u) |u. u \\<in> A} \\<union>\n                   {(x, u) |u. u \\<in> A - {y}}) \\<union>\n             (A - {x, y}) \\<times> (A - {x, y}))\\<^esub>\\<prec> x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma SDF_possibility:\n  assumes finiteA: \"finite A\"\n      and has2A: \"has 2 A\"\n      and has2Is: \"has 2 Is\"\n  obtains sdf\n  where \"weak_pareto sdf A Is universal_domain\"\n    and \"iia sdf A Is\"\n    and \"\\<not>(\\<exists>j. dictator sdf A Is j)\"\n    and \"SDF sdf A Is universal_domain\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?sdf = \"\\<lambda>P. { (x, y) . x \\<in> A \\<and> y \\<in> A\n                             \\<and> \\<not> ((\\<forall>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x)\n                                \\<and> (\\<exists>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x)) }\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"weak_pareto ?sdf A Is universal_domain\""], ["proof (prove)\ngoal (1 subgoal):\n 1. weak_pareto\n     (\\<lambda>P.\n         {(x, y).\n          x \\<in> A \\<and>\n          y \\<in> A \\<and>\n          \\<not> ((\\<forall>i\\<in>Is.\n                      y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                  (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n     A Is universal_domain", "by (rule, unfold strict_pref_def, auto dest: profile_non_empty)"], ["proof (state)\nthis:\n  weak_pareto\n   (\\<lambda>P.\n       {(x, y).\n        x \\<in> A \\<and>\n        y \\<in> A \\<and>\n        \\<not> ((\\<forall>i\\<in>Is.\n                    y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  weak_pareto\n   (\\<lambda>P.\n       {(x, y).\n        x \\<in> A \\<and>\n        y \\<in> A \\<and>\n        \\<not> ((\\<forall>i\\<in>Is.\n                    y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"iia ?sdf A Is\""], ["proof (prove)\ngoal (1 subgoal):\n 1. iia (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n     A Is", "unfolding strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. iia (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))})\n     A Is", "by auto"], ["proof (state)\nthis:\n  iia (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  iia (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<not>(\\<exists>j. dictator ?sdf A Is j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<nexists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "assume \"\\<exists>j. dictator ?sdf A Is j\""], ["proof (state)\nthis:\n  \\<exists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j", "obtain j where jIs: \"j \\<in> Is\"\n                    and jD: \"\\<forall>x \\<in> A. \\<forall>y \\<in> A. decisive ?sdf A Is {j} x y\""], ["proof (prove)\nusing this:\n  \\<exists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>j \\<in> Is;\n         \\<forall>x\\<in>A.\n            \\<forall>y\\<in>A.\n               decisive\n                (\\<lambda>P.\n                    {(x, y).\n                     x \\<in> A \\<and>\n                     y \\<in> A \\<and>\n                     \\<not> ((\\<forall>i\\<in>Is.\n                                 y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                             (\\<exists>i\\<in>Is.\n                                 y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n                A Is {j} x y\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding dictator_def decisive_def"], ["proof (prove)\nusing this:\n  \\<exists>j.\n     j \\<in> Is \\<and>\n     (\\<forall>x\\<in>A.\n         \\<forall>y\\<in>A.\n            {j} \\<subseteq> Is \\<and>\n            (\\<forall>P.\n                profile A Is P \\<and>\n                (\\<forall>i\\<in>{j}.\n                    x \\<^bsub>(P i)\\<^esub>\\<prec> y) \\<longrightarrow>\n                x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y))\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>j \\<in> Is;\n         \\<forall>x\\<in>A.\n            \\<forall>y\\<in>A.\n               {j} \\<subseteq> Is \\<and>\n               (\\<forall>P.\n                   profile A Is P \\<and>\n                   (\\<forall>i\\<in>{j}.\n                       x \\<^bsub>(P i)\\<^esub>\\<prec> y) \\<longrightarrow>\n                   x \\<^bsub>{(x, y).\n                              x \\<in> A \\<and>\n                              y \\<in> A \\<and>\n                              \\<not> ((\\<forall>i\\<in>Is.\n    y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n(\\<exists>i\\<in>Is.\n    y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  j \\<in> Is\n  \\<forall>x\\<in>A.\n     \\<forall>y\\<in>A.\n        decisive\n         (\\<lambda>P.\n             {(x, y).\n              x \\<in> A \\<and>\n              y \\<in> A \\<and>\n              \\<not> ((\\<forall>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                      (\\<exists>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n         A Is {j} x y\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "from jIs has_witness_two[OF has2Is]"], ["proof (chain)\npicking this:\n  j \\<in> Is\n  2 \\<le> 2 \\<Longrightarrow> \\<exists>x y. hasw [x, y] Is", "obtain i where ijIs: \"hasw [i,j] Is\""], ["proof (prove)\nusing this:\n  j \\<in> Is\n  2 \\<le> 2 \\<Longrightarrow> \\<exists>x y. hasw [x, y] Is\n\ngoal (1 subgoal):\n 1. (\\<And>i. hasw [i, j] Is \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "from has_witness_two[OF has2A]"], ["proof (chain)\npicking this:\n  2 \\<le> 2 \\<Longrightarrow> \\<exists>x y. hasw [x, y] A", "obtain x y where xyA: \"hasw [x,y] A\""], ["proof (prove)\nusing this:\n  2 \\<le> 2 \\<Longrightarrow> \\<exists>x y. hasw [x, y] A\n\ngoal (1 subgoal):\n 1. (\\<And>x y. hasw [x, y] A \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  hasw [x, y] A\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "from xyA ijIs"], ["proof (chain)\npicking this:\n  hasw [x, y] A\n  hasw [i, j] Is", "obtain P\n      where profileP: \"profile A Is P\"\n        and yPix: \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n        and yPjx: \"y \\<^bsub>(P j)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  hasw [x, y] A\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule SDF_nodictator_witness)"], ["proof (state)\nthis:\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "from profileP jD jIs xyA yPjx"], ["proof (chain)\npicking this:\n  profile A Is P\n  \\<forall>x\\<in>A.\n     \\<forall>y\\<in>A.\n        decisive\n         (\\<lambda>P.\n             {(x, y).\n              x \\<in> A \\<and>\n              y \\<in> A \\<and>\n              \\<not> ((\\<forall>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                      (\\<exists>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n         A Is {j} x y\n  j \\<in> Is\n  hasw [x, y] A\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x", "have \"y \\<^bsub>(?sdf P)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  profile A Is P\n  \\<forall>x\\<in>A.\n     \\<forall>y\\<in>A.\n        decisive\n         (\\<lambda>P.\n             {(x, y).\n              x \\<in> A \\<and>\n              y \\<in> A \\<and>\n              \\<not> ((\\<forall>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                      (\\<exists>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n         A Is {j} x y\n  j \\<in> Is\n  hasw [x, y] A\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. y \\<^bsub>{(x, y).\n               x \\<in> A \\<and>\n               y \\<in> A \\<and>\n               \\<not> ((\\<forall>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                       (\\<exists>i\\<in>Is.\n                           y \\<^bsub>(P\n i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> x", "unfolding decisive_def"], ["proof (prove)\nusing this:\n  profile A Is P\n  \\<forall>x\\<in>A.\n     \\<forall>y\\<in>A.\n        {j} \\<subseteq> Is \\<and>\n        (\\<forall>P.\n            profile A Is P \\<and>\n            (\\<forall>i\\<in>{j}.\n                x \\<^bsub>(P i)\\<^esub>\\<prec> y) \\<longrightarrow>\n            x \\<^bsub>{(x, y).\n                       x \\<in> A \\<and>\n                       y \\<in> A \\<and>\n                       \\<not> ((\\<forall>i\\<in>Is.\n                                   y \\<^bsub>(P\n         i)\\<^esub>\\<preceq> x) \\<and>\n                               (\\<exists>i\\<in>Is.\n                                   y \\<^bsub>(P\n         i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y)\n  j \\<in> Is\n  hasw [x, y] A\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. y \\<^bsub>{(x, y).\n               x \\<in> A \\<and>\n               y \\<in> A \\<and>\n               \\<not> ((\\<forall>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                       (\\<exists>i\\<in>Is.\n                           y \\<^bsub>(P\n i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> x", "by simp"], ["proof (state)\nthis:\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "from ijIs xyA yPjx yPix"], ["proof (chain)\npicking this:\n  hasw [i, j] Is\n  hasw [x, y] A\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y", "have \"x \\<^bsub>(?sdf P)\\<^esub>\\<preceq> y\""], ["proof (prove)\nusing this:\n  hasw [i, j] Is\n  hasw [x, y] A\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n\ngoal (1 subgoal):\n 1. x \\<^bsub>{(x, y).\n               x \\<in> A \\<and>\n               y \\<in> A \\<and>\n               \\<not> ((\\<forall>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                       (\\<exists>i\\<in>Is.\n                           y \\<^bsub>(P\n i)\\<^esub>\\<prec> x))}\\<^esub>\\<preceq> y", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  hasw [i, j] Is\n  hasw [x, y] A\n  y \\<^bsub>(P j)\\<^esub>\\<preceq> x \\<and> (x, y) \\<notin> P j\n  x \\<^bsub>(P i)\\<^esub>\\<preceq> y \\<and> (y, x) \\<notin> P i\n\ngoal (1 subgoal):\n 1. x \\<^bsub>{(x, y).\n               x \\<in> A \\<and>\n               y \\<in> A \\<and>\n               \\<not> ((\\<forall>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                       (\\<exists>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                           (x, y) \\<notin> P i))}\\<^esub>\\<preceq> y", "by auto"], ["proof (state)\nthis:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<preceq> y\n\ngoal (1 subgoal):\n 1. \\<exists>j.\n       dictator\n        (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n        A Is j \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> x\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<preceq> y", "show False"], ["proof (prove)\nusing this:\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> x\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<preceq> y\n\ngoal (1 subgoal):\n 1. False", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))}\\<^esub>\\<preceq> x \\<and>\n  (x, y)\n  \\<notin> {(x, y).\n            x \\<in> A \\<and>\n            y \\<in> A \\<and>\n            \\<not> ((\\<forall>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                    (\\<exists>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                        (x, y) \\<notin> P i))}\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))}\\<^esub>\\<preceq> y\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<nexists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<nexists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"SDF ?sdf A Is universal_domain\""], ["proof (prove)\ngoal (1 subgoal):\n 1. SDF (\\<lambda>P.\n            {(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n     A Is universal_domain", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       universal_domain A Is P \\<Longrightarrow>\n       choiceFn A\n        {(x, y).\n         x \\<in> A \\<and>\n         y \\<in> A \\<and>\n         \\<not> ((\\<forall>i\\<in>Is.\n                     y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                 (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "fix P"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>P.\n       universal_domain A Is P \\<Longrightarrow>\n       choiceFn A\n        {(x, y).\n         x \\<in> A \\<and>\n         y \\<in> A \\<and>\n         \\<not> ((\\<forall>i\\<in>Is.\n                     y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                 (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "assume ud: \"universal_domain A Is P\""], ["proof (state)\nthis:\n  universal_domain A Is P\n\ngoal (1 subgoal):\n 1. \\<And>P.\n       universal_domain A Is P \\<Longrightarrow>\n       choiceFn A\n        {(x, y).\n         x \\<in> A \\<and>\n         y \\<in> A \\<and>\n         \\<not> ((\\<forall>i\\<in>Is.\n                     y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                 (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "show \"choiceFn A (?sdf P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. choiceFn A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "proof(rule r_c_qt_imp_cf[OF finiteA])"], ["proof (state)\ngoal (3 subgoals):\n 1. complete A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\n 2. quasi_trans\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\n 3. refl_on A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "show \"complete A (?sdf P)\" and \"refl_on A (?sdf P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complete A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))} &&&\n    refl_on A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "unfolding strict_pref_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. complete A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is.\n                  y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                  (x, y) \\<notin> P i))} &&&\n    refl_on A\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is.\n                  y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                  (x, y) \\<notin> P i))}", "by auto"], ["proof (state)\nthis:\n  complete A\n   {(x, y).\n    x \\<in> A \\<and>\n    y \\<in> A \\<and>\n    \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n            (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\n  refl_on A\n   {(x, y).\n    x \\<in> A \\<and>\n    y \\<in> A \\<and>\n    \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n            (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\n\ngoal (1 subgoal):\n 1. quasi_trans\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "show \"quasi_trans (?sdf P)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quasi_trans\n     {(x, y).\n      x \\<in> A \\<and>\n      y \\<in> A \\<and>\n      \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n              (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "fix x y z"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "assume xy: \"x \\<^bsub>(?sdf P)\\<^esub>\\<prec> y\" and yz: \"y \\<^bsub>(?sdf P)\\<^esub>\\<prec> z\""], ["proof (state)\nthis:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "from xy yz"], ["proof (chain)\npicking this:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "have xyzA: \"x \\<in> A\" \"y \\<in> A\" \"z \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A &&& z \\<in> A", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))}\\<^esub>\\<preceq> y \\<and>\n  (y, x)\n  \\<notin> {(x, y).\n            x \\<in> A \\<and>\n            y \\<in> A \\<and>\n            \\<not> ((\\<forall>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                    (\\<exists>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                        (x, y) \\<notin> P i))}\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))}\\<^esub>\\<preceq> z \\<and>\n  (z, y)\n  \\<notin> {(x, y).\n            x \\<in> A \\<and>\n            y \\<in> A \\<and>\n            \\<not> ((\\<forall>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                    (\\<exists>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                        (x, y) \\<notin> P i))}\n\ngoal (1 subgoal):\n 1. x \\<in> A &&& y \\<in> A &&& z \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n  y \\<in> A\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "from xy yz"], ["proof (chain)\npicking this:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "have AxRy: \"\\<forall>i \\<in> Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> y\"\n                    and ExPy: \"\\<exists>i \\<in> Is. x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n                    and AyRz: \"\\<forall>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z\""], ["proof (prove)\nusing this:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> y &&&\n    \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> y &&&\n    \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))}\\<^esub>\\<preceq> y \\<and>\n  (y, x)\n  \\<notin> {(x, y).\n            x \\<in> A \\<and>\n            y \\<in> A \\<and>\n            \\<not> ((\\<forall>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                    (\\<exists>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                        (x, y) \\<notin> P i))}\n  y \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                         (x, y) \\<notin> P i))}\\<^esub>\\<preceq> z \\<and>\n  (z, y)\n  \\<notin> {(x, y).\n            x \\<in> A \\<and>\n            y \\<in> A \\<and>\n            \\<not> ((\\<forall>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                    (\\<exists>i\\<in>Is.\n                        y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                        (x, y) \\<notin> P i))}\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> y &&&\n    \\<exists>i\\<in>Is.\n       x \\<^bsub>(P i)\\<^esub>\\<preceq> y \\<and> (y, x) \\<notin> P i &&&\n    \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> y\n  \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "from AxRy AyRz ud"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> y\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  universal_domain A Is P", "have AxRz: \"\\<forall>i \\<in> Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> z\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> y\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  universal_domain A Is P\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> z", "by - (unfold universal_domain_def, blast dest: rpr_le_trans)"], ["proof (state)\nthis:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "from ExPy AyRz ud"], ["proof (chain)\npicking this:\n  \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  universal_domain A Is P", "have ExPz: \"\\<exists>i \\<in> Is. x \\<^bsub>(P i)\\<^esub>\\<prec> z\""], ["proof (prove)\nusing this:\n  \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  universal_domain A Is P\n\ngoal (1 subgoal):\n 1. \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> z", "by - (unfold universal_domain_def, blast dest: rpr_less_le_trans)"], ["proof (state)\nthis:\n  \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> z\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<^bsub>{(x, y).\n                           x \\<in> A \\<and>\n                           y \\<in> A \\<and>\n                           \\<not> ((\\<forall>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                                   (\\<exists>i\\<in>Is.\n y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> y;\n        y \\<^bsub>{(x, y).\n                   x \\<in> A \\<and>\n                   y \\<in> A \\<and>\n                   \\<not> ((\\<forall>i\\<in>Is.\n                               y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                           (\\<exists>i\\<in>Is.\n                               y \\<^bsub>(P\n     i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\\<rbrakk>\n       \\<Longrightarrow> x \\<^bsub>{(x, y).\n                                    x \\<in> A \\<and>\n                                    y \\<in> A \\<and>\n                                    \\<not> ((\\<forall>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n      (\\<exists>i\\<in>Is.\n          y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "from xyzA AxRz ExPz"], ["proof (chain)\npicking this:\n  x \\<in> A\n  y \\<in> A\n  z \\<in> A\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> z", "show \"x \\<^bsub>(?sdf P)\\<^esub>\\<prec> z\""], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n  z \\<in> A\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  \\<exists>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> z\n\ngoal (1 subgoal):\n 1. x \\<^bsub>{(x, y).\n               x \\<in> A \\<and>\n               y \\<in> A \\<and>\n               \\<not> ((\\<forall>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                       (\\<exists>i\\<in>Is.\n                           y \\<^bsub>(P\n i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  x \\<in> A\n  y \\<in> A\n  z \\<in> A\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<preceq> z\n  \\<exists>i\\<in>Is.\n     x \\<^bsub>(P i)\\<^esub>\\<preceq> z \\<and> (z, x) \\<notin> P i\n\ngoal (1 subgoal):\n 1. x \\<^bsub>{(x, y).\n               x \\<in> A \\<and>\n               y \\<in> A \\<and>\n               \\<not> ((\\<forall>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                       (\\<exists>i\\<in>Is.\n                           y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                           (x, y) \\<notin> P i))}\\<^esub>\\<preceq> z \\<and>\n    (z, x)\n    \\<notin> {(x, y).\n              x \\<in> A \\<and>\n              y \\<in> A \\<and>\n              \\<not> ((\\<forall>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                      (\\<exists>i\\<in>Is.\n                          y \\<^bsub>(P i)\\<^esub>\\<preceq> x \\<and>\n                          (x, y) \\<notin> P i))}", "by auto"], ["proof (state)\nthis:\n  x \\<^bsub>{(x, y).\n             x \\<in> A \\<and>\n             y \\<in> A \\<and>\n             \\<not> ((\\<forall>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                     (\\<exists>i\\<in>Is.\n                         y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\\<^esub>\\<prec> z\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  quasi_trans\n   {(x, y).\n    x \\<in> A \\<and>\n    y \\<in> A \\<and>\n    \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n            (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  choiceFn A\n   {(x, y).\n    x \\<in> A \\<and>\n    y \\<in> A \\<and>\n    \\<not> ((\\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n            (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  SDF (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain\n\ngoal (1 subgoal):\n 1. (\\<And>sdf.\n        \\<lbrakk>weak_pareto sdf A Is universal_domain; iia sdf A Is;\n         \\<nexists>j. dictator sdf A Is j;\n         SDF sdf A Is universal_domain\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  weak_pareto\n   (\\<lambda>P.\n       {(x, y).\n        x \\<in> A \\<and>\n        y \\<in> A \\<and>\n        \\<not> ((\\<forall>i\\<in>Is.\n                    y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain\n  iia (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is\n  \\<nexists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j\n  SDF (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain", "show thesis"], ["proof (prove)\nusing this:\n  weak_pareto\n   (\\<lambda>P.\n       {(x, y).\n        x \\<in> A \\<and>\n        y \\<in> A \\<and>\n        \\<not> ((\\<forall>i\\<in>Is.\n                    y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain\n  iia (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is\n  \\<nexists>j.\n     dictator\n      (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n      A Is j\n  SDF (\\<lambda>P.\n          {(x, y).\n           x \\<in> A \\<and>\n           y \\<in> A \\<and>\n           \\<not> ((\\<forall>i\\<in>Is.\n                       y \\<^bsub>(P i)\\<^esub>\\<preceq> x) \\<and>\n                   (\\<exists>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> x))})\n   A Is universal_domain\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "text \\<open>Sen makes several other stronger statements about SDFs later in the\nchapter. I leave these for future work.\\<close>"], ["", "(* **************************************** *)"], ["", "subsection\\<open>Sen's Liberal Paradox\\<close>"], ["", "text\\<open>Having side-stepped Arrow's Theorem, Sen proceeds to other conditions\none may ask of an SCF. His analysis of \\emph{liberalism}, mechanised in this\nsection, has attracted much criticism over the years\n\\cite{AnalyseKritik:1996}.\n\nFollowing \\cite[Chapter~6*]{Sen:70a}, a \\emph{liberal} social choice rule is\none that, for each individual, there is a pair of alternatives that she is\ndecisive over.\\<close>"], ["", "definition liberal :: \"('a, 'i) SCF \\<Rightarrow> 'a set \\<Rightarrow> 'i set \\<Rightarrow> bool\" where\n  \"liberal scf A Is \\<equiv>\n    (\\<forall>i \\<in> Is. \\<exists>x \\<in> A. \\<exists>y \\<in> A. x \\<noteq> y\n      \\<and> decisive scf A Is {i} x y \\<and> decisive scf A Is {i} y x)\""], ["", "lemma liberalE:\n  \"\\<lbrakk> liberal scf A Is; i \\<in> Is \\<rbrakk>\n   \\<Longrightarrow> \\<exists>x \\<in> A. \\<exists>y \\<in> A. x \\<noteq> y\n         \\<and> decisive scf A Is {i} x y \\<and> decisive scf A Is {i} y x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>liberal scf A Is; i \\<in> Is\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x\\<in>A.\n                         \\<exists>y\\<in>A.\n                            x \\<noteq> y \\<and>\n                            decisive scf A Is {i} x y \\<and>\n                            decisive scf A Is {i} y x", "by (simp add: liberal_def)"], ["", "text\\<open>This condition can be weakened to require just two such decisive\nindividuals; if we required just one, we would allow dictatorships, which\nare clearly not liberal.\\<close>"], ["", "definition minimally_liberal :: \"('a, 'i) SCF \\<Rightarrow> 'a set \\<Rightarrow> 'i set \\<Rightarrow> bool\" where\n  \"minimally_liberal scf A Is \\<equiv>\n    (\\<exists>i \\<in> Is. \\<exists>j \\<in> Is. i \\<noteq> j\n      \\<and> (\\<exists>x \\<in> A. \\<exists>y \\<in> A. x \\<noteq> y\n         \\<and> decisive scf A Is {i} x y \\<and> decisive scf A Is {i} y x)\n      \\<and> (\\<exists>x \\<in> A. \\<exists>y \\<in> A. x \\<noteq> y\n         \\<and> decisive scf A Is {j} x y \\<and> decisive scf A Is {j} y x))\""], ["", "lemma liberal_imp_minimally_liberal:\n  assumes has2Is: \"has 2 Is\"\n      and L: \"liberal scf A Is\"\n  shows \"minimally_liberal scf A Is\""], ["proof (prove)\ngoal (1 subgoal):\n 1. minimally_liberal scf A Is", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. minimally_liberal scf A Is", "from has_extend_witness[where xs=\"[]\", OF has2Is]"], ["proof (chain)\npicking this:\n  \\<lbrakk>set [] \\<subseteq> Is; length [] < 2\\<rbrakk>\n  \\<Longrightarrow> set [] \\<subset> Is", "obtain i where i: \"i \\<in> Is\""], ["proof (prove)\nusing this:\n  \\<lbrakk>set [] \\<subseteq> Is; length [] < 2\\<rbrakk>\n  \\<Longrightarrow> set [] \\<subset> Is\n\ngoal (1 subgoal):\n 1. (\\<And>i. i \\<in> Is \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  i \\<in> Is\n\ngoal (1 subgoal):\n 1. minimally_liberal scf A Is", "with has_extend_witness[where xs=\"[i]\", OF has2Is]"], ["proof (chain)\npicking this:\n  \\<lbrakk>set [i] \\<subseteq> Is; length [i] < 2\\<rbrakk>\n  \\<Longrightarrow> set [i] \\<subset> Is\n  i \\<in> Is", "obtain j where j: \"j \\<in> Is\" \"i \\<noteq> j\""], ["proof (prove)\nusing this:\n  \\<lbrakk>set [i] \\<subseteq> Is; length [i] < 2\\<rbrakk>\n  \\<Longrightarrow> set [i] \\<subset> Is\n  i \\<in> Is\n\ngoal (1 subgoal):\n 1. (\\<And>j.\n        \\<lbrakk>j \\<in> Is; i \\<noteq> j\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  j \\<in> Is\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. minimally_liberal scf A Is", "from L i j"], ["proof (chain)\npicking this:\n  liberal scf A Is\n  i \\<in> Is\n  j \\<in> Is\n  i \\<noteq> j", "show ?thesis"], ["proof (prove)\nusing this:\n  liberal scf A Is\n  i \\<in> Is\n  j \\<in> Is\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. minimally_liberal scf A Is", "unfolding minimally_liberal_def"], ["proof (prove)\nusing this:\n  liberal scf A Is\n  i \\<in> Is\n  j \\<in> Is\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. \\<exists>i\\<in>Is.\n       \\<exists>j\\<in>Is.\n          i \\<noteq> j \\<and>\n          (\\<exists>x\\<in>A.\n              \\<exists>y\\<in>A.\n                 x \\<noteq> y \\<and>\n                 decisive scf A Is {i} x y \\<and>\n                 decisive scf A Is {i} y x) \\<and>\n          (\\<exists>x\\<in>A.\n              \\<exists>y\\<in>A.\n                 x \\<noteq> y \\<and>\n                 decisive scf A Is {j} x y \\<and> decisive scf A Is {j} y x)", "by (blast intro: liberalE)"], ["proof (state)\nthis:\n  minimally_liberal scf A Is\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>\n\nThe key observation is that once we have at least two decisive individuals\nwe can complete the Condorcet (paradox of voting) cycle using the weak\nPareto assumption. The details of the proof don't give more insight.\n\nFirstly we need three types of profile witnesses (one of which we saw\npreviously). The main proof proceeds by case distinctions on which\nalternatives the two liberal agents are decisive for.\n\n\\<close>"], ["", "lemmas liberal_witness_two = SDF_nodictator_witness"], ["", "lemma liberal_witness_three:\n  assumes threeA: \"hasw [x,y,v] A\"\n      and twoIs: \"hasw [i,j] Is\"\n  obtains P\n    where \"profile A Is P\"\n      and \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n      and \"v \\<^bsub>(P j)\\<^esub>\\<prec> x\"\n      and \"\\<forall>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?P =\n    \"\\<lambda>a. if a = i then { (x, u) | u. u \\<in> A }\n                     \\<union> { (y, u) | u. u \\<in> A - {x} }\n                     \\<union> (A - {x,y}) \\<times> (A - {x,y})\n                  else { (y, u) | u. u \\<in> A }\n                     \\<union> { (v, u) | u. u \\<in> A - {y} }\n                     \\<union> (A - {v,y}) \\<times> (A - {v,y})\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"profile A Is ?P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. profile A Is\n     (\\<lambda>a.\n         if a = i\n         then {(x, u) |u. u \\<in> A} \\<union>\n              {(y, u) |u. u \\<in> A - {x}} \\<union>\n              (A - {x, y}) \\<times> (A - {x, y})\n         else {(y, u) |u. u \\<in> A} \\<union>\n              {(v, u) |u. u \\<in> A - {y}} \\<union>\n              (A - {v, y}) \\<times> (A - {v, y}))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        (if ia = i\n         then {(x, u) |u. u \\<in> A} \\<union>\n              {(y, u) |u. u \\<in> A - {x}} \\<union>\n              (A - {x, y}) \\<times> (A - {x, y})\n         else {(y, u) |u. u \\<in> A} \\<union>\n              {(v, u) |u. u \\<in> A - {y}} \\<union>\n              (A - {v, y}) \\<times> (A - {v, y}))\n 2. Is \\<noteq> {}", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        (if ia = i\n         then {(x, u) |u. u \\<in> A} \\<union>\n              {(y, u) |u. u \\<in> A - {x}} \\<union>\n              (A - {x, y}) \\<times> (A - {x, y})\n         else {(y, u) |u. u \\<in> A} \\<union>\n              {(v, u) |u. u \\<in> A - {y}} \\<union>\n              (A - {v, y}) \\<times> (A - {v, y}))\n 2. Is \\<noteq> {}", "assume iis: \"i \\<in> Is\""], ["proof (state)\nthis:\n  i \\<in> Is\n\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        (if ia = i\n         then {(x, u) |u. u \\<in> A} \\<union>\n              {(y, u) |u. u \\<in> A - {x}} \\<union>\n              (A - {x, y}) \\<times> (A - {x, y})\n         else {(y, u) |u. u \\<in> A} \\<union>\n              {(v, u) |u. u \\<in> A - {y}} \\<union>\n              (A - {v, y}) \\<times> (A - {v, y}))\n 2. Is \\<noteq> {}", "show \"rpr A (?P i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rpr A\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. complete A\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))\n 2. refl_on A\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))\n 3. trans\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "show \"complete A (?P i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complete A\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "by (simp, blast)"], ["proof (state)\nthis:\n  complete A\n   (if i = i\n    then {(x, u) |u. u \\<in> A} \\<union>\n         {(y, u) |u. u \\<in> A - {x}} \\<union>\n         (A - {x, y}) \\<times> (A - {x, y})\n    else {(y, u) |u. u \\<in> A} \\<union>\n         {(v, u) |u. u \\<in> A - {y}} \\<union>\n         (A - {v, y}) \\<times> (A - {v, y}))\n\ngoal (2 subgoals):\n 1. refl_on A\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))\n 2. trans\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "from threeA iis"], ["proof (chain)\npicking this:\n  hasw [x, y, v] A\n  i \\<in> Is", "show \"refl_on A (?P i)\""], ["proof (prove)\nusing this:\n  hasw [x, y, v] A\n  i \\<in> Is\n\ngoal (1 subgoal):\n 1. refl_on A\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "by (simp, blast)"], ["proof (state)\nthis:\n  refl_on A\n   (if i = i\n    then {(x, u) |u. u \\<in> A} \\<union>\n         {(y, u) |u. u \\<in> A - {x}} \\<union>\n         (A - {x, y}) \\<times> (A - {x, y})\n    else {(y, u) |u. u \\<in> A} \\<union>\n         {(v, u) |u. u \\<in> A - {y}} \\<union>\n         (A - {v, y}) \\<times> (A - {v, y}))\n\ngoal (1 subgoal):\n 1. trans\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "from threeA iis"], ["proof (chain)\npicking this:\n  hasw [x, y, v] A\n  i \\<in> Is", "show \"trans (?P i)\""], ["proof (prove)\nusing this:\n  hasw [x, y, v] A\n  i \\<in> Is\n\ngoal (1 subgoal):\n 1. trans\n     (if i = i\n      then {(x, u) |u. u \\<in> A} \\<union>\n           {(y, u) |u. u \\<in> A - {x}} \\<union>\n           (A - {x, y}) \\<times> (A - {x, y})\n      else {(y, u) |u. u \\<in> A} \\<union>\n           {(v, u) |u. u \\<in> A - {y}} \\<union>\n           (A - {v, y}) \\<times> (A - {v, y}))", "by (clarsimp simp add: trans_def)"], ["proof (state)\nthis:\n  trans\n   (if i = i\n    then {(x, u) |u. u \\<in> A} \\<union>\n         {(y, u) |u. u \\<in> A - {x}} \\<union>\n         (A - {x, y}) \\<times> (A - {x, y})\n    else {(y, u) |u. u \\<in> A} \\<union>\n         {(v, u) |u. u \\<in> A - {y}} \\<union>\n         (A - {v, y}) \\<times> (A - {v, y}))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rpr A\n   (if i = i\n    then {(x, u) |u. u \\<in> A} \\<union>\n         {(y, u) |u. u \\<in> A - {x}} \\<union>\n         (A - {x, y}) \\<times> (A - {x, y})\n    else {(y, u) |u. u \\<in> A} \\<union>\n         {(v, u) |u. u \\<in> A - {y}} \\<union>\n         (A - {v, y}) \\<times> (A - {v, y}))\n\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "from twoIs"], ["proof (chain)\npicking this:\n  hasw [i, j] Is", "show \"Is \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  Is \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(x, u) |u. u \\<in> A} \\<union>\n            {(y, u) |u. u \\<in> A - {x}} \\<union>\n            (A - {x, y}) \\<times> (A - {x, y})\n       else {(y, u) |u. u \\<in> A} \\<union>\n            {(v, u) |u. u \\<in> A - {y}} \\<union>\n            (A - {v, y}) \\<times> (A - {v, y}))\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(x, u) |u. u \\<in> A} \\<union>\n            {(y, u) |u. u \\<in> A - {x}} \\<union>\n            (A - {x, y}) \\<times> (A - {x, y})\n       else {(y, u) |u. u \\<in> A} \\<union>\n            {(v, u) |u. u \\<in> A - {y}} \\<union>\n            (A - {v, y}) \\<times> (A - {v, y}))\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from threeA twoIs"], ["proof (chain)\npicking this:\n  hasw [x, y, v] A\n  hasw [i, j] Is", "have \"x \\<^bsub>(?P i)\\<^esub>\\<prec> y\" \"v \\<^bsub>(?P j)\\<^esub>\\<prec> x\" \"\\<forall>i \\<in> Is. y \\<^bsub>(?P i)\\<^esub>\\<prec> v\""], ["proof (prove)\nusing this:\n  hasw [x, y, v] A\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(if i = i\n               then {(x, u) |u. u \\<in> A} \\<union>\n                    {(y, u) |u. u \\<in> A - {x}} \\<union>\n                    (A - {x, y}) \\<times> (A - {x, y})\n               else {(y, u) |u. u \\<in> A} \\<union>\n                    {(v, u) |u. u \\<in> A - {y}} \\<union>\n                    (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> y &&&\n    v \\<^bsub>(if j = i\n               then {(x, u) |u. u \\<in> A} \\<union>\n                    {(y, u) |u. u \\<in> A - {x}} \\<union>\n                    (A - {x, y}) \\<times> (A - {x, y})\n               else {(y, u) |u. u \\<in> A} \\<union>\n                    {(v, u) |u. u \\<in> A - {y}} \\<union>\n                    (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> x &&&\n    \\<forall>ia\\<in>Is.\n       y \\<^bsub>(if ia = i\n                  then {(x, u) |u. u \\<in> A} \\<union>\n                       {(y, u) |u. u \\<in> A - {x}} \\<union>\n                       (A - {x, y}) \\<times> (A - {x, y})\n                  else {(y, u) |u. u \\<in> A} \\<union>\n                       {(v, u) |u. u \\<in> A - {y}} \\<union>\n                       (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> v", "unfolding strict_pref_def"], ["proof (prove)\nusing this:\n  hasw [x, y, v] A\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(if i = i\n               then {(x, u) |u. u \\<in> A} \\<union>\n                    {(y, u) |u. u \\<in> A - {x}} \\<union>\n                    (A - {x, y}) \\<times> (A - {x, y})\n               else {(y, u) |u. u \\<in> A} \\<union>\n                    {(v, u) |u. u \\<in> A - {y}} \\<union>\n                    (A - {v, y}) \\<times>\n                    (A - {v, y}))\\<^esub>\\<preceq> y \\<and>\n    (y, x)\n    \\<notin> (if i = i\n              then {(x, u) |u. u \\<in> A} \\<union>\n                   {(y, u) |u. u \\<in> A - {x}} \\<union>\n                   (A - {x, y}) \\<times> (A - {x, y})\n              else {(y, u) |u. u \\<in> A} \\<union>\n                   {(v, u) |u. u \\<in> A - {y}} \\<union>\n                   (A - {v, y}) \\<times> (A - {v, y})) &&&\n    v \\<^bsub>(if j = i\n               then {(x, u) |u. u \\<in> A} \\<union>\n                    {(y, u) |u. u \\<in> A - {x}} \\<union>\n                    (A - {x, y}) \\<times> (A - {x, y})\n               else {(y, u) |u. u \\<in> A} \\<union>\n                    {(v, u) |u. u \\<in> A - {y}} \\<union>\n                    (A - {v, y}) \\<times>\n                    (A - {v, y}))\\<^esub>\\<preceq> x \\<and>\n    (x, v)\n    \\<notin> (if j = i\n              then {(x, u) |u. u \\<in> A} \\<union>\n                   {(y, u) |u. u \\<in> A - {x}} \\<union>\n                   (A - {x, y}) \\<times> (A - {x, y})\n              else {(y, u) |u. u \\<in> A} \\<union>\n                   {(v, u) |u. u \\<in> A - {y}} \\<union>\n                   (A - {v, y}) \\<times> (A - {v, y})) &&&\n    \\<forall>ia\\<in>Is.\n       y \\<^bsub>(if ia = i\n                  then {(x, u) |u. u \\<in> A} \\<union>\n                       {(y, u) |u. u \\<in> A - {x}} \\<union>\n                       (A - {x, y}) \\<times> (A - {x, y})\n                  else {(y, u) |u. u \\<in> A} \\<union>\n                       {(v, u) |u. u \\<in> A - {y}} \\<union>\n                       (A - {v, y}) \\<times>\n                       (A - {v, y}))\\<^esub>\\<preceq> v \\<and>\n       (v, y)\n       \\<notin> (if ia = i\n                 then {(x, u) |u. u \\<in> A} \\<union>\n                      {(y, u) |u. u \\<in> A - {x}} \\<union>\n                      (A - {x, y}) \\<times> (A - {x, y})\n                 else {(y, u) |u. u \\<in> A} \\<union>\n                      {(v, u) |u. u \\<in> A - {y}} \\<union>\n                      (A - {v, y}) \\<times> (A - {v, y}))", "by auto"], ["proof (state)\nthis:\n  x \\<^bsub>(if i = i\n             then {(x, u) |u. u \\<in> A} \\<union>\n                  {(y, u) |u. u \\<in> A - {x}} \\<union>\n                  (A - {x, y}) \\<times> (A - {x, y})\n             else {(y, u) |u. u \\<in> A} \\<union>\n                  {(v, u) |u. u \\<in> A - {y}} \\<union>\n                  (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> y\n  v \\<^bsub>(if j = i\n             then {(x, u) |u. u \\<in> A} \\<union>\n                  {(y, u) |u. u \\<in> A - {x}} \\<union>\n                  (A - {x, y}) \\<times> (A - {x, y})\n             else {(y, u) |u. u \\<in> A} \\<union>\n                  {(v, u) |u. u \\<in> A - {y}} \\<union>\n                  (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> x\n  \\<forall>ia\\<in>Is.\n     y \\<^bsub>(if ia = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}} \\<union>\n                     (A - {x, y}) \\<times> (A - {x, y})\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(v, u) |u. u \\<in> A - {y}} \\<union>\n                     (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(x, u) |u. u \\<in> A} \\<union>\n            {(y, u) |u. u \\<in> A - {x}} \\<union>\n            (A - {x, y}) \\<times> (A - {x, y})\n       else {(y, u) |u. u \\<in> A} \\<union>\n            {(v, u) |u. u \\<in> A - {y}} \\<union>\n            (A - {v, y}) \\<times> (A - {v, y}))\n  x \\<^bsub>(if i = i\n             then {(x, u) |u. u \\<in> A} \\<union>\n                  {(y, u) |u. u \\<in> A - {x}} \\<union>\n                  (A - {x, y}) \\<times> (A - {x, y})\n             else {(y, u) |u. u \\<in> A} \\<union>\n                  {(v, u) |u. u \\<in> A - {y}} \\<union>\n                  (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> y\n  v \\<^bsub>(if j = i\n             then {(x, u) |u. u \\<in> A} \\<union>\n                  {(y, u) |u. u \\<in> A - {x}} \\<union>\n                  (A - {x, y}) \\<times> (A - {x, y})\n             else {(y, u) |u. u \\<in> A} \\<union>\n                  {(v, u) |u. u \\<in> A - {y}} \\<union>\n                  (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> x\n  \\<forall>ia\\<in>Is.\n     y \\<^bsub>(if ia = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}} \\<union>\n                     (A - {x, y}) \\<times> (A - {x, y})\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(v, u) |u. u \\<in> A - {y}} \\<union>\n                     (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> v", "show ?thesis"], ["proof (prove)\nusing this:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(x, u) |u. u \\<in> A} \\<union>\n            {(y, u) |u. u \\<in> A - {x}} \\<union>\n            (A - {x, y}) \\<times> (A - {x, y})\n       else {(y, u) |u. u \\<in> A} \\<union>\n            {(v, u) |u. u \\<in> A - {y}} \\<union>\n            (A - {v, y}) \\<times> (A - {v, y}))\n  x \\<^bsub>(if i = i\n             then {(x, u) |u. u \\<in> A} \\<union>\n                  {(y, u) |u. u \\<in> A - {x}} \\<union>\n                  (A - {x, y}) \\<times> (A - {x, y})\n             else {(y, u) |u. u \\<in> A} \\<union>\n                  {(v, u) |u. u \\<in> A - {y}} \\<union>\n                  (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> y\n  v \\<^bsub>(if j = i\n             then {(x, u) |u. u \\<in> A} \\<union>\n                  {(y, u) |u. u \\<in> A - {x}} \\<union>\n                  (A - {x, y}) \\<times> (A - {x, y})\n             else {(y, u) |u. u \\<in> A} \\<union>\n                  {(v, u) |u. u \\<in> A - {y}} \\<union>\n                  (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> x\n  \\<forall>ia\\<in>Is.\n     y \\<^bsub>(if ia = i\n                then {(x, u) |u. u \\<in> A} \\<union>\n                     {(y, u) |u. u \\<in> A - {x}} \\<union>\n                     (A - {x, y}) \\<times> (A - {x, y})\n                else {(y, u) |u. u \\<in> A} \\<union>\n                     {(v, u) |u. u \\<in> A - {y}} \\<union>\n                     (A - {v, y}) \\<times> (A - {v, y}))\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma liberal_witness_four:\n  assumes fourA: \"hasw [x,y,u,v] A\"\n      and twoIs: \"hasw [i,j] Is\"\n  obtains P\n    where \"profile A Is P\"\n      and \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n      and \"u \\<^bsub>(P j)\\<^esub>\\<prec> v\"\n      and \"\\<forall>i \\<in> Is. v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and> y \\<^bsub>(P i)\\<^esub>\\<prec> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?P =\n    \"\\<lambda>a. if a = i then { (v, w) | w. w \\<in> A }\n                     \\<union> { (x, w) | w. w \\<in> A - {v} }\n                     \\<union> { (y, w) | w. w \\<in> A - {v,x} }\n                     \\<union> (A - {v,x,y}) \\<times> (A - {v,x,y})\n                  else { (y, w) | w. w \\<in> A }\n                     \\<union> { (u, w) | w. w \\<in> A - {y} }\n                     \\<union> { (v, w) | w. w \\<in> A - {u,y} }\n                     \\<union> (A - {u,v,y}) \\<times> (A - {u,v,y})\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"profile A Is ?P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. profile A Is\n     (\\<lambda>a.\n         if a = i\n         then {(v, w) |w. w \\<in> A} \\<union>\n              {(x, w) |w. w \\<in> A - {v}} \\<union>\n              {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n              (A - {v, x, y}) \\<times> (A - {v, x, y})\n         else {(y, w) |w. w \\<in> A} \\<union>\n              {(u, w) |w. w \\<in> A - {y}} \\<union>\n              {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n              (A - {u, v, y}) \\<times> (A - {u, v, y}))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        (if ia = i\n         then {(v, w) |w. w \\<in> A} \\<union>\n              {(x, w) |w. w \\<in> A - {v}} \\<union>\n              {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n              (A - {v, x, y}) \\<times> (A - {v, x, y})\n         else {(y, w) |w. w \\<in> A} \\<union>\n              {(u, w) |w. w \\<in> A - {y}} \\<union>\n              {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n              (A - {u, v, y}) \\<times> (A - {u, v, y}))\n 2. Is \\<noteq> {}", "fix i"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        (if ia = i\n         then {(v, w) |w. w \\<in> A} \\<union>\n              {(x, w) |w. w \\<in> A - {v}} \\<union>\n              {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n              (A - {v, x, y}) \\<times> (A - {v, x, y})\n         else {(y, w) |w. w \\<in> A} \\<union>\n              {(u, w) |w. w \\<in> A - {y}} \\<union>\n              {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n              (A - {u, v, y}) \\<times> (A - {u, v, y}))\n 2. Is \\<noteq> {}", "assume iis: \"i \\<in> Is\""], ["proof (state)\nthis:\n  i \\<in> Is\n\ngoal (2 subgoals):\n 1. \\<And>ia.\n       ia \\<in> Is \\<Longrightarrow>\n       rpr A\n        (if ia = i\n         then {(v, w) |w. w \\<in> A} \\<union>\n              {(x, w) |w. w \\<in> A - {v}} \\<union>\n              {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n              (A - {v, x, y}) \\<times> (A - {v, x, y})\n         else {(y, w) |w. w \\<in> A} \\<union>\n              {(u, w) |w. w \\<in> A - {y}} \\<union>\n              {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n              (A - {u, v, y}) \\<times> (A - {u, v, y}))\n 2. Is \\<noteq> {}", "show \"rpr A (?P i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rpr A\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "proof"], ["proof (state)\ngoal (3 subgoals):\n 1. complete A\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))\n 2. refl_on A\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))\n 3. trans\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "show \"complete A (?P i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. complete A\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "by (simp, blast)"], ["proof (state)\nthis:\n  complete A\n   (if i = i\n    then {(v, w) |w. w \\<in> A} \\<union>\n         {(x, w) |w. w \\<in> A - {v}} \\<union>\n         {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n         (A - {v, x, y}) \\<times> (A - {v, x, y})\n    else {(y, w) |w. w \\<in> A} \\<union>\n         {(u, w) |w. w \\<in> A - {y}} \\<union>\n         {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n         (A - {u, v, y}) \\<times> (A - {u, v, y}))\n\ngoal (2 subgoals):\n 1. refl_on A\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))\n 2. trans\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "from fourA iis"], ["proof (chain)\npicking this:\n  hasw [x, y, u, v] A\n  i \\<in> Is", "show \"refl_on A (?P i)\""], ["proof (prove)\nusing this:\n  hasw [x, y, u, v] A\n  i \\<in> Is\n\ngoal (1 subgoal):\n 1. refl_on A\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "by (simp, blast)"], ["proof (state)\nthis:\n  refl_on A\n   (if i = i\n    then {(v, w) |w. w \\<in> A} \\<union>\n         {(x, w) |w. w \\<in> A - {v}} \\<union>\n         {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n         (A - {v, x, y}) \\<times> (A - {v, x, y})\n    else {(y, w) |w. w \\<in> A} \\<union>\n         {(u, w) |w. w \\<in> A - {y}} \\<union>\n         {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n         (A - {u, v, y}) \\<times> (A - {u, v, y}))\n\ngoal (1 subgoal):\n 1. trans\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "from fourA iis"], ["proof (chain)\npicking this:\n  hasw [x, y, u, v] A\n  i \\<in> Is", "show \"trans (?P i)\""], ["proof (prove)\nusing this:\n  hasw [x, y, u, v] A\n  i \\<in> Is\n\ngoal (1 subgoal):\n 1. trans\n     (if i = i\n      then {(v, w) |w. w \\<in> A} \\<union>\n           {(x, w) |w. w \\<in> A - {v}} \\<union>\n           {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n           (A - {v, x, y}) \\<times> (A - {v, x, y})\n      else {(y, w) |w. w \\<in> A} \\<union>\n           {(u, w) |w. w \\<in> A - {y}} \\<union>\n           {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n           (A - {u, v, y}) \\<times> (A - {u, v, y}))", "by (clarsimp simp add: trans_def)"], ["proof (state)\nthis:\n  trans\n   (if i = i\n    then {(v, w) |w. w \\<in> A} \\<union>\n         {(x, w) |w. w \\<in> A - {v}} \\<union>\n         {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n         (A - {v, x, y}) \\<times> (A - {v, x, y})\n    else {(y, w) |w. w \\<in> A} \\<union>\n         {(u, w) |w. w \\<in> A - {y}} \\<union>\n         {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n         (A - {u, v, y}) \\<times> (A - {u, v, y}))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  rpr A\n   (if i = i\n    then {(v, w) |w. w \\<in> A} \\<union>\n         {(x, w) |w. w \\<in> A - {v}} \\<union>\n         {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n         (A - {v, x, y}) \\<times> (A - {v, x, y})\n    else {(y, w) |w. w \\<in> A} \\<union>\n         {(u, w) |w. w \\<in> A - {y}} \\<union>\n         {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n         (A - {u, v, y}) \\<times> (A - {u, v, y}))\n\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "from twoIs"], ["proof (chain)\npicking this:\n  hasw [i, j] Is", "show \"Is \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. Is \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  Is \\<noteq> {}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(v, w) |w. w \\<in> A} \\<union>\n            {(x, w) |w. w \\<in> A - {v}} \\<union>\n            {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n            (A - {v, x, y}) \\<times> (A - {v, x, y})\n       else {(y, w) |w. w \\<in> A} \\<union>\n            {(u, w) |w. w \\<in> A - {y}} \\<union>\n            {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n            (A - {u, v, y}) \\<times> (A - {u, v, y}))\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(v, w) |w. w \\<in> A} \\<union>\n            {(x, w) |w. w \\<in> A - {v}} \\<union>\n            {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n            (A - {v, x, y}) \\<times> (A - {v, x, y})\n       else {(y, w) |w. w \\<in> A} \\<union>\n            {(u, w) |w. w \\<in> A - {y}} \\<union>\n            {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n            (A - {u, v, y}) \\<times> (A - {u, v, y}))\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from fourA twoIs"], ["proof (chain)\npicking this:\n  hasw [x, y, u, v] A\n  hasw [i, j] Is", "have \"x \\<^bsub>(?P i)\\<^esub>\\<prec> y\" \"u \\<^bsub>(?P j)\\<^esub>\\<prec> v\" \"\\<forall>i \\<in> Is. v \\<^bsub>(?P i)\\<^esub>\\<prec> x \\<and> y \\<^bsub>(?P i)\\<^esub>\\<prec> u\""], ["proof (prove)\nusing this:\n  hasw [x, y, u, v] A\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(if i = i\n               then {(v, w) |w. w \\<in> A} \\<union>\n                    {(x, w) |w. w \\<in> A - {v}} \\<union>\n                    {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                    (A - {v, x, y}) \\<times> (A - {v, x, y})\n               else {(y, w) |w. w \\<in> A} \\<union>\n                    {(u, w) |w. w \\<in> A - {y}} \\<union>\n                    {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                    (A - {u, v, y}) \\<times>\n                    (A - {u, v, y}))\\<^esub>\\<prec> y &&&\n    u \\<^bsub>(if j = i\n               then {(v, w) |w. w \\<in> A} \\<union>\n                    {(x, w) |w. w \\<in> A - {v}} \\<union>\n                    {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                    (A - {v, x, y}) \\<times> (A - {v, x, y})\n               else {(y, w) |w. w \\<in> A} \\<union>\n                    {(u, w) |w. w \\<in> A - {y}} \\<union>\n                    {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                    (A - {u, v, y}) \\<times>\n                    (A - {u, v, y}))\\<^esub>\\<prec> v &&&\n    \\<forall>ia\\<in>Is.\n       v \\<^bsub>(if ia = i\n                  then {(v, w) |w. w \\<in> A} \\<union>\n                       {(x, w) |w. w \\<in> A - {v}} \\<union>\n                       {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                       (A - {v, x, y}) \\<times> (A - {v, x, y})\n                  else {(y, w) |w. w \\<in> A} \\<union>\n                       {(u, w) |w. w \\<in> A - {y}} \\<union>\n                       {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                       (A - {u, v, y}) \\<times>\n                       (A - {u, v, y}))\\<^esub>\\<prec> x \\<and>\n       y \\<^bsub>(if ia = i\n                  then {(v, w) |w. w \\<in> A} \\<union>\n                       {(x, w) |w. w \\<in> A - {v}} \\<union>\n                       {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                       (A - {v, x, y}) \\<times> (A - {v, x, y})\n                  else {(y, w) |w. w \\<in> A} \\<union>\n                       {(u, w) |w. w \\<in> A - {y}} \\<union>\n                       {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                       (A - {u, v, y}) \\<times>\n                       (A - {u, v, y}))\\<^esub>\\<prec> u", "by (unfold strict_pref_def, auto)"], ["proof (state)\nthis:\n  x \\<^bsub>(if i = i\n             then {(v, w) |w. w \\<in> A} \\<union>\n                  {(x, w) |w. w \\<in> A - {v}} \\<union>\n                  {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                  (A - {v, x, y}) \\<times> (A - {v, x, y})\n             else {(y, w) |w. w \\<in> A} \\<union>\n                  {(u, w) |w. w \\<in> A - {y}} \\<union>\n                  {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                  (A - {u, v, y}) \\<times> (A - {u, v, y}))\\<^esub>\\<prec> y\n  u \\<^bsub>(if j = i\n             then {(v, w) |w. w \\<in> A} \\<union>\n                  {(x, w) |w. w \\<in> A - {v}} \\<union>\n                  {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                  (A - {v, x, y}) \\<times> (A - {v, x, y})\n             else {(y, w) |w. w \\<in> A} \\<union>\n                  {(u, w) |w. w \\<in> A - {y}} \\<union>\n                  {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                  (A - {u, v, y}) \\<times> (A - {u, v, y}))\\<^esub>\\<prec> v\n  \\<forall>ia\\<in>Is.\n     v \\<^bsub>(if ia = i\n                then {(v, w) |w. w \\<in> A} \\<union>\n                     {(x, w) |w. w \\<in> A - {v}} \\<union>\n                     {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                     (A - {v, x, y}) \\<times> (A - {v, x, y})\n                else {(y, w) |w. w \\<in> A} \\<union>\n                     {(u, w) |w. w \\<in> A - {y}} \\<union>\n                     {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                     (A - {u, v, y}) \\<times>\n                     (A - {u, v, y}))\\<^esub>\\<prec> x \\<and>\n     y \\<^bsub>(if ia = i\n                then {(v, w) |w. w \\<in> A} \\<union>\n                     {(x, w) |w. w \\<in> A - {v}} \\<union>\n                     {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                     (A - {v, x, y}) \\<times> (A - {v, x, y})\n                else {(y, w) |w. w \\<in> A} \\<union>\n                     {(u, w) |w. w \\<in> A - {y}} \\<union>\n                     {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                     (A - {u, v, y}) \\<times>\n                     (A - {u, v, y}))\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(v, w) |w. w \\<in> A} \\<union>\n            {(x, w) |w. w \\<in> A - {v}} \\<union>\n            {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n            (A - {v, x, y}) \\<times> (A - {v, x, y})\n       else {(y, w) |w. w \\<in> A} \\<union>\n            {(u, w) |w. w \\<in> A - {y}} \\<union>\n            {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n            (A - {u, v, y}) \\<times> (A - {u, v, y}))\n  x \\<^bsub>(if i = i\n             then {(v, w) |w. w \\<in> A} \\<union>\n                  {(x, w) |w. w \\<in> A - {v}} \\<union>\n                  {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                  (A - {v, x, y}) \\<times> (A - {v, x, y})\n             else {(y, w) |w. w \\<in> A} \\<union>\n                  {(u, w) |w. w \\<in> A - {y}} \\<union>\n                  {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                  (A - {u, v, y}) \\<times> (A - {u, v, y}))\\<^esub>\\<prec> y\n  u \\<^bsub>(if j = i\n             then {(v, w) |w. w \\<in> A} \\<union>\n                  {(x, w) |w. w \\<in> A - {v}} \\<union>\n                  {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                  (A - {v, x, y}) \\<times> (A - {v, x, y})\n             else {(y, w) |w. w \\<in> A} \\<union>\n                  {(u, w) |w. w \\<in> A - {y}} \\<union>\n                  {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                  (A - {u, v, y}) \\<times> (A - {u, v, y}))\\<^esub>\\<prec> v\n  \\<forall>ia\\<in>Is.\n     v \\<^bsub>(if ia = i\n                then {(v, w) |w. w \\<in> A} \\<union>\n                     {(x, w) |w. w \\<in> A - {v}} \\<union>\n                     {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                     (A - {v, x, y}) \\<times> (A - {v, x, y})\n                else {(y, w) |w. w \\<in> A} \\<union>\n                     {(u, w) |w. w \\<in> A - {y}} \\<union>\n                     {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                     (A - {u, v, y}) \\<times>\n                     (A - {u, v, y}))\\<^esub>\\<prec> x \\<and>\n     y \\<^bsub>(if ia = i\n                then {(v, w) |w. w \\<in> A} \\<union>\n                     {(x, w) |w. w \\<in> A - {v}} \\<union>\n                     {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                     (A - {v, x, y}) \\<times> (A - {v, x, y})\n                else {(y, w) |w. w \\<in> A} \\<union>\n                     {(u, w) |w. w \\<in> A - {y}} \\<union>\n                     {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                     (A - {u, v, y}) \\<times>\n                     (A - {u, v, y}))\\<^esub>\\<prec> u", "show thesis"], ["proof (prove)\nusing this:\n  profile A Is\n   (\\<lambda>a.\n       if a = i\n       then {(v, w) |w. w \\<in> A} \\<union>\n            {(x, w) |w. w \\<in> A - {v}} \\<union>\n            {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n            (A - {v, x, y}) \\<times> (A - {v, x, y})\n       else {(y, w) |w. w \\<in> A} \\<union>\n            {(u, w) |w. w \\<in> A - {y}} \\<union>\n            {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n            (A - {u, v, y}) \\<times> (A - {u, v, y}))\n  x \\<^bsub>(if i = i\n             then {(v, w) |w. w \\<in> A} \\<union>\n                  {(x, w) |w. w \\<in> A - {v}} \\<union>\n                  {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                  (A - {v, x, y}) \\<times> (A - {v, x, y})\n             else {(y, w) |w. w \\<in> A} \\<union>\n                  {(u, w) |w. w \\<in> A - {y}} \\<union>\n                  {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                  (A - {u, v, y}) \\<times> (A - {u, v, y}))\\<^esub>\\<prec> y\n  u \\<^bsub>(if j = i\n             then {(v, w) |w. w \\<in> A} \\<union>\n                  {(x, w) |w. w \\<in> A - {v}} \\<union>\n                  {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                  (A - {v, x, y}) \\<times> (A - {v, x, y})\n             else {(y, w) |w. w \\<in> A} \\<union>\n                  {(u, w) |w. w \\<in> A - {y}} \\<union>\n                  {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                  (A - {u, v, y}) \\<times> (A - {u, v, y}))\\<^esub>\\<prec> v\n  \\<forall>ia\\<in>Is.\n     v \\<^bsub>(if ia = i\n                then {(v, w) |w. w \\<in> A} \\<union>\n                     {(x, w) |w. w \\<in> A - {v}} \\<union>\n                     {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                     (A - {v, x, y}) \\<times> (A - {v, x, y})\n                else {(y, w) |w. w \\<in> A} \\<union>\n                     {(u, w) |w. w \\<in> A - {y}} \\<union>\n                     {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                     (A - {u, v, y}) \\<times>\n                     (A - {u, v, y}))\\<^esub>\\<prec> x \\<and>\n     y \\<^bsub>(if ia = i\n                then {(v, w) |w. w \\<in> A} \\<union>\n                     {(x, w) |w. w \\<in> A - {v}} \\<union>\n                     {(y, w) |w. w \\<in> A - {v, x}} \\<union>\n                     (A - {v, x, y}) \\<times> (A - {v, x, y})\n                else {(y, w) |w. w \\<in> A} \\<union>\n                     {(u, w) |w. w \\<in> A - {y}} \\<union>\n                     {(v, w) |w. w \\<in> A - {u, y}} \\<union>\n                     (A - {u, v, y}) \\<times>\n                     (A - {u, v, y}))\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>The Liberal Paradox: having two decisive individuals, an SDF and the\nweak pareto assumption is inconsistent.\\<close>"], ["", "theorem LiberalParadox:\n  assumes SDF: \"SDF sdf A Is universal_domain\"\n      and ml: \"minimally_liberal sdf A Is\"\n      and wp: \"weak_pareto sdf A Is universal_domain\"\n  shows False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "from ml"], ["proof (chain)\npicking this:\n  minimally_liberal sdf A Is", "obtain i j x y u v \n    where i: \"i \\<in> Is\" and j: \"j \\<in> Is\" and ij: \"i \\<noteq> j\"\n      and x: \"x \\<in> A\" and y: \"y \\<in> A\" and u: \"u \\<in> A\" and v: \"v \\<in> A\"\n      and xy: \"x \\<noteq> y\"\n      and dixy: \"decisive sdf A Is {i} x y\"\n      and diyx: \"decisive sdf A Is {i} y x\"\n      and uv: \"u \\<noteq> v\"\n      and djuv: \"decisive sdf A Is {j} u v\"\n      and djvu: \"decisive sdf A Is {j} v u\""], ["proof (prove)\nusing this:\n  minimally_liberal sdf A Is\n\ngoal (1 subgoal):\n 1. (\\<And>i j x y u v.\n        \\<lbrakk>i \\<in> Is; j \\<in> Is; i \\<noteq> j; x \\<in> A; y \\<in> A;\n         u \\<in> A; v \\<in> A; x \\<noteq> y; decisive sdf A Is {i} x y;\n         decisive sdf A Is {i} y x; u \\<noteq> v; decisive sdf A Is {j} u v;\n         decisive sdf A Is {j} v u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (unfold minimally_liberal_def, auto)"], ["proof (state)\nthis:\n  i \\<in> Is\n  j \\<in> Is\n  i \\<noteq> j\n  x \\<in> A\n  y \\<in> A\n  u \\<in> A\n  v \\<in> A\n  x \\<noteq> y\n  decisive sdf A Is {i} x y\n  decisive sdf A Is {i} y x\n  u \\<noteq> v\n  decisive sdf A Is {j} u v\n  decisive sdf A Is {j} v u\n\ngoal (1 subgoal):\n 1. False", "from i j ij"], ["proof (chain)\npicking this:\n  i \\<in> Is\n  j \\<in> Is\n  i \\<noteq> j", "have twoIs: \"hasw [i,j] Is\""], ["proof (prove)\nusing this:\n  i \\<in> Is\n  j \\<in> Is\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. hasw [i, j] Is", "by simp"], ["proof (state)\nthis:\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  hasw [i, j] Is\n\ngoal (1 subgoal):\n 1. False", "assume xu: \"x = u\" and yv: \"y = v\""], ["proof (state)\nthis:\n  x = u\n  y = v\n\ngoal (1 subgoal):\n 1. False", "from xy x y"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  x \\<in> A\n  y \\<in> A", "have twoA: \"hasw [x,y] A\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. hasw [x, y] A", "by simp"], ["proof (state)\nthis:\n  hasw [x, y] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where \"profile A Is P\" \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\" \"y \\<^bsub>(P j)\\<^esub>\\<prec> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_two[OF twoA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n       y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "with i j dixy djvu xu yv"], ["proof (chain)\npicking this:\n  i \\<in> Is\n  j \\<in> Is\n  decisive sdf A Is {i} x y\n  decisive sdf A Is {j} v u\n  x = u\n  y = v\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x", "have False"], ["proof (prove)\nusing this:\n  i \\<in> Is\n  j \\<in> Is\n  decisive sdf A Is {i} x y\n  decisive sdf A Is {j} v u\n  x = u\n  y = v\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "by (unfold decisive_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x = u; y = v\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x = u; y = v\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x = u; y = v\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "assume xu: \"x = u\" and yv: \"y \\<noteq> v\""], ["proof (state)\nthis:\n  x = u\n  y \\<noteq> v\n\ngoal (1 subgoal):\n 1. False", "with xy uv xu x y v"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  u \\<noteq> v\n  x = u\n  x \\<in> A\n  y \\<in> A\n  v \\<in> A\n  x = u\n  y \\<noteq> v", "have threeA: \"hasw [x,y,v] A\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  u \\<noteq> v\n  x = u\n  x \\<in> A\n  y \\<in> A\n  v \\<in> A\n  x = u\n  y \\<noteq> v\n\ngoal (1 subgoal):\n 1. hasw [x, y, v] A", "by simp"], ["proof (state)\nthis:\n  hasw [x, y, v] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where profileP: \"profile A Is P\"\n        and xPiy: \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n        and vPjx: \"v \\<^bsub>(P j)\\<^esub>\\<prec> x\"\n        and AyPv: \"\\<forall>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_three[OF threeA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n       v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n       \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  v \\<^bsub>(P j)\\<^esub>\\<prec> x\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. False", "from vPjx j djvu xu profileP"], ["proof (chain)\npicking this:\n  v \\<^bsub>(P j)\\<^esub>\\<prec> x\n  j \\<in> Is\n  decisive sdf A Is {j} v u\n  x = u\n  profile A Is P", "have vPx: \"v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  v \\<^bsub>(P j)\\<^esub>\\<prec> x\n  j \\<in> Is\n  decisive sdf A Is {j} v u\n  x = u\n  profile A Is P\n\ngoal (1 subgoal):\n 1. v \\<^bsub>(sdf P)\\<^esub>\\<prec> x", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "from xPiy i dixy profileP"], ["proof (chain)\npicking this:\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  i \\<in> Is\n  decisive sdf A Is {i} x y\n  profile A Is P", "have xPy: \"x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\""], ["proof (prove)\nusing this:\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  i \\<in> Is\n  decisive sdf A Is {i} x y\n  profile A Is P\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(sdf P)\\<^esub>\\<prec> y", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n\ngoal (1 subgoal):\n 1. False", "from AyPv weak_paretoD[OF wp _ y v] profileP"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      y \\<^bsub>(?P i)\\<^esub>\\<prec> v\\<rbrakk>\n  \\<Longrightarrow> y \\<^bsub>(sdf ?P)\\<^esub>\\<prec> v\n  profile A Is P", "have yPv: \"y \\<^bsub>(sdf P)\\<^esub>\\<prec> v\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> v\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      y \\<^bsub>(?P i)\\<^esub>\\<prec> v\\<rbrakk>\n  \\<Longrightarrow> y \\<^bsub>(sdf ?P)\\<^esub>\\<prec> v\n  profile A Is P\n\ngoal (1 subgoal):\n 1. y \\<^bsub>(sdf P)\\<^esub>\\<prec> v", "by auto"], ["proof (state)\nthis:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. False", "from threeA profileP SDF"], ["proof (chain)\npicking this:\n  hasw [x, y, v] A\n  profile A Is P\n  SDF sdf A Is universal_domain", "have \"choiceSet {x,y,v} (sdf P) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [x, y, v] A\n  profile A Is P\n  SDF sdf A Is universal_domain\n\ngoal (1 subgoal):\n 1. choiceSet {x, y, v} (sdf P) \\<noteq> {}", "by (simp add: SDF_def choiceFn_def)"], ["proof (state)\nthis:\n  choiceSet {x, y, v} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "with vPx xPy yPv"], ["proof (chain)\npicking this:\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n  choiceSet {x, y, v} (sdf P) \\<noteq> {}", "have False"], ["proof (prove)\nusing this:\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n  choiceSet {x, y, v} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "by (unfold choiceSet_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x = u; y \\<noteq> v\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x = u; y \\<noteq> v\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x = u; y \\<noteq> v\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "assume xv: \"x = v\" and yu: \"y = u\""], ["proof (state)\nthis:\n  x = v\n  y = u\n\ngoal (1 subgoal):\n 1. False", "from xy x y"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  x \\<in> A\n  y \\<in> A", "have twoA: \"hasw [x,y] A\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  x \\<in> A\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. hasw [x, y] A", "by auto"], ["proof (state)\nthis:\n  hasw [x, y] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where \"profile A Is P\" \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\" \"y \\<^bsub>(P j)\\<^esub>\\<prec> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_two[OF twoA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n       y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         y \\<^bsub>(P j)\\<^esub>\\<prec> x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "with i j dixy djuv xv yu"], ["proof (chain)\npicking this:\n  i \\<in> Is\n  j \\<in> Is\n  decisive sdf A Is {i} x y\n  decisive sdf A Is {j} u v\n  x = v\n  y = u\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x", "have False"], ["proof (prove)\nusing this:\n  i \\<in> Is\n  j \\<in> Is\n  decisive sdf A Is {i} x y\n  decisive sdf A Is {j} u v\n  x = v\n  y = u\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  y \\<^bsub>(P j)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "by (unfold decisive_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x = v; y = u\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x = v; y = u\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x = v; y = u\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "assume xv: \"x = v\" and yu: \"y \\<noteq> u\""], ["proof (state)\nthis:\n  x = v\n  y \\<noteq> u\n\ngoal (1 subgoal):\n 1. False", "with xy uv u x y"], ["proof (chain)\npicking this:\n  x \\<noteq> y\n  u \\<noteq> v\n  u \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x = v\n  y \\<noteq> u", "have threeA: \"hasw [x,y,u] A\""], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  u \\<noteq> v\n  u \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x = v\n  y \\<noteq> u\n\ngoal (1 subgoal):\n 1. hasw [x, y, u] A", "by simp"], ["proof (state)\nthis:\n  hasw [x, y, u] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where profileP: \"profile A Is P\"\n        and xPiy: \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n        and uPjx: \"u \\<^bsub>(P j)\\<^esub>\\<prec> x\"\n        and AyPu: \"\\<forall>i \\<in> Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_three[OF threeA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n       u \\<^bsub>(P j)\\<^esub>\\<prec> x;\n       \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> x;\n         \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  u \\<^bsub>(P j)\\<^esub>\\<prec> x\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. False", "from uPjx j djuv xv profileP"], ["proof (chain)\npicking this:\n  u \\<^bsub>(P j)\\<^esub>\\<prec> x\n  j \\<in> Is\n  decisive sdf A Is {j} u v\n  x = v\n  profile A Is P", "have uPx: \"u \\<^bsub>(sdf P)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  u \\<^bsub>(P j)\\<^esub>\\<prec> x\n  j \\<in> Is\n  decisive sdf A Is {j} u v\n  x = v\n  profile A Is P\n\ngoal (1 subgoal):\n 1. u \\<^bsub>(sdf P)\\<^esub>\\<prec> x", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "from xPiy i dixy profileP"], ["proof (chain)\npicking this:\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  i \\<in> Is\n  decisive sdf A Is {i} x y\n  profile A Is P", "have xPy: \"x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\""], ["proof (prove)\nusing this:\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  i \\<in> Is\n  decisive sdf A Is {i} x y\n  profile A Is P\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(sdf P)\\<^esub>\\<prec> y", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n\ngoal (1 subgoal):\n 1. False", "from AyPu weak_paretoD[OF wp _ y u] profileP"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      y \\<^bsub>(?P i)\\<^esub>\\<prec> u\\<rbrakk>\n  \\<Longrightarrow> y \\<^bsub>(sdf ?P)\\<^esub>\\<prec> u\n  profile A Is P", "have yPu: \"y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>Is. y \\<^bsub>(P i)\\<^esub>\\<prec> u\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      y \\<^bsub>(?P i)\\<^esub>\\<prec> u\\<rbrakk>\n  \\<Longrightarrow> y \\<^bsub>(sdf ?P)\\<^esub>\\<prec> u\n  profile A Is P\n\ngoal (1 subgoal):\n 1. y \\<^bsub>(sdf P)\\<^esub>\\<prec> u", "by auto"], ["proof (state)\nthis:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. False", "from threeA profileP SDF"], ["proof (chain)\npicking this:\n  hasw [x, y, u] A\n  profile A Is P\n  SDF sdf A Is universal_domain", "have \"choiceSet {x,y,u} (sdf P) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [x, y, u] A\n  profile A Is P\n  SDF sdf A Is universal_domain\n\ngoal (1 subgoal):\n 1. choiceSet {x, y, u} (sdf P) \\<noteq> {}", "by (simp add: SDF_def choiceFn_def)"], ["proof (state)\nthis:\n  choiceSet {x, y, u} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "with uPx xPy yPu"], ["proof (chain)\npicking this:\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n  choiceSet {x, y, u} (sdf P) \\<noteq> {}", "have False"], ["proof (prove)\nusing this:\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n  choiceSet {x, y, u} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "by (unfold choiceSet_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x = v; y \\<noteq> u\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x = v; y \\<noteq> u\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x = v; y \\<noteq> u\\<rbrakk> \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "assume xu: \"x \\<noteq> u\" and xv: \"x \\<noteq> v\" and yu: \"y = u\""], ["proof (state)\nthis:\n  x \\<noteq> u\n  x \\<noteq> v\n  y = u\n\ngoal (1 subgoal):\n 1. False", "with v x y xy uv xu"], ["proof (chain)\npicking this:\n  v \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x \\<noteq> y\n  u \\<noteq> v\n  x \\<noteq> u\n  x \\<noteq> u\n  x \\<noteq> v\n  y = u", "have threeA: \"hasw [y,x,v] A\""], ["proof (prove)\nusing this:\n  v \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x \\<noteq> y\n  u \\<noteq> v\n  x \\<noteq> u\n  x \\<noteq> u\n  x \\<noteq> v\n  y = u\n\ngoal (1 subgoal):\n 1. hasw [y, x, v] A", "by simp"], ["proof (state)\nthis:\n  hasw [y, x, v] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where profileP: \"profile A Is P\"\n        and yPix: \"y \\<^bsub>(P i)\\<^esub>\\<prec> x\"\n        and vPjy: \"v \\<^bsub>(P j)\\<^esub>\\<prec> y\"\n        and AxPv: \"\\<forall>i \\<in> Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; y \\<^bsub>(P i)\\<^esub>\\<prec> x;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> y;\n         \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_three[OF threeA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; y \\<^bsub>(P i)\\<^esub>\\<prec> x;\n       v \\<^bsub>(P j)\\<^esub>\\<prec> y;\n       \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; y \\<^bsub>(P i)\\<^esub>\\<prec> x;\n         v \\<^bsub>(P j)\\<^esub>\\<prec> y;\n         \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  y \\<^bsub>(P i)\\<^esub>\\<prec> x\n  v \\<^bsub>(P j)\\<^esub>\\<prec> y\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. False", "from yPix i diyx profileP"], ["proof (chain)\npicking this:\n  y \\<^bsub>(P i)\\<^esub>\\<prec> x\n  i \\<in> Is\n  decisive sdf A Is {i} y x\n  profile A Is P", "have yPx: \"y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  y \\<^bsub>(P i)\\<^esub>\\<prec> x\n  i \\<in> Is\n  decisive sdf A Is {i} y x\n  profile A Is P\n\ngoal (1 subgoal):\n 1. y \\<^bsub>(sdf P)\\<^esub>\\<prec> x", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "from vPjy j djvu yu profileP"], ["proof (chain)\npicking this:\n  v \\<^bsub>(P j)\\<^esub>\\<prec> y\n  j \\<in> Is\n  decisive sdf A Is {j} v u\n  y = u\n  profile A Is P", "have vPy: \"v \\<^bsub>(sdf P)\\<^esub>\\<prec> y\""], ["proof (prove)\nusing this:\n  v \\<^bsub>(P j)\\<^esub>\\<prec> y\n  j \\<in> Is\n  decisive sdf A Is {j} v u\n  y = u\n  profile A Is P\n\ngoal (1 subgoal):\n 1. v \\<^bsub>(sdf P)\\<^esub>\\<prec> y", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n\ngoal (1 subgoal):\n 1. False", "from AxPv weak_paretoD[OF wp _ x v] profileP"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      x \\<^bsub>(?P i)\\<^esub>\\<prec> v\\<rbrakk>\n  \\<Longrightarrow> x \\<^bsub>(sdf ?P)\\<^esub>\\<prec> v\n  profile A Is P", "have xPv: \"x \\<^bsub>(sdf P)\\<^esub>\\<prec> v\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> v\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      x \\<^bsub>(?P i)\\<^esub>\\<prec> v\\<rbrakk>\n  \\<Longrightarrow> x \\<^bsub>(sdf ?P)\\<^esub>\\<prec> v\n  profile A Is P\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(sdf P)\\<^esub>\\<prec> v", "by auto"], ["proof (state)\nthis:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. False", "from threeA profileP SDF"], ["proof (chain)\npicking this:\n  hasw [y, x, v] A\n  profile A Is P\n  SDF sdf A Is universal_domain", "have \"choiceSet {x,y,v} (sdf P) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [y, x, v] A\n  profile A Is P\n  SDF sdf A Is universal_domain\n\ngoal (1 subgoal):\n 1. choiceSet {x, y, v} (sdf P) \\<noteq> {}", "by (simp add: SDF_def choiceFn_def)"], ["proof (state)\nthis:\n  choiceSet {x, y, v} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "with yPx vPy xPv"], ["proof (chain)\npicking this:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n  choiceSet {x, y, v} (sdf P) \\<noteq> {}", "have False"], ["proof (prove)\nusing this:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n  choiceSet {x, y, v} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "by (unfold choiceSet_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = u\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = u\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = u\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "assume xu: \"x \\<noteq> u\" and xv: \"x \\<noteq> v\" and yv: \"y = v\""], ["proof (state)\nthis:\n  x \\<noteq> u\n  x \\<noteq> v\n  y = v\n\ngoal (1 subgoal):\n 1. False", "with u x y xy uv xu"], ["proof (chain)\npicking this:\n  u \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x \\<noteq> y\n  u \\<noteq> v\n  x \\<noteq> u\n  x \\<noteq> u\n  x \\<noteq> v\n  y = v", "have threeA: \"hasw [y,x,u] A\""], ["proof (prove)\nusing this:\n  u \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x \\<noteq> y\n  u \\<noteq> v\n  x \\<noteq> u\n  x \\<noteq> u\n  x \\<noteq> v\n  y = v\n\ngoal (1 subgoal):\n 1. hasw [y, x, u] A", "by simp"], ["proof (state)\nthis:\n  hasw [y, x, u] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where profileP: \"profile A Is P\"\n        and yPix: \"y \\<^bsub>(P i)\\<^esub>\\<prec> x\"\n        and uPjy: \"u \\<^bsub>(P j)\\<^esub>\\<prec> y\"\n        and AxPu: \"\\<forall>i \\<in> Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; y \\<^bsub>(P i)\\<^esub>\\<prec> x;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> y;\n         \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_three[OF threeA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; y \\<^bsub>(P i)\\<^esub>\\<prec> x;\n       u \\<^bsub>(P j)\\<^esub>\\<prec> y;\n       \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; y \\<^bsub>(P i)\\<^esub>\\<prec> x;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> y;\n         \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  y \\<^bsub>(P i)\\<^esub>\\<prec> x\n  u \\<^bsub>(P j)\\<^esub>\\<prec> y\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. False", "from yPix i diyx profileP"], ["proof (chain)\npicking this:\n  y \\<^bsub>(P i)\\<^esub>\\<prec> x\n  i \\<in> Is\n  decisive sdf A Is {i} y x\n  profile A Is P", "have yPx: \"y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\""], ["proof (prove)\nusing this:\n  y \\<^bsub>(P i)\\<^esub>\\<prec> x\n  i \\<in> Is\n  decisive sdf A Is {i} y x\n  profile A Is P\n\ngoal (1 subgoal):\n 1. y \\<^bsub>(sdf P)\\<^esub>\\<prec> x", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n\ngoal (1 subgoal):\n 1. False", "from uPjy j djuv yv profileP"], ["proof (chain)\npicking this:\n  u \\<^bsub>(P j)\\<^esub>\\<prec> y\n  j \\<in> Is\n  decisive sdf A Is {j} u v\n  y = v\n  profile A Is P", "have uPy: \"u \\<^bsub>(sdf P)\\<^esub>\\<prec> y\""], ["proof (prove)\nusing this:\n  u \\<^bsub>(P j)\\<^esub>\\<prec> y\n  j \\<in> Is\n  decisive sdf A Is {j} u v\n  y = v\n  profile A Is P\n\ngoal (1 subgoal):\n 1. u \\<^bsub>(sdf P)\\<^esub>\\<prec> y", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n\ngoal (1 subgoal):\n 1. False", "from AxPu weak_paretoD[OF wp _ x u] profileP"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      x \\<^bsub>(?P i)\\<^esub>\\<prec> u\\<rbrakk>\n  \\<Longrightarrow> x \\<^bsub>(sdf ?P)\\<^esub>\\<prec> u\n  profile A Is P", "have xPu: \"x \\<^bsub>(sdf P)\\<^esub>\\<prec> u\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>Is. x \\<^bsub>(P i)\\<^esub>\\<prec> u\n  \\<lbrakk>universal_domain A Is ?P;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      x \\<^bsub>(?P i)\\<^esub>\\<prec> u\\<rbrakk>\n  \\<Longrightarrow> x \\<^bsub>(sdf ?P)\\<^esub>\\<prec> u\n  profile A Is P\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(sdf P)\\<^esub>\\<prec> u", "by auto"], ["proof (state)\nthis:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. False", "from threeA profileP SDF"], ["proof (chain)\npicking this:\n  hasw [y, x, u] A\n  profile A Is P\n  SDF sdf A Is universal_domain", "have \"choiceSet {x,y,u} (sdf P) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [y, x, u] A\n  profile A Is P\n  SDF sdf A Is universal_domain\n\ngoal (1 subgoal):\n 1. choiceSet {x, y, u} (sdf P) \\<noteq> {}", "by (simp add: SDF_def choiceFn_def)"], ["proof (state)\nthis:\n  choiceSet {x, y, u} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "with yPx uPy xPu"], ["proof (chain)\npicking this:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n  choiceSet {x, y, u} (sdf P) \\<noteq> {}", "have False"], ["proof (prove)\nusing this:\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n  choiceSet {x, y, u} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "by (unfold choiceSet_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = v\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = v\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = v\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "assume xu: \"x \\<noteq> u\" and xv: \"x \\<noteq> v\" and yu: \"y \\<noteq> u\" and yv: \"y \\<noteq> v\""], ["proof (state)\nthis:\n  x \\<noteq> u\n  x \\<noteq> v\n  y \\<noteq> u\n  y \\<noteq> v\n\ngoal (1 subgoal):\n 1. False", "with u v x y xy uv xu"], ["proof (chain)\npicking this:\n  u \\<in> A\n  v \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x \\<noteq> y\n  u \\<noteq> v\n  x \\<noteq> u\n  x \\<noteq> u\n  x \\<noteq> v\n  y \\<noteq> u\n  y \\<noteq> v", "have fourA: \"hasw [x,y,u,v] A\""], ["proof (prove)\nusing this:\n  u \\<in> A\n  v \\<in> A\n  x \\<in> A\n  y \\<in> A\n  x \\<noteq> y\n  u \\<noteq> v\n  x \\<noteq> u\n  x \\<noteq> u\n  x \\<noteq> v\n  y \\<noteq> u\n  y \\<noteq> v\n\ngoal (1 subgoal):\n 1. hasw [x, y, u, v] A", "by simp"], ["proof (state)\nthis:\n  hasw [x, y, u, v] A\n\ngoal (1 subgoal):\n 1. False", "obtain P\n      where profileP: \"profile A Is P\"\n        and xPiy: \"x \\<^bsub>(P i)\\<^esub>\\<prec> y\"\n        and uPjv: \"u \\<^bsub>(P j)\\<^esub>\\<prec> v\"\n        and AvPxAyPu: \"\\<forall>i \\<in> Is. v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and> y \\<^bsub>(P i)\\<^esub>\\<prec> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using liberal_witness_four[OF fourA twoIs]"], ["proof (prove)\nusing this:\n  (\\<And>P.\n      \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n       u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n       \\<forall>i\\<in>Is.\n          v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n          y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>P.\n        \\<lbrakk>profile A Is P; x \\<^bsub>(P i)\\<^esub>\\<prec> y;\n         u \\<^bsub>(P j)\\<^esub>\\<prec> v;\n         \\<forall>i\\<in>Is.\n            v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n            y \\<^bsub>(P i)\\<^esub>\\<prec> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  profile A Is P\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  u \\<^bsub>(P j)\\<^esub>\\<prec> v\n  \\<forall>i\\<in>Is.\n     v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n     y \\<^bsub>(P i)\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. False", "from xPiy i dixy profileP"], ["proof (chain)\npicking this:\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  i \\<in> Is\n  decisive sdf A Is {i} x y\n  profile A Is P", "have xPy: \"x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\""], ["proof (prove)\nusing this:\n  x \\<^bsub>(P i)\\<^esub>\\<prec> y\n  i \\<in> Is\n  decisive sdf A Is {i} x y\n  profile A Is P\n\ngoal (1 subgoal):\n 1. x \\<^bsub>(sdf P)\\<^esub>\\<prec> y", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n\ngoal (1 subgoal):\n 1. False", "from uPjv j djuv profileP"], ["proof (chain)\npicking this:\n  u \\<^bsub>(P j)\\<^esub>\\<prec> v\n  j \\<in> Is\n  decisive sdf A Is {j} u v\n  profile A Is P", "have uPv: \"u \\<^bsub>(sdf P)\\<^esub>\\<prec> v\""], ["proof (prove)\nusing this:\n  u \\<^bsub>(P j)\\<^esub>\\<prec> v\n  j \\<in> Is\n  decisive sdf A Is {j} u v\n  profile A Is P\n\ngoal (1 subgoal):\n 1. u \\<^bsub>(sdf P)\\<^esub>\\<prec> v", "by (unfold decisive_def strict_pref_def, auto)"], ["proof (state)\nthis:\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n\ngoal (1 subgoal):\n 1. False", "from AvPxAyPu weak_paretoD[OF wp] profileP x y u v"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>Is.\n     v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n     y \\<^bsub>(P i)\\<^esub>\\<prec> u\n  \\<lbrakk>universal_domain A Is ?P; ?x \\<in> A; ?y \\<in> A;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      ?x \\<^bsub>(?P i)\\<^esub>\\<prec> ?y\\<rbrakk>\n  \\<Longrightarrow> ?x \\<^bsub>(sdf ?P)\\<^esub>\\<prec> ?y\n  profile A Is P\n  x \\<in> A\n  y \\<in> A\n  u \\<in> A\n  v \\<in> A", "have vPx: \"v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\" and yPu: \"y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>Is.\n     v \\<^bsub>(P i)\\<^esub>\\<prec> x \\<and>\n     y \\<^bsub>(P i)\\<^esub>\\<prec> u\n  \\<lbrakk>universal_domain A Is ?P; ?x \\<in> A; ?y \\<in> A;\n   \\<And>i.\n      i \\<in> Is \\<Longrightarrow>\n      ?x \\<^bsub>(?P i)\\<^esub>\\<prec> ?y\\<rbrakk>\n  \\<Longrightarrow> ?x \\<^bsub>(sdf ?P)\\<^esub>\\<prec> ?y\n  profile A Is P\n  x \\<in> A\n  y \\<in> A\n  u \\<in> A\n  v \\<in> A\n\ngoal (1 subgoal):\n 1. v \\<^bsub>(sdf P)\\<^esub>\\<prec> x &&&\n    y \\<^bsub>(sdf P)\\<^esub>\\<prec> u", "by auto"], ["proof (state)\nthis:\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n\ngoal (1 subgoal):\n 1. False", "from fourA profileP SDF"], ["proof (chain)\npicking this:\n  hasw [x, y, u, v] A\n  profile A Is P\n  SDF sdf A Is universal_domain", "have \"choiceSet {x,y,u,v} (sdf P) \\<noteq> {}\""], ["proof (prove)\nusing this:\n  hasw [x, y, u, v] A\n  profile A Is P\n  SDF sdf A Is universal_domain\n\ngoal (1 subgoal):\n 1. choiceSet {x, y, u, v} (sdf P) \\<noteq> {}", "by (simp add: SDF_def choiceFn_def)"], ["proof (state)\nthis:\n  choiceSet {x, y, u, v} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "with xPy uPv vPx yPu"], ["proof (chain)\npicking this:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n  choiceSet {x, y, u, v} (sdf P) \\<noteq> {}", "have False"], ["proof (prove)\nusing this:\n  x \\<^bsub>(sdf P)\\<^esub>\\<prec> y\n  u \\<^bsub>(sdf P)\\<^esub>\\<prec> v\n  v \\<^bsub>(sdf P)\\<^esub>\\<prec> x\n  y \\<^bsub>(sdf P)\\<^esub>\\<prec> u\n  choiceSet {x, y, u, v} (sdf P) \\<noteq> {}\n\ngoal (1 subgoal):\n 1. False", "by (unfold choiceSet_def strict_pref_def, blast)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y \\<noteq> u; y \\<noteq> v\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>x = u; y = v\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x = u; y \\<noteq> v\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x = v; y = u\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x = v; y \\<noteq> u\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = u\\<rbrakk>\n  \\<Longrightarrow> False\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = v\\<rbrakk>\n  \\<Longrightarrow> False\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y \\<noteq> u; y \\<noteq> v\\<rbrakk>\n  \\<Longrightarrow> False", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>x = u; y = v\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x = u; y \\<noteq> v\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x = v; y = u\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x = v; y \\<noteq> u\\<rbrakk> \\<Longrightarrow> False\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = u\\<rbrakk>\n  \\<Longrightarrow> False\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y = v\\<rbrakk>\n  \\<Longrightarrow> False\n  \\<lbrakk>x \\<noteq> u; x \\<noteq> v; y \\<noteq> u; y \\<noteq> v\\<rbrakk>\n  \\<Longrightarrow> False\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "(*<*)"], ["", "end"], ["", "(*>*)"]]}