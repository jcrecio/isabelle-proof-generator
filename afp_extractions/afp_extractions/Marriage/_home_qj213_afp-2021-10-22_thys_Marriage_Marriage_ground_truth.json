{"file_name": "/home/qj213/afp-2021-10-22/thys/Marriage/Marriage.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Marriage", "problem_names": ["theorem marriage_necessary:\n  fixes A :: \"'a \\<Rightarrow> 'b set\" and I :: \"'a set\"\n  assumes \"finite I\" and \"\\<forall> i\\<in>I. finite (A i)\"\n  and \"\\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\" (is \"\\<exists>R. ?R R A & ?inj R A\")\n  shows \"\\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union>(A ` J))\"", "theorem marriage_HV:\n  fixes A :: \"'a \\<Rightarrow> 'b set\" and I :: \"'a set\"\n  assumes \"finite I\" and \"\\<forall> i\\<in>I. finite (A i)\"\n  and \"\\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union>(A ` J))\" (is \"?M A I\")\n  shows \"\\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\"\n       (is \"?SDR A I\" is \"\\<exists>R. ?R R A I & ?inj R A I\")", "theorem marriage_Rado:\n  fixes A :: \"'a \\<Rightarrow> 'b set\" and I :: \"'a set\"\n  assumes \"finite I\" and \"\\<forall> i\\<in>I. finite (A i)\"\n  and \"\\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union>(A ` J))\" (is \"?M A\")\n  shows \"\\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\"\n       (is \"?SDR A\" is \"\\<exists>R. ?R R A & ?inj R A\")"], "translations": [["", "theorem marriage_necessary:\n  fixes A :: \"'a \\<Rightarrow> 'b set\" and I :: \"'a set\"\n  assumes \"finite I\" and \"\\<forall> i\\<in>I. finite (A i)\"\n  and \"\\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\" (is \"\\<exists>R. ?R R A & ?inj R A\")\n  shows \"\\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union>(A ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I \\<Longrightarrow>\n       card J \\<le> card (\\<Union> (A ` J))", "fix J"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I \\<Longrightarrow>\n       card J \\<le> card (\\<Union> (A ` J))", "assume \"J \\<subseteq> I\""], ["proof (state)\nthis:\n  J \\<subseteq> I\n\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I \\<Longrightarrow>\n       card J \\<le> card (\\<Union> (A ` J))", "show \"card J \\<le> card (\\<Union>(A ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "from assms(3)"], ["proof (chain)\npicking this:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "obtain R where \"?R R A\" and \"?inj R A\""], ["proof (prove)\nusing this:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<lbrakk>\\<forall>i\\<in>I. R i \\<in> A i; inj_on R I\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. R i \\<in> A i\n  inj_on R I\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "have \"inj_on R J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on R J", "by(rule subset_inj_on[OF \\<open>?inj R A\\<close> \\<open>J\\<subseteq>I\\<close>])"], ["proof (state)\nthis:\n  inj_on R J\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "moreover"], ["proof (state)\nthis:\n  inj_on R J\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "have \"(R ` J) \\<subseteq> (\\<Union>(A ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R ` J \\<subseteq> \\<Union> (A ` J)", "using \\<open>J\\<subseteq>I\\<close> \\<open>?R R A\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> I\n  \\<forall>i\\<in>I. R i \\<in> A i\n\ngoal (1 subgoal):\n 1. R ` J \\<subseteq> \\<Union> (A ` J)", "by auto"], ["proof (state)\nthis:\n  R ` J \\<subseteq> \\<Union> (A ` J)\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "moreover"], ["proof (state)\nthis:\n  R ` J \\<subseteq> \\<Union> (A ` J)\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "have \"finite (\\<Union>(A ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J))", "using \\<open>J\\<subseteq>I\\<close> assms"], ["proof (prove)\nusing this:\n  J \\<subseteq> I\n  finite I\n  \\<forall>i\\<in>I. finite (A i)\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J))", "by (metis finite_UN_I finite_subset subsetD)"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "ultimately"], ["proof (chain)\npicking this:\n  inj_on R J\n  R ` J \\<subseteq> \\<Union> (A ` J)\n  finite (\\<Union> (A ` J))", "show ?thesis"], ["proof (prove)\nusing this:\n  inj_on R J\n  R ` J \\<subseteq> \\<Union> (A ` J)\n  finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union> (A ` J))", "by (rule card_inj_on_le)"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union> (A ` J))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union> (A ` J))\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>The proof by Halmos and Vaughan:\\<close>"], ["", "theorem marriage_HV:\n  fixes A :: \"'a \\<Rightarrow> 'b set\" and I :: \"'a set\"\n  assumes \"finite I\" and \"\\<forall> i\\<in>I. finite (A i)\"\n  and \"\\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union>(A ` J))\" (is \"?M A I\")\n  shows \"\\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\"\n       (is \"?SDR A I\" is \"\\<exists>R. ?R R A I & ?inj R A I\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "fix I"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"finite I \\<Longrightarrow> \\<forall>i\\<in>I. finite (A i) \\<Longrightarrow> ?M A I \\<Longrightarrow> ?SDR A I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>finite I; \\<forall>i\\<in>I. finite (A i);\n     \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n    \\<Longrightarrow> \\<exists>R.\n                         (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof(induct arbitrary: A rule: finite_psubset_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>A Aa.\n       \\<lbrakk>finite A;\n        \\<And>B Aa.\n           \\<lbrakk>B \\<subset> A; \\<forall>i\\<in>B. finite (Aa i);\n            \\<forall>J\\<subseteq>B.\n               card J \\<le> card (\\<Union> (Aa ` J))\\<rbrakk>\n           \\<Longrightarrow> \\<exists>R.\n                                (\\<forall>i\\<in>B. R i \\<in> Aa i) \\<and>\n                                inj_on R B;\n        \\<forall>i\\<in>A. finite (Aa i);\n        \\<forall>J\\<subseteq>A.\n           card J \\<le> card (\\<Union> (Aa ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>A. R i \\<in> Aa i) \\<and>\n                            inj_on R A", "case (psubset I)"], ["proof (state)\nthis:\n  finite I\n  \\<lbrakk>?B \\<subset> I; \\<forall>i\\<in>?B. finite (?A i);\n   \\<forall>J\\<subseteq>?B. card J \\<le> card (\\<Union> (?A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>?B. R i \\<in> ?A i) \\<and>\n                       inj_on R ?B\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. \\<And>A Aa.\n       \\<lbrakk>finite A;\n        \\<And>B Aa.\n           \\<lbrakk>B \\<subset> A; \\<forall>i\\<in>B. finite (Aa i);\n            \\<forall>J\\<subseteq>B.\n               card J \\<le> card (\\<Union> (Aa ` J))\\<rbrakk>\n           \\<Longrightarrow> \\<exists>R.\n                                (\\<forall>i\\<in>B. R i \\<in> Aa i) \\<and>\n                                inj_on R B;\n        \\<forall>i\\<in>A. finite (Aa i);\n        \\<forall>J\\<subseteq>A.\n           card J \\<le> card (\\<Union> (Aa ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>A. R i \\<in> Aa i) \\<and>\n                            inj_on R A", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof (cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "assume \"I={}\""], ["proof (state)\nthis:\n  I = {}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "then"], ["proof (chain)\npicking this:\n  I = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  I = {}\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "by simp"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. I \\<noteq> {} \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. I \\<noteq> {} \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "assume \"I \\<noteq> {}\""], ["proof (state)\nthis:\n  I \\<noteq> {}\n\ngoal (1 subgoal):\n 1. I \\<noteq> {} \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"\\<forall>i\\<in>I. A i \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. A i \\<noteq> {}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {}) \\<Longrightarrow> False", "assume  \"\\<not> (\\<forall>i\\<in>I. A i\\<noteq>{})\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {})\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {}) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {})", "obtain i where \"i\\<in>I\" \"A i = {}\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {})\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i \\<in> I; A i = {}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  i \\<in> I\n  A i = {}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {}) \\<Longrightarrow> False", "hence \"{i}\\<subseteq> I\""], ["proof (prove)\nusing this:\n  i \\<in> I\n  A i = {}\n\ngoal (1 subgoal):\n 1. {i} \\<subseteq> I", "by auto"], ["proof (state)\nthis:\n  {i} \\<subseteq> I\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. A i \\<noteq> {}) \\<Longrightarrow> False", "from mp[OF spec[OF psubset.prems(2)] this] \\<open>A i={}\\<close>"], ["proof (chain)\npicking this:\n  card {i} \\<le> card (\\<Union> (A ` {i}))\n  A i = {}", "show False"], ["proof (prove)\nusing this:\n  card {i} \\<le> card (\\<Union> (A ` {i}))\n  A i = {}\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. A i \\<noteq> {}\n\ngoal (1 subgoal):\n 1. I \\<noteq> {} \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "assume case1: \"\\<forall>K\\<subset>I. K\\<noteq>{} \\<longrightarrow> card (\\<Union>(A ` K)) \\<ge> card K + 1\""], ["proof (state)\nthis:\n  \\<forall>K\\<subset>I.\n     K \\<noteq> {} \\<longrightarrow>\n     card K + 1 \\<le> card (\\<Union> (A ` K))\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n 2. \\<not> ?P \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from \\<open>I\\<noteq>{}\\<close>"], ["proof (chain)\npicking this:\n  I \\<noteq> {}", "obtain n where \"n\\<in>I\""], ["proof (prove)\nusing this:\n  I \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>n. n \\<in> I \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  n \\<in> I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "with \\<open>\\<forall>i\\<in>I. A i \\<noteq> {}\\<close>"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. A i \\<noteq> {}\n  n \\<in> I", "have \"A n \\<noteq> {}\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. A i \\<noteq> {}\n  n \\<in> I\n\ngoal (1 subgoal):\n 1. A n \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  A n \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "then"], ["proof (chain)\npicking this:\n  A n \\<noteq> {}", "obtain x where \"x \\<in> A n\""], ["proof (prove)\nusing this:\n  A n \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> A n \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> A n\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "let ?A' = \"\\<lambda>i. A i - {x}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "let ?I' = \"I - {n}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from \\<open>n\\<in>I\\<close>"], ["proof (chain)\npicking this:\n  n \\<in> I", "have \"?I' \\<subset> I\""], ["proof (prove)\nusing this:\n  n \\<in> I\n\ngoal (1 subgoal):\n 1. I - {n} \\<subset> I", "by (metis DiffD2 Diff_subset insertI1 psubset_eq)"], ["proof (state)\nthis:\n  I - {n} \\<subset> I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have fin': \"\\<forall>i\\<in>?I'. finite (?A' i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I - {n}. finite (A i - {x})", "using psubset.prems(1)"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. finite (A i)\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I - {n}. finite (A i - {x})", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I - {n}. finite (A i - {x})\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"?M ?A' ?I'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>J\\<subseteq>I - {n}.\n       card J \\<le> card (\\<Union>a\\<in>J. A a - {x})", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - {n} \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - {x})", "fix J"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - {n} \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - {x})", "assume \"J \\<subseteq> ?I'\""], ["proof (state)\nthis:\n  J \\<subseteq> I - {n}\n\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - {n} \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - {x})", "hence \"J \\<subset> I\""], ["proof (prove)\nusing this:\n  J \\<subseteq> I - {n}\n\ngoal (1 subgoal):\n 1. J \\<subset> I", "by (metis \\<open>I - {n} \\<subset> I\\<close> subset_psubset_trans)"], ["proof (state)\nthis:\n  J \\<subset> I\n\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - {n} \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - {x})", "show \"card J \\<le> card (\\<Union>i\\<in>J. A i - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> card J \\<le> card (\\<Union>i\\<in>J. A i - {x})\n 2. \\<not> ?P \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "assume \"J = {}\""], ["proof (state)\nthis:\n  J = {}\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> card J \\<le> card (\\<Union>i\\<in>J. A i - {x})\n 2. \\<not> ?P \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "thus ?thesis"], ["proof (prove)\nusing this:\n  J = {}\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "by auto"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal (1 subgoal):\n 1. J \\<noteq> {} \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. J \\<noteq> {} \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "assume \"J \\<noteq> {}\""], ["proof (state)\nthis:\n  J \\<noteq> {}\n\ngoal (1 subgoal):\n 1. J \\<noteq> {} \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "hence \"card J + 1 \\<le> card(\\<Union>(A ` J))\""], ["proof (prove)\nusing this:\n  J \\<noteq> {}\n\ngoal (1 subgoal):\n 1. card J + 1 \\<le> card (\\<Union> (A ` J))", "using case1 \\<open>J\\<subset>I\\<close>"], ["proof (prove)\nusing this:\n  J \\<noteq> {}\n  \\<forall>K\\<subset>I.\n     K \\<noteq> {} \\<longrightarrow>\n     card K + 1 \\<le> card (\\<Union> (A ` K))\n  J \\<subset> I\n\ngoal (1 subgoal):\n 1. card J + 1 \\<le> card (\\<Union> (A ` J))", "by blast"], ["proof (state)\nthis:\n  card J + 1 \\<le> card (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. J \\<noteq> {} \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "moreover"], ["proof (state)\nthis:\n  card J + 1 \\<le> card (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. J \\<noteq> {} \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "have \"card(\\<Union>(A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})\" (is \"?l \\<le> ?r\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "have \"finite J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite J", "using \\<open>J \\<subset> I\\<close> psubset(1)"], ["proof (prove)\nusing this:\n  J \\<subset> I\n  finite I\n\ngoal (1 subgoal):\n 1. finite J", "by (metis psubset_imp_subset finite_subset)"], ["proof (state)\nthis:\n  finite J\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "hence 1: \"finite(\\<Union>(A ` J))\""], ["proof (prove)\nusing this:\n  finite J\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J))", "using \\<open>\\<forall>i\\<in>I. finite(A i)\\<close> \\<open>J\\<subset>I\\<close>"], ["proof (prove)\nusing this:\n  finite J\n  \\<forall>i\\<in>I. finite (A i)\n  J \\<subset> I\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J))", "by force"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "have \"?l = card(\\<Union>(A ` J)) - card{x}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 = card (\\<Union> (A ` J)) - card {x}", "by simp"], ["proof (state)\nthis:\n  card (\\<Union> (A ` J)) - 1 = card (\\<Union> (A ` J)) - card {x}\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "also"], ["proof (state)\nthis:\n  card (\\<Union> (A ` J)) - 1 = card (\\<Union> (A ` J)) - card {x}\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "have \"\\<dots> \\<le> card(\\<Union>(A ` J) - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - card {x} \\<le> card (\\<Union> (A ` J) - {x})", "using 1"], ["proof (prove)\nusing this:\n  finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - card {x} \\<le> card (\\<Union> (A ` J) - {x})", "by (metis diff_card_le_card_Diff finite.intros)"], ["proof (state)\nthis:\n  card (\\<Union> (A ` J)) - card {x} \\<le> card (\\<Union> (A ` J) - {x})\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "also"], ["proof (state)\nthis:\n  card (\\<Union> (A ` J)) - card {x} \\<le> card (\\<Union> (A ` J) - {x})\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "have \"\\<Union>(A ` J) - {x} = (\\<Union>i\\<in>J. A i - {x})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (A ` J) - {x} = (\\<Union>i\\<in>J. A i - {x})", "by blast"], ["proof (state)\nthis:\n  \\<Union> (A ` J) - {x} = (\\<Union>i\\<in>J. A i - {x})\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "finally"], ["proof (chain)\npicking this:\n  card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "show ?thesis"], ["proof (prove)\nusing this:\n  card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "."], ["proof (state)\nthis:\n  card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal (1 subgoal):\n 1. J \\<noteq> {} \\<Longrightarrow>\n    card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "ultimately"], ["proof (chain)\npicking this:\n  card J + 1 \\<le> card (\\<Union> (A ` J))\n  card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})", "show ?thesis"], ["proof (prove)\nusing this:\n  card J + 1 \\<le> card (\\<Union> (A ` J))\n  card (\\<Union> (A ` J)) - 1 \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - {x})", "by arith"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union>i\\<in>J. A i - {x})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>J\\<subseteq>I - {n}.\n     card J \\<le> card (\\<Union>a\\<in>J. A a - {x})\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from psubset(2)[OF \\<open>?I'\\<subset>I\\<close> fin' \\<open>?M ?A' ?I'\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>R.\n     (\\<forall>i\\<in>I - {n}. R i \\<in> A i - {x}) \\<and> inj_on R (I - {n})", "obtain R' where \"?R R' ?A' ?I'\" \"?inj R' ?A' ?I'\""], ["proof (prove)\nusing this:\n  \\<exists>R.\n     (\\<forall>i\\<in>I - {n}. R i \\<in> A i - {x}) \\<and> inj_on R (I - {n})\n\ngoal (1 subgoal):\n 1. (\\<And>R'.\n        \\<lbrakk>\\<forall>i\\<in>I - {n}. R' i \\<in> A i - {x};\n         inj_on R' (I - {n})\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I - {n}. R' i \\<in> A i - {x}\n  inj_on R' (I - {n})\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "let ?Rx = \"R'(n := x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"?R ?Rx A I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. (R'(n := x)) i \\<in> A i", "using \\<open>x\\<in>A n\\<close> \\<open>?R R' ?A' ?I'\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> A n\n  \\<forall>i\\<in>I - {n}. R' i \\<in> A i - {x}\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. (R'(n := x)) i \\<in> A i", "by force"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. (R'(n := x)) i \\<in> A i\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"\\<forall>i\\<in>?I'. ?Rx i \\<noteq> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I - {n}. (R'(n := x)) i \\<noteq> x", "using \\<open>?R R' ?A' ?I'\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I - {n}. R' i \\<in> A i - {x}\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I - {n}. (R'(n := x)) i \\<noteq> x", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I - {n}. (R'(n := x)) i \\<noteq> x\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "hence \"?inj ?Rx A I\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I - {n}. (R'(n := x)) i \\<noteq> x\n\ngoal (1 subgoal):\n 1. inj_on (R'(n := x)) I", "using \\<open>?inj R' ?A' ?I'\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I - {n}. (R'(n := x)) i \\<noteq> x\n  inj_on R' (I - {n})\n\ngoal (1 subgoal):\n 1. inj_on (R'(n := x)) I", "by(auto simp: inj_on_def)"], ["proof (state)\nthis:\n  inj_on (R'(n := x)) I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "with \\<open>?R ?Rx A I\\<close>"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. (R'(n := x)) i \\<in> A i\n  inj_on (R'(n := x)) I", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. (R'(n := x)) i \\<in> A i\n  inj_on (R'(n := x)) I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "by auto"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "assume \"\\<not> (\\<forall>K\\<subset>I. K\\<noteq>{} \\<longrightarrow> card (\\<Union>(A ` K)) \\<ge> card K + 1)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>K\\<subset>I.\n             K \\<noteq> {} \\<longrightarrow>\n             card K + 1 \\<le> card (\\<Union> (A ` K)))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>K\\<subset>I.\n             K \\<noteq> {} \\<longrightarrow>\n             card K + 1 \\<le> card (\\<Union> (A ` K)))", "obtain K where\n            \"K\\<subset>I\" \"K\\<noteq>{}\" and c1: \"\\<not>(card (\\<Union>(A ` K)) \\<ge> card K + 1)\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>K\\<subset>I.\n             K \\<noteq> {} \\<longrightarrow>\n             card K + 1 \\<le> card (\\<Union> (A ` K)))\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        \\<lbrakk>K \\<subset> I; K \\<noteq> {};\n         \\<not> card K + 1 \\<le> card (\\<Union> (A ` K))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  K \\<subset> I\n  K \\<noteq> {}\n  \\<not> card K + 1 \\<le> card (\\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "with psubset.prems(2)"], ["proof (chain)\npicking this:\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  K \\<subset> I\n  K \\<noteq> {}\n  \\<not> card K + 1 \\<le> card (\\<Union> (A ` K))", "have \"card (\\<Union>(A ` K)) \\<ge> card K\""], ["proof (prove)\nusing this:\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  K \\<subset> I\n  K \\<noteq> {}\n  \\<not> card K + 1 \\<le> card (\\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card K \\<le> card (\\<Union> (A ` K))", "by auto"], ["proof (state)\nthis:\n  card K \\<le> card (\\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "with c1"], ["proof (chain)\npicking this:\n  \\<not> card K + 1 \\<le> card (\\<Union> (A ` K))\n  card K \\<le> card (\\<Union> (A ` K))", "have case2: \"card (\\<Union>(A ` K))= card K\""], ["proof (prove)\nusing this:\n  \\<not> card K + 1 \\<le> card (\\<Union> (A ` K))\n  card K \\<le> card (\\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` K)) = card K", "by auto"], ["proof (state)\nthis:\n  card (\\<Union> (A ` K)) = card K\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from \\<open>K\\<subset>I\\<close> \\<open>finite I\\<close>"], ["proof (chain)\npicking this:\n  K \\<subset> I\n  finite I", "have \"finite K\""], ["proof (prove)\nusing this:\n  K \\<subset> I\n  finite I\n\ngoal (1 subgoal):\n 1. finite K", "by (auto intro:finite_subset)"], ["proof (state)\nthis:\n  finite K\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from psubset.prems \\<open>K\\<subset>I\\<close>"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  K \\<subset> I", "have \"\\<forall>i\\<in>K. finite (A i)\" \"\\<forall>J\\<subseteq>K. card J \\<le> card(\\<Union>(A ` J))\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  K \\<subset> I\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>K. finite (A i) &&&\n    \\<forall>J\\<subseteq>K. card J \\<le> card (\\<Union> (A ` J))", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>K. finite (A i)\n  \\<forall>J\\<subseteq>K. card J \\<le> card (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from psubset(2)[OF \\<open>K\\<subset>I\\<close> this]"], ["proof (chain)\npicking this:\n  \\<exists>R. (\\<forall>i\\<in>K. R i \\<in> A i) \\<and> inj_on R K", "obtain R1 where \"?R R1 A K\" \"?inj R1 A K\""], ["proof (prove)\nusing this:\n  \\<exists>R. (\\<forall>i\\<in>K. R i \\<in> A i) \\<and> inj_on R K\n\ngoal (1 subgoal):\n 1. (\\<And>R1.\n        \\<lbrakk>\\<forall>i\\<in>K. R1 i \\<in> A i; inj_on R1 K\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>K. R1 i \\<in> A i\n  inj_on R1 K\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "let ?AK = \"\\<lambda>i. A i - \\<Union>(A ` K)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "let ?IK = \"I - K\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from \\<open>K\\<noteq>{}\\<close> \\<open>K\\<subset>I\\<close>"], ["proof (chain)\npicking this:\n  K \\<noteq> {}\n  K \\<subset> I", "have \"?IK\\<subset>I\""], ["proof (prove)\nusing this:\n  K \\<noteq> {}\n  K \\<subset> I\n\ngoal (1 subgoal):\n 1. I - K \\<subset> I", "by auto"], ["proof (state)\nthis:\n  I - K \\<subset> I\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"\\<forall>i\\<in>?IK. finite (?AK i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I - K. finite (A i - \\<Union> (A ` K))", "using psubset.prems(1)"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. finite (A i)\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I - K. finite (A i - \\<Union> (A ` K))", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I - K. finite (A i - \\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"?M ?AK ?IK\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>J\\<subseteq>I - K.\n       card J \\<le> card (\\<Union>a\\<in>J. A a - \\<Union> (A ` K))", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - K \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - \\<Union> (A ` K))", "fix J"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - K \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - \\<Union> (A ` K))", "assume \"J \\<subseteq> ?IK\""], ["proof (state)\nthis:\n  J \\<subseteq> I - K\n\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - K \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - \\<Union> (A ` K))", "with \\<open>finite I\\<close>"], ["proof (chain)\npicking this:\n  finite I\n  J \\<subseteq> I - K", "have \"finite J\""], ["proof (prove)\nusing this:\n  finite I\n  J \\<subseteq> I - K\n\ngoal (1 subgoal):\n 1. finite J", "by(auto intro: finite_subset)"], ["proof (state)\nthis:\n  finite J\n\ngoal (1 subgoal):\n 1. \\<And>J.\n       J \\<subseteq> I - K \\<Longrightarrow>\n       card J \\<le> card (\\<Union>a\\<in>J. A a - \\<Union> (A ` K))", "show \"card J \\<le> card (\\<Union> (?AK ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "from \\<open>J\\<subseteq>?IK\\<close>"], ["proof (chain)\npicking this:\n  J \\<subseteq> I - K", "have \"J \\<inter> K = {}\""], ["proof (prove)\nusing this:\n  J \\<subseteq> I - K\n\ngoal (1 subgoal):\n 1. J \\<inter> K = {}", "by auto"], ["proof (state)\nthis:\n  J \\<inter> K = {}\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "have \"card J = card(J\\<union>K) - card K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card J = card (J \\<union> K) - card K", "using \\<open>finite J\\<close> \\<open>finite K\\<close> \\<open>J\\<inter>K={}\\<close>"], ["proof (prove)\nusing this:\n  finite J\n  finite K\n  J \\<inter> K = {}\n\ngoal (1 subgoal):\n 1. card J = card (J \\<union> K) - card K", "by (auto simp: card_Un_disjoint)"], ["proof (state)\nthis:\n  card J = card (J \\<union> K) - card K\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "also"], ["proof (state)\nthis:\n  card J = card (J \\<union> K) - card K\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "have \"card(J\\<union>K) \\<le> card(\\<Union>(A ` (J\\<union>K)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))", "from \\<open>J\\<subseteq>?IK\\<close> \\<open>K\\<subset>I\\<close>"], ["proof (chain)\npicking this:\n  J \\<subseteq> I - K\n  K \\<subset> I", "have \"J \\<union> K \\<subseteq> I\""], ["proof (prove)\nusing this:\n  J \\<subseteq> I - K\n  K \\<subset> I\n\ngoal (1 subgoal):\n 1. J \\<union> K \\<subseteq> I", "by auto"], ["proof (state)\nthis:\n  J \\<union> K \\<subseteq> I\n\ngoal (1 subgoal):\n 1. card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))", "with psubset.prems(2)"], ["proof (chain)\npicking this:\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  J \\<union> K \\<subseteq> I", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  J \\<union> K \\<subseteq> I\n\ngoal (1 subgoal):\n 1. card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))", "by blast"], ["proof (state)\nthis:\n  card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "also"], ["proof (state)\nthis:\n  card (J \\<union> K) \\<le> card (\\<Union> (A ` (J \\<union> K)))\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "have \"\\<dots> - card K = card(\\<Union> (?AK ` J) \\<union> \\<Union>(A ` K)) - card K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J \\<union> K))) - card K =\n    card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J \\<union> K))) - card K =\n    card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K", "have \"\\<Union>(A ` (J\\<union>K)) = \\<Union> (?AK ` J) \\<union> \\<Union>(A ` K)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (A ` (J \\<union> K)) =\n    (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)", "using \\<open>J\\<subseteq>?IK\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> I - K\n\ngoal (1 subgoal):\n 1. \\<Union> (A ` (J \\<union> K)) =\n    (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)", "by auto"], ["proof (state)\nthis:\n  \\<Union> (A ` (J \\<union> K)) =\n  (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J \\<union> K))) - card K =\n    card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Union> (A ` (J \\<union> K)) =\n  (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J \\<union> K))) - card K =\n    card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K", "by simp"], ["proof (state)\nthis:\n  card (\\<Union> (A ` (J \\<union> K))) - card K =\n  card\n   ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n  card K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card (\\<Union> (A ` (J \\<union> K))) - card K =\n  card\n   ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n  card K\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "also"], ["proof (state)\nthis:\n  card (\\<Union> (A ` (J \\<union> K))) - card K =\n  card\n   ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n  card K\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "have \"\\<dots> = card (\\<Union> (?AK ` J)) + card(\\<Union>(A ` K)) - card K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "have \"finite (\\<Union> (?AK ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "using \\<open>finite J\\<close> \\<open>J\\<subseteq>?IK\\<close> psubset(3)"], ["proof (prove)\nusing this:\n  finite J\n  J \\<subseteq> I - K\n  \\<forall>i\\<in>I. finite (A i)\n\ngoal (1 subgoal):\n 1. finite (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "by(blast intro: finite_UN_I finite_Diff)"], ["proof (state)\nthis:\n  finite (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "moreover"], ["proof (state)\nthis:\n  finite (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "have \"finite (\\<Union>(A ` K))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` K))", "using \\<open>finite K\\<close> \\<open>\\<forall>i\\<in>K. finite (A i)\\<close>"], ["proof (prove)\nusing this:\n  finite K\n  \\<forall>i\\<in>K. finite (A i)\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` K))", "by auto"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "moreover"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "have \"\\<Union> (?AK ` J) \\<inter> \\<Union>(A ` K) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<inter> \\<Union> (A ` K) = {}", "by auto"], ["proof (state)\nthis:\n  (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<inter> \\<Union> (A ` K) = {}\n\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "ultimately"], ["proof (chain)\npicking this:\n  finite (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n  finite (\\<Union> (A ` K))\n  (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<inter> \\<Union> (A ` K) = {}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n  finite (\\<Union> (A ` K))\n  (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<inter> \\<Union> (A ` K) = {}\n\ngoal (1 subgoal):\n 1. card\n     ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K", "by (simp add: card_Un_disjoint del:Un_Diff_cancel2)"], ["proof (state)\nthis:\n  card\n   ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n  card K =\n  card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) + card (\\<Union> (A ` K)) -\n  card K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card\n   ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n  card K =\n  card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) + card (\\<Union> (A ` K)) -\n  card K\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "also"], ["proof (state)\nthis:\n  card\n   ((\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) \\<union> \\<Union> (A ` K)) -\n  card K =\n  card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) + card (\\<Union> (A ` K)) -\n  card K\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "have \"\\<dots> = card (\\<Union> (?AK ` J))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "using case2"], ["proof (prove)\nusing this:\n  card (\\<Union> (A ` K)) = card K\n\ngoal (1 subgoal):\n 1. card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) +\n    card (\\<Union> (A ` K)) -\n    card K =\n    card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "by simp"], ["proof (state)\nthis:\n  card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K)) + card (\\<Union> (A ` K)) -\n  card K =\n  card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      x - card K \\<le> y - card K) \\<Longrightarrow>\n  card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      x - card K \\<le> y - card K) \\<Longrightarrow>\n  card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))", "by simp"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>J\\<subseteq>I - K.\n     card J \\<le> card (\\<Union>a\\<in>J. A a - \\<Union> (A ` K))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "from psubset(2)[OF \\<open>?IK\\<subset>I\\<close> \\<open>\\<forall>i\\<in>?IK. finite (?AK i)\\<close> \\<open>\\<forall>J\\<subseteq>?IK. card J \\<le> card (\\<Union>i\\<in>J. A i - \\<Union> (A ` K))\\<close>]"], ["proof (chain)\npicking this:\n  \\<exists>R.\n     (\\<forall>i\\<in>I - K. R i \\<in> A i - \\<Union> (A ` K)) \\<and>\n     inj_on R (I - K)", "obtain R2 where \"?R R2 ?AK ?IK\" \"?inj R2 ?AK ?IK\""], ["proof (prove)\nusing this:\n  \\<exists>R.\n     (\\<forall>i\\<in>I - K. R i \\<in> A i - \\<Union> (A ` K)) \\<and>\n     inj_on R (I - K)\n\ngoal (1 subgoal):\n 1. (\\<And>R2.\n        \\<lbrakk>\\<forall>i\\<in>I - K. R2 i \\<in> A i - \\<Union> (A ` K);\n         inj_on R2 (I - K)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I - K. R2 i \\<in> A i - \\<Union> (A ` K)\n  inj_on R2 (I - K)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "let ?R12 = \"\\<lambda>i. if i\\<in>K then R1 i else R2 i\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"\\<forall>i\\<in>I. ?R12 i \\<in> A i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i", "using \\<open>?R R1 A K\\<close>\\<open>?R R2 ?AK ?IK\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>K. R1 i \\<in> A i\n  \\<forall>i\\<in>I - K. R2 i \\<in> A i - \\<Union> (A ` K)\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i", "by auto"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "moreover"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"\\<forall>i\\<in>I. \\<forall>j\\<in>I. i\\<noteq>j\\<longrightarrow>?R12 i \\<noteq> ?R12 j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I.\n       \\<forall>j\\<in>I.\n          i \\<noteq> j \\<longrightarrow>\n          (if i \\<in> K then R1 i else R2 i) \\<noteq>\n          (if j \\<in> K then R1 j else R2 j)", "proof clarify"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i \\<in> I; j \\<in> I; i \\<noteq> j;\n        (if i \\<in> K then R1 i else R2 i) =\n        (if j \\<in> K then R1 j else R2 j)\\<rbrakk>\n       \\<Longrightarrow> False", "fix i j"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i \\<in> I; j \\<in> I; i \\<noteq> j;\n        (if i \\<in> K then R1 i else R2 i) =\n        (if j \\<in> K then R1 j else R2 j)\\<rbrakk>\n       \\<Longrightarrow> False", "assume \"i\\<in>I\" \"j\\<in>I\" \"i\\<noteq>j\" \"?R12 i = ?R12 j\""], ["proof (state)\nthis:\n  i \\<in> I\n  j \\<in> I\n  i \\<noteq> j\n  (if i \\<in> K then R1 i else R2 i) = (if j \\<in> K then R1 j else R2 j)\n\ngoal (1 subgoal):\n 1. \\<And>i j.\n       \\<lbrakk>i \\<in> I; j \\<in> I; i \\<noteq> j;\n        (if i \\<in> K then R1 i else R2 i) =\n        (if j \\<in> K then R1 j else R2 j)\\<rbrakk>\n       \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. False", "assume \"i\\<in>K \\<and> j\\<in>K \\<or> i\\<notin>K\\<and>j\\<notin>K\""], ["proof (state)\nthis:\n  i \\<in> K \\<and> j \\<in> K \\<or> i \\<notin> K \\<and> j \\<notin> K\n\ngoal (1 subgoal):\n 1. False", "with \\<open>?inj R1 A K\\<close> \\<open>?inj R2 ?AK ?IK\\<close> \\<open>?R12 i=?R12 j\\<close> \\<open>i\\<noteq>j\\<close> \\<open>i\\<in>I\\<close> \\<open>j\\<in>I\\<close>"], ["proof (chain)\npicking this:\n  inj_on R1 K\n  inj_on R2 (I - K)\n  (if i \\<in> K then R1 i else R2 i) = (if j \\<in> K then R1 j else R2 j)\n  i \\<noteq> j\n  i \\<in> I\n  j \\<in> I\n  i \\<in> K \\<and> j \\<in> K \\<or> i \\<notin> K \\<and> j \\<notin> K", "have ?thesis"], ["proof (prove)\nusing this:\n  inj_on R1 K\n  inj_on R2 (I - K)\n  (if i \\<in> K then R1 i else R2 i) = (if j \\<in> K then R1 j else R2 j)\n  i \\<noteq> j\n  i \\<in> I\n  j \\<in> I\n  i \\<in> K \\<and> j \\<in> K \\<or> i \\<notin> K \\<and> j \\<notin> K\n\ngoal (1 subgoal):\n 1. False", "by (fastforce simp: inj_on_def)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  i \\<in> K \\<and> j \\<in> K \\<or>\n  i \\<notin> K \\<and> j \\<notin> K \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. False", "moreover"], ["proof (state)\nthis:\n  i \\<in> K \\<and> j \\<in> K \\<or>\n  i \\<notin> K \\<and> j \\<notin> K \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. False", "{"], ["proof (state)\nthis:\n  i \\<in> K \\<and> j \\<in> K \\<or>\n  i \\<notin> K \\<and> j \\<notin> K \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. False", "assume \"i\\<in>K \\<and> j\\<notin>K \\<or> i\\<notin>K \\<and> j\\<in>K\""], ["proof (state)\nthis:\n  i \\<in> K \\<and> j \\<notin> K \\<or> i \\<notin> K \\<and> j \\<in> K\n\ngoal (1 subgoal):\n 1. False", "with \\<open>?R R1 A K\\<close> \\<open>?R R2 ?AK ?IK\\<close> \\<open>?R12 i=?R12 j\\<close> \\<open>j\\<in>I\\<close> \\<open>i\\<in>I\\<close>"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>K. R1 i \\<in> A i\n  \\<forall>i\\<in>I - K. R2 i \\<in> A i - \\<Union> (A ` K)\n  (if i \\<in> K then R1 i else R2 i) = (if j \\<in> K then R1 j else R2 j)\n  j \\<in> I\n  i \\<in> I\n  i \\<in> K \\<and> j \\<notin> K \\<or> i \\<notin> K \\<and> j \\<in> K", "have ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>K. R1 i \\<in> A i\n  \\<forall>i\\<in>I - K. R2 i \\<in> A i - \\<Union> (A ` K)\n  (if i \\<in> K then R1 i else R2 i) = (if j \\<in> K then R1 j else R2 j)\n  j \\<in> I\n  i \\<in> I\n  i \\<in> K \\<and> j \\<notin> K \\<or> i \\<notin> K \\<and> j \\<in> K\n\ngoal (1 subgoal):\n 1. False", "by auto (metis Diff_iff)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. False", "}"], ["proof (state)\nthis:\n  i \\<in> K \\<and> j \\<notin> K \\<or>\n  i \\<notin> K \\<and> j \\<in> K \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. False", "ultimately"], ["proof (chain)\npicking this:\n  i \\<in> K \\<and> j \\<in> K \\<or>\n  i \\<notin> K \\<and> j \\<notin> K \\<Longrightarrow>\n  False\n  i \\<in> K \\<and> j \\<notin> K \\<or>\n  i \\<notin> K \\<and> j \\<in> K \\<Longrightarrow>\n  False", "show ?thesis"], ["proof (prove)\nusing this:\n  i \\<in> K \\<and> j \\<in> K \\<or>\n  i \\<notin> K \\<and> j \\<notin> K \\<Longrightarrow>\n  False\n  i \\<in> K \\<and> j \\<notin> K \\<or>\n  i \\<notin> K \\<and> j \\<in> K \\<Longrightarrow>\n  False\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I.\n     \\<forall>j\\<in>I.\n        i \\<noteq> j \\<longrightarrow>\n        (if i \\<in> K then R1 i else R2 i) \\<noteq>\n        (if j \\<in> K then R1 j else R2 j)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>K\\<subset>I.\n               K \\<noteq> {} \\<longrightarrow>\n               card K + 1 \\<le> card (\\<Union> (A ` K))) \\<Longrightarrow>\n    \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i\n  \\<forall>i\\<in>I.\n     \\<forall>j\\<in>I.\n        i \\<noteq> j \\<longrightarrow>\n        (if i \\<in> K then R1 i else R2 i) \\<noteq>\n        (if j \\<in> K then R1 j else R2 j)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i\n  \\<forall>i\\<in>I.\n     \\<forall>j\\<in>I.\n        i \\<noteq> j \\<longrightarrow>\n        (if i \\<in> K then R1 i else R2 i) \\<noteq>\n        (if j \\<in> K then R1 j else R2 j)\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "unfolding inj_on_def"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. (if i \\<in> K then R1 i else R2 i) \\<in> A i\n  \\<forall>i\\<in>I.\n     \\<forall>j\\<in>I.\n        i \\<noteq> j \\<longrightarrow>\n        (if i \\<in> K then R1 i else R2 i) \\<noteq>\n        (if j \\<in> K then R1 j else R2 j)\n\ngoal (1 subgoal):\n 1. \\<exists>R.\n       (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n       (\\<forall>x\\<in>I.\n           \\<forall>y\\<in>I. R x = R y \\<longrightarrow> x = y)", "by fast"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>finite I; \\<forall>i\\<in>I. finite (A i);\n   \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "}"], ["proof (state)\nthis:\n  \\<lbrakk>finite ?Ia2; \\<forall>i\\<in>?Ia2. finite (A i);\n   \\<forall>J\\<subseteq>?Ia2. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>?Ia2. R i \\<in> A i) \\<and>\n                       inj_on R ?Ia2\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "with assms \\<open>?M A I\\<close>"], ["proof (chain)\npicking this:\n  finite I\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<lbrakk>finite ?Ia2; \\<forall>i\\<in>?Ia2. finite (A i);\n   \\<forall>J\\<subseteq>?Ia2. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>?Ia2. R i \\<in> A i) \\<and>\n                       inj_on R ?Ia2", "show ?thesis"], ["proof (prove)\nusing this:\n  finite I\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<lbrakk>finite ?Ia2; \\<forall>i\\<in>?Ia2. finite (A i);\n   \\<forall>J\\<subseteq>?Ia2. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>?Ia2. R i \\<in> A i) \\<and>\n                       inj_on R ?Ia2\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "by auto"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>The proof by Rado:\\<close>"], ["", "theorem marriage_Rado:\n  fixes A :: \"'a \\<Rightarrow> 'b set\" and I :: \"'a set\"\n  assumes \"finite I\" and \"\\<forall> i\\<in>I. finite (A i)\"\n  and \"\\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union>(A ` J))\" (is \"?M A\")\n  shows \"\\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\"\n       (is \"?SDR A\" is \"\\<exists>R. ?R R A & ?inj R A\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "have \"\\<forall>i\\<in>I. finite (A i) \\<Longrightarrow> ?M A \\<Longrightarrow> ?SDR A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>i\\<in>I. finite (A i);\n     \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n    \\<Longrightarrow> \\<exists>R.\n                         (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "proof(induct n == \"\\<Sum>i\\<in>I. card(A i) - 1\" arbitrary: A)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "case 0"], ["proof (state)\nthis:\n  0 = (\\<Sum>i\\<in>I. card (A i) - 1)\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have \"\\<forall>i\\<in>I.\\<exists>a. A(i) = {a}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. \\<exists>a. A i = {a}", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a}) \\<Longrightarrow> False", "assume  \"\\<not> (\\<forall>i\\<in>I.\\<exists>a. A i = {a})\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a})\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a}) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a})", "obtain i where i: \"i:I\" \"\\<forall>a. A i \\<noteq> {a}\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a})\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i \\<in> I; \\<forall>a. A i \\<noteq> {a}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  i \\<in> I\n  \\<forall>a. A i \\<noteq> {a}\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a}) \\<Longrightarrow> False", "hence \"{i}\\<subseteq> I\""], ["proof (prove)\nusing this:\n  i \\<in> I\n  \\<forall>a. A i \\<noteq> {a}\n\ngoal (1 subgoal):\n 1. {i} \\<subseteq> I", "by auto"], ["proof (state)\nthis:\n  {i} \\<subseteq> I\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>i\\<in>I. \\<exists>a. A i = {a}) \\<Longrightarrow> False", "from \"0\"(1-2) mp[OF spec[OF \"0.prems\"(2)] \\<open>{i}\\<subseteq>I\\<close>] \\<open>finite I\\<close> i"], ["proof (chain)\npicking this:\n  0 = (\\<Sum>i\\<in>I. card (A i) - 1)\n  \\<forall>i\\<in>I. finite (A i)\n  card {i} \\<le> card (\\<Union> (A ` {i}))\n  finite I\n  i \\<in> I\n  \\<forall>a. A i \\<noteq> {a}", "show False"], ["proof (prove)\nusing this:\n  0 = (\\<Sum>i\\<in>I. card (A i) - 1)\n  \\<forall>i\\<in>I. finite (A i)\n  card {i} \\<le> card (\\<Union> (A ` {i}))\n  finite I\n  i \\<in> I\n  \\<forall>a. A i \\<noteq> {a}\n\ngoal (1 subgoal):\n 1. False", "by (auto simp: card_le_Suc_iff)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. \\<exists>a. A i = {a}\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "then"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. \\<exists>a. A i = {a}", "obtain R where R: \"\\<forall>i\\<in>I. A i = {R i}\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. \\<exists>a. A i = {a}\n\ngoal (1 subgoal):\n 1. (\\<And>R.\n        \\<forall>i\\<in>I. A i = {R i} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. A i = {R i}\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "then"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. A i = {R i}", "have \"\\<forall>i\\<in>I. R i \\<in> A i\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. A i = {R i}\n\ngoal (1 subgoal):\n 1. \\<forall>i\\<in>I. R i \\<in> A i", "by blast"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. R i \\<in> A i\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "moreover"], ["proof (state)\nthis:\n  \\<forall>i\\<in>I. R i \\<in> A i\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have \"inj_on R I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on R I", "proof (auto simp: inj_on_def)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> I; y \\<in> I; R x = R y\\<rbrakk>\n       \\<Longrightarrow> x = y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> I; y \\<in> I; R x = R y\\<rbrakk>\n       \\<Longrightarrow> x = y", "assume \"x \\<in> I\" \"y \\<in> I\" \"R x = R y\""], ["proof (state)\nthis:\n  x \\<in> I\n  y \\<in> I\n  R x = R y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> I; y \\<in> I; R x = R y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with R spec[OF \"0.prems\"(2), of \"{x,y}\"]"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. A i = {R i}\n  {x, y} \\<subseteq> I \\<longrightarrow>\n  card {x, y} \\<le> card (\\<Union> (A ` {x, y}))\n  x \\<in> I\n  y \\<in> I\n  R x = R y", "show \"x=y\""], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. A i = {R i}\n  {x, y} \\<subseteq> I \\<longrightarrow>\n  card {x, y} \\<le> card (\\<Union> (A ` {x, y}))\n  x \\<in> I\n  y \\<in> I\n  R x = R y\n\ngoal (1 subgoal):\n 1. x = y", "by (simp add:le_Suc_eq card_insert_if split: if_splits)"], ["proof (state)\nthis:\n  x = y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inj_on R I\n\ngoal (2 subgoals):\n 1. \\<And>A.\n       \\<lbrakk>0 = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I\n 2. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>i\\<in>I. R i \\<in> A i\n  inj_on R I", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. R i \\<in> A i\n  inj_on R I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "by blast"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>n = (\\<Sum>i\\<in>I. card (?A i) - 1);\n   \\<forall>i\\<in>I. finite (?A i);\n   \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (?A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>I. R i \\<in> ?A i) \\<and> inj_on R I\n  Suc n = (\\<Sum>i\\<in>I. card (A i) - 1)\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "from Suc.hyps(2)[symmetric, THEN sum_SucD]"], ["proof (chain)\npicking this:\n  \\<exists>a\\<in>I. 0 < card (A a) - 1", "obtain i where i: \"i:I\" \"2 \\<le> card(A i)\""], ["proof (prove)\nusing this:\n  \\<exists>a\\<in>I. 0 < card (A a) - 1\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>i \\<in> I; 2 \\<le> card (A i)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  i \\<in> I\n  2 \\<le> card (A i)\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "then"], ["proof (chain)\npicking this:\n  i \\<in> I\n  2 \\<le> card (A i)", "obtain x1 x2 where \"x1 : A i\" \"x2 : A i\" \"x1 \\<noteq> x2\""], ["proof (prove)\nusing this:\n  i \\<in> I\n  2 \\<le> card (A i)\n\ngoal (1 subgoal):\n 1. (\\<And>x1 x2.\n        \\<lbrakk>x1 \\<in> A i; x2 \\<in> A i; x1 \\<noteq> x2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Suc(3)"], ["proof (prove)\nusing this:\n  i \\<in> I\n  2 \\<le> card (A i)\n  \\<forall>i\\<in>I. finite (A i)\n\ngoal (1 subgoal):\n 1. (\\<And>x1 x2.\n        \\<lbrakk>x1 \\<in> A i; x2 \\<in> A i; x1 \\<noteq> x2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (fastforce simp: card_le_Suc_iff eval_nat_numeral)"], ["proof (state)\nthis:\n  x1 \\<in> A i\n  x2 \\<in> A i\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "let \"?Ai x\" = \"A i - {x}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "let \"?A x\" = \"A(i:=?Ai x)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "let \"?U J\" = \"\\<Union>(A ` J)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "let \"?Ui J x\" = \"?U J \\<union> ?Ai x\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have n1: \"n = (\\<Sum>j\\<in>I. card (?A x1 j) - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n = (\\<Sum>j\\<in>I. card ((A(i := A i - {x1})) j) - 1)", "using Suc.hyps(2) Suc.prems(1) i \\<open>finite I\\<close> \\<open>x1:A i\\<close>"], ["proof (prove)\nusing this:\n  Suc n = (\\<Sum>i\\<in>I. card (A i) - 1)\n  \\<forall>i\\<in>I. finite (A i)\n  i \\<in> I\n  2 \\<le> card (A i)\n  finite I\n  x1 \\<in> A i\n\ngoal (1 subgoal):\n 1. n = (\\<Sum>j\\<in>I. card ((A(i := A i - {x1})) j) - 1)", "by (auto simp: sum.remove card_Diff_singleton)"], ["proof (state)\nthis:\n  n = (\\<Sum>j\\<in>I. card ((A(i := A i - {x1})) j) - 1)\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have n2: \"n = (\\<Sum>j\\<in>I. card (?A x2 j) - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n = (\\<Sum>j\\<in>I. card ((A(i := A i - {x2})) j) - 1)", "using Suc.hyps(2) Suc.prems(1) i \\<open>finite I\\<close> \\<open>x2:A i\\<close>"], ["proof (prove)\nusing this:\n  Suc n = (\\<Sum>i\\<in>I. card (A i) - 1)\n  \\<forall>i\\<in>I. finite (A i)\n  i \\<in> I\n  2 \\<le> card (A i)\n  finite I\n  x2 \\<in> A i\n\ngoal (1 subgoal):\n 1. n = (\\<Sum>j\\<in>I. card ((A(i := A i - {x2})) j) - 1)", "by (auto simp: sum.remove card_Diff_singleton)"], ["proof (state)\nthis:\n  n = (\\<Sum>j\\<in>I. card ((A(i := A i - {x2})) j) - 1)\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have finx1: \"\\<forall>j\\<in>I. finite (?A x1 j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>j\\<in>I. finite ((A(i := A i - {x1})) j)", "by (simp add: Suc(3))"], ["proof (state)\nthis:\n  \\<forall>j\\<in>I. finite ((A(i := A i - {x1})) j)\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have finx2: \"\\<forall>j\\<in>I. finite (?A x2 j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>j\\<in>I. finite ((A(i := A i - {x2})) j)", "by (simp add: Suc(3))"], ["proof (state)\nthis:\n  \\<forall>j\\<in>I. finite ((A(i := A i - {x2})) j)\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "{"], ["proof (state)\nthis:\n  \\<forall>j\\<in>I. finite ((A(i := A i - {x2})) j)\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "assume \"\\<not> ?M (A(i:= ?Ai x))\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J \\<le> card (\\<Union> (A(i := A i - {x}) ` J)))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "with Suc.prems(2)"], ["proof (chain)\npicking this:\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J \\<le> card (\\<Union> (A(i := A i - {x}) ` J)))", "obtain J\n          where J: \"J \\<subseteq> I\" \"card J > card(\\<Union>((A(i:= ?Ai x) ` J)))\""], ["proof (prove)\nusing this:\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J \\<le> card (\\<Union> (A(i := A i - {x}) ` J)))\n\ngoal (1 subgoal):\n 1. (\\<And>J.\n        \\<lbrakk>J \\<subseteq> I;\n         card (\\<Union> (A(i := A i - {x}) ` J)) < card J\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add:not_less_eq_eq Suc_le_eq)"], ["proof (state)\nthis:\n  J \\<subseteq> I\n  card (\\<Union> (A(i := A i - {x}) ` J)) < card J\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "note fJi = finite_Diff[OF finite_subset[OF \\<open>J\\<subseteq>I\\<close> \\<open>finite I\\<close>], of \"{i}\"]"], ["proof (state)\nthis:\n  finite (J - {i})\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have fU: \"finite(?U (J-{i}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` (J - {i})))", "using \\<open>J\\<subseteq>I\\<close>"], ["proof (prove)\nusing this:\n  J \\<subseteq> I\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` (J - {i})))", "by (metis Diff_iff Suc(3) finite_UN[OF fJi] subsetD)"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` (J - {i})))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have \"i \\<in> J\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<in> J", "using J Suc.prems(2)"], ["proof (prove)\nusing this:\n  J \\<subseteq> I\n  card (\\<Union> (A(i := A i - {x}) ` J)) < card J\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. i \\<in> J", "by (simp_all add: UNION_fun_upd not_le[symmetric] del: fun_upd_apply split: if_splits)"], ["proof (state)\nthis:\n  i \\<in> J\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "hence \"card(J-{i}) \\<ge> card(?Ui (J-{i}) x)\""], ["proof (prove)\nusing this:\n  i \\<in> J\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J - {i})) \\<union> (A i - {x}))\n    \\<le> card (J - {i})", "using fJi J"], ["proof (prove)\nusing this:\n  i \\<in> J\n  finite (J - {i})\n  J \\<subseteq> I\n  card (\\<Union> (A(i := A i - {x}) ` J)) < card J\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J - {i})) \\<union> (A i - {x}))\n    \\<le> card (J - {i})", "by(simp add: UNION_fun_upd del: fun_upd_apply)"], ["proof (state)\nthis:\n  card (\\<Union> (A ` (J - {i})) \\<union> (A i - {x})) \\<le> card (J - {i})\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "hence \"\\<exists>J\\<subseteq>I. i \\<notin> J \\<and> card(J) \\<ge> card(?Ui J x) \\<and> finite(?U J)\""], ["proof (prove)\nusing this:\n  card (\\<Union> (A ` (J - {i})) \\<union> (A i - {x})) \\<le> card (J - {i})\n\ngoal (1 subgoal):\n 1. \\<exists>J\\<subseteq>I.\n       i \\<notin> J \\<and>\n       card (\\<Union> (A ` J) \\<union> (A i - {x})) \\<le> card J \\<and>\n       finite (\\<Union> (A ` J))", "by (metis DiffD2 J(1) fU \\<open>i \\<in> J\\<close> insertI1 subset_insertI2 subset_insert_iff)"], ["proof (state)\nthis:\n  \\<exists>J\\<subseteq>I.\n     i \\<notin> J \\<and>\n     card (\\<Union> (A ` J) \\<union> (A i - {x})) \\<le> card J \\<and>\n     finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "}"], ["proof (state)\nthis:\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J\n             \\<le> card\n                    (\\<Union> (A(i := A i - {?x2}) ` J))) \\<Longrightarrow>\n  \\<exists>J\\<subseteq>I.\n     i \\<notin> J \\<and>\n     card (\\<Union> (A ` J) \\<union> (A i - {?x2})) \\<le> card J \\<and>\n     finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "note lem = this"], ["proof (state)\nthis:\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J\n             \\<le> card\n                    (\\<Union> (A(i := A i - {?x2}) ` J))) \\<Longrightarrow>\n  \\<exists>J\\<subseteq>I.\n     i \\<notin> J \\<and>\n     card (\\<Union> (A ` J) \\<union> (A i - {?x2})) \\<le> card J \\<and>\n     finite (\\<Union> (A ` J))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "have \"?M (?A x1) \\<or> ?M (?A x2)\" \\<comment> \\<open>Rado's Lemma\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>J\\<subseteq>I.\n        card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n    (\\<forall>J\\<subseteq>I.\n        card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J)))", "proof(rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "assume \"\\<not> (?M (?A x1) \\<or> ?M (?A x2))\""], ["proof (state)\nthis:\n  \\<not> ((\\<forall>J\\<subseteq>I.\n              card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n          (\\<forall>J\\<subseteq>I.\n              card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J))))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "with lem"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J\n             \\<le> card\n                    (\\<Union> (A(i := A i - {?x2}) ` J))) \\<Longrightarrow>\n  \\<exists>J\\<subseteq>I.\n     i \\<notin> J \\<and>\n     card (\\<Union> (A ` J) \\<union> (A i - {?x2})) \\<le> card J \\<and>\n     finite (\\<Union> (A ` J))\n  \\<not> ((\\<forall>J\\<subseteq>I.\n              card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n          (\\<forall>J\\<subseteq>I.\n              card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J))))", "obtain J1 J2 where\n          J1: \"J1\\<subseteq>I\" \"i\\<notin>J1\" \"card J1 \\<ge> card(?Ui J1 x1)\" \"finite(?U J1)\" and\n          J2: \"J2\\<subseteq>I\" \"i\\<notin>J2\" \"card J2 \\<ge> card(?Ui J2 x2)\" \"finite(?U J2)\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>J\\<subseteq>I.\n             card J\n             \\<le> card\n                    (\\<Union> (A(i := A i - {?x2}) ` J))) \\<Longrightarrow>\n  \\<exists>J\\<subseteq>I.\n     i \\<notin> J \\<and>\n     card (\\<Union> (A ` J) \\<union> (A i - {?x2})) \\<le> card J \\<and>\n     finite (\\<Union> (A ` J))\n  \\<not> ((\\<forall>J\\<subseteq>I.\n              card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n          (\\<forall>J\\<subseteq>I.\n              card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J))))\n\ngoal (1 subgoal):\n 1. (\\<And>J1 J2.\n        \\<lbrakk>J1 \\<subseteq> I; i \\<notin> J1;\n         card (\\<Union> (A ` J1) \\<union> (A i - {x1})) \\<le> card J1;\n         finite (\\<Union> (A ` J1)); J2 \\<subseteq> I; i \\<notin> J2;\n         card (\\<Union> (A ` J2) \\<union> (A i - {x2})) \\<le> card J2;\n         finite (\\<Union> (A ` J2))\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  J1 \\<subseteq> I\n  i \\<notin> J1\n  card (\\<Union> (A ` J1) \\<union> (A i - {x1})) \\<le> card J1\n  finite (\\<Union> (A ` J1))\n  J2 \\<subseteq> I\n  i \\<notin> J2\n  card (\\<Union> (A ` J2) \\<union> (A i - {x2})) \\<le> card J2\n  finite (\\<Union> (A ` J2))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "note fin1 = finite_subset[OF \\<open>J1\\<subseteq>I\\<close> assms(1)]"], ["proof (state)\nthis:\n  finite J1\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "note fin2 = finite_subset[OF \\<open>J2\\<subseteq>I\\<close> assms(1)]"], ["proof (state)\nthis:\n  finite J2\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have finUi1: \"finite(?Ui J1 x1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J1) \\<union> (A i - {x1}))", "using Suc(3)"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. finite (A i)\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J1) \\<union> (A i - {x1}))", "by(blast intro: J1(4) i(1))"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` J1) \\<union> (A i - {x1}))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have finUi2: \"finite(?Ui J2 x2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J2) \\<union> (A i - {x2}))", "using Suc(3)"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. finite (A i)\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (A ` J2) \\<union> (A i - {x2}))", "by(blast intro: J2(4) i(1))"], ["proof (state)\nthis:\n  finite (\\<Union> (A ` J2) \\<union> (A i - {x2}))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"card J1 + card J2 + 1 = card(J1 \\<union> J2) + 1 + card(J1 \\<inter> J2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card J1 + card J2 + 1 =\n    card (J1 \\<union> J2) + 1 + card (J1 \\<inter> J2)", "by simp (metis card_Un_Int fin1 fin2)"], ["proof (state)\nthis:\n  card J1 + card J2 + 1 = card (J1 \\<union> J2) + 1 + card (J1 \\<inter> J2)\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  card J1 + card J2 + 1 = card (J1 \\<union> J2) + 1 + card (J1 \\<inter> J2)\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"card(J1 \\<union> J2) + 1 = card(insert i (J1 \\<union> J2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (J1 \\<union> J2) + 1 = card (insert i (J1 \\<union> J2))", "using \\<open>i\\<notin>J1\\<close> \\<open>i\\<notin>J2\\<close> fin1 fin2"], ["proof (prove)\nusing this:\n  i \\<notin> J1\n  i \\<notin> J2\n  finite J1\n  finite J2\n\ngoal (1 subgoal):\n 1. card (J1 \\<union> J2) + 1 = card (insert i (J1 \\<union> J2))", "by simp"], ["proof (state)\nthis:\n  card (J1 \\<union> J2) + 1 = card (insert i (J1 \\<union> J2))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  card (J1 \\<union> J2) + 1 = card (insert i (J1 \\<union> J2))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"\\<dots> \\<le> card (\\<Union> (A ` insert i (J1 \\<union> J2)))\" (is \"_ \\<le> card ?M\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. card (insert i (J1 \\<union> J2))\n    \\<le> card (\\<Union> (A ` insert i (J1 \\<union> J2)))", "by (metis J1(1) J2(1) Suc(4) Un_least i(1) insert_subset)"], ["proof (state)\nthis:\n  card (insert i (J1 \\<union> J2))\n  \\<le> card (\\<Union> (A ` insert i (J1 \\<union> J2)))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  card (insert i (J1 \\<union> J2))\n  \\<le> card (\\<Union> (A ` insert i (J1 \\<union> J2)))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"?M = ?Ui J1 x1 \\<union> ?Ui J2 x2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (A ` insert i (J1 \\<union> J2)) =\n    \\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n    (\\<Union> (A ` J2) \\<union> (A i - {x2}))", "using \\<open>x1\\<noteq>x2\\<close>"], ["proof (prove)\nusing this:\n  x1 \\<noteq> x2\n\ngoal (1 subgoal):\n 1. \\<Union> (A ` insert i (J1 \\<union> J2)) =\n    \\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n    (\\<Union> (A ` J2) \\<union> (A i - {x2}))", "by auto"], ["proof (state)\nthis:\n  \\<Union> (A ` insert i (J1 \\<union> J2)) =\n  \\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n  (\\<Union> (A ` J2) \\<union> (A i - {x2}))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  \\<Union> (A ` insert i (J1 \\<union> J2)) =\n  \\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n  (\\<Union> (A ` J2) \\<union> (A i - {x2}))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"card(J1 \\<inter> J2) \\<le> card(\\<Union>(A ` (J1 \\<inter> J2)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (J1 \\<inter> J2) \\<le> card (\\<Union> (A ` (J1 \\<inter> J2)))", "by (metis J2(1) Suc(4) le_infI2)"], ["proof (state)\nthis:\n  card (J1 \\<inter> J2) \\<le> card (\\<Union> (A ` (J1 \\<inter> J2)))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  card (J1 \\<inter> J2) \\<le> card (\\<Union> (A ` (J1 \\<inter> J2)))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"\\<dots> \\<le> card(?U J1 \\<inter> ?U J2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` (J1 \\<inter> J2)))\n    \\<le> card (\\<Union> (A ` J1) \\<inter> \\<Union> (A ` J2))", "by(blast intro: card_mono J1(4))"], ["proof (state)\nthis:\n  card (\\<Union> (A ` (J1 \\<inter> J2)))\n  \\<le> card (\\<Union> (A ` J1) \\<inter> \\<Union> (A ` J2))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  card (\\<Union> (A ` (J1 \\<inter> J2)))\n  \\<le> card (\\<Union> (A ` J1) \\<inter> \\<Union> (A ` J2))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "have \"\\<dots> \\<le> card(?Ui J1 x1 \\<inter> ?Ui J2 x2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J1) \\<inter> \\<Union> (A ` J2))\n    \\<le> card\n           ((\\<Union> (A ` J1) \\<union> (A i - {x1})) \\<inter>\n            (\\<Union> (A ` J2) \\<union> (A i - {x2})))", "using Suc(3) \\<open>i\\<in>I\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>i\\<in>I. finite (A i)\n  i \\<in> I\n\ngoal (1 subgoal):\n 1. card (\\<Union> (A ` J1) \\<inter> \\<Union> (A ` J2))\n    \\<le> card\n           ((\\<Union> (A ` J1) \\<union> (A i - {x1})) \\<inter>\n            (\\<Union> (A ` J2) \\<union> (A i - {x2})))", "by(blast intro: card_mono J1(4))"], ["proof (state)\nthis:\n  card (\\<Union> (A ` J1) \\<inter> \\<Union> (A ` J2))\n  \\<le> card\n         ((\\<Union> (A ` J1) \\<union> (A i - {x1})) \\<inter>\n          (\\<Union> (A ` J2) \\<union> (A i - {x2})))\n\ngoal (1 subgoal):\n 1. \\<not> ((\\<forall>J\\<subseteq>I.\n                card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n            (\\<forall>J\\<subseteq>I.\n                card J\n                \\<le> card\n                       (\\<Union>\n                         (A(i := A i - {x2}) ` J)))) \\<Longrightarrow>\n    False", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              x + card (J1 \\<inter> J2) \\<le> y + card (J1 \\<inter> J2);\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y\\<rbrakk>\n  \\<Longrightarrow> card J1 + card J2 + 1\n                    \\<le> card\n                           (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n                            (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n                          card\n                           ((\\<Union> (A ` J1) \\<union>\n                             (A i - {x1})) \\<inter>\n                            (\\<Union> (A ` J2) \\<union> (A i - {x2})))", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              x + card (J1 \\<inter> J2) \\<le> y + card (J1 \\<inter> J2);\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y\\<rbrakk>\n  \\<Longrightarrow> card J1 + card J2 + 1\n                    \\<le> card\n                           (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n                            (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n                          card\n                           ((\\<Union> (A ` J1) \\<union>\n                             (A i - {x1})) \\<inter>\n                            (\\<Union> (A ` J2) \\<union> (A i - {x2})))\n\ngoal (1 subgoal):\n 1. False", "using J1(3) J2(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y.\n              x \\<le> y \\<Longrightarrow>\n              x + card (J1 \\<inter> J2) \\<le> y + card (J1 \\<inter> J2);\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y;\n   \\<And>x y.\n      x \\<le> y \\<Longrightarrow>\n      card\n       (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n        (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n      x\n      \\<le> card\n             (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n              (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n            y\\<rbrakk>\n  \\<Longrightarrow> card J1 + card J2 + 1\n                    \\<le> card\n                           (\\<Union> (A ` J1) \\<union> (A i - {x1}) \\<union>\n                            (\\<Union> (A ` J2) \\<union> (A i - {x2}))) +\n                          card\n                           ((\\<Union> (A ` J1) \\<union>\n                             (A i - {x1})) \\<inter>\n                            (\\<Union> (A ` J2) \\<union> (A i - {x2})))\n  card (\\<Union> (A ` J1) \\<union> (A i - {x1})) \\<le> card J1\n  card (\\<Union> (A ` J2) \\<union> (A i - {x2})) \\<le> card J2\n\ngoal (1 subgoal):\n 1. False", "by(auto simp add: card_Un_Int[symmetric, OF finUi1 finUi2])"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<forall>J\\<subseteq>I.\n      card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n  (\\<forall>J\\<subseteq>I.\n      card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J)))\n\ngoal (1 subgoal):\n 1. \\<And>n A.\n       \\<lbrakk>\\<And>A.\n                   \\<lbrakk>n = (\\<Sum>i\\<in>I. card (A i) - 1);\n                    \\<forall>i\\<in>I. finite (A i);\n                    \\<forall>J\\<subseteq>I.\n                       card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n                   \\<Longrightarrow> \\<exists>R.\n  (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I;\n        Suc n = (\\<Sum>i\\<in>I. card (A i) - 1);\n        \\<forall>i\\<in>I. finite (A i);\n        \\<forall>J\\<subseteq>I.\n           card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n       \\<Longrightarrow> \\<exists>R.\n                            (\\<forall>i\\<in>I. R i \\<in> A i) \\<and>\n                            inj_on R I", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<forall>J\\<subseteq>I.\n      card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n  (\\<forall>J\\<subseteq>I.\n      card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J)))\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "using Suc.hyps(1)[OF n1 finx1] Suc.hyps(1)[OF n2 finx2]"], ["proof (prove)\nusing this:\n  (\\<forall>J\\<subseteq>I.\n      card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J))) \\<or>\n  (\\<forall>J\\<subseteq>I.\n      card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J)))\n  \\<forall>J\\<subseteq>I.\n     card J \\<le> card (\\<Union> (A(i := A i - {x1}) ` J)) \\<Longrightarrow>\n  \\<exists>R.\n     (\\<forall>ia\\<in>I. R ia \\<in> (A(i := A i - {x1})) ia) \\<and>\n     inj_on R I\n  \\<forall>J\\<subseteq>I.\n     card J \\<le> card (\\<Union> (A(i := A i - {x2}) ` J)) \\<Longrightarrow>\n  \\<exists>R.\n     (\\<forall>ia\\<in>I. R ia \\<in> (A(i := A i - {x2})) ia) \\<and>\n     inj_on R I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "by (metis DiffD1 fun_upd_def)"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>i\\<in>I. finite (A i);\n   \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<forall>i\\<in>I. finite (A i);\n   \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "with assms \\<open>?M A\\<close>"], ["proof (chain)\npicking this:\n  finite I\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<lbrakk>\\<forall>i\\<in>I. finite (A i);\n   \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "show ?thesis"], ["proof (prove)\nusing this:\n  finite I\n  \\<forall>i\\<in>I. finite (A i)\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\n  \\<lbrakk>\\<forall>i\\<in>I. finite (A i);\n   \\<forall>J\\<subseteq>I. card J \\<le> card (\\<Union> (A ` J))\\<rbrakk>\n  \\<Longrightarrow> \\<exists>R.\n                       (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal (1 subgoal):\n 1. \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I", "by auto"], ["proof (state)\nthis:\n  \\<exists>R. (\\<forall>i\\<in>I. R i \\<in> A i) \\<and> inj_on R I\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}