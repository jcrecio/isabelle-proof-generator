{"file_name": "/home/qj213/afp-2021-10-22/thys/LinearQuantifierElim/Thys/Cooper.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LinearQuantifierElim", "problem_names": ["lemma set_atoms0_iff:\n \"qfree \\<phi> \\<Longrightarrow> a \\<in> set(Z.atoms\\<^sub>0 \\<phi>) \\<longleftrightarrow> a \\<in> atoms \\<phi> \\<and> hd_coeff a \\<noteq> 0\"", "lemma I_hd_coeffs1:\nassumes \"qfree \\<phi>\"\nshows \"(\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x#xs)) = (\\<exists>x. Z.I \\<phi> (x#xs))\" (is \"?L = ?R\")", "lemma min_inf:\n  \"nqfree f \\<Longrightarrow> \\<forall>a\\<in>set(Z.atoms\\<^sub>0 f). hd_coeff_is1 a\n   \\<Longrightarrow> \\<exists>x.\\<forall>y<x. Z.I (inf\\<^sub>- f) (y # xs) = Z.I f (y # xs)\"\n  (is \"_ \\<Longrightarrow> _ \\<Longrightarrow> \\<exists>x. ?P f x\")", "lemma min_inf_repeats:\n  \"nqfree \\<phi> \\<Longrightarrow> \\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd d \\<Longrightarrow>\n  Z.I (inf\\<^sub>- \\<phi>) ((x - k*d)#xs) = Z.I (inf\\<^sub>- \\<phi>) (x#xs)\"", "lemma atoms_subset: \"qfree f \\<Longrightarrow> set(Z.atoms\\<^sub>0(f::atom fm)) \\<le> atoms f\"", "lemma \\<beta>:\n  \"\\<lbrakk> nqfree \\<phi>;  \\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n     \\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd d; d > 0;\n     \\<not>(\\<exists>j\\<in>{0 .. d - 1}. \\<exists>(i,ks) \\<in> set(lbounds(Z.atoms\\<^sub>0 \\<phi>)).\n         x = i - \\<langle>ks,xs\\<rangle> + j); Z.I \\<phi> (x#xs) \\<rbrakk>\n  \\<Longrightarrow> Z.I \\<phi> ((x-d)#xs)\"", "lemma periodic_finite_ex:\n  assumes dpos: \"(0::int) < d\" and modd: \"\\<forall>x k. P x = P(x - k*d)\"\n  shows \"(\\<exists>x. P x) = (\\<exists>j\\<in>{0..d - 1}. P j)\"\n  (is \"?LHS = ?RHS\")", "lemma cpmi_eq: \"(0::int) < D \\<Longrightarrow> (\\<exists>z. \\<forall>x. x < z \\<longrightarrow> (P x = P1 x))\n\\<Longrightarrow> \\<forall>x.\\<not>(\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P(b+j)) \\<longrightarrow> P (x) \\<longrightarrow> P (x - D) \n\\<Longrightarrow> \\<forall>x. \\<forall>k. P1 x = P1(x-k*D)\n\\<Longrightarrow> (\\<exists>x. P(x)) = ((\\<exists>j\\<in>{0..D - 1}. P1(j)) \\<or> (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P(b+j)))\"", "theorem cp_thm:\n  assumes nq: \"nqfree \\<phi>\"\n  and u: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a\"\n  and d: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd d\"\n  and dp: \"d > 0\"\n  shows \"(\\<exists>x. Z.I \\<phi> (x#xs)) =\n   (\\<exists>j\\<in>{0..d - 1}. Z.I (inf\\<^sub>- \\<phi>) (j#xs) \\<or>\n   (\\<exists>(i,ks) \\<in> set(lbounds(Z.atoms\\<^sub>0 \\<phi>)). Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))\"\n  (is \"(\\<exists>x. ?P (x)) = (\\<exists> j\\<in> ?D. ?M j \\<or> (\\<exists>(i,ks)\\<in> ?B. ?P (?I i ks + j)))\")", "lemma qfree_min_inf[simp]: \"qfree \\<phi> \\<Longrightarrow> qfree (inf\\<^sub>- \\<phi>)\"", "lemma I_qe_cooper\\<^sub>1:\nassumes norm: \"\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0\"\nand hd: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a\" and \"nqfree \\<phi>\"\nshows \"Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x#xs))\"", "lemma divisor_hd_coeff1_neq0:\n  \"qfree \\<phi> \\<Longrightarrow> a \\<in> atoms \\<phi> \\<Longrightarrow> divisor a \\<noteq> 0 \\<Longrightarrow>\n   divisor (hd_coeff1 (zlcms (map hd_coeff (Z.atoms\\<^sub>0 \\<phi>))) a) \\<noteq> 0\"", "lemma hd_coeff_is1_hd_coeff1:\n  \"hd_coeff (hd_coeff1 m a) \\<noteq> 0 \\<longrightarrow> hd_coeff_is1 (hd_coeff1 m a)\"", "lemma I_cooper1_hd_coeffs1: \"Z.normal \\<phi> \\<Longrightarrow> nqfree \\<phi>\n       \\<Longrightarrow> Z.I (qe_cooper\\<^sub>1(hd_coeffs1 \\<phi>)) xs = (\\<exists>x. Z.I \\<phi> (x # xs))\"", "lemma qfree_cooper1_hd_coeffs1: \"qfree \\<phi> \\<Longrightarrow> qfree (qe_cooper\\<^sub>1 (hd_coeffs1 \\<phi>))\"", "lemma normal_min_inf: \"Z.normal \\<phi> \\<Longrightarrow> Z.normal(inf\\<^sub>- \\<phi>)\"", "lemma normal_cooper1: \"Z.normal \\<phi> \\<Longrightarrow> Z.normal(qe_cooper\\<^sub>1 \\<phi>)\"", "lemma normal_hd_coeffs1: \"qfree \\<phi> \\<Longrightarrow> Z.normal \\<phi> \\<Longrightarrow> Z.normal(hd_coeffs1 \\<phi>)\"", "theorem I_cooper: \"Z.normal \\<phi> \\<Longrightarrow>  Z.I (qe_cooper \\<phi>) xs = Z.I \\<phi> xs\"", "theorem qfree_cooper: \"qfree (qe_cooper \\<phi>)\""], "translations": [["", "lemma set_atoms0_iff:\n \"qfree \\<phi> \\<Longrightarrow> a \\<in> set(Z.atoms\\<^sub>0 \\<phi>) \\<longleftrightarrow> a \\<in> atoms \\<phi> \\<and> hd_coeff a \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree \\<phi> \\<Longrightarrow>\n    (a \\<in> set (atoms\\<^sub>0 \\<phi>)) =\n    (a \\<in> atoms \\<phi> \\<and> hd_coeff a \\<noteq> 0)", "by(induct \\<phi>) (auto split:if_split_asm)"], ["", "definition\n\"hd_coeffs1 \\<phi> =\n (let m = zlcms(map hd_coeff (Z.atoms\\<^sub>0 \\<phi>))\n  in And (Atom(Dvd m 0 [1])) (map\\<^sub>f\\<^sub>m (hd_coeff1 m) \\<phi>))\""], ["", "lemma I_hd_coeffs1:\nassumes \"qfree \\<phi>\"\nshows \"(\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x#xs)) = (\\<exists>x. Z.I \\<phi> (x#xs))\" (is \"?L = ?R\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "let ?l = \"zlcms(map hd_coeff (Z.atoms\\<^sub>0 \\<phi>))\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "have \"?l>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))", "by(simp add: zlcms_pos set_atoms0_iff[OF \\<open>qfree \\<phi>\\<close>])"], ["proof (state)\nthis:\n  0 < zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "have \"?L = (\\<exists>x. ?l dvd x+0 \\<and> Z.I (map\\<^sub>f\\<^sub>m (hd_coeff1 ?l) \\<phi>) (x#xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x.\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) dvd x + 0 \\<and>\n        Z.I (map\\<^sub>f\\<^sub>m\n              (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n              \\<phi>)\n         (x # xs))", "by(simp add:hd_coeffs1_def)"], ["proof (state)\nthis:\n  (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n  (\\<exists>x.\n      zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) dvd x + 0 \\<and>\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (x # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "also"], ["proof (state)\nthis:\n  (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n  (\\<exists>x.\n      zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) dvd x + 0 \\<and>\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (x # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "have \"\\<dots> = (\\<exists>x. Z.I (map\\<^sub>f\\<^sub>m (hd_coeff1 ?l) \\<phi>) (?l*x#xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) dvd x + 0 \\<and>\n        Z.I (map\\<^sub>f\\<^sub>m\n              (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n              \\<phi>)\n         (x # xs)) =\n    (\\<exists>x.\n        Z.I (map\\<^sub>f\\<^sub>m\n              (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n              \\<phi>)\n         (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) * x # xs))", "by(rule unity_coeff_ex[THEN meta_eq_to_obj_eq,symmetric])"], ["proof (state)\nthis:\n  (\\<exists>x.\n      zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) dvd x + 0 \\<and>\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (x # xs)) =\n  (\\<exists>x.\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) * x # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "also"], ["proof (state)\nthis:\n  (\\<exists>x.\n      zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) dvd x + 0 \\<and>\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (x # xs)) =\n  (\\<exists>x.\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) * x # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "have \"\\<dots> = ?R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x.\n        Z.I (map\\<^sub>f\\<^sub>m\n              (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n              \\<phi>)\n         (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) * x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "by(simp add: I_hd_coeff1_mult[OF \\<open>?l>0\\<close> \\<open>qfree \\<phi>\\<close>] dvd_zlcms)"], ["proof (state)\nthis:\n  (\\<exists>x.\n      Z.I (map\\<^sub>f\\<^sub>m\n            (hd_coeff1 (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>))))\n            \\<phi>)\n       (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) * x # xs)) =\n  (\\<exists>x. Z.I \\<phi> (x # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "finally"], ["proof (chain)\npicking this:\n  (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n  (\\<exists>x. Z.I \\<phi> (x # xs))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n  (\\<exists>x. Z.I \\<phi> (x # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n    (\\<exists>x. Z.I \\<phi> (x # xs))", "."], ["proof (state)\nthis:\n  (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n  (\\<exists>x. Z.I \\<phi> (x # xs))\n\ngoal:\nNo subgoals!", "qed"], ["", "fun min_inf :: \"atom fm \\<Rightarrow> atom fm\" (\"inf\\<^sub>-\") where\n\"inf\\<^sub>- (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2) = and (inf\\<^sub>- \\<phi>\\<^sub>1) (inf\\<^sub>- \\<phi>\\<^sub>2)\" |\n\"inf\\<^sub>- (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2) = or (inf\\<^sub>- \\<phi>\\<^sub>1) (inf\\<^sub>- \\<phi>\\<^sub>2)\" |\n\"inf\\<^sub>- (Atom(Le i (k#ks))) =\n  (if k<0 then TrueF else if k>0 then FalseF else Atom(Le i (0#ks)))\" |\n\"inf\\<^sub>- \\<phi> = \\<phi>\""], ["", "definition\n\"qe_cooper\\<^sub>1 \\<phi> =\n (let as = Z.atoms\\<^sub>0 \\<phi>; d = zlcms(map divisor as); ls = lbounds as\n  in or (Disj [0..d - 1] (\\<lambda>n. subst n [] (inf\\<^sub>- \\<phi>)))\n        (Disj ls (\\<lambda>(i,ks).\n           Disj [0..d - 1] (\\<lambda>n. subst (i + n) (-ks) \\<phi>))))\""], ["", "lemma min_inf:\n  \"nqfree f \\<Longrightarrow> \\<forall>a\\<in>set(Z.atoms\\<^sub>0 f). hd_coeff_is1 a\n   \\<Longrightarrow> \\<exists>x.\\<forall>y<x. Z.I (inf\\<^sub>- f) (y # xs) = Z.I f (y # xs)\"\n  (is \"_ \\<Longrightarrow> _ \\<Longrightarrow> \\<exists>x. ?P f x\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>nqfree f;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 f). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- f) (y # xs) = Z.I f (y # xs)", "proof(induct f rule: min_inf.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "case (3 i k ks)"], ["proof (state)\nthis:\n  nqfree (Atom (Le i (k # ks)))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))). hd_coeff_is1 a\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "{"], ["proof (state)\nthis:\n  nqfree (Atom (Le i (k # ks)))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))). hd_coeff_is1 a\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "assume \"k=0\""], ["proof (state)\nthis:\n  k = 0\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "hence ?case"], ["proof (prove)\nusing this:\n  k = 0\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n          Z.I (Atom (Le i (k # ks))) (y # xs)", "using 3"], ["proof (prove)\nusing this:\n  k = 0\n  nqfree (Atom (Le i (k # ks)))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))). hd_coeff_is1 a\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n          Z.I (Atom (Le i (k # ks))) (y # xs)", "by simp"], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "}"], ["proof (state)\nthis:\n  k = 0 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "moreover"], ["proof (state)\nthis:\n  k = 0 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "{"], ["proof (state)\nthis:\n  k = 0 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "assume \"k= -1\""], ["proof (state)\nthis:\n  k = - 1\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "hence \"?P (Atom(Le i (k#ks))) (-i + \\<langle>ks,xs\\<rangle> - 1)\""], ["proof (prove)\nusing this:\n  k = - 1\n\ngoal (1 subgoal):\n 1. \\<forall>y<- i + \\<langle>ks,xs\\<rangle> - 1.\n       Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n       Z.I (Atom (Le i (k # ks))) (y # xs)", "using 3"], ["proof (prove)\nusing this:\n  k = - 1\n  nqfree (Atom (Le i (k # ks)))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))). hd_coeff_is1 a\n\ngoal (1 subgoal):\n 1. \\<forall>y<- i + \\<langle>ks,xs\\<rangle> - 1.\n       Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n       Z.I (Atom (Le i (k # ks))) (y # xs)", "by auto"], ["proof (state)\nthis:\n  \\<forall>y<- i + \\<langle>ks,xs\\<rangle> - 1.\n     Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n     Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "hence ?case"], ["proof (prove)\nusing this:\n  \\<forall>y<- i + \\<langle>ks,xs\\<rangle> - 1.\n     Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n     Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n          Z.I (Atom (Le i (k # ks))) (y # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "}"], ["proof (state)\nthis:\n  k = - 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "moreover"], ["proof (state)\nthis:\n  k = - 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "{"], ["proof (state)\nthis:\n  k = - 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "assume \"k=1\""], ["proof (state)\nthis:\n  k = 1\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "hence \"?P (Atom(Le i (k#ks))) (i - \\<langle>ks,xs\\<rangle> - 1)\""], ["proof (prove)\nusing this:\n  k = 1\n\ngoal (1 subgoal):\n 1. \\<forall>y<i - \\<langle>ks,xs\\<rangle> - 1.\n       Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n       Z.I (Atom (Le i (k # ks))) (y # xs)", "using 3"], ["proof (prove)\nusing this:\n  k = 1\n  nqfree (Atom (Le i (k # ks)))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))). hd_coeff_is1 a\n\ngoal (1 subgoal):\n 1. \\<forall>y<i - \\<langle>ks,xs\\<rangle> - 1.\n       Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n       Z.I (Atom (Le i (k # ks))) (y # xs)", "by auto"], ["proof (state)\nthis:\n  \\<forall>y<i - \\<langle>ks,xs\\<rangle> - 1.\n     Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n     Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "hence ?case"], ["proof (prove)\nusing this:\n  \\<forall>y<i - \\<langle>ks,xs\\<rangle> - 1.\n     Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n     Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n          Z.I (Atom (Le i (k # ks))) (y # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "}"], ["proof (state)\nthis:\n  k = 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<And>i k ks.\n       \\<lbrakk>nqfree (Atom (Le i (k # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le i (k # ks))))\n                                (y # xs) =\n                               Z.I (Atom (Le i (k # ks))) (y # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                                Z.I (ExQ v) (y # xs)", "ultimately"], ["proof (chain)\npicking this:\n  k = 0 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  k = - 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  k = 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)", "show ?case"], ["proof (prove)\nusing this:\n  k = 0 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  k = - 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  k = 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n          Z.I (Atom (Le i (k # ks))) (y # xs)", "using 3"], ["proof (prove)\nusing this:\n  k = 0 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  k = - 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  k = 1 \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n  nqfree (Atom (Le i (k # ks)))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (k # ks)))). hd_coeff_is1 a\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n          Z.I (Atom (Le i (k # ks))) (y # xs)", "by auto"], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Atom (Le i (k # ks)))) (y # xs) =\n        Z.I (Atom (Le i (k # ks))) (y # xs)\n\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 4. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 5. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 4. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 5. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "case (1 f1 f2)"], ["proof (state)\nthis:\n  \\<lbrakk>nqfree f1;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f1). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<lbrakk>nqfree f2;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f2). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n  nqfree (And f1 f2)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (And f1 f2)). hd_coeff_is1 a\n\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 4. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 5. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>nqfree f1;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f1). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<lbrakk>nqfree f2;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f2). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n  nqfree (And f1 f2)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (And f1 f2)). hd_coeff_is1 a", "obtain x1 x2 where \"?P f1 x1\" \"?P f2 x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>nqfree f1;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f1). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<lbrakk>nqfree f2;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f2). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n  nqfree (And f1 f2)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (And f1 f2)). hd_coeff_is1 a\n\ngoal (1 subgoal):\n 1. (\\<And>x1 x2.\n        \\<lbrakk>\\<forall>y<x1.\n                    Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs);\n         \\<forall>y<x2.\n            Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce+"], ["proof (state)\nthis:\n  \\<forall>y<x1. Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<forall>y<x2. Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 4. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 5. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "hence \"?P (And f1 f2) (min x1 x2)\""], ["proof (prove)\nusing this:\n  \\<forall>y<x1. Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<forall>y<x2. Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n\ngoal (1 subgoal):\n 1. \\<forall>y<min x1 x2.\n       Z.I (inf\\<^sub>- (And f1 f2)) (y # xs) = Z.I (And f1 f2) (y # xs)", "by simp"], ["proof (state)\nthis:\n  \\<forall>y<min x1 x2.\n     Z.I (inf\\<^sub>- (And f1 f2)) (y # xs) = Z.I (And f1 f2) (y # xs)\n\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 3. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 4. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 5. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>y<min x1 x2.\n     Z.I (inf\\<^sub>- (And f1 f2)) (y # xs) = Z.I (And f1 f2) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (And f1 f2)) (y # xs) = Z.I (And f1 f2) (y # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (And f1 f2)) (y # xs) = Z.I (And f1 f2) (y # xs)\n\ngoal (8 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 3. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 4. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 5. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 3. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 4. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 5. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "case (2 f1 f2)"], ["proof (state)\nthis:\n  \\<lbrakk>nqfree f1;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f1). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<lbrakk>nqfree f2;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f2). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n  nqfree (Or f1 f2)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Or f1 f2)). hd_coeff_is1 a\n\ngoal (8 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 3. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 4. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 5. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>nqfree f1;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f1). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<lbrakk>nqfree f2;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f2). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n  nqfree (Or f1 f2)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Or f1 f2)). hd_coeff_is1 a", "obtain x1 x2 where \"?P f1 x1\" \"?P f2 x2\""], ["proof (prove)\nusing this:\n  \\<lbrakk>nqfree f1;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f1). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<lbrakk>nqfree f2;\n   \\<forall>a\\<in>set (atoms\\<^sub>0 f2). hd_coeff_is1 a\\<rbrakk>\n  \\<Longrightarrow> \\<exists>x.\n                       \\<forall>y<x.\n                          Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n  nqfree (Or f1 f2)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Or f1 f2)). hd_coeff_is1 a\n\ngoal (1 subgoal):\n 1. (\\<And>x1 x2.\n        \\<lbrakk>\\<forall>y<x1.\n                    Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs);\n         \\<forall>y<x2.\n            Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce+"], ["proof (state)\nthis:\n  \\<forall>y<x1. Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<forall>y<x2. Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n\ngoal (8 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 3. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 4. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 5. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "hence \"?P (Or f1 f2) (min x1 x2)\""], ["proof (prove)\nusing this:\n  \\<forall>y<x1. Z.I (inf\\<^sub>- f1) (y # xs) = Z.I f1 (y # xs)\n  \\<forall>y<x2. Z.I (inf\\<^sub>- f2) (y # xs) = Z.I f2 (y # xs)\n\ngoal (1 subgoal):\n 1. \\<forall>y<min x1 x2.\n       Z.I (inf\\<^sub>- (Or f1 f2)) (y # xs) = Z.I (Or f1 f2) (y # xs)", "by simp"], ["proof (state)\nthis:\n  \\<forall>y<min x1 x2.\n     Z.I (inf\\<^sub>- (Or f1 f2)) (y # xs) = Z.I (Or f1 f2) (y # xs)\n\ngoal (8 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    hd_coeff_is1 a\\<rbrakk>\n                \\<Longrightarrow> \\<exists>x.\n                                     \\<forall>y<x.\n  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (y # xs) = Z.I \\<phi>\\<^sub>1 (y # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            hd_coeff_is1 a\\<rbrakk>\n        \\<Longrightarrow> \\<exists>x.\n                             \\<forall>y<x.\n                                Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (y # xs) =\n                                Z.I \\<phi>\\<^sub>2 (y # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>-\n                                     (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                                (y # xs) =\n                               Z.I (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)\n                                (y # xs)\n 2. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 3. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 4. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 5. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 6. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>y<min x1 x2.\n     Z.I (inf\\<^sub>- (Or f1 f2)) (y # xs) = Z.I (Or f1 f2) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>y<x.\n          Z.I (inf\\<^sub>- (Or f1 f2)) (y # xs) = Z.I (Or f1 f2) (y # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x.\n     \\<forall>y<x.\n        Z.I (inf\\<^sub>- (Or f1 f2)) (y # xs) = Z.I (Or f1 f2) (y # xs)\n\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- TrueF) (y # xs) =\n                            Z.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         \\<forall>y<x.\n                            Z.I (inf\\<^sub>- FalseF) (y # xs) =\n                            Z.I FalseF (y # xs)\n 3. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Le va [])))\n                                (y # xs) =\n                               Z.I (Atom (Le va [])) (y # xs)\n 4. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (Dvd va vb vc)) (y # xs)\n 5. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                                (y # xs) =\n                               Z.I (Atom (NDvd va vb vc)) (y # xs)\n 6. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (Neg v)) (y # xs) =\n                               Z.I (Neg v) (y # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). hd_coeff_is1 a\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            \\<forall>y<x.\n                               Z.I (inf\\<^sub>- (ExQ v)) (y # xs) =\n                               Z.I (ExQ v) (y # xs)", "qed simp_all"], ["", "lemma min_inf_repeats:\n  \"nqfree \\<phi> \\<Longrightarrow> \\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd d \\<Longrightarrow>\n  Z.I (inf\\<^sub>- \\<phi>) ((x - k*d)#xs) = Z.I (inf\\<^sub>- \\<phi>) (x#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>nqfree \\<phi>;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- \\<phi>) (x # xs)", "proof(induct \\<phi> rule:min_inf.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 3. \\<And>i ka ks.\n       \\<lbrakk>nqfree (Atom (Le i (ka # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (ka # ks)))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le i (ka # ks))))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le i (ka # ks)))) (x # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- TrueF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- TrueF) (x # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- FalseF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- FalseF) (x # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le va [])))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le va []))) (x # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Dvd va vb vc))) (x # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (NDvd va vb vc))) (x # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Neg v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Neg v)) (x # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- (ExQ v)) ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- (ExQ v)) (x # xs)", "case (\"4_4\" da i ks)"], ["proof (state)\nthis:\n  nqfree (Atom (Dvd da i ks))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd da i ks))). divisor a dvd d\n\ngoal (10 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 3. \\<And>i ka ks.\n       \\<lbrakk>nqfree (Atom (Le i (ka # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (ka # ks)))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le i (ka # ks))))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le i (ka # ks)))) (x # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- TrueF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- TrueF) (x # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- FalseF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- FalseF) (x # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le va [])))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le va []))) (x # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (Dvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Dvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Dvd va vb vc))) (x # xs)\n 8. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (NDvd va vb vc))) (x # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Neg v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Neg v)) (x # xs)\n 10. \\<And>v.\n        \\<lbrakk>nqfree (ExQ v);\n         \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- (ExQ v)) ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- (ExQ v)) (x # xs)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "proof (cases ks)"], ["proof (state)\ngoal (2 subgoals):\n 1. ks = [] \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n 2. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "case Nil"], ["proof (state)\nthis:\n  ks = []\n\ngoal (2 subgoals):\n 1. ks = [] \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n 2. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ks = []\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "case (Cons j js)"], ["proof (state)\nthis:\n  ks = j # js\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n 2. \\<not> ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "assume \"j=0\""], ["proof (state)\nthis:\n  j = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n 2. \\<not> ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  j = 0\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "using Cons"], ["proof (prove)\nusing this:\n  j = 0\n  ks = j # js\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "assume \"j\\<noteq>0\""], ["proof (state)\nthis:\n  j \\<noteq> 0\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "hence \"da dvd d\""], ["proof (prove)\nusing this:\n  j \\<noteq> 0\n\ngoal (1 subgoal):\n 1. da dvd d", "using Cons \"4_4\""], ["proof (prove)\nusing this:\n  j \\<noteq> 0\n  ks = j # js\n  nqfree (Atom (Dvd da i ks))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Dvd da i ks))). divisor a dvd d\n\ngoal (1 subgoal):\n 1. da dvd d", "by simp"], ["proof (state)\nthis:\n  da dvd d\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "hence \"da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>) \\<longleftrightarrow>\n             da dvd i + (j * x + \\<langle>js,xs\\<rangle>)\""], ["proof (prove)\nusing this:\n  da dvd d\n\ngoal (1 subgoal):\n 1. (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "have \"da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>) \\<longleftrightarrow>\n              da dvd (i + j*x + \\<langle>js,xs\\<rangle>) - (j*k)*d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d)", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "also"], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "have \"\\<dots> \\<longleftrightarrow> da dvd i + j*x + \\<langle>js,xs\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n    (da dvd i + j * x + \\<langle>js,xs\\<rangle>)", "using \\<open>da dvd d\\<close>"], ["proof (prove)\nusing this:\n  da dvd d\n\ngoal (1 subgoal):\n 1. (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n    (da dvd i + j * x + \\<langle>js,xs\\<rangle>)", "by (metis dvd_diff zdvd_zdiffD dvd_mult mult.commute)"], ["proof (state)\nthis:\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "also"], ["proof (state)\nthis:\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "have \"\\<dots> \\<longleftrightarrow> da dvd i + (j * x + \\<langle>js,xs\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (da dvd i + j * x + \\<langle>js,xs\\<rangle>) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle>) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "finally"], ["proof (chain)\npicking this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "show ?thesis"], ["proof (prove)\nusing this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "."], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "then"], ["proof (chain)\npicking this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "show ?thesis"], ["proof (prove)\nusing this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "using Cons"], ["proof (prove)\nusing this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n  ks = j # js\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)", "by (simp add:ring_distribs)"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (Dvd da i ks))) (x # xs)\n\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 3. \\<And>i ka ks.\n       \\<lbrakk>nqfree (Atom (Le i (ka # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (ka # ks)))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le i (ka # ks))))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le i (ka # ks)))) (x # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- TrueF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- TrueF) (x # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- FalseF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- FalseF) (x # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le va [])))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le va []))) (x # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (NDvd va vb vc))) (x # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Neg v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Neg v)) (x # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (ExQ v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (ExQ v)) (x # xs)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 3. \\<And>i ka ks.\n       \\<lbrakk>nqfree (Atom (Le i (ka # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (ka # ks)))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le i (ka # ks))))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le i (ka # ks)))) (x # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- TrueF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- TrueF) (x # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- FalseF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- FalseF) (x # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le va [])))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le va []))) (x # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (NDvd va vb vc))) (x # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Neg v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Neg v)) (x # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (ExQ v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (ExQ v)) (x # xs)", "case (\"4_5\" da i ks)"], ["proof (state)\nthis:\n  nqfree (Atom (NDvd da i ks))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd da i ks))). divisor a dvd d\n\ngoal (9 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 3. \\<And>i ka ks.\n       \\<lbrakk>nqfree (Atom (Le i (ka # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (ka # ks)))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le i (ka # ks))))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le i (ka # ks)))) (x # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- TrueF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- TrueF) (x # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- FalseF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- FalseF) (x # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le va [])))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le va []))) (x # xs)\n 7. \\<And>va vb vc.\n       \\<lbrakk>nqfree (Atom (NDvd va vb vc));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd va vb vc))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (NDvd va vb vc)))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (NDvd va vb vc))) (x # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Neg v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Neg v)) (x # xs)\n 9. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (ExQ v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (ExQ v)) (x # xs)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "proof (cases ks)"], ["proof (state)\ngoal (2 subgoals):\n 1. ks = [] \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n 2. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "case Nil"], ["proof (state)\nthis:\n  ks = []\n\ngoal (2 subgoals):\n 1. ks = [] \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n 2. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ks = []\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "case (Cons j js)"], ["proof (state)\nthis:\n  ks = j # js\n\ngoal (1 subgoal):\n 1. \\<And>a list.\n       ks = a # list \\<Longrightarrow>\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n       Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n 2. \\<not> ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "assume \"j=0\""], ["proof (state)\nthis:\n  j = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n 2. \\<not> ?P \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  j = 0\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "using Cons"], ["proof (prove)\nusing this:\n  j = 0\n  ks = j # js\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "assume \"j\\<noteq>0\""], ["proof (state)\nthis:\n  j \\<noteq> 0\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "hence \"da dvd d\""], ["proof (prove)\nusing this:\n  j \\<noteq> 0\n\ngoal (1 subgoal):\n 1. da dvd d", "using Cons \"4_5\""], ["proof (prove)\nusing this:\n  j \\<noteq> 0\n  ks = j # js\n  nqfree (Atom (NDvd da i ks))\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (NDvd da i ks))). divisor a dvd d\n\ngoal (1 subgoal):\n 1. da dvd d", "by simp"], ["proof (state)\nthis:\n  da dvd d\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "hence \"da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>) \\<longleftrightarrow>\n             da dvd i + (j * x + \\<langle>js,xs\\<rangle>)\""], ["proof (prove)\nusing this:\n  da dvd d\n\ngoal (1 subgoal):\n 1. (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "have \"da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>) \\<longleftrightarrow>\n              da dvd (i + j*x + \\<langle>js,xs\\<rangle>) - (j*k)*d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d)", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "also"], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "have \"\\<dots> \\<longleftrightarrow> da dvd i + j*x + \\<langle>js,xs\\<rangle>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n    (da dvd i + j * x + \\<langle>js,xs\\<rangle>)", "using \\<open>da dvd d\\<close>"], ["proof (prove)\nusing this:\n  da dvd d\n\ngoal (1 subgoal):\n 1. (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n    (da dvd i + j * x + \\<langle>js,xs\\<rangle>)", "by (metis dvd_diff zdvd_zdiffD dvd_mult mult.commute)"], ["proof (state)\nthis:\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "also"], ["proof (state)\nthis:\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle> - j * k * d) =\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "have \"\\<dots> \\<longleftrightarrow> da dvd i + (j * x + \\<langle>js,xs\\<rangle>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (da dvd i + j * x + \\<langle>js,xs\\<rangle>) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "by(simp add: algebra_simps)"], ["proof (state)\nthis:\n  (da dvd i + j * x + \\<langle>js,xs\\<rangle>) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. da dvd d \\<Longrightarrow>\n    (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "finally"], ["proof (chain)\npicking this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "show ?thesis"], ["proof (prove)\nusing this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n    (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "."], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. j \\<noteq> 0 \\<Longrightarrow>\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "then"], ["proof (chain)\npicking this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))", "show ?thesis"], ["proof (prove)\nusing this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "using Cons"], ["proof (prove)\nusing this:\n  (da dvd i + (j * x - j * (k * d) + \\<langle>js,xs\\<rangle>)) =\n  (da dvd i + (j * x + \\<langle>js,xs\\<rangle>))\n  ks = j # js\n\ngoal (1 subgoal):\n 1. Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n    Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)", "by (simp add:ring_distribs)"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) ((x - k * d) # xs) =\n  Z.I (inf\\<^sub>- (Atom (NDvd da i ks))) (x # xs)\n\ngoal (8 subgoals):\n 1. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (And \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 2. \\<And>\\<phi>\\<^sub>1 \\<phi>\\<^sub>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>\\<^sub>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>1).\n                    divisor a dvd d\\<rbrakk>\n                \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>1)\n                                   ((x - k * d) # xs) =\n                                  Z.I (inf\\<^sub>- \\<phi>\\<^sub>1) (x # xs);\n        \\<lbrakk>nqfree \\<phi>\\<^sub>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>\\<^sub>2).\n            divisor a dvd d\\<rbrakk>\n        \\<Longrightarrow> Z.I (inf\\<^sub>- \\<phi>\\<^sub>2)\n                           ((x - k * d) # xs) =\n                          Z.I (inf\\<^sub>- \\<phi>\\<^sub>2) (x # xs);\n        nqfree (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0\n                             (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2)).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>-\n                               (Or \\<phi>\\<^sub>1 \\<phi>\\<^sub>2))\n                          (x # xs)\n 3. \\<And>i ka ks.\n       \\<lbrakk>nqfree (Atom (Le i (ka # ks)));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le i (ka # ks)))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le i (ka # ks))))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le i (ka # ks)))) (x # xs)\n 4. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- TrueF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- TrueF) (x # xs)\n 5. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d\\<rbrakk>\n    \\<Longrightarrow> Z.I (inf\\<^sub>- FalseF) ((x - k * d) # xs) =\n                      Z.I (inf\\<^sub>- FalseF) (x # xs)\n 6. \\<And>va.\n       \\<lbrakk>nqfree (Atom (Le va []));\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom (Le va []))).\n           divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Atom (Le va [])))\n                          ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Atom (Le va []))) (x # xs)\n 7. \\<And>v.\n       \\<lbrakk>nqfree (Neg v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (Neg v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (Neg v)) (x # xs)\n 8. \\<And>v.\n       \\<lbrakk>nqfree (ExQ v);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ v)). divisor a dvd d\\<rbrakk>\n       \\<Longrightarrow> Z.I (inf\\<^sub>- (ExQ v)) ((x - k * d) # xs) =\n                         Z.I (inf\\<^sub>- (ExQ v)) (x # xs)", "qed simp_all"], ["", "lemma atoms_subset: \"qfree f \\<Longrightarrow> set(Z.atoms\\<^sub>0(f::atom fm)) \\<le> atoms f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree f \\<Longrightarrow> set (atoms\\<^sub>0 f) \\<subseteq> atoms f", "by (induct f) auto"], ["", "(* copied from Amine *)"], ["", "lemma \\<beta>:\n  \"\\<lbrakk> nqfree \\<phi>;  \\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n     \\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd d; d > 0;\n     \\<not>(\\<exists>j\\<in>{0 .. d - 1}. \\<exists>(i,ks) \\<in> set(lbounds(Z.atoms\\<^sub>0 \\<phi>)).\n         x = i - \\<langle>ks,xs\\<rangle> + j); Z.I \\<phi> (x#xs) \\<rbrakk>\n  \\<Longrightarrow> Z.I \\<phi> ((x-d)#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>nqfree \\<phi>;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I \\<phi> (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs)", "proof(induct \\<phi>)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 TrueF)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I TrueF (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I TrueF ((x - d) # xs)\n 2. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 FalseF)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I FalseF (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I FalseF ((x - d) # xs)\n 3. \\<And>xa.\n       \\<lbrakk>nqfree (Atom xa);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom xa)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom xa)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (Atom xa))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Atom xa) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Atom xa) ((x - d) # xs)\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1).\n                    divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>1)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi>1 (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi>1 ((x - d) # xs);\n        \\<lbrakk>nqfree \\<phi>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). hd_coeff_is1 a;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). divisor a dvd d; 0 < d;\n         \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                    \\<exists>(i, ks)\n                             \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>2)).\n                       x = i - \\<langle>ks,xs\\<rangle> + j);\n         Z.I \\<phi>2 (x # xs)\\<rbrakk>\n        \\<Longrightarrow> Z.I \\<phi>2 ((x - d) # xs);\n        nqfree (And \\<phi>1 \\<phi>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2)).\n           hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2)).\n           divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds\n (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (And \\<phi>1 \\<phi>2) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (And \\<phi>1 \\<phi>2) ((x - d) # xs)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1).\n                    divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>1)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi>1 (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi>1 ((x - d) # xs);\n        \\<lbrakk>nqfree \\<phi>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). hd_coeff_is1 a;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). divisor a dvd d; 0 < d;\n         \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                    \\<exists>(i, ks)\n                             \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>2)).\n                       x = i - \\<langle>ks,xs\\<rangle> + j);\n         Z.I \\<phi>2 (x # xs)\\<rbrakk>\n        \\<Longrightarrow> Z.I \\<phi>2 ((x - d) # xs);\n        nqfree (Or \\<phi>1 \\<phi>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2)).\n           hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2)).\n           divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds\n (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Or \\<phi>1 \\<phi>2) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Or \\<phi>1 \\<phi>2) ((x - d) # xs)\n 6. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi> (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs);\n        nqfree (Neg \\<phi>);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg \\<phi>)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg \\<phi>)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (Neg \\<phi>))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Neg \\<phi>) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Neg \\<phi>) ((x - d) # xs)\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi> (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs);\n        nqfree (ExQ \\<phi>);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ \\<phi>)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ \\<phi>)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (ExQ \\<phi>))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (ExQ \\<phi>) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (ExQ \\<phi>) ((x - d) # xs)", "case (Atom a)"], ["proof (state)\nthis:\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 TrueF)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I TrueF (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I TrueF ((x - d) # xs)\n 2. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 FalseF)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I FalseF (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I FalseF ((x - d) # xs)\n 3. \\<And>xa.\n       \\<lbrakk>nqfree (Atom xa);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom xa)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom xa)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (Atom xa))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Atom xa) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Atom xa) ((x - d) # xs)\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1).\n                    divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>1)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi>1 (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi>1 ((x - d) # xs);\n        \\<lbrakk>nqfree \\<phi>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). hd_coeff_is1 a;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). divisor a dvd d; 0 < d;\n         \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                    \\<exists>(i, ks)\n                             \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>2)).\n                       x = i - \\<langle>ks,xs\\<rangle> + j);\n         Z.I \\<phi>2 (x # xs)\\<rbrakk>\n        \\<Longrightarrow> Z.I \\<phi>2 ((x - d) # xs);\n        nqfree (And \\<phi>1 \\<phi>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2)).\n           hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2)).\n           divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds\n (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (And \\<phi>1 \\<phi>2) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (And \\<phi>1 \\<phi>2) ((x - d) # xs)\n 5. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1).\n                    divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>1)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi>1 (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi>1 ((x - d) # xs);\n        \\<lbrakk>nqfree \\<phi>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). hd_coeff_is1 a;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). divisor a dvd d; 0 < d;\n         \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                    \\<exists>(i, ks)\n                             \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>2)).\n                       x = i - \\<langle>ks,xs\\<rangle> + j);\n         Z.I \\<phi>2 (x # xs)\\<rbrakk>\n        \\<Longrightarrow> Z.I \\<phi>2 ((x - d) # xs);\n        nqfree (Or \\<phi>1 \\<phi>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2)).\n           hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2)).\n           divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds\n (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Or \\<phi>1 \\<phi>2) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Or \\<phi>1 \\<phi>2) ((x - d) # xs)\n 6. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi> (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs);\n        nqfree (Neg \\<phi>);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg \\<phi>)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg \\<phi>)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (Neg \\<phi>))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Neg \\<phi>) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Neg \\<phi>) ((x - d) # xs)\n 7. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi> (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs);\n        nqfree (ExQ \\<phi>);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ \\<phi>)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ \\<phi>)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (ExQ \\<phi>))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (ExQ \\<phi>) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (ExQ \\<phi>) ((x - d) # xs)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "proof (cases a)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x11 x12.\n       a = Le x11 x12 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>x21 x22 x23.\n       a = Dvd x21 x22 x23 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 3. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case (Le i js)"], ["proof (state)\nthis:\n  a = Le i js\n\ngoal (3 subgoals):\n 1. \\<And>x11 x12.\n       a = Le x11 x12 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>x21 x22 x23.\n       a = Dvd x21 x22 x23 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 3. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "proof (cases js)"], ["proof (state)\ngoal (2 subgoals):\n 1. js = [] \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case Nil"], ["proof (state)\nthis:\n  js = []\n\ngoal (2 subgoals):\n 1. js = [] \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  js = []\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Le Atom"], ["proof (prove)\nusing this:\n  js = []\n  a = Le i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case (Cons k ks)"], ["proof (state)\nthis:\n  js = k # ks\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  js = k # ks\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Le Atom"], ["proof (prove)\nusing this:\n  js = k # ks\n  a = Le i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by (auto simp:lbounds_def Ball_def split:if_split_asm) arith"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22 x23.\n       a = Dvd x21 x22 x23 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 x23.\n       a = Dvd x21 x22 x23 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case (Dvd m i js)"], ["proof (state)\nthis:\n  a = Dvd m i js\n\ngoal (2 subgoals):\n 1. \\<And>x21 x22 x23.\n       a = Dvd x21 x22 x23 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "proof (cases js)"], ["proof (state)\ngoal (2 subgoals):\n 1. js = [] \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case Nil"], ["proof (state)\nthis:\n  js = []\n\ngoal (2 subgoals):\n 1. js = [] \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  js = []\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Dvd Atom"], ["proof (prove)\nusing this:\n  js = []\n  a = Dvd m i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case (Cons k ks)"], ["proof (state)\nthis:\n  js = k # ks\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<not> ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "assume \"k=0\""], ["proof (state)\nthis:\n  k = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<not> ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  k = 0\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Cons Dvd Atom"], ["proof (prove)\nusing this:\n  k = 0\n  js = k # ks\n  a = Dvd m i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "assume \"k\\<noteq>0\""], ["proof (state)\nthis:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "hence \"m dvd d\""], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m dvd d", "using Cons Dvd Atom"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n  js = k # ks\n  a = Dvd m i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. m dvd d", "by auto"], ["proof (state)\nthis:\n  m dvd d\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "have \"m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow> m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\"\n          (is \"?L \\<Longrightarrow> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)", "assume ?L"], ["proof (state)\nthis:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)", "hence \"m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d\""], ["proof (prove)\nusing this:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d", "by (metis \\<open>m dvd d\\<close> dvd_diff)"], ["proof (state)\nthis:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d\n\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d\n\ngoal (1 subgoal):\n 1. m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)", "by(simp add:algebra_simps)"], ["proof (state)\nthis:\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Atom Dvd Cons"], ["proof (prove)\nusing this:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n  a = Dvd m i js\n  js = k # ks\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by(auto split:if_split_asm)"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case (NDvd m i js)"], ["proof (state)\nthis:\n  a = NDvd m i js\n\ngoal (1 subgoal):\n 1. \\<And>x31 x32 x33.\n       a = NDvd x31 x32 x33 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "proof (cases js)"], ["proof (state)\ngoal (2 subgoals):\n 1. js = [] \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case Nil"], ["proof (state)\nthis:\n  js = []\n\ngoal (2 subgoals):\n 1. js = [] \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  js = []\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using NDvd Atom"], ["proof (prove)\nusing this:\n  js = []\n  a = NDvd m i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "case (Cons k ks)"], ["proof (state)\nthis:\n  js = k # ks\n\ngoal (1 subgoal):\n 1. \\<And>aa list.\n       js = aa # list \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "proof cases"], ["proof (state)\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<not> ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "assume \"k=0\""], ["proof (state)\nthis:\n  k = 0\n\ngoal (2 subgoals):\n 1. ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)\n 2. \\<not> ?P \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  k = 0\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Cons NDvd Atom"], ["proof (prove)\nusing this:\n  k = 0\n  js = k # ks\n  a = NDvd m i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by simp"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "assume \"k\\<noteq>0\""], ["proof (state)\nthis:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "hence \"m dvd d\""], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n\ngoal (1 subgoal):\n 1. m dvd d", "using Cons NDvd Atom"], ["proof (prove)\nusing this:\n  k \\<noteq> 0\n  js = k # ks\n  a = NDvd m i js\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n\ngoal (1 subgoal):\n 1. m dvd d", "by auto"], ["proof (state)\nthis:\n  m dvd d\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "have \"m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow> m dvd i + (x + \\<langle>ks,xs\\<rangle>)\"\n          (is \"?L \\<Longrightarrow> _\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x + \\<langle>ks,xs\\<rangle>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x + \\<langle>ks,xs\\<rangle>)", "assume ?L"], ["proof (state)\nthis:\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x + \\<langle>ks,xs\\<rangle>)", "hence \"m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d\""], ["proof (prove)\nusing this:\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d", "by(simp add:algebra_simps)"], ["proof (state)\nthis:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d\n\ngoal (1 subgoal):\n 1. m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n    m dvd i + (x + \\<langle>ks,xs\\<rangle>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>) - d\n\ngoal (1 subgoal):\n 1. m dvd i + (x + \\<langle>ks,xs\\<rangle>)", "by (metis \\<open>m dvd d\\<close> zdvd_zdiffD)"], ["proof (state)\nthis:\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. k \\<noteq> 0 \\<Longrightarrow> Z.I (Atom a) ((x - d) # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>)\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "using Atom NDvd Cons"], ["proof (prove)\nusing this:\n  m dvd i + (x - d + \\<langle>ks,xs\\<rangle>) \\<Longrightarrow>\n  m dvd i + (x + \\<langle>ks,xs\\<rangle>)\n  nqfree (Atom a)\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). hd_coeff_is1 a\n  \\<forall>a\\<in>set (atoms\\<^sub>0 (Atom a)). divisor a dvd d\n  0 < d\n  \\<not> (\\<exists>j\\<in>{0..d - 1}.\n             \\<exists>a\\<in>set (lbounds (atoms\\<^sub>0 (Atom a))).\n                case a of\n                (i, ks) \\<Rightarrow> x = i - \\<langle>ks,xs\\<rangle> + j)\n  Z.I (Atom a) (x # xs)\n  a = NDvd m i js\n  js = k # ks\n\ngoal (1 subgoal):\n 1. Z.I (Atom a) ((x - d) # xs)", "by(auto split:if_split_asm)"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Z.I (Atom a) ((x - d) # xs)\n\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 TrueF). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 TrueF)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I TrueF (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I TrueF ((x - d) # xs)\n 2. \\<lbrakk>nqfree FalseF;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). hd_coeff_is1 a;\n     \\<forall>a\\<in>set (atoms\\<^sub>0 FalseF). divisor a dvd d; 0 < d;\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 FalseF)).\n                   x = i - \\<langle>ks,xs\\<rangle> + j);\n     Z.I FalseF (x # xs)\\<rbrakk>\n    \\<Longrightarrow> Z.I FalseF ((x - d) # xs)\n 3. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1).\n                    divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>1)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi>1 (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi>1 ((x - d) # xs);\n        \\<lbrakk>nqfree \\<phi>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). hd_coeff_is1 a;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). divisor a dvd d; 0 < d;\n         \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                    \\<exists>(i, ks)\n                             \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>2)).\n                       x = i - \\<langle>ks,xs\\<rangle> + j);\n         Z.I \\<phi>2 (x # xs)\\<rbrakk>\n        \\<Longrightarrow> Z.I \\<phi>2 ((x - d) # xs);\n        nqfree (And \\<phi>1 \\<phi>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2)).\n           hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2)).\n           divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds\n (atoms\\<^sub>0 (And \\<phi>1 \\<phi>2))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (And \\<phi>1 \\<phi>2) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (And \\<phi>1 \\<phi>2) ((x - d) # xs)\n 4. \\<And>\\<phi>1 \\<phi>2.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>1;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>1).\n                    divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>1)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi>1 (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi>1 ((x - d) # xs);\n        \\<lbrakk>nqfree \\<phi>2;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). hd_coeff_is1 a;\n         \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>2). divisor a dvd d; 0 < d;\n         \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                    \\<exists>(i, ks)\n                             \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>2)).\n                       x = i - \\<langle>ks,xs\\<rangle> + j);\n         Z.I \\<phi>2 (x # xs)\\<rbrakk>\n        \\<Longrightarrow> Z.I \\<phi>2 ((x - d) # xs);\n        nqfree (Or \\<phi>1 \\<phi>2);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2)).\n           hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2)).\n           divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds\n (atoms\\<^sub>0 (Or \\<phi>1 \\<phi>2))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Or \\<phi>1 \\<phi>2) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Or \\<phi>1 \\<phi>2) ((x - d) # xs)\n 5. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi> (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs);\n        nqfree (Neg \\<phi>);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg \\<phi>)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (Neg \\<phi>)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (Neg \\<phi>))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (Neg \\<phi>) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (Neg \\<phi>) ((x - d) # xs)\n 6. \\<And>\\<phi>.\n       \\<lbrakk>\\<lbrakk>nqfree \\<phi>;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a;\n                 \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>). divisor a dvd d;\n                 0 < d;\n                 \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                            \\<exists>(i, ks)\n                                     \\<in>set\n     (lbounds (atoms\\<^sub>0 \\<phi>)).\n                               x = i - \\<langle>ks,xs\\<rangle> + j);\n                 Z.I \\<phi> (x # xs)\\<rbrakk>\n                \\<Longrightarrow> Z.I \\<phi> ((x - d) # xs);\n        nqfree (ExQ \\<phi>);\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ \\<phi>)). hd_coeff_is1 a;\n        \\<forall>a\\<in>set (atoms\\<^sub>0 (ExQ \\<phi>)). divisor a dvd d;\n        0 < d;\n        \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                   \\<exists>(i, ks)\n                            \\<in>set (lbounds (atoms\\<^sub>0 (ExQ \\<phi>))).\n                      x = i - \\<langle>ks,xs\\<rangle> + j);\n        Z.I (ExQ \\<phi>) (x # xs)\\<rbrakk>\n       \\<Longrightarrow> Z.I (ExQ \\<phi>) ((x - d) # xs)", "qed force+"], ["", "lemma periodic_finite_ex:\n  assumes dpos: \"(0::int) < d\" and modd: \"\\<forall>x k. P x = P(x - k*d)\"\n  shows \"(\\<exists>x. P x) = (\\<exists>j\\<in>{0..d - 1}. P j)\"\n  (is \"?LHS = ?RHS\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x. P x) = (\\<exists>j\\<in>{0..d - 1}. P j)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "assume ?LHS"], ["proof (state)\nthis:\n  \\<exists>x. P x\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "then"], ["proof (chain)\npicking this:\n  \\<exists>x. P x", "obtain x where P: \"P x\""], ["proof (prove)\nusing this:\n  \\<exists>x. P x\n\ngoal (1 subgoal):\n 1. (\\<And>x. P x \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", ".."], ["proof (state)\nthis:\n  P x\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "have \"x mod d = x - (x div d)*d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x mod d = x - x div d * d", "by(simp add:mult_div_mod_eq [symmetric] ac_simps eq_diff_eq)"], ["proof (state)\nthis:\n  x mod d = x - x div d * d\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "hence Pmod: \"P x = P(x mod d)\""], ["proof (prove)\nusing this:\n  x mod d = x - x div d * d\n\ngoal (1 subgoal):\n 1. P x = P (x mod d)", "using modd"], ["proof (prove)\nusing this:\n  x mod d = x - x div d * d\n  \\<forall>x k. P x = P (x - k * d)\n\ngoal (1 subgoal):\n 1. P x = P (x mod d)", "by simp"], ["proof (state)\nthis:\n  P x = P (x mod d)\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "have \"P(x mod d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. P (x mod d)", "using dpos P Pmod"], ["proof (prove)\nusing this:\n  0 < d\n  P x\n  P x = P (x mod d)\n\ngoal (1 subgoal):\n 1. P (x mod d)", "by simp"], ["proof (state)\nthis:\n  P (x mod d)\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "moreover"], ["proof (state)\nthis:\n  P (x mod d)\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "have \"x mod d \\<in> {0..d - 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x mod d \\<in> {0..d - 1}", "using dpos"], ["proof (prove)\nusing this:\n  0 < d\n\ngoal (1 subgoal):\n 1. x mod d \\<in> {0..d - 1}", "by auto"], ["proof (state)\nthis:\n  x mod d \\<in> {0..d - 1}\n\ngoal (2 subgoals):\n 1. \\<exists>x. P x \\<Longrightarrow> \\<exists>j\\<in>{0..d - 1}. P j\n 2. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "ultimately"], ["proof (chain)\npicking this:\n  P (x mod d)\n  x mod d \\<in> {0..d - 1}", "show ?RHS"], ["proof (prove)\nusing this:\n  P (x mod d)\n  x mod d \\<in> {0..d - 1}\n\ngoal (1 subgoal):\n 1. \\<exists>j\\<in>{0..d - 1}. P j", ".."], ["proof (state)\nthis:\n  \\<exists>j\\<in>{0..d - 1}. P j\n\ngoal (1 subgoal):\n 1. \\<exists>j\\<in>{0..d - 1}. P j \\<Longrightarrow> \\<exists>x. P x", "qed auto"], ["", "lemma cpmi_eq: \"(0::int) < D \\<Longrightarrow> (\\<exists>z. \\<forall>x. x < z \\<longrightarrow> (P x = P1 x))\n\\<Longrightarrow> \\<forall>x.\\<not>(\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P(b+j)) \\<longrightarrow> P (x) \\<longrightarrow> P (x - D) \n\\<Longrightarrow> \\<forall>x. \\<forall>k. P1 x = P1(x-k*D)\n\\<Longrightarrow> (\\<exists>x. P(x)) = ((\\<exists>j\\<in>{0..D - 1}. P1(j)) \\<or> (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P(b+j)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>x. P x) =\n                      ((\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n                       (\\<exists>j\\<in>{0..D - 1}.\n                           \\<exists>b\\<in>B. P (b + j)))", "apply(rule iffI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D); \\<exists>x. P x\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n                      (\\<exists>j\\<in>{0..D - 1}.\n                          \\<exists>b\\<in>B. P (b + j))\n 2. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D);\n     (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n     (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P (b + j))\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x. P x", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D);\n     (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n     (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P (b + j))\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x. P x\n 2. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D); \\<exists>x. P x\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n                      (\\<exists>j\\<in>{0..D - 1}.\n                          \\<exists>b\\<in>B. P (b + j))", "apply(drule minusinfinity)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>\\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D);\n     (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n     (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P (b + j))\\<rbrakk>\n    \\<Longrightarrow> \\<forall>x k. ?P1.3 x = ?P1.3 (x - k * D)\n 2. \\<lbrakk>\\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D);\n     (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n     (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P (b + j))\\<rbrakk>\n    \\<Longrightarrow> \\<exists>z. \\<forall>x<z. ?P3 x = ?P1.3 x\n 3. \\<lbrakk>\\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D);\n     (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n     (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P (b + j));\n     (\\<exists>x. ?P1.3 x) \\<longrightarrow> (\\<exists>x. ?P3 x)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x. P x\n 4. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D); \\<exists>x. P x\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n                      (\\<exists>j\\<in>{0..D - 1}.\n                          \\<exists>b\\<in>B. P (b + j))", "apply assumption+"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D);\n     (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n     (\\<exists>j\\<in>{0..D - 1}. \\<exists>b\\<in>B. P (b + j));\n     (\\<exists>x. P1 x) \\<longrightarrow> (\\<exists>x. P x)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x. P x\n 2. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D); \\<exists>x. P x\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n                      (\\<exists>j\\<in>{0..D - 1}.\n                          \\<exists>b\\<in>B. P (b + j))", "apply(fastforce)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < D; \\<exists>z. \\<forall>x<z. P x = P1 x;\n     \\<forall>x.\n        \\<not> (\\<exists>j\\<in>{0..D - 1}.\n                   \\<exists>b\\<in>B. P (b + j)) \\<longrightarrow>\n        P x \\<longrightarrow> P (x - D);\n     \\<forall>x k. P1 x = P1 (x - k * D); \\<exists>x. P x\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>j\\<in>{0..D - 1}. P1 j) \\<or>\n                      (\\<exists>j\\<in>{0..D - 1}.\n                          \\<exists>b\\<in>B. P (b + j))", "apply clarsimp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}.\n           \\<forall>b\\<in>B. \\<not> P (b + j)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j", "apply(subgoal_tac \"\\<And>k. 0\\<le>k \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k*D)\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 2. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply(frule_tac x = x and z=z in decr_lemma)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 2. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply(subgoal_tac \"P1(x - (\\<bar>x - z\\<bar> + 1) * D)\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 2. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z\\<rbrakk>\n       \\<Longrightarrow> P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\n 3. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "prefer 2"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z\\<rbrakk>\n       \\<Longrightarrow> P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\n 2. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 3. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply(subgoal_tac \"0 \\<le> (\\<bar>x - z\\<bar> + 1)\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        0 \\<le> \\<bar>x - z\\<bar> + 1\\<rbrakk>\n       \\<Longrightarrow> P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\n 2. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> \\<bar>x - z\\<bar> + 1\n 3. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 4. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "prefer 2"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> \\<bar>x - z\\<bar> + 1\n 2. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        0 \\<le> \\<bar>x - z\\<bar> + 1\\<rbrakk>\n       \\<Longrightarrow> P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\n 3. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 4. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply arith"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        0 \\<le> \\<bar>x - z\\<bar> + 1\\<rbrakk>\n       \\<Longrightarrow> P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\n 2. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 3. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply fastforce"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 2. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply(drule (1)  periodic_finite_ex)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>z x.\n       \\<lbrakk>\\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        \\<And>k.\n           0 \\<le> k \\<Longrightarrow>\n           \\<forall>x. P x \\<longrightarrow> P (x - k * D);\n        x - (\\<bar>x - z\\<bar> + 1) * D < z;\n        P1 (x - (\\<bar>x - z\\<bar> + 1) * D);\n        (\\<exists>x. P1 x) = (\\<exists>j\\<in>{0..D - 1}. P1 j)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>j\\<in>{0..D - 1}. P1 j\n 2. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>z x k.\n       \\<lbrakk>0 < D; \\<forall>x. P x \\<longrightarrow> P (x - D);\n        \\<forall>x k. P1 x = P1 (x - k * D); \\<forall>x<z. P x = P1 x; P x;\n        \\<forall>j\\<in>{0..D - 1}. \\<forall>b\\<in>B. \\<not> P (b + j);\n        0 \\<le> k\\<rbrakk>\n       \\<Longrightarrow> \\<forall>x. P x \\<longrightarrow> P (x - k * D)", "apply(blast dest:decr_mult_lemma)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem cp_thm:\n  assumes nq: \"nqfree \\<phi>\"\n  and u: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a\"\n  and d: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd d\"\n  and dp: \"d > 0\"\n  shows \"(\\<exists>x. Z.I \\<phi> (x#xs)) =\n   (\\<exists>j\\<in>{0..d - 1}. Z.I (inf\\<^sub>- \\<phi>) (j#xs) \\<or>\n   (\\<exists>(i,ks) \\<in> set(lbounds(Z.atoms\\<^sub>0 \\<phi>)). Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))\"\n  (is \"(\\<exists>x. ?P (x)) = (\\<exists> j\\<in> ?D. ?M j \\<or> (\\<exists>(i,ks)\\<in> ?B. ?P (?I i ks + j)))\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "from min_inf[OF nq u]"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     \\<forall>y<x. Z.I (inf\\<^sub>- \\<phi>) (y # ?xs) = Z.I \\<phi> (y # ?xs)", "have th: \"\\<exists>z.\\<forall>x<z. ?P x = ?M x\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     \\<forall>y<x. Z.I (inf\\<^sub>- \\<phi>) (y # ?xs) = Z.I \\<phi> (y # ?xs)\n\ngoal (1 subgoal):\n 1. \\<exists>z.\n       \\<forall>x<z. Z.I \\<phi> (x # xs) = Z.I (inf\\<^sub>- \\<phi>) (x # xs)", "by blast"], ["proof (state)\nthis:\n  \\<exists>z.\n     \\<forall>x<z. Z.I \\<phi> (x # xs) = Z.I (inf\\<^sub>- \\<phi>) (x # xs)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "let ?B' = \"{?I i ks |i ks. (i,ks) \\<in> ?B}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "have BB': \"(\\<exists>j\\<in>?D. \\<exists>(i,ks)\\<in> ?B. ?P (?I i ks + j)) = (\\<exists>j \\<in> ?D. \\<exists>b \\<in> ?B'. ?P (b + j))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>j\\<in>{0..d - 1}.\n        \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n           Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                        (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n           Z.I \\<phi> ((b + j) # xs))", "by auto"], ["proof (state)\nthis:\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n         Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)) =\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                      (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n         Z.I \\<phi> ((b + j) # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "hence th2: \"\\<forall> x. \\<not> (\\<exists> j \\<in> ?D. \\<exists> b \\<in> ?B'. ?P ((b + j))) \\<longrightarrow> ?P (x) \\<longrightarrow> ?P ((x - d))\""], ["proof (prove)\nusing this:\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n         Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)) =\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                      (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n         Z.I \\<phi> ((b + j) # xs))\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                  \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                                  (i, ks)\n                                  \\<in> set\n   (lbounds (atoms\\<^sub>0 \\<phi>))}.\n                     Z.I \\<phi> ((b + j) # xs)) \\<longrightarrow>\n       Z.I \\<phi> (x # xs) \\<longrightarrow> Z.I \\<phi> ((x - d) # xs)", "using \\<beta>[OF nq u d dp, of _ xs]"], ["proof (prove)\nusing this:\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n         Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)) =\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                      (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n         Z.I \\<phi> ((b + j) # xs))\n  \\<lbrakk>\\<not> (\\<exists>j\\<in>{0..d - 1}.\n                      \\<exists>(i, ks)\n                               \\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n                         ?x = i - \\<langle>ks,xs\\<rangle> + j);\n   Z.I \\<phi> (?x # xs)\\<rbrakk>\n  \\<Longrightarrow> Z.I \\<phi> ((?x - d) # xs)\n\ngoal (1 subgoal):\n 1. \\<forall>x.\n       \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                  \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                                  (i, ks)\n                                  \\<in> set\n   (lbounds (atoms\\<^sub>0 \\<phi>))}.\n                     Z.I \\<phi> ((b + j) # xs)) \\<longrightarrow>\n       Z.I \\<phi> (x # xs) \\<longrightarrow> Z.I \\<phi> ((x - d) # xs)", "by(simp add:Bex_def) metis"], ["proof (state)\nthis:\n  \\<forall>x.\n     \\<not> (\\<exists>j\\<in>{0..d - 1}.\n                \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                                (i, ks)\n                                \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n                   Z.I \\<phi> ((b + j) # xs)) \\<longrightarrow>\n     Z.I \\<phi> (x # xs) \\<longrightarrow> Z.I \\<phi> ((x - d) # xs)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "from min_inf_repeats[OF nq d]"], ["proof (chain)\npicking this:\n  Z.I (inf\\<^sub>- \\<phi>) ((?x - ?k * d) # ?xs) =\n  Z.I (inf\\<^sub>- \\<phi>) (?x # ?xs)", "have th3: \"\\<forall> x k. ?M x = ?M (x-k*d)\""], ["proof (prove)\nusing this:\n  Z.I (inf\\<^sub>- \\<phi>) ((?x - ?k * d) # ?xs) =\n  Z.I (inf\\<^sub>- \\<phi>) (?x # ?xs)\n\ngoal (1 subgoal):\n 1. \\<forall>x k.\n       Z.I (inf\\<^sub>- \\<phi>) (x # xs) =\n       Z.I (inf\\<^sub>- \\<phi>) ((x - k * d) # xs)", "by simp"], ["proof (state)\nthis:\n  \\<forall>x k.\n     Z.I (inf\\<^sub>- \\<phi>) (x # xs) =\n     Z.I (inf\\<^sub>- \\<phi>) ((x - k * d) # xs)\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "from cpmi_eq[OF dp th th2 th3] BB'"], ["proof (chain)\npicking this:\n  (\\<exists>x. Z.I \\<phi> (x # xs)) =\n  ((\\<exists>j\\<in>{0..d - 1}. Z.I (inf\\<^sub>- \\<phi>) (j # xs)) \\<or>\n   (\\<exists>j\\<in>{0..d - 1}.\n       \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                       (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n          Z.I \\<phi> ((b + j) # xs)))\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n         Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)) =\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                      (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n         Z.I \\<phi> ((b + j) # xs))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>x. Z.I \\<phi> (x # xs)) =\n  ((\\<exists>j\\<in>{0..d - 1}. Z.I (inf\\<^sub>- \\<phi>) (j # xs)) \\<or>\n   (\\<exists>j\\<in>{0..d - 1}.\n       \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                       (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n          Z.I \\<phi> ((b + j) # xs)))\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n         Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)) =\n  (\\<exists>j\\<in>{0..d - 1}.\n      \\<exists>b\\<in>{i - \\<langle>ks,xs\\<rangle> |i ks.\n                      (i, ks) \\<in> set (lbounds (atoms\\<^sub>0 \\<phi>))}.\n         Z.I \\<phi> ((b + j) # xs))\n\ngoal (1 subgoal):\n 1. (\\<exists>x. Z.I \\<phi> (x # xs)) =\n    (\\<exists>j\\<in>{0..d - 1}.\n        Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n        (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n            Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))", "by simp blast"], ["proof (state)\nthis:\n  (\\<exists>x. Z.I \\<phi> (x # xs)) =\n  (\\<exists>j\\<in>{0..d - 1}.\n      Z.I (inf\\<^sub>- \\<phi>) (j # xs) \\<or>\n      (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n          Z.I \\<phi> ((i - \\<langle>ks,xs\\<rangle> + j) # xs)))\n\ngoal:\nNo subgoals!", "qed"], ["", "(* end of Amine *)"], ["", "lemma qfree_min_inf[simp]: \"qfree \\<phi> \\<Longrightarrow> qfree (inf\\<^sub>- \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree \\<phi> \\<Longrightarrow> qfree (inf\\<^sub>- \\<phi>)", "by (induct \\<phi> rule:min_inf.induct) simp_all"], ["", "lemma I_qe_cooper\\<^sub>1:\nassumes norm: \"\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0\"\nand hd: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). hd_coeff_is1 a\" and \"nqfree \\<phi>\"\nshows \"Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x#xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "let ?as = \"Z.atoms\\<^sub>0 \\<phi>\""], ["proof (state)\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "let ?d = \"zlcms(map divisor ?as)\""], ["proof (state)\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "have \"?d > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < zlcms (map divisor (atoms\\<^sub>0 \\<phi>))", "using norm atoms_subset[of \\<phi>] \\<open>nqfree \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0\n  qfree \\<phi> \\<Longrightarrow>\n  set (atoms\\<^sub>0 \\<phi>) \\<subseteq> atoms \\<phi>\n  nqfree \\<phi>\n\ngoal (1 subgoal):\n 1. 0 < zlcms (map divisor (atoms\\<^sub>0 \\<phi>))", "by(fastforce intro:zlcms_pos)"], ["proof (state)\nthis:\n  0 < zlcms (map divisor (atoms\\<^sub>0 \\<phi>))\n\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "have alld: \"\\<forall>a\\<in>set(Z.atoms\\<^sub>0 \\<phi>). divisor a dvd ?d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>).\n       divisor a dvd zlcms (map divisor (atoms\\<^sub>0 \\<phi>))", "by(simp add:dvd_zlcms)"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set (atoms\\<^sub>0 \\<phi>).\n     divisor a dvd zlcms (map divisor (atoms\\<^sub>0 \\<phi>))\n\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "from cp_thm[OF \\<open>nqfree \\<phi>\\<close> hd alld \\<open>?d>0\\<close>]"], ["proof (chain)\npicking this:\n  (\\<exists>x. Z.I \\<phi> (x # ?xs)) =\n  (\\<exists>j\\<in>{0..zlcms (map divisor (atoms\\<^sub>0 \\<phi>)) - 1}.\n      Z.I (inf\\<^sub>- \\<phi>) (j # ?xs) \\<or>\n      (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n          Z.I \\<phi> ((i - \\<langle>ks,?xs\\<rangle> + j) # ?xs)))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>x. Z.I \\<phi> (x # ?xs)) =\n  (\\<exists>j\\<in>{0..zlcms (map divisor (atoms\\<^sub>0 \\<phi>)) - 1}.\n      Z.I (inf\\<^sub>- \\<phi>) (j # ?xs) \\<or>\n      (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n          Z.I \\<phi> ((i - \\<langle>ks,?xs\\<rangle> + j) # ?xs)))\n\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "using \\<open>nqfree \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  (\\<exists>x. Z.I \\<phi> (x # ?xs)) =\n  (\\<exists>j\\<in>{0..zlcms (map divisor (atoms\\<^sub>0 \\<phi>)) - 1}.\n      Z.I (inf\\<^sub>- \\<phi>) (j # ?xs) \\<or>\n      (\\<exists>(i, ks)\\<in>set (lbounds (atoms\\<^sub>0 \\<phi>)).\n          Z.I \\<phi> ((i - \\<langle>ks,?xs\\<rangle> + j) # ?xs)))\n  nqfree \\<phi>\n\ngoal (1 subgoal):\n 1. Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))", "by (simp add:qe_cooper\\<^sub>1_def I_subst[symmetric] split_def algebra_simps) blast"], ["proof (state)\nthis:\n  Z.I (qe_cooper\\<^sub>1 \\<phi>) xs = (\\<exists>x. Z.I \\<phi> (x # xs))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma divisor_hd_coeff1_neq0:\n  \"qfree \\<phi> \\<Longrightarrow> a \\<in> atoms \\<phi> \\<Longrightarrow> divisor a \\<noteq> 0 \\<Longrightarrow>\n   divisor (hd_coeff1 (zlcms (map hd_coeff (Z.atoms\\<^sub>0 \\<phi>))) a) \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>;\n     divisor a \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> divisor\n                       (hd_coeff1\n                         (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                         a) \\<noteq>\n                      0", "apply (case_tac a)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x11 x12.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Le x11 x12\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 2. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x11 x12.\n       \\<lbrakk>qfree \\<phi>; Le x11 x12 \\<in> atoms \\<phi>;\n        a = Le x11 x12\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Le x11 x12)) \\<noteq>\n                         0\n 2. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(rename_tac list)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x11 list.\n       \\<lbrakk>qfree \\<phi>; Le x11 list \\<in> atoms \\<phi>;\n        a = Le x11 list\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Le x11 list)) \\<noteq>\n                         0\n 2. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(case_tac list)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x11 list.\n       \\<lbrakk>qfree \\<phi>; Le x11 list \\<in> atoms \\<phi>;\n        a = Le x11 list; list = []\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Le x11 list)) \\<noteq>\n                         0\n 2. \\<And>x11 list aa lista.\n       \\<lbrakk>qfree \\<phi>; Le x11 list \\<in> atoms \\<phi>;\n        a = Le x11 list; list = aa # lista\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Le x11 list)) \\<noteq>\n                         0\n 3. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 4. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply simp"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x11 list aa lista.\n       \\<lbrakk>qfree \\<phi>; Le x11 list \\<in> atoms \\<phi>;\n        a = Le x11 list; list = aa # lista\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Le x11 list)) \\<noteq>\n                         0\n 2. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(simp split:if_split_asm)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 x23.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 x23 \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a = Dvd x21 x22 x23\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Dvd x21 x22 x23)) \\<noteq>\n                         0\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(rename_tac list)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 list.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 list \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a = Dvd x21 x22 list\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Dvd x21 x22 list)) \\<noteq>\n                         0\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(case_tac list)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x21 x22 list.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 list \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a = Dvd x21 x22 list; list = []\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Dvd x21 x22 list)) \\<noteq>\n                         0\n 2. \\<And>x21 x22 list aa lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 list \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a = Dvd x21 x22 list; list = aa # lista\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Dvd x21 x22 list)) \\<noteq>\n                         0\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply simp"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 list aa lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 list \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a = Dvd x21 x22 list; list = aa # lista\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (Dvd x21 x22 list)) \\<noteq>\n                         0\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(clarsimp split:if_split_asm)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 aa lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (aa # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a = Dvd x21 x22 (aa # lista); aa \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div aa = 0\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(hypsubst_thin)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(subgoal_tac \"a \\<in> set(map hd_coeff (Z.atoms\\<^sub>0 \\<phi>))\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(subgoal_tac \"\\<forall>i\\<in>set(map hd_coeff (Z.atoms\\<^sub>0 \\<phi>)). i \\<noteq> 0\")"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>));\n        \\<forall>i\\<in>set (map hd_coeff (atoms\\<^sub>0 \\<phi>)).\n           i \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>i\\<in>set\n   (map hd_coeff (atoms\\<^sub>0 \\<phi>)).\n                            i \\<noteq> 0\n 3. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\n 4. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply (metis dvd_zlcms mult_eq_0_iff dvd_mult_div_cancel zlcms0_iff)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>i\\<in>set\n   (map hd_coeff (atoms\\<^sub>0 \\<phi>)).\n                            i \\<noteq> 0\n 2. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply (simp add:set_atoms0_iff)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x21 x22 a lista.\n       \\<lbrakk>qfree \\<phi>; Dvd x21 x22 (a # lista) \\<in> atoms \\<phi>;\n        x21 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply(fastforce simp:image_def set_atoms0_iff Bex_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; a \\<in> atoms \\<phi>; divisor a \\<noteq> 0;\n        a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            a) \\<noteq>\n                         0", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 x33.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 x33 \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a = NDvd x31 x32 x33\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (NDvd x31 x32 x33)) \\<noteq>\n                         0", "apply(rename_tac list)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 list.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 list \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a = NDvd x31 x32 list\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (NDvd x31 x32 list)) \\<noteq>\n                         0", "apply(case_tac list)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x31 x32 list.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 list \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a = NDvd x31 x32 list; list = []\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (NDvd x31 x32 list)) \\<noteq>\n                         0\n 2. \\<And>x31 x32 list aa lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 list \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a = NDvd x31 x32 list; list = aa # lista\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (NDvd x31 x32 list)) \\<noteq>\n                         0", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 list aa lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 list \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a = NDvd x31 x32 list; list = aa # lista\\<rbrakk>\n       \\<Longrightarrow> divisor\n                          (hd_coeff1\n                            (zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)))\n                            (NDvd x31 x32 list)) \\<noteq>\n                         0", "apply(clarsimp split:if_split_asm)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 aa lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (aa # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a = NDvd x31 x32 (aa # lista); aa \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div aa = 0\\<rbrakk>\n       \\<Longrightarrow> False", "apply(hypsubst_thin)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> False", "apply(subgoal_tac \"a \\<in> set(map hd_coeff (Z.atoms\\<^sub>0 \\<phi>))\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))", "apply(subgoal_tac \"\\<forall>i\\<in>set(map hd_coeff (Z.atoms\\<^sub>0 \\<phi>)). i \\<noteq> 0\")"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>));\n        \\<forall>i\\<in>set (map hd_coeff (atoms\\<^sub>0 \\<phi>)).\n           i \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>i\\<in>set\n   (map hd_coeff (atoms\\<^sub>0 \\<phi>)).\n                            i \\<noteq> 0\n 3. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))", "apply (metis dvd_zlcms mult_eq_0_iff dvd_mult_div_cancel zlcms0_iff)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0;\n        a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))\\<rbrakk>\n       \\<Longrightarrow> \\<forall>i\\<in>set\n   (map hd_coeff (atoms\\<^sub>0 \\<phi>)).\n                            i \\<noteq> 0\n 2. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))", "apply (simp add:set_atoms0_iff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x31 x32 a lista.\n       \\<lbrakk>qfree \\<phi>; NDvd x31 x32 (a # lista) \\<in> atoms \\<phi>;\n        x31 \\<noteq> 0; a \\<noteq> 0;\n        zlcms (map hd_coeff (atoms\\<^sub>0 \\<phi>)) div a = 0\\<rbrakk>\n       \\<Longrightarrow> a \\<in> set (map hd_coeff (atoms\\<^sub>0 \\<phi>))", "apply(fastforce simp:image_def set_atoms0_iff Bex_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma hd_coeff_is1_hd_coeff1:\n  \"hd_coeff (hd_coeff1 m a) \\<noteq> 0 \\<longrightarrow> hd_coeff_is1 (hd_coeff1 m a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. hd_coeff (hd_coeff1 m a) \\<noteq> 0 \\<longrightarrow>\n    hd_coeff_is1 (hd_coeff1 m a)", "by (induct a rule: hd_coeff1.induct) (simp_all add:zsgn_def)"], ["", "lemma I_cooper1_hd_coeffs1: \"Z.normal \\<phi> \\<Longrightarrow> nqfree \\<phi>\n       \\<Longrightarrow> Z.I (qe_cooper\\<^sub>1(hd_coeffs1 \\<phi>)) xs = (\\<exists>x. Z.I \\<phi> (x # xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>Z.normal \\<phi>; nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> Z.I (qe_cooper\\<^sub>1 (hd_coeffs1 \\<phi>)) xs =\n                      (\\<exists>x. Z.I \\<phi> (x # xs))", "apply(simp add:Z.normal_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> Z.I (qe_cooper\\<^sub>1 (hd_coeffs1 \\<phi>)) xs =\n                      (\\<exists>x. Z.I \\<phi> (x # xs))", "apply(subst I_qe_cooper\\<^sub>1)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<forall>a\\<in>atoms (hd_coeffs1 \\<phi>).\n                         divisor a \\<noteq> 0\n 2. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<forall>a\\<in>set\n(atoms\\<^sub>0 (hd_coeffs1 \\<phi>)).\n                         hd_coeff_is1 a\n 3. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> nqfree (hd_coeffs1 \\<phi>)\n 4. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n                      (\\<exists>x. Z.I \\<phi> (x # xs))", "apply(clarsimp simp:hd_coeffs1_def image_def set_atoms0_iff divisor_hd_coeff1_neq0)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> \\<forall>a\\<in>set\n(atoms\\<^sub>0 (hd_coeffs1 \\<phi>)).\n                         hd_coeff_is1 a\n 2. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> nqfree (hd_coeffs1 \\<phi>)\n 3. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n                      (\\<exists>x. Z.I \\<phi> (x # xs))", "apply (clarsimp simp:hd_coeffs1_def qfree_map_fm set_atoms0_iff\n                     hd_coeff_is1_hd_coeff1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> nqfree (hd_coeffs1 \\<phi>)\n 2. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n                      (\\<exists>x. Z.I \\<phi> (x # xs))", "apply(simp add:hd_coeffs1_def nqfree_map_fm)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<forall>a\\<in>atoms \\<phi>. divisor a \\<noteq> 0;\n     nqfree \\<phi>\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>x. Z.I (hd_coeffs1 \\<phi>) (x # xs)) =\n                      (\\<exists>x. Z.I \\<phi> (x # xs))", "apply(simp add: I_hd_coeffs1)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "definition \"qe_cooper = Z.lift_nnf_qe (qe_cooper\\<^sub>1 \\<circ> hd_coeffs1)\""], ["", "lemma qfree_cooper1_hd_coeffs1: \"qfree \\<phi> \\<Longrightarrow> qfree (qe_cooper\\<^sub>1 (hd_coeffs1 \\<phi>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree \\<phi> \\<Longrightarrow>\n    qfree (qe_cooper\\<^sub>1 (hd_coeffs1 \\<phi>))", "by(auto simp:qe_cooper\\<^sub>1_def hd_coeffs1_def qfree_map_fm\n        intro!: qfree_or qfree_and qfree_list_disj qfree_min_inf)"], ["", "lemma normal_min_inf: \"Z.normal \\<phi> \\<Longrightarrow> Z.normal(inf\\<^sub>- \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.normal \\<phi> \\<Longrightarrow> Z.normal (inf\\<^sub>- \\<phi>)", "by(induct \\<phi> rule:min_inf.induct) simp_all"], ["", "lemma normal_cooper1: \"Z.normal \\<phi> \\<Longrightarrow> Z.normal(qe_cooper\\<^sub>1 \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.normal \\<phi> \\<Longrightarrow> Z.normal (qe_cooper\\<^sub>1 \\<phi>)", "by(simp add:qe_cooper\\<^sub>1_def Logic.or_def Z.normal_map_fm normal_min_inf split_def)"], ["", "lemma normal_hd_coeffs1: \"qfree \\<phi> \\<Longrightarrow> Z.normal \\<phi> \\<Longrightarrow> Z.normal(hd_coeffs1 \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>qfree \\<phi>; Z.normal \\<phi>\\<rbrakk>\n    \\<Longrightarrow> Z.normal (hd_coeffs1 \\<phi>)", "by(auto simp: hd_coeffs1_def image_def set_atoms0_iff\n              divisor_hd_coeff1_neq0 Z.normal_def)"], ["", "theorem I_cooper: \"Z.normal \\<phi> \\<Longrightarrow>  Z.I (qe_cooper \\<phi>) xs = Z.I \\<phi> xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Z.normal \\<phi> \\<Longrightarrow>\n    Z.I (qe_cooper \\<phi>) xs = Z.I \\<phi> xs", "by(simp add:qe_cooper_def Z.I_lift_nnf_qe_normal qfree_cooper1_hd_coeffs1 I_cooper1_hd_coeffs1 normal_cooper1 normal_hd_coeffs1)"], ["", "theorem qfree_cooper: \"qfree (qe_cooper \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree (qe_cooper \\<phi>)", "by(simp add:qe_cooper_def Z.qfree_lift_nnf_qe qfree_cooper1_hd_coeffs1)"], ["", "end"]]}