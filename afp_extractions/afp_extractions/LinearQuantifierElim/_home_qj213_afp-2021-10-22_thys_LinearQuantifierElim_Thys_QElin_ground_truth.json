{"file_name": "/home/qj213/afp-2021-10-22/thys/LinearQuantifierElim/Thys/QElin.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LinearQuantifierElim", "problem_names": ["theorem I_qe_FM\\<^sub>1:\nassumes less: \"\\<forall>a \\<in> set as. is_Less a\" and dep: \"\\<forall>a \\<in> set as. depends\\<^sub>R a\"\nshows \"R.I (qe_FM\\<^sub>1 as) xs = (\\<exists>x. \\<forall>a \\<in> set as. I\\<^sub>R a (x#xs))\"  (is \"?L = ?R\")", "lemma subst\\<^sub>0_pretty:\n \"subst\\<^sub>0 (Eq r (c#cs)) (Less s (d#ds)) = Less (s - (r*d)/c) (ds - (d/c) *\\<^sub>s cs)\"\n \"subst\\<^sub>0 (Eq r (c#cs)) (Eq s (d#ds)) = Eq (s - (r*d)/c) (ds - (d/c) *\\<^sub>s cs)\"", "lemma I_subst\\<^sub>0: \"depends\\<^sub>R a \\<Longrightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       I\\<^sub>R (subst\\<^sub>0 (Eq r (c#cs)) a) xs = I\\<^sub>R a ((r - \\<langle>cs,xs\\<rangle>)/c # xs)\"", "lemma qfree_qe_FM\\<^sub>1: \"qfree (qe_FM\\<^sub>1 as)\"", "theorem qfree_qe_FM: \"qfree (qe_FM f)\"", "lemmas qesimps = qe_FM_def R\\<^sub>e.lift_dnfeq_qe_def R\\<^sub>e.lift_eq_qe_def R.qelim_def qe_FM\\<^sub>1_def lbounds_def ubounds_def list_conj_def list_disj_def and_def or_def depends\\<^sub>R_def", "lemma \"qe_FM(TrueF) = TrueF\"", "lemma\n  \"qe_FM(ExQ (And (Atom(Less 0 [1])) (Atom(Less 0 [-1])))) = Atom(Less 0 [])\"", "lemma\n \"qe_FM(ExQ (And (Atom(Less 0 [1])) (Atom(Less (- 1) [-1])))) = Atom(Less (- 1) [])\""], "translations": [["", "theorem I_qe_FM\\<^sub>1:\nassumes less: \"\\<forall>a \\<in> set as. is_Less a\" and dep: \"\\<forall>a \\<in> set as. depends\\<^sub>R a\"\nshows \"R.I (qe_FM\\<^sub>1 as) xs = (\\<exists>x. \\<forall>a \\<in> set as. I\\<^sub>R a (x#xs))\"  (is \"?L = ?R\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. R.I (qe_FM\\<^sub>1 as) xs =\n    (\\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "let ?Ls = \"set(lbounds as)\""], ["proof (state)\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "let ?Us = \"set(ubounds as)\""], ["proof (state)\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "let ?lbs = \"UN (r,cs):?Ls. {r + \\<langle>cs,xs\\<rangle>}\""], ["proof (state)\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "let ?ubs = \"UN (r,cs):?Us. {r + \\<langle>cs,xs\\<rangle>}\""], ["proof (state)\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "have fins: \"finite ?lbs \\<and> finite ?ubs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     (\\<Union>(r, cs)\\<in>set (lbounds as).\n         {r + \\<langle>cs,xs\\<rangle>}) \\<and>\n    finite\n     (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})", "by auto"], ["proof (state)\nthis:\n  finite\n   (\\<Union>(r, cs)\\<in>set (lbounds as).\n       {r + \\<langle>cs,xs\\<rangle>}) \\<and>\n  finite\n   (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "have 2: \"\\<forall>f\\<in> set as. \\<exists>r c cs. f = Less r (c#cs) \\<and>\n          (c>0 \\<and> (r/c,(-1/c)*\\<^sub>s cs) \\<in> ?Ls \\<or> c<0 \\<and> (r/c,(-1/c)*\\<^sub>s cs) \\<in> ?Us)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>set as.\n       \\<exists>r c cs.\n          f = Less r (c # cs) \\<and>\n          (0 < c \\<and>\n           (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n           c < 0 \\<and>\n           (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))", "using dep less"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set as. depends\\<^sub>R a\n  \\<forall>a\\<in>set as. is_Less a\n\ngoal (1 subgoal):\n 1. \\<forall>f\\<in>set as.\n       \\<exists>r c cs.\n          f = Less r (c # cs) \\<and>\n          (0 < c \\<and>\n           (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n           c < 0 \\<and>\n           (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))", "by(fastforce simp:set_lbounds set_ubounds is_Less_iff depends\\<^sub>R_def\n                split:list.splits)"], ["proof (state)\nthis:\n  \\<forall>f\\<in>set as.\n     \\<exists>r c cs.\n        f = Less r (c # cs) \\<and>\n        (0 < c \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n         c < 0 \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume ?L"], ["proof (state)\nthis:\n  R.I (qe_FM\\<^sub>1 as) xs\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "have 1: \"\\<forall>x\\<in>?lbs. \\<forall>y\\<in>?ubs. x < y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>\\<Union>(r, cs)\\<in>set (lbounds as).\n                      {r + \\<langle>cs,xs\\<rangle>}.\n       \\<forall>y\\<in>\\<Union>(r, cs)\\<in>set (ubounds as).\n                         {r + \\<langle>cs,xs\\<rangle>}.\n          x < y", "proof (rule ballI)+"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n                            {r + \\<langle>cs,xs\\<rangle>});\n        y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>})\\<rbrakk>\n       \\<Longrightarrow> x < y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n                            {r + \\<langle>cs,xs\\<rangle>});\n        y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>})\\<rbrakk>\n       \\<Longrightarrow> x < y", "assume \"x\\<in>?lbs\" \"y\\<in>?ubs\""], ["proof (state)\nthis:\n  x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n  y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n                            {r + \\<langle>cs,xs\\<rangle>});\n        y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>})\\<rbrakk>\n       \\<Longrightarrow> x < y", "then"], ["proof (chain)\npicking this:\n  x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n  y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})", "obtain r cs\n      where \"(r,cs) \\<in> ?Ls \\<and> x = r + \\<langle>cs,xs\\<rangle>\""], ["proof (prove)\nusing this:\n  x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n  y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. (\\<And>r cs.\n        (r, cs) \\<in> set (lbounds as) \\<and>\n        x = r + \\<langle>cs,xs\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  (r, cs) \\<in> set (lbounds as) \\<and> x = r + \\<langle>cs,xs\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n                            {r + \\<langle>cs,xs\\<rangle>});\n        y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>})\\<rbrakk>\n       \\<Longrightarrow> x < y", "moreover"], ["proof (state)\nthis:\n  (r, cs) \\<in> set (lbounds as) \\<and> x = r + \\<langle>cs,xs\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n                            {r + \\<langle>cs,xs\\<rangle>});\n        y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>})\\<rbrakk>\n       \\<Longrightarrow> x < y", "from \\<open>y\\<in>?ubs\\<close>"], ["proof (chain)\npicking this:\n  y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})", "obtain s ds\n      where \"(s,ds) \\<in> ?Us \\<and> y = s + \\<langle>ds,xs\\<rangle>\""], ["proof (prove)\nusing this:\n  y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. (\\<And>s ds.\n        (s, ds) \\<in> set (ubounds as) \\<and>\n        y = s + \\<langle>ds,xs\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  (s, ds) \\<in> set (ubounds as) \\<and> y = s + \\<langle>ds,xs\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>x \\<in> (\\<Union>(r, cs)\\<in>set (lbounds as).\n                            {r + \\<langle>cs,xs\\<rangle>});\n        y \\<in> (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>})\\<rbrakk>\n       \\<Longrightarrow> x < y", "ultimately"], ["proof (chain)\npicking this:\n  (r, cs) \\<in> set (lbounds as) \\<and> x = r + \\<langle>cs,xs\\<rangle>\n  (s, ds) \\<in> set (ubounds as) \\<and> y = s + \\<langle>ds,xs\\<rangle>", "show \"x<y\""], ["proof (prove)\nusing this:\n  (r, cs) \\<in> set (lbounds as) \\<and> x = r + \\<langle>cs,xs\\<rangle>\n  (s, ds) \\<in> set (ubounds as) \\<and> y = s + \\<langle>ds,xs\\<rangle>\n\ngoal (1 subgoal):\n 1. x < y", "using \\<open>?L\\<close>"], ["proof (prove)\nusing this:\n  (r, cs) \\<in> set (lbounds as) \\<and> x = r + \\<langle>cs,xs\\<rangle>\n  (s, ds) \\<in> set (ubounds as) \\<and> y = s + \\<langle>ds,xs\\<rangle>\n  R.I (qe_FM\\<^sub>1 as) xs\n\ngoal (1 subgoal):\n 1. x < y", "by(fastforce simp:qe_FM\\<^sub>1_def algebra_simps iprod_left_diff_distrib)"], ["proof (state)\nthis:\n  x < y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>\\<Union>(r, cs)\\<in>set (lbounds as).\n                    {r + \\<langle>cs,xs\\<rangle>}.\n     \\<forall>y\\<in>\\<Union>(r, cs)\\<in>set (ubounds as).\n                       {r + \\<langle>cs,xs\\<rangle>}.\n        x < y\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "{"], ["proof (state)\nthis:\n  \\<forall>x\\<in>\\<Union>(r, cs)\\<in>set (lbounds as).\n                    {r + \\<langle>cs,xs\\<rangle>}.\n     \\<forall>y\\<in>\\<Union>(r, cs)\\<in>set (ubounds as).\n                       {r + \\<langle>cs,xs\\<rangle>}.\n        x < y\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume nonempty: \"?lbs \\<noteq> {} \\<and> ?ubs \\<noteq> {}\""], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence \"Max ?lbs < Min ?ubs\""], ["proof (prove)\nusing this:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n    < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})", "using fins 1"], ["proof (prove)\nusing this:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n  finite\n   (\\<Union>(r, cs)\\<in>set (lbounds as).\n       {r + \\<langle>cs,xs\\<rangle>}) \\<and>\n  finite\n   (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n  \\<forall>x\\<in>\\<Union>(r, cs)\\<in>set (lbounds as).\n                    {r + \\<langle>cs,xs\\<rangle>}.\n     \\<forall>y\\<in>\\<Union>(r, cs)\\<in>set (ubounds as).\n                       {r + \\<langle>cs,xs\\<rangle>}.\n        x < y\n\ngoal (1 subgoal):\n 1. Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n    < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})", "by(blast intro: Max_less_iff[THEN iffD2] Min_gr_iff[THEN iffD2])"], ["proof (state)\nthis:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "then"], ["proof (chain)\npicking this:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n            {r + \\<langle>cs,xs\\<rangle>})", "obtain m where \"Max ?lbs < m \\<and> m < Min ?ubs\""], ["proof (prove)\nusing this:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>})\n        < m \\<and>\n        m < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>}) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using dense[where 'a = real]"], ["proof (prove)\nusing this:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n  ?x < ?y \\<Longrightarrow> \\<exists>z>?x. z < ?y\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>})\n        < m \\<and>\n        m < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                    {r + \\<langle>cs,xs\\<rangle>}) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < m \\<and>\n  m < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence \"\\<forall>a \\<in> set as. I\\<^sub>R a (m#xs)\""], ["proof (prove)\nusing this:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < m \\<and>\n  m < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set as. I\\<^sub>R a (m # xs)", "using 2 nonempty"], ["proof (prove)\nusing this:\n  Max (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>})\n  < m \\<and>\n  m < Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n              {r + \\<langle>cs,xs\\<rangle>})\n  \\<forall>f\\<in>set as.\n     \\<exists>r c cs.\n        f = Less r (c # cs) \\<and>\n        (0 < c \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n         c < 0 \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set as. I\\<^sub>R a (m # xs)", "apply (auto simp: Ball_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>\\<forall>x.\n                   x \\<in> set as \\<longrightarrow>\n                   (\\<exists>r c cs.\n                       x = Less r (c # cs) \\<and>\n                       (0 < c \\<and>\n                        (r / c, - (1 / c) *\\<^sub>s cs)\n                        \\<in> set (lbounds as) \\<or>\n                        c < 0 \\<and>\n                        (r / c, - (1 / c) *\\<^sub>s cs)\n                        \\<in> set (ubounds as)));\n        \\<forall>x.\n           (\\<exists>xa\\<in>set (lbounds as).\n               x \\<in> (case xa of\n                        (r, cs) \\<Rightarrow>\n                          {r + \\<langle>cs,xs\\<rangle>})) \\<longrightarrow>\n           x < m;\n        \\<forall>x.\n           (\\<exists>xa\\<in>set (ubounds as).\n               x \\<in> (case xa of\n                        (r, cs) \\<Rightarrow>\n                          {r + \\<langle>cs,xs\\<rangle>})) \\<longrightarrow>\n           m < x;\n        (a, b) \\<in> set (lbounds as); (aa, ba) \\<in> set (ubounds as);\n        x \\<in> set as; \\<not> I\\<^sub>R x (m # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "apply (auto simp: Bex_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x a b aa ba.\n       \\<lbrakk>\\<forall>x.\n                   x \\<in> set as \\<longrightarrow>\n                   (\\<exists>r c cs.\n                       x = Less r (c # cs) \\<and>\n                       (0 < c \\<and>\n                        (r / c, - (1 / c) *\\<^sub>s cs)\n                        \\<in> set (lbounds as) \\<or>\n                        c < 0 \\<and>\n                        (r / c, - (1 / c) *\\<^sub>s cs)\n                        \\<in> set (ubounds as)));\n        \\<forall>x.\n           (\\<exists>a b.\n               (a, b) \\<in> set (lbounds as) \\<and>\n               x = a + \\<langle>b,xs\\<rangle>) \\<longrightarrow>\n           x < m;\n        \\<forall>x.\n           (\\<exists>a b.\n               (a, b) \\<in> set (ubounds as) \\<and>\n               x = a + \\<langle>b,xs\\<rangle>) \\<longrightarrow>\n           m < x;\n        (a, b) \\<in> set (lbounds as); (aa, ba) \\<in> set (ubounds as);\n        x \\<in> set as; \\<not> I\\<^sub>R x (m # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "apply (fastforce simp: field_simps)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set as. I\\<^sub>R a (m # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence ?R"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set as. I\\<^sub>R a (m # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "}"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "moreover"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "{"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume asm: \"?lbs \\<noteq> {} \\<and> ?ubs = {}\""], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) = {}\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "have \"\\<forall>a \\<in> set as. I\\<^sub>R a ((Max ?lbs + 1) # xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set as.\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "assume \"a \\<in> set as\""], ["proof (state)\nthis:\n  a \\<in> set as\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "then"], ["proof (chain)\npicking this:\n  a \\<in> set as", "obtain r c cs\n        where \"a = Less r (c#cs)\" \"c>0\" \"(r/c,(-1/c)*\\<^sub>s cs) \\<in> ?Ls\""], ["proof (prove)\nusing this:\n  a \\<in> set as\n\ngoal (1 subgoal):\n 1. (\\<And>r c cs.\n        \\<lbrakk>a = Less r (c # cs); 0 < c;\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using asm 2"], ["proof (prove)\nusing this:\n  a \\<in> set as\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) = {}\n  \\<forall>f\\<in>set as.\n     \\<exists>r c cs.\n        f = Less r (c # cs) \\<and>\n        (0 < c \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n         c < 0 \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))\n\ngoal (1 subgoal):\n 1. (\\<And>r c cs.\n        \\<lbrakk>a = Less r (c # cs); 0 < c;\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (fastforce simp: field_simps)"], ["proof (state)\nthis:\n  a = Less r (c # cs)\n  0 < c\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "moreover"], ["proof (state)\nthis:\n  a = Less r (c # cs)\n  0 < c\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "hence \"(r - \\<langle>cs,xs\\<rangle>)/c \\<le> Max ?lbs\""], ["proof (prove)\nusing this:\n  a = Less r (c # cs)\n  0 < c\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\n\ngoal (1 subgoal):\n 1. (r - \\<langle>cs,xs\\<rangle>) / c\n    \\<le> Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>})", "using asm fins"], ["proof (prove)\nusing this:\n  a = Less r (c # cs)\n  0 < c\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) = {}\n  finite\n   (\\<Union>(r, cs)\\<in>set (lbounds as).\n       {r + \\<langle>cs,xs\\<rangle>}) \\<and>\n  finite\n   (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. (r - \\<langle>cs,xs\\<rangle>) / c\n    \\<le> Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>})", "by(auto intro!: Max_ge_iff[THEN iffD2])\n          (force simp add:field_simps)"], ["proof (state)\nthis:\n  (r - \\<langle>cs,xs\\<rangle>) / c\n  \\<le> Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) +\n          1) #\n         xs)", "ultimately"], ["proof (chain)\npicking this:\n  a = Less r (c # cs)\n  0 < c\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\n  (r - \\<langle>cs,xs\\<rangle>) / c\n  \\<le> Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>})", "show \"I\\<^sub>R a ((Max ?lbs + 1) # xs)\""], ["proof (prove)\nusing this:\n  a = Less r (c # cs)\n  0 < c\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as)\n  (r - \\<langle>cs,xs\\<rangle>) / c\n  \\<le> Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. I\\<^sub>R a\n     ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n               {r + \\<langle>cs,xs\\<rangle>}) +\n       1) #\n      xs)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  I\\<^sub>R a\n   ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n             {r + \\<langle>cs,xs\\<rangle>}) +\n     1) #\n    xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set as.\n     I\\<^sub>R a\n      ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>}) +\n        1) #\n       xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence ?R"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set as.\n     I\\<^sub>R a\n      ((Max (\\<Union>(r, cs)\\<in>set (lbounds as).\n                {r + \\<langle>cs,xs\\<rangle>}) +\n        1) #\n       xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "}"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "moreover"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "{"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume asm: \"?lbs = {} \\<and> ?ubs \\<noteq> {}\""], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "have \"\\<forall>a \\<in> set as. I\\<^sub>R a ((Min ?ubs - 1) # xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set as.\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "fix a"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "assume \"a \\<in> set as\""], ["proof (state)\nthis:\n  a \\<in> set as\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "then"], ["proof (chain)\npicking this:\n  a \\<in> set as", "obtain r c cs\n        where \"a = Less r (c#cs)\" \"c<0\" \"(r/c,(-1/c)*\\<^sub>s cs) \\<in> ?Us\""], ["proof (prove)\nusing this:\n  a \\<in> set as\n\ngoal (1 subgoal):\n 1. (\\<And>r c cs.\n        \\<lbrakk>a = Less r (c # cs); c < 0;\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using asm 2"], ["proof (prove)\nusing this:\n  a \\<in> set as\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n  \\<forall>f\\<in>set as.\n     \\<exists>r c cs.\n        f = Less r (c # cs) \\<and>\n        (0 < c \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n         c < 0 \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))\n\ngoal (1 subgoal):\n 1. (\\<And>r c cs.\n        \\<lbrakk>a = Less r (c # cs); c < 0;\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  a = Less r (c # cs)\n  c < 0\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "moreover"], ["proof (state)\nthis:\n  a = Less r (c # cs)\n  c < 0\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "hence \"Min ?ubs \\<le> (r - \\<langle>cs,xs\\<rangle>)/c\""], ["proof (prove)\nusing this:\n  a = Less r (c # cs)\n  c < 0\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\n\ngoal (1 subgoal):\n 1. Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n    \\<le> (r - \\<langle>cs,xs\\<rangle>) / c", "using asm fins"], ["proof (prove)\nusing this:\n  a = Less r (c # cs)\n  c < 0\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {}\n  finite\n   (\\<Union>(r, cs)\\<in>set (lbounds as).\n       {r + \\<langle>cs,xs\\<rangle>}) \\<and>\n  finite\n   (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n\ngoal (1 subgoal):\n 1. Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n            {r + \\<langle>cs,xs\\<rangle>})\n    \\<le> (r - \\<langle>cs,xs\\<rangle>) / c", "by(auto intro!: Min_le_iff[THEN iffD2])\n          (force simp add:field_simps)"], ["proof (state)\nthis:\n  Min (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n  \\<le> (r - \\<langle>cs,xs\\<rangle>) / c\n\ngoal (1 subgoal):\n 1. \\<And>a.\n       a \\<in> set as \\<Longrightarrow>\n       I\\<^sub>R a\n        ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                  {r + \\<langle>cs,xs\\<rangle>}) -\n          1) #\n         xs)", "ultimately"], ["proof (chain)\npicking this:\n  a = Less r (c # cs)\n  c < 0\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\n  Min (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n  \\<le> (r - \\<langle>cs,xs\\<rangle>) / c", "show \"I\\<^sub>R a ((Min ?ubs - 1) # xs)\""], ["proof (prove)\nusing this:\n  a = Less r (c # cs)\n  c < 0\n  (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as)\n  Min (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>})\n  \\<le> (r - \\<langle>cs,xs\\<rangle>) / c\n\ngoal (1 subgoal):\n 1. I\\<^sub>R a\n     ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n               {r + \\<langle>cs,xs\\<rangle>}) -\n       1) #\n      xs)", "by (simp add: field_simps)"], ["proof (state)\nthis:\n  I\\<^sub>R a\n   ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n             {r + \\<langle>cs,xs\\<rangle>}) -\n     1) #\n    xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set as.\n     I\\<^sub>R a\n      ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                {r + \\<langle>cs,xs\\<rangle>}) -\n        1) #\n       xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence ?R"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set as.\n     I\\<^sub>R a\n      ((Min (\\<Union>(r, cs)\\<in>set (ubounds as).\n                {r + \\<langle>cs,xs\\<rangle>}) -\n        1) #\n       xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "}"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "moreover"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "{"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume \"?lbs = {} \\<and> ?ubs = {}\""], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) = {}\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence ?R"], ["proof (prove)\nusing this:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) = {}\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", "using 2 less"], ["proof (prove)\nusing this:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) = {}\n  \\<forall>f\\<in>set as.\n     \\<exists>r c cs.\n        f = Less r (c # cs) \\<and>\n        (0 < c \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (lbounds as) \\<or>\n         c < 0 \\<and>\n         (r / c, (- 1 / c) *\\<^sub>s cs) \\<in> set (ubounds as))\n  \\<forall>a\\<in>set as. is_Less a\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", "by auto (rule, fast)"], ["proof (state)\nthis:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "}"], ["proof (state)\nthis:\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (2 subgoals):\n 1. R.I (qe_FM\\<^sub>1 as) xs \\<Longrightarrow>\n    \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n 2. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", "show ?R"], ["proof (prove)\nusing this:\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n  (\\<Union>(r, cs)\\<in>set (lbounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as).\n      {r + \\<langle>cs,xs\\<rangle>}) \\<noteq>\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n  (\\<Union>(r, cs)\\<in>set (lbounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<and>\n  (\\<Union>(r, cs)\\<in>set (ubounds as). {r + \\<langle>cs,xs\\<rangle>}) =\n  {} \\<Longrightarrow>\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", "by blast"], ["proof (state)\nthis:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "let ?Ls = \"set(lbounds as)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "let ?Us = \"set(ubounds as)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume ?R"], ["proof (state)\nthis:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "then"], ["proof (chain)\npicking this:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)", "obtain x where 1: \"\\<forall>a\\<in> set as. I\\<^sub>R a (x#xs)\""], ["proof (prove)\nusing this:\n  \\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "{"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "fix r c cs s d ds"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "assume \"Less r (c#cs) \\<in> set as\" \"0 < c\" \"Less s (d#ds) \\<in> set as\" \"d < 0\""], ["proof (state)\nthis:\n  Less r (c # cs) \\<in> set as\n  0 < c\n  Less s (d # ds) \\<in> set as\n  d < 0\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence \"r < c*x + \\<langle>cs,xs\\<rangle>\" \"s < d*x + \\<langle>ds,xs\\<rangle>\" \"c > 0\" \"d < 0\""], ["proof (prove)\nusing this:\n  Less r (c # cs) \\<in> set as\n  0 < c\n  Less s (d # ds) \\<in> set as\n  d < 0\n\ngoal (1 subgoal):\n 1. (r < c * x + \\<langle>cs,xs\\<rangle> &&&\n     s < d * x + \\<langle>ds,xs\\<rangle>) &&&\n    0 < c &&& d < 0", "using 1"], ["proof (prove)\nusing this:\n  Less r (c # cs) \\<in> set as\n  0 < c\n  Less s (d # ds) \\<in> set as\n  d < 0\n  \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs)\n\ngoal (1 subgoal):\n 1. (r < c * x + \\<langle>cs,xs\\<rangle> &&&\n     s < d * x + \\<langle>ds,xs\\<rangle>) &&&\n    0 < c &&& d < 0", "by auto"], ["proof (state)\nthis:\n  r < c * x + \\<langle>cs,xs\\<rangle>\n  s < d * x + \\<langle>ds,xs\\<rangle>\n  0 < c\n  d < 0\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence \"(r - \\<langle>cs,xs\\<rangle>)/c < x\" \"x < (s - \\<langle>ds,xs\\<rangle>)/d\""], ["proof (prove)\nusing this:\n  r < c * x + \\<langle>cs,xs\\<rangle>\n  s < d * x + \\<langle>ds,xs\\<rangle>\n  0 < c\n  d < 0\n\ngoal (1 subgoal):\n 1. (r - \\<langle>cs,xs\\<rangle>) / c < x &&&\n    x < (s - \\<langle>ds,xs\\<rangle>) / d", "by(simp add:field_simps)+"], ["proof (state)\nthis:\n  (r - \\<langle>cs,xs\\<rangle>) / c < x\n  x < (s - \\<langle>ds,xs\\<rangle>) / d\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "hence \"(r - \\<langle>cs,xs\\<rangle>)/c < (s - \\<langle>ds,xs\\<rangle>)/d\""], ["proof (prove)\nusing this:\n  (r - \\<langle>cs,xs\\<rangle>) / c < x\n  x < (s - \\<langle>ds,xs\\<rangle>) / d\n\ngoal (1 subgoal):\n 1. (r - \\<langle>cs,xs\\<rangle>) / c < (s - \\<langle>ds,xs\\<rangle>) / d", "by arith"], ["proof (state)\nthis:\n  (r - \\<langle>cs,xs\\<rangle>) / c < (s - \\<langle>ds,xs\\<rangle>) / d\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "}"], ["proof (state)\nthis:\n  \\<lbrakk>Less ?r2 (?c2 # ?cs2) \\<in> set as; 0 < ?c2;\n   Less ?s2 (?d2 # ?ds2) \\<in> set as; ?d2 < 0\\<rbrakk>\n  \\<Longrightarrow> (?r2 - \\<langle>?cs2,xs\\<rangle>) / ?c2\n                    < (?s2 - \\<langle>?ds2,xs\\<rangle>) / ?d2\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs) \\<Longrightarrow>\n    R.I (qe_FM\\<^sub>1 as) xs", "thus ?L"], ["proof (prove)\nusing this:\n  \\<lbrakk>Less ?r2 (?c2 # ?cs2) \\<in> set as; 0 < ?c2;\n   Less ?s2 (?d2 # ?ds2) \\<in> set as; ?d2 < 0\\<rbrakk>\n  \\<Longrightarrow> (?r2 - \\<langle>?cs2,xs\\<rangle>) / ?c2\n                    < (?s2 - \\<langle>?ds2,xs\\<rangle>) / ?d2\n\ngoal (1 subgoal):\n 1. R.I (qe_FM\\<^sub>1 as) xs", "by (auto simp: qe_FM\\<^sub>1_def iprod_left_diff_distrib less field_simps set_lbounds set_ubounds)"], ["proof (state)\nthis:\n  R.I (qe_FM\\<^sub>1 as) xs\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary I_qe_FM\\<^sub>1_pretty:\n  \"\\<forall>a \\<in> set as. is_Less a \\<and> depends\\<^sub>R a \\<Longrightarrow> R.is_dnf_qe qe_FM\\<^sub>1 as\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set as.\n       is_Less a \\<and> depends\\<^sub>R a \\<Longrightarrow>\n    R.is_dnf_qe qe_FM\\<^sub>1 as", "by(metis I_qe_FM\\<^sub>1)"], ["", "fun subst\\<^sub>0 :: \"atom \\<Rightarrow> atom \\<Rightarrow> atom\" where\n\"subst\\<^sub>0 (Eq r (c#cs)) a = (case a of\n   Less s (d#ds) \\<Rightarrow> Less (s - (r*d)/c) (ds - (d/c) *\\<^sub>s cs)\n | Eq s (d#ds) \\<Rightarrow> Eq (s - (r*d)/c) (ds - (d/c) *\\<^sub>s cs))\""], ["", "lemma subst\\<^sub>0_pretty:\n \"subst\\<^sub>0 (Eq r (c#cs)) (Less s (d#ds)) = Less (s - (r*d)/c) (ds - (d/c) *\\<^sub>s cs)\"\n \"subst\\<^sub>0 (Eq r (c#cs)) (Eq s (d#ds)) = Eq (s - (r*d)/c) (ds - (d/c) *\\<^sub>s cs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst\\<^sub>0 (Eq r (c # cs)) (Less s (d # ds)) =\n    Less (s - r * d / c) (ds - (d / c) *\\<^sub>s cs) &&&\n    subst\\<^sub>0 (Eq r (c # cs)) (Eq s (d # ds)) =\n    Eq (s - r * d / c) (ds - (d / c) *\\<^sub>s cs)", "by auto"], ["", "lemma I_subst\\<^sub>0: \"depends\\<^sub>R a \\<Longrightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       I\\<^sub>R (subst\\<^sub>0 (Eq r (c#cs)) a) xs = I\\<^sub>R a ((r - \\<langle>cs,xs\\<rangle>)/c # xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>depends\\<^sub>R a; c \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> I\\<^sub>R (subst\\<^sub>0 (Eq r (c # cs)) a) xs =\n                      I\\<^sub>R a ((r - \\<langle>cs,xs\\<rangle>) / c # xs)", "apply(cases a)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x11 x12.\n       \\<lbrakk>depends\\<^sub>R a; c \\<noteq> 0; a = Less x11 x12\\<rbrakk>\n       \\<Longrightarrow> I\\<^sub>R (subst\\<^sub>0 (Eq r (c # cs)) a) xs =\n                         I\\<^sub>R a\n                          ((r - \\<langle>cs,xs\\<rangle>) / c # xs)\n 2. \\<And>x21 x22.\n       \\<lbrakk>depends\\<^sub>R a; c \\<noteq> 0; a = Eq x21 x22\\<rbrakk>\n       \\<Longrightarrow> I\\<^sub>R (subst\\<^sub>0 (Eq r (c # cs)) a) xs =\n                         I\\<^sub>R a\n                          ((r - \\<langle>cs,xs\\<rangle>) / c # xs)", "by (auto simp add: depends\\<^sub>R_def iprod_left_diff_distrib algebra_simps diff_divide_distrib split:list.splits)"], ["", "interpretation R\\<^sub>e:\n  ATOM_EQ neg\\<^sub>R \"(\\<lambda>a. True)\" I\\<^sub>R depends\\<^sub>R decr\\<^sub>R\n          \"(\\<lambda>Eq _ (c#_) \\<Rightarrow> c \\<noteq> 0 | _ \\<Rightarrow> False)\"\n          \"(\\<lambda>Eq r cs \\<Rightarrow> r=0 \\<and> (\\<forall>c\\<in> set cs. c=0) | _ \\<Rightarrow> False)\" subst\\<^sub>0"], ["proof (prove)\ngoal (1 subgoal):\n 1. ATOM_EQ neg\\<^sub>R (\\<lambda>a. True) I\\<^sub>R depends\\<^sub>R\n     decr\\<^sub>R\n     (\\<lambda>x.\n         case x of Less real list \\<Rightarrow> False\n         | Eq x [] \\<Rightarrow> False\n         | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0)\n     (\\<lambda>x.\n         case x of Less real list \\<Rightarrow> False\n         | Eq r cs \\<Rightarrow>\n             r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0))\n     subst\\<^sub>0", "apply(unfold_locales)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>eqa x xs a.\n       \\<lbrakk>case eqa of Less real list \\<Rightarrow> False\n                | Eq x [] \\<Rightarrow> False\n                | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0;\n        \\<not> (case eqa of Less real list \\<Rightarrow> False\n                | Eq r cs \\<Rightarrow>\n                    r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0));\n        I\\<^sub>R eqa (x # xs); depends\\<^sub>R a\\<rbrakk>\n       \\<Longrightarrow> I\\<^sub>R (subst\\<^sub>0 eqa a) xs =\n                         I\\<^sub>R a (x # xs)\n 2. \\<And>eqa xs.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow>\n           r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0) \\<Longrightarrow>\n       I\\<^sub>R eqa xs\n 3. \\<And>eq xs.\n       case eq of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       \\<exists>x. I\\<^sub>R eq (x # xs)\n 4. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply(simp del:subst\\<^sub>0.simps add:I_subst\\<^sub>0 split:atom.splits list.splits)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>eqa xs.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow>\n           r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0) \\<Longrightarrow>\n       I\\<^sub>R eqa xs\n 2. \\<And>eq xs.\n       case eq of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       \\<exists>x. I\\<^sub>R eq (x # xs)\n 3. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply(simp add: iprod0_if_coeffs0 split:atom.splits)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>eq xs.\n       case eq of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       \\<exists>x. I\\<^sub>R eq (x # xs)\n 2. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply(simp split:atom.splits list.splits)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>eqa xs x21 x22 x21a x22a.\n       \\<lbrakk>eqa = Eq x21 (x21a # x22a); x22 = x21a # x22a;\n        x21a \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x.\n                            x21 = x21a * x + \\<langle>x22a,xs\\<rangle>\n 2. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply(rename_tac r ds c cs)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>eqa xs r ds c cs.\n       \\<lbrakk>eqa = Eq r (c # cs); ds = c # cs; c \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> \\<exists>x. r = c * x + \\<langle>cs,xs\\<rangle>\n 2. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply(rule_tac x= \"(r - \\<langle>cs,xs\\<rangle>)/c\" in exI)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>eqa xs r ds c cs.\n       \\<lbrakk>eqa = Eq r (c # cs); ds = c # cs; c \\<noteq> 0\\<rbrakk>\n       \\<Longrightarrow> r =\n                         c * ((r - \\<langle>cs,xs\\<rangle>) / c) +\n                         \\<langle>cs,xs\\<rangle>\n 2. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply (simp add: algebra_simps diff_divide_distrib)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>eqa.\n       case eqa of Less real list \\<Rightarrow> False\n       | Eq x [] \\<Rightarrow> False\n       | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0 \\<Longrightarrow>\n       case subst\\<^sub>0 eqa eqa of Less real list \\<Rightarrow> False\n       | Eq r cs \\<Rightarrow> r = 0 \\<and> (\\<forall>c\\<in>set cs. c = 0)", "apply(simp add: self_list_diff set_replicate_conv_if\n        split:atom.splits list.splits)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(* FIXME does not help\nsetup {* Sign.revert_abbrev \"\" @{const_name R\\<^sub>e.lift_dnfeq_qe} *}\n*)"], ["", "definition \"qe_FM = R\\<^sub>e.lift_dnfeq_qe qe_FM\\<^sub>1\""], ["", "lemma qfree_qe_FM\\<^sub>1: \"qfree (qe_FM\\<^sub>1 as)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree (qe_FM\\<^sub>1 as)", "by(auto simp:qe_FM\\<^sub>1_def intro!:qfree_list_conj)"], ["", "corollary I_qe_FM: \"R.I (qe_FM \\<phi>) xs = R.I \\<phi> xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R.I (qe_FM \\<phi>) xs = R.I \\<phi> xs", "unfolding qe_FM_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. R.I (R\\<^sub>e.lift_dnfeq_qe qe_FM\\<^sub>1 \\<phi>) xs = R.I \\<phi> xs", "apply(rule R\\<^sub>e.I_lift_dnfeq_qe)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>as.\n       \\<forall>a\\<in>set as. depends\\<^sub>R a \\<Longrightarrow>\n       qfree (qe_FM\\<^sub>1 as)\n 2. \\<And>as.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       R.is_dnf_qe qe_FM\\<^sub>1 as", "apply(rule qfree_qe_FM\\<^sub>1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>as.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       R.is_dnf_qe qe_FM\\<^sub>1 as", "apply(rule allI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>as xs.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       R.I (qe_FM\\<^sub>1 as) xs =\n       (\\<exists>x. \\<forall>a\\<in>set as. I\\<^sub>R a (x # xs))", "apply(rule I_qe_FM\\<^sub>1)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>as xs.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       \\<forall>a\\<in>set as. is_Less a\n 2. \\<And>as xs.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       \\<forall>a\\<in>set as. depends\\<^sub>R a", "prefer 2"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>as xs.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       \\<forall>a\\<in>set as. depends\\<^sub>R a\n 2. \\<And>as xs.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       \\<forall>a\\<in>set as. is_Less a", "apply blast"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>as xs.\n       \\<forall>a\\<in>set as.\n          depends\\<^sub>R a \\<and>\n          \\<not> (case a of Less real list \\<Rightarrow> False\n                  | Eq x [] \\<Rightarrow> False\n                  | Eq x (c # xa) \\<Rightarrow>\n                      c \\<noteq> 0) \\<Longrightarrow>\n       \\<forall>a\\<in>set as. is_Less a", "apply(clarify)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>as xs a.\n       \\<lbrakk>\\<forall>a\\<in>set as.\n                   depends\\<^sub>R a \\<and>\n                   \\<not> (case a of Less real list \\<Rightarrow> False\n                           | Eq x [] \\<Rightarrow> False\n                           | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0);\n        a \\<in> set as\\<rbrakk>\n       \\<Longrightarrow> is_Less a", "apply(drule_tac x=a in bspec)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>as xs a. a \\<in> set as \\<Longrightarrow> a \\<in> set as\n 2. \\<And>as xs a.\n       \\<lbrakk>a \\<in> set as;\n        depends\\<^sub>R a \\<and>\n        \\<not> (case a of Less real list \\<Rightarrow> False\n                | Eq x [] \\<Rightarrow> False\n                | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0)\\<rbrakk>\n       \\<Longrightarrow> is_Less a", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>as xs a.\n       \\<lbrakk>a \\<in> set as;\n        depends\\<^sub>R a \\<and>\n        \\<not> (case a of Less real list \\<Rightarrow> False\n                | Eq x [] \\<Rightarrow> False\n                | Eq x (c # xa) \\<Rightarrow> c \\<noteq> 0)\\<rbrakk>\n       \\<Longrightarrow> is_Less a", "apply(simp add: depends\\<^sub>R_def split:atom.splits list.splits)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "theorem qfree_qe_FM: \"qfree (qe_FM f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree (qe_FM f)", "by(simp add:qe_FM_def R\\<^sub>e.qfree_lift_dnfeq_qe qfree_qe_FM\\<^sub>1)"], ["", "subsubsection\\<open>Tests\\<close>"], ["", "lemmas qesimps = qe_FM_def R\\<^sub>e.lift_dnfeq_qe_def R\\<^sub>e.lift_eq_qe_def R.qelim_def qe_FM\\<^sub>1_def lbounds_def ubounds_def list_conj_def list_disj_def and_def or_def depends\\<^sub>R_def"], ["", "lemma \"qe_FM(TrueF) = TrueF\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qe_FM TrueF = TrueF", "by(simp add:qesimps)"], ["", "lemma\n  \"qe_FM(ExQ (And (Atom(Less 0 [1])) (Atom(Less 0 [-1])))) = Atom(Less 0 [])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qe_FM (ExQ (And (Atom (Less 0 [1])) (Atom (Less 0 [- 1])))) =\n    Atom (Less 0 [])", "by(simp add:qesimps)"], ["", "lemma\n \"qe_FM(ExQ (And (Atom(Less 0 [1])) (Atom(Less (- 1) [-1])))) = Atom(Less (- 1) [])\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qe_FM (ExQ (And (Atom (Less 0 [1])) (Atom (Less (- 1) [- 1])))) =\n    Atom (Less (- 1) [])", "by(simp add:qesimps)"], ["", "end"]]}