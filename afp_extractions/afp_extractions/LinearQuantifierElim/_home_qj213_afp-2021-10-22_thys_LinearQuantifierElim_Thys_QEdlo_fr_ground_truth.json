{"file_name": "/home/qj213/afp-2021-10-22/thys/LinearQuantifierElim/Thys/QEdlo_fr.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/LinearQuantifierElim", "problem_names": ["lemma I_subst\\<^sub>21:\n \"nqfree f \\<Longrightarrow> xs!l < xs!u \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs\n \\<Longrightarrow> xs!l < x \\<Longrightarrow> x < xs!u \\<Longrightarrow> DLO.I f (x#xs)\"", "lemma nolub_And[simp]:\n  \"nolub (And f g) xs l x u = (nolub f xs l x u \\<and> nolub g xs l x u)\"", "lemma nolub_Or[simp]:\n  \"nolub (Or f g) xs l x u = (nolub f xs l x u \\<and> nolub g xs l x u)\"", "lemma innermost_intvl:\n \"\\<lbrakk> nqfree f; nolub f xs l x u; l < x; x < u; x \\<notin> EQ f xs;\n    DLO.I f (x#xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I f (y#xs)\"", "lemma I_subst\\<^sub>22:\n \"nqfree f \\<Longrightarrow> xs!l < x \\<and> x < xs!u \\<Longrightarrow> nolub f xs (xs!l) x (xs!u)\n \\<Longrightarrow> \\<forall>x\\<in>{xs!l <..< xs!u}. DLO.I f (x#xs) \\<and> x \\<notin> EQ f xs\n \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs\"", "lemma dense_interval:\nassumes \"finite L\" \"finite U\" \"l \\<in> L\" \"u \\<in> U\" \"l < x\" \"x < u\" \"P(x::'a::dlo)\"\nand dense: \"\\<And>y l u. \\<lbrakk> \\<forall>y\\<in>{l<..<x}. y \\<notin> L;  \\<forall>y\\<in>{x<..<u}. y \\<notin> U;\n                       l<x;x<u; l<y;y<u \\<rbrakk> \\<Longrightarrow> P y\"\nshows \"\\<exists>l\\<in>L.\\<exists>u\\<in>U. l<x \\<and> x<u \\<and> (\\<forall>y\\<in>{l<..<x}. y\\<notin>L) \\<and> (\\<forall>y\\<in>{x<..<u}. y\\<notin>U)\n            \\<and> (\\<forall>y. l<y \\<and> y<u \\<longrightarrow> P y)\"", "theorem I_interior1:\nassumes \"nqfree \\<phi>\" shows \"DLO.I (qe_interior\\<^sub>1 \\<phi>) xs = (\\<exists>x. DLO.I \\<phi> (x#xs))\"\n  (is \"?QE = ?EX\")", "lemma qfree_asubst\\<^sub>2: \"qfree (asubst\\<^sub>2 l u a)\"", "lemma qfree_subst\\<^sub>2: \"nqfree \\<phi> \\<Longrightarrow> qfree (subst\\<^sub>2 l u \\<phi>)\"", "lemma qfree_interior1: \"nqfree \\<phi> \\<Longrightarrow> qfree(qe_interior\\<^sub>1 \\<phi>)\"", "lemma qfree_qe_interior: \"qfree(qe_interior \\<phi>)\"", "lemma I_qe_interior: \"DLO.I (qe_interior \\<phi>) xs = DLO.I \\<phi> xs\""], "translations": [["", "lemma I_subst\\<^sub>21:\n \"nqfree f \\<Longrightarrow> xs!l < xs!u \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs\n \\<Longrightarrow> xs!l < x \\<Longrightarrow> x < xs!u \\<Longrightarrow> DLO.I f (x#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>nqfree f; xs ! l < xs ! u; DLO.I (subst\\<^sub>2 l u f) xs;\n     xs ! l < x; x < xs ! u\\<rbrakk>\n    \\<Longrightarrow> DLO.I f (x # xs)", "proof(induct f arbitrary: x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>nqfree TrueF; xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u TrueF) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I TrueF (x # xs)\n 2. \\<And>x.\n       \\<lbrakk>nqfree FalseF; xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u FalseF) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I FalseF (x # xs)\n 3. \\<And>x xa.\n       \\<lbrakk>nqfree (Atom x); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Atom x)) xs; xs ! l < xa;\n        xa < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Atom x) (xa # xs)\n 4. \\<And>f1 f2 x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f1; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f1) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f1 (x # xs);\n        \\<And>x.\n           \\<lbrakk>nqfree f2; xs ! l < xs ! u;\n            DLO.I (subst\\<^sub>2 l u f2) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n           \\<Longrightarrow> DLO.I f2 (x # xs);\n        nqfree (And f1 f2); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (x # xs)\n 5. \\<And>f1 f2 x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f1; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f1) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f1 (x # xs);\n        \\<And>x.\n           \\<lbrakk>nqfree f2; xs ! l < xs ! u;\n            DLO.I (subst\\<^sub>2 l u f2) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n           \\<Longrightarrow> DLO.I f2 (x # xs);\n        nqfree (Or f1 f2); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (x # xs)\n 6. \\<And>f x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f (x # xs);\n        nqfree (Neg f); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Neg f)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (x # xs)\n 7. \\<And>f x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f (x # xs);\n        nqfree (ExQ f); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (ExQ f)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (x # xs)", "case (Atom a)"], ["proof (state)\nthis:\n  nqfree (Atom a)\n  xs ! l < xs ! u\n  DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n  xs ! l < x\n  x < xs ! u\n\ngoal (7 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>nqfree TrueF; xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u TrueF) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I TrueF (x # xs)\n 2. \\<And>x.\n       \\<lbrakk>nqfree FalseF; xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u FalseF) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I FalseF (x # xs)\n 3. \\<And>x xa.\n       \\<lbrakk>nqfree (Atom x); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Atom x)) xs; xs ! l < xa;\n        xa < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Atom x) (xa # xs)\n 4. \\<And>f1 f2 x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f1; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f1) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f1 (x # xs);\n        \\<And>x.\n           \\<lbrakk>nqfree f2; xs ! l < xs ! u;\n            DLO.I (subst\\<^sub>2 l u f2) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n           \\<Longrightarrow> DLO.I f2 (x # xs);\n        nqfree (And f1 f2); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (x # xs)\n 5. \\<And>f1 f2 x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f1; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f1) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f1 (x # xs);\n        \\<And>x.\n           \\<lbrakk>nqfree f2; xs ! l < xs ! u;\n            DLO.I (subst\\<^sub>2 l u f2) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n           \\<Longrightarrow> DLO.I f2 (x # xs);\n        nqfree (Or f1 f2); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (x # xs)\n 6. \\<And>f x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f (x # xs);\n        nqfree (Neg f); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Neg f)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (x # xs)\n 7. \\<And>f x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f (x # xs);\n        nqfree (ExQ f); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (ExQ f)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (x # xs)", "thus ?case"], ["proof (prove)\nusing this:\n  nqfree (Atom a)\n  xs ! l < xs ! u\n  DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n  xs ! l < x\n  x < xs ! u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (x # xs)", "by (cases \"(l,u,a)\" rule: asubst\\<^sub>2.cases) auto"], ["proof (state)\nthis:\n  DLO.I (Atom a) (x # xs)\n\ngoal (6 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>nqfree TrueF; xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u TrueF) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I TrueF (x # xs)\n 2. \\<And>x.\n       \\<lbrakk>nqfree FalseF; xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u FalseF) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I FalseF (x # xs)\n 3. \\<And>f1 f2 x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f1; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f1) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f1 (x # xs);\n        \\<And>x.\n           \\<lbrakk>nqfree f2; xs ! l < xs ! u;\n            DLO.I (subst\\<^sub>2 l u f2) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n           \\<Longrightarrow> DLO.I f2 (x # xs);\n        nqfree (And f1 f2); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (x # xs)\n 4. \\<And>f1 f2 x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f1; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f1) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f1 (x # xs);\n        \\<And>x.\n           \\<lbrakk>nqfree f2; xs ! l < xs ! u;\n            DLO.I (subst\\<^sub>2 l u f2) xs; xs ! l < x; x < xs ! u\\<rbrakk>\n           \\<Longrightarrow> DLO.I f2 (x # xs);\n        nqfree (Or f1 f2); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (x # xs)\n 5. \\<And>f x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f (x # xs);\n        nqfree (Neg f); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (Neg f)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (x # xs)\n 6. \\<And>f x.\n       \\<lbrakk>\\<And>x.\n                   \\<lbrakk>nqfree f; xs ! l < xs ! u;\n                    DLO.I (subst\\<^sub>2 l u f) xs; xs ! l < x;\n                    x < xs ! u\\<rbrakk>\n                   \\<Longrightarrow> DLO.I f (x # xs);\n        nqfree (ExQ f); xs ! l < xs ! u;\n        DLO.I (subst\\<^sub>2 l u (ExQ f)) xs; xs ! l < x;\n        x < xs ! u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (x # xs)", "qed auto"], ["", "definition\n\"nolub f xs l x u \\<longleftrightarrow> (\\<forall>y\\<in>{l<..<x}. y \\<notin> LB f xs) \\<and> (\\<forall>y\\<in>{x<..<u}. y \\<notin> UB f xs)\""], ["", "lemma nolub_And[simp]:\n  \"nolub (And f g) xs l x u = (nolub f xs l x u \\<and> nolub g xs l x u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nolub (And f g) xs l x u = (nolub f xs l x u \\<and> nolub g xs l x u)", "by(auto simp:nolub_def)"], ["", "lemma nolub_Or[simp]:\n  \"nolub (Or f g) xs l x u = (nolub f xs l x u \\<and> nolub g xs l x u)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nolub (Or f g) xs l x u = (nolub f xs l x u \\<and> nolub g xs l x u)", "by(auto simp:nolub_def)"], ["", "context notes [[simp_depth_limit=3]]\nbegin"], ["", "lemma innermost_intvl:\n \"\\<lbrakk> nqfree f; nolub f xs l x u; l < x; x < u; x \\<notin> EQ f xs;\n    DLO.I f (x#xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I f (y#xs)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u; x \\<notin> EQ f xs;\n     DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I f (y # xs)", "proof(induct f)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>xa.\n       \\<lbrakk>nqfree (Atom xa); nolub (Atom xa) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Atom xa) xs; DLO.I (Atom xa) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Atom xa) (y # xs)\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (And f1 f2); nolub (And f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (And f1 f2) xs; DLO.I (And f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (y # xs)\n 5. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 7. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "case (Atom a)"], ["proof (state)\nthis:\n  nqfree (Atom a)\n  nolub (Atom a) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>xa.\n       \\<lbrakk>nqfree (Atom xa); nolub (Atom xa) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Atom xa) xs; DLO.I (Atom xa) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Atom xa) (y # xs)\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (And f1 f2); nolub (And f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (And f1 f2) xs; DLO.I (And f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (y # xs)\n 5. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 7. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x11 x12.\n       a = Less x11 x12 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>x21 x22. a = Eq x21 x22 \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case (Less i j)"], ["proof (state)\nthis:\n  a = Less i j\n\ngoal (2 subgoals):\n 1. \\<And>x11 x12.\n       a = Less x11 x12 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>x21 x22. a = Eq x21 x22 \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "then"], ["proof (chain)\npicking this:\n  a = Less i j", "show ?thesis"], ["proof (prove)\nusing this:\n  a = Less i j\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "using Atom"], ["proof (prove)\nusing this:\n  a = Less i j\n  nqfree (Atom a)\n  nolub (Atom a) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "unfolding nolub_def"], ["proof (prove)\nusing this:\n  a = Less i j\n  nqfree (Atom a)\n  (\\<forall>y\\<in>{l<..<x}. y \\<notin> LB (Atom a) xs) \\<and>\n  (\\<forall>y\\<in>{x<..<u}. y \\<notin> UB (Atom a) xs)\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "by (clarsimp simp: nth.simps Ball_def split:if_split_asm nat.splits)\n         (metis not_le_imp_less order_antisym order_less_trans)+"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22. a = Eq x21 x22 \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x21 x22. a = Eq x21 x22 \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case [simp]: (Eq i j)"], ["proof (state)\nthis:\n  a = Eq i j\n\ngoal (1 subgoal):\n 1. \\<And>x21 x22. a = Eq x21 x22 \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "proof (cases i)"], ["proof (state)\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>nat. i = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case [simp]: 0"], ["proof (state)\nthis:\n  i = 0\n\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>nat. i = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "proof (cases j)"], ["proof (state)\ngoal (2 subgoals):\n 1. j = 0 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case 0"], ["proof (state)\nthis:\n  j = 0\n\ngoal (2 subgoals):\n 1. j = 0 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  j = 0\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "using Atom"], ["proof (prove)\nusing this:\n  j = 0\n  nqfree (Atom a)\n  nolub (Atom a) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "by simp"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case Suc"], ["proof (state)\nthis:\n  j = Suc nat_\n\ngoal (1 subgoal):\n 1. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  j = Suc nat_\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "using Atom"], ["proof (prove)\nusing this:\n  j = Suc nat_\n  nqfree (Atom a)\n  nolub (Atom a) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "by(simp add:EQ_def)"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<And>nat. i = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>nat. i = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case [simp]: Suc"], ["proof (state)\nthis:\n  i = Suc nat_\n\ngoal (1 subgoal):\n 1. \\<And>nat. i = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "proof (cases j)"], ["proof (state)\ngoal (2 subgoals):\n 1. j = 0 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case 0"], ["proof (state)\nthis:\n  j = 0\n\ngoal (2 subgoals):\n 1. j = 0 \\<Longrightarrow> DLO.I (Atom a) (y # xs)\n 2. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  j = 0\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "using Atom"], ["proof (prove)\nusing this:\n  j = 0\n  nqfree (Atom a)\n  nolub (Atom a) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "by(simp add:EQ_def)"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal (1 subgoal):\n 1. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "case Suc"], ["proof (state)\nthis:\n  j = Suc nat_\n\ngoal (1 subgoal):\n 1. \\<And>nat. j = Suc nat \\<Longrightarrow> DLO.I (Atom a) (y # xs)", "thus ?thesis"], ["proof (prove)\nusing this:\n  j = Suc nat_\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "using Atom"], ["proof (prove)\nusing this:\n  j = Suc nat_\n  nqfree (Atom a)\n  nolub (Atom a) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Atom a) xs\n  DLO.I (Atom a) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Atom a) (y # xs)", "by simp"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  DLO.I (Atom a) (y # xs)\n\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (And f1 f2); nolub (And f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (And f1 f2) xs; DLO.I (And f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (y # xs)\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (And f1 f2); nolub (And f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (And f1 f2) xs; DLO.I (And f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (y # xs)\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "case (And f1 f2)"], ["proof (state)\nthis:\n  \\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u; x \\<notin> EQ f1 xs;\n   DLO.I f1 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f1 (y # xs)\n  \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u; x \\<notin> EQ f2 xs;\n   DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f2 (y # xs)\n  nqfree (And f1 f2)\n  nolub (And f1 f2) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (And f1 f2) xs\n  DLO.I (And f1 f2) (x # xs)\n  l < y\n  y < u\n\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (And f1 f2); nolub (And f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (And f1 f2) xs; DLO.I (And f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (And f1 f2) (y # xs)\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u; x \\<notin> EQ f1 xs;\n   DLO.I f1 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f1 (y # xs)\n  \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u; x \\<notin> EQ f2 xs;\n   DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f2 (y # xs)\n  nqfree (And f1 f2)\n  nolub (And f1 f2) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (And f1 f2) xs\n  DLO.I (And f1 f2) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (And f1 f2) (y # xs)", "by (fastforce)"], ["proof (state)\nthis:\n  DLO.I (And f1 f2) (y # xs)\n\ngoal (5 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 4. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 4. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "case (Or f1 f2)"], ["proof (state)\nthis:\n  \\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u; x \\<notin> EQ f1 xs;\n   DLO.I f1 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f1 (y # xs)\n  \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u; x \\<notin> EQ f2 xs;\n   DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f2 (y # xs)\n  nqfree (Or f1 f2)\n  nolub (Or f1 f2) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Or f1 f2) xs\n  DLO.I (Or f1 f2) (x # xs)\n  l < y\n  y < u\n\ngoal (5 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u;\n                 x \\<notin> EQ f1 xs; DLO.I f1 (x # xs); l < y;\n                 y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f1 (y # xs);\n        \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u;\n         x \\<notin> EQ f2 xs; DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n        \\<Longrightarrow> DLO.I f2 (y # xs);\n        nqfree (Or f1 f2); nolub (Or f1 f2) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Or f1 f2) xs; DLO.I (Or f1 f2) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Or f1 f2) (y # xs)\n 4. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>nqfree f1; nolub f1 xs l x u; l < x; x < u; x \\<notin> EQ f1 xs;\n   DLO.I f1 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f1 (y # xs)\n  \\<lbrakk>nqfree f2; nolub f2 xs l x u; l < x; x < u; x \\<notin> EQ f2 xs;\n   DLO.I f2 (x # xs); l < y; y < u\\<rbrakk>\n  \\<Longrightarrow> DLO.I f2 (y # xs)\n  nqfree (Or f1 f2)\n  nolub (Or f1 f2) xs l x u\n  l < x\n  x < u\n  x \\<notin> EQ (Or f1 f2) xs\n  DLO.I (Or f1 f2) (x # xs)\n  l < y\n  y < u\n\ngoal (1 subgoal):\n 1. DLO.I (Or f1 f2) (y # xs)", "by (fastforce)"], ["proof (state)\nthis:\n  DLO.I (Or f1 f2) (y # xs)\n\ngoal (4 subgoals):\n 1. \\<lbrakk>nqfree TrueF; nolub TrueF xs l x u; l < x; x < u;\n     x \\<notin> EQ TrueF xs; DLO.I TrueF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I TrueF (y # xs)\n 2. \\<lbrakk>nqfree FalseF; nolub FalseF xs l x u; l < x; x < u;\n     x \\<notin> EQ FalseF xs; DLO.I FalseF (x # xs); l < y; y < u\\<rbrakk>\n    \\<Longrightarrow> DLO.I FalseF (y # xs)\n 3. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (Neg f); nolub (Neg f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (Neg f) xs; DLO.I (Neg f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (Neg f) (y # xs)\n 4. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; nolub f xs l x u; l < x; x < u;\n                 x \\<notin> EQ f xs; DLO.I f (x # xs); l < y; y < u\\<rbrakk>\n                \\<Longrightarrow> DLO.I f (y # xs);\n        nqfree (ExQ f); nolub (ExQ f) xs l x u; l < x; x < u;\n        x \\<notin> EQ (ExQ f) xs; DLO.I (ExQ f) (x # xs); l < y;\n        y < u\\<rbrakk>\n       \\<Longrightarrow> DLO.I (ExQ f) (y # xs)", "qed simp+"], ["", "lemma I_subst\\<^sub>22:\n \"nqfree f \\<Longrightarrow> xs!l < x \\<and> x < xs!u \\<Longrightarrow> nolub f xs (xs!l) x (xs!u)\n \\<Longrightarrow> \\<forall>x\\<in>{xs!l <..< xs!u}. DLO.I f (x#xs) \\<and> x \\<notin> EQ f xs\n \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n     nolub f xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs", "proof (induct f)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF; xs ! l < x \\<and> x < xs ! u;\n     nolub TrueF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I TrueF (x # xs) \\<and> x \\<notin> EQ TrueF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u TrueF) xs\n 2. \\<lbrakk>nqfree FalseF; xs ! l < x \\<and> x < xs ! u;\n     nolub FalseF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I FalseF (x # xs) \\<and> x \\<notin> EQ FalseF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u FalseF) xs\n 3. \\<And>xa.\n       \\<lbrakk>nqfree (Atom xa); xs ! l < x \\<and> x < xs ! u;\n        nolub (Atom xa) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Atom xa) (x # xs) \\<and>\n           x \\<notin> EQ (Atom xa) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Atom xa)) xs\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (And f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (And f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (And f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (And f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs\n 5. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (Or f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (Or f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Or f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (Or f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (Neg f); xs ! l < x \\<and> x < xs ! u;\n        nolub (Neg f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Neg f) (x # xs) \\<and> x \\<notin> EQ (Neg f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Neg f)) xs\n 7. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (ExQ f); xs ! l < x \\<and> x < xs ! u;\n        nolub (ExQ f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (ExQ f) (x # xs) \\<and> x \\<notin> EQ (ExQ f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (ExQ f)) xs", "case (Atom a)"], ["proof (state)\nthis:\n  nqfree (Atom a)\n  xs ! l < x \\<and> x < xs ! u\n  nolub (Atom a) xs (xs ! l) x (xs ! u)\n  \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n     DLO.I (Atom a) (x # xs) \\<and> x \\<notin> EQ (Atom a) xs\n\ngoal (7 subgoals):\n 1. \\<lbrakk>nqfree TrueF; xs ! l < x \\<and> x < xs ! u;\n     nolub TrueF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I TrueF (x # xs) \\<and> x \\<notin> EQ TrueF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u TrueF) xs\n 2. \\<lbrakk>nqfree FalseF; xs ! l < x \\<and> x < xs ! u;\n     nolub FalseF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I FalseF (x # xs) \\<and> x \\<notin> EQ FalseF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u FalseF) xs\n 3. \\<And>xa.\n       \\<lbrakk>nqfree (Atom xa); xs ! l < x \\<and> x < xs ! u;\n        nolub (Atom xa) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Atom xa) (x # xs) \\<and>\n           x \\<notin> EQ (Atom xa) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Atom xa)) xs\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (And f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (And f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (And f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (And f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs\n 5. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (Or f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (Or f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Or f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (Or f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (Neg f); xs ! l < x \\<and> x < xs ! u;\n        nolub (Neg f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Neg f) (x # xs) \\<and> x \\<notin> EQ (Neg f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Neg f)) xs\n 7. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (ExQ f); xs ! l < x \\<and> x < xs ! u;\n        nolub (ExQ f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (ExQ f) (x # xs) \\<and> x \\<notin> EQ (ExQ f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (ExQ f)) xs", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (subst\\<^sub>2 l u (Atom a)) xs", "apply (cases \"(l,u,a)\" rule: asubst\\<^sub>2.cases)"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>la ua.\n       (l, u, a) = (la, ua, Less 0 0) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 2. \\<And>la ua j.\n       (l, u, a) = (la, ua, Less 0 (Suc j)) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 3. \\<And>la ua i.\n       (l, u, a) = (la, ua, Less (Suc i) 0) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 4. \\<And>la ua i j.\n       (l, u, a) = (la, ua, Less (Suc i) (Suc j)) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 5. \\<And>la ua.\n       (l, u, a) = (la, ua, Eq 0 0) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 6. \\<And>la ua v.\n       (l, u, a) = (la, ua, Eq 0 (Suc v)) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 7. \\<And>la ua v.\n       (l, u, a) = (la, ua, Eq (Suc v) 0) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n 8. \\<And>la ua i j.\n       (l, u, a) = (la, ua, Eq (Suc i) (Suc j)) \\<Longrightarrow>\n       DLO.I (subst\\<^sub>2 l u (Atom a)) xs", "apply(insert Atom, auto simp: EQ_def nolub_def split:if_split_asm)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  DLO.I (subst\\<^sub>2 l u (Atom a)) xs\n\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF; xs ! l < x \\<and> x < xs ! u;\n     nolub TrueF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I TrueF (x # xs) \\<and> x \\<notin> EQ TrueF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u TrueF) xs\n 2. \\<lbrakk>nqfree FalseF; xs ! l < x \\<and> x < xs ! u;\n     nolub FalseF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I FalseF (x # xs) \\<and> x \\<notin> EQ FalseF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u FalseF) xs\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (And f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (And f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (And f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (And f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (Or f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (Or f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Or f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (Or f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (Neg f); xs ! l < x \\<and> x < xs ! u;\n        nolub (Neg f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Neg f) (x # xs) \\<and> x \\<notin> EQ (Neg f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Neg f)) xs\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (ExQ f); xs ! l < x \\<and> x < xs ! u;\n        nolub (ExQ f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (ExQ f) (x # xs) \\<and> x \\<notin> EQ (ExQ f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (ExQ f)) xs", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF; xs ! l < x \\<and> x < xs ! u;\n     nolub TrueF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I TrueF (x # xs) \\<and> x \\<notin> EQ TrueF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u TrueF) xs\n 2. \\<lbrakk>nqfree FalseF; xs ! l < x \\<and> x < xs ! u;\n     nolub FalseF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I FalseF (x # xs) \\<and> x \\<notin> EQ FalseF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u FalseF) xs\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (And f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (And f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (And f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (And f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (Or f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (Or f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Or f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (Or f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (Neg f); xs ! l < x \\<and> x < xs ! u;\n        nolub (Neg f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Neg f) (x # xs) \\<and> x \\<notin> EQ (Neg f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Neg f)) xs\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (ExQ f); xs ! l < x \\<and> x < xs ! u;\n        nolub (ExQ f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (ExQ f) (x # xs) \\<and> x \\<notin> EQ (ExQ f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (ExQ f)) xs", "case Or"], ["proof (state)\nthis:\n  \\<lbrakk>nqfree f1_; xs ! l < x \\<and> x < xs ! u;\n   nolub f1_ xs (xs ! l) x (xs ! u);\n   \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n      DLO.I f1_ (x # xs) \\<and> x \\<notin> EQ f1_ xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1_) xs\n  \\<lbrakk>nqfree f2_; xs ! l < x \\<and> x < xs ! u;\n   nolub f2_ xs (xs ! l) x (xs ! u);\n   \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n      DLO.I f2_ (x # xs) \\<and> x \\<notin> EQ f2_ xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2_) xs\n  nqfree (Or f1_ f2_)\n  xs ! l < x \\<and> x < xs ! u\n  nolub (Or f1_ f2_) xs (xs ! l) x (xs ! u)\n  \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n     DLO.I (Or f1_ f2_) (x # xs) \\<and> x \\<notin> EQ (Or f1_ f2_) xs\n\ngoal (6 subgoals):\n 1. \\<lbrakk>nqfree TrueF; xs ! l < x \\<and> x < xs ! u;\n     nolub TrueF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I TrueF (x # xs) \\<and> x \\<notin> EQ TrueF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u TrueF) xs\n 2. \\<lbrakk>nqfree FalseF; xs ! l < x \\<and> x < xs ! u;\n     nolub FalseF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I FalseF (x # xs) \\<and> x \\<notin> EQ FalseF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u FalseF) xs\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (And f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (And f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (And f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (And f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs\n 4. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (Or f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (Or f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Or f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (Or f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Or f1 f2)) xs\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (Neg f); xs ! l < x \\<and> x < xs ! u;\n        nolub (Neg f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Neg f) (x # xs) \\<and> x \\<notin> EQ (Neg f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Neg f)) xs\n 6. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (ExQ f); xs ! l < x \\<and> x < xs ! u;\n        nolub (ExQ f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (ExQ f) (x # xs) \\<and> x \\<notin> EQ (ExQ f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (ExQ f)) xs", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>nqfree f1_; xs ! l < x \\<and> x < xs ! u;\n   nolub f1_ xs (xs ! l) x (xs ! u);\n   \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n      DLO.I f1_ (x # xs) \\<and> x \\<notin> EQ f1_ xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1_) xs\n  \\<lbrakk>nqfree f2_; xs ! l < x \\<and> x < xs ! u;\n   nolub f2_ xs (xs ! l) x (xs ! u);\n   \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n      DLO.I f2_ (x # xs) \\<and> x \\<notin> EQ f2_ xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2_) xs\n  nqfree (Or f1_ f2_)\n  xs ! l < x \\<and> x < xs ! u\n  nolub (Or f1_ f2_) xs (xs ! l) x (xs ! u)\n  \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n     DLO.I (Or f1_ f2_) (x # xs) \\<and> x \\<notin> EQ (Or f1_ f2_) xs\n\ngoal (1 subgoal):\n 1. DLO.I (subst\\<^sub>2 l u (Or f1_ f2_)) xs", "by (simp add: Ball_def)(metis innermost_intvl)"], ["proof (state)\nthis:\n  DLO.I (subst\\<^sub>2 l u (Or f1_ f2_)) xs\n\ngoal (5 subgoals):\n 1. \\<lbrakk>nqfree TrueF; xs ! l < x \\<and> x < xs ! u;\n     nolub TrueF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I TrueF (x # xs) \\<and> x \\<notin> EQ TrueF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u TrueF) xs\n 2. \\<lbrakk>nqfree FalseF; xs ! l < x \\<and> x < xs ! u;\n     nolub FalseF xs (xs ! l) x (xs ! u);\n     \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n        DLO.I FalseF (x # xs) \\<and> x \\<notin> EQ FalseF xs\\<rbrakk>\n    \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u FalseF) xs\n 3. \\<And>f1 f2.\n       \\<lbrakk>\\<lbrakk>nqfree f1; xs ! l < x \\<and> x < xs ! u;\n                 nolub f1 xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f1 (x # xs) \\<and> x \\<notin> EQ f1 xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f1) xs;\n        \\<lbrakk>nqfree f2; xs ! l < x \\<and> x < xs ! u;\n         nolub f2 xs (xs ! l) x (xs ! u);\n         \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n            DLO.I f2 (x # xs) \\<and> x \\<notin> EQ f2 xs\\<rbrakk>\n        \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f2) xs;\n        nqfree (And f1 f2); xs ! l < x \\<and> x < xs ! u;\n        nolub (And f1 f2) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (And f1 f2) (x # xs) \\<and>\n           x \\<notin> EQ (And f1 f2) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (And f1 f2)) xs\n 4. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (Neg f); xs ! l < x \\<and> x < xs ! u;\n        nolub (Neg f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (Neg f) (x # xs) \\<and> x \\<notin> EQ (Neg f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (Neg f)) xs\n 5. \\<And>f.\n       \\<lbrakk>\\<lbrakk>nqfree f; xs ! l < x \\<and> x < xs ! u;\n                 nolub f xs (xs ! l) x (xs ! u);\n                 \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n                    DLO.I f (x # xs) \\<and> x \\<notin> EQ f xs\\<rbrakk>\n                \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u f) xs;\n        nqfree (ExQ f); xs ! l < x \\<and> x < xs ! u;\n        nolub (ExQ f) xs (xs ! l) x (xs ! u);\n        \\<forall>x\\<in>{xs ! l<..<xs ! u}.\n           DLO.I (ExQ f) (x # xs) \\<and> x \\<notin> EQ (ExQ f) xs\\<rbrakk>\n       \\<Longrightarrow> DLO.I (subst\\<^sub>2 l u (ExQ f)) xs", "qed auto"], ["", "end"], ["", "definition\n\"qe_interior\\<^sub>1 \\<phi> =\n(let as = DLO.atoms\\<^sub>0 \\<phi>; lbs = lbounds as; ubs = ubounds as; ebs = ebounds as;\n     intrs = [And (Atom(Less l u)) (subst\\<^sub>2 l u \\<phi>). l\\<leftarrow>lbs, u\\<leftarrow>ubs]\n in list_disj (inf\\<^sub>- \\<phi> # inf\\<^sub>+ \\<phi> # intrs @ map (subst \\<phi>) ebs))\""], ["", "lemma dense_interval:\nassumes \"finite L\" \"finite U\" \"l \\<in> L\" \"u \\<in> U\" \"l < x\" \"x < u\" \"P(x::'a::dlo)\"\nand dense: \"\\<And>y l u. \\<lbrakk> \\<forall>y\\<in>{l<..<x}. y \\<notin> L;  \\<forall>y\\<in>{x<..<u}. y \\<notin> U;\n                       l<x;x<u; l<y;y<u \\<rbrakk> \\<Longrightarrow> P y\"\nshows \"\\<exists>l\\<in>L.\\<exists>u\\<in>U. l<x \\<and> x<u \\<and> (\\<forall>y\\<in>{l<..<x}. y\\<notin>L) \\<and> (\\<forall>y\\<in>{x<..<u}. y\\<notin>U)\n            \\<and> (\\<forall>y. l<y \\<and> y<u \\<longrightarrow> P y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "let ?L = \"{l:L. l < x}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "let ?U = \"{u:U. x < u}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "let ?ll = \"Max ?L\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "let ?uu = \"Min ?U\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"?L \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {l \\<in> L. l < x} \\<noteq> {}", "using \\<open>l \\<in> L\\<close> \\<open>l<x\\<close>"], ["proof (prove)\nusing this:\n  l \\<in> L\n  l < x\n\ngoal (1 subgoal):\n 1. {l \\<in> L. l < x} \\<noteq> {}", "by (blast intro:order_less_imp_le)"], ["proof (state)\nthis:\n  {l \\<in> L. l < x} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "moreover"], ["proof (state)\nthis:\n  {l \\<in> L. l < x} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"?U \\<noteq> {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {u \\<in> U. x < u} \\<noteq> {}", "using \\<open>u:U\\<close> \\<open>x<u\\<close>"], ["proof (prove)\nusing this:\n  u \\<in> U\n  x < u\n\ngoal (1 subgoal):\n 1. {u \\<in> U. x < u} \\<noteq> {}", "by (blast intro:order_less_imp_le)"], ["proof (state)\nthis:\n  {u \\<in> U. x < u} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "ultimately"], ["proof (chain)\npicking this:\n  {l \\<in> L. l < x} \\<noteq> {}\n  {u \\<in> U. x < u} \\<noteq> {}", "have \"\\<forall>y. ?ll<y \\<and> y<x \\<longrightarrow> y \\<notin> L\" \"\\<forall>y. x<y \\<and> y<?uu \\<longrightarrow> y \\<notin> U\""], ["proof (prove)\nusing this:\n  {l \\<in> L. l < x} \\<noteq> {}\n  {u \\<in> U. x < u} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow>\n       y \\<notin> L &&&\n    \\<forall>y.\n       x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow>\n       y \\<notin> U", "using \\<open>finite L\\<close> \\<open>finite U\\<close>"], ["proof (prove)\nusing this:\n  {l \\<in> L. l < x} \\<noteq> {}\n  {u \\<in> U. x < u} \\<noteq> {}\n  finite L\n  finite U\n\ngoal (1 subgoal):\n 1. \\<forall>y.\n       Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow>\n       y \\<notin> L &&&\n    \\<forall>y.\n       x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow>\n       y \\<notin> U", "by force+"], ["proof (state)\nthis:\n  \\<forall>y.\n     Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow> y \\<notin> L\n  \\<forall>y.\n     x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow> y \\<notin> U\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "moreover"], ["proof (state)\nthis:\n  \\<forall>y.\n     Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow> y \\<notin> L\n  \\<forall>y.\n     x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow> y \\<notin> U\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"?ll \\<in> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} \\<in> L", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. Max {l \\<in> L. l < x} \\<in> ?A\n 2. ?A \\<subseteq> L", "show \"?ll \\<in> ?L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} \\<in> {l \\<in> L. l < x}", "using \\<open>finite L\\<close> Max_in[OF _ \\<open>?L \\<noteq> {}\\<close>]"], ["proof (prove)\nusing this:\n  finite L\n  finite {l \\<in> L. l < x} \\<Longrightarrow>\n  Max {l \\<in> L. l < x} \\<in> {l \\<in> L. l < x}\n\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} \\<in> {l \\<in> L. l < x}", "by simp"], ["proof (state)\nthis:\n  Max {l \\<in> L. l < x} \\<in> {l \\<in> L. l < x}\n\ngoal (1 subgoal):\n 1. {l \\<in> L. l < x} \\<subseteq> L", "show \"?L \\<subseteq> L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {l \\<in> L. l < x} \\<subseteq> L", "by blast"], ["proof (state)\nthis:\n  {l \\<in> L. l < x} \\<subseteq> L\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Max {l \\<in> L. l < x} \\<in> L\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "moreover"], ["proof (state)\nthis:\n  Max {l \\<in> L. l < x} \\<in> L\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"?uu \\<in> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {u \\<in> U. x < u} \\<in> U", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. Min {u \\<in> U. x < u} \\<in> ?A\n 2. ?A \\<subseteq> U", "show \"?uu \\<in> ?U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Min {u \\<in> U. x < u} \\<in> {u \\<in> U. x < u}", "using \\<open>finite U\\<close> Min_in[OF _ \\<open>?U \\<noteq> {}\\<close>]"], ["proof (prove)\nusing this:\n  finite U\n  finite {u \\<in> U. x < u} \\<Longrightarrow>\n  Min {u \\<in> U. x < u} \\<in> {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. Min {u \\<in> U. x < u} \\<in> {u \\<in> U. x < u}", "by simp"], ["proof (state)\nthis:\n  Min {u \\<in> U. x < u} \\<in> {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. {u \\<in> U. x < u} \\<subseteq> U", "show \"?U \\<subseteq> U\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {u \\<in> U. x < u} \\<subseteq> U", "by blast"], ["proof (state)\nthis:\n  {u \\<in> U. x < u} \\<subseteq> U\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  Min {u \\<in> U. x < u} \\<in> U\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "moreover"], ["proof (state)\nthis:\n  Min {u \\<in> U. x < u} \\<in> U\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"?ll < x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} < x", "using \\<open>finite L\\<close> \\<open>?L \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  finite L\n  {l \\<in> L. l < x} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} < x", "by simp"], ["proof (state)\nthis:\n  Max {l \\<in> L. l < x} < x\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "moreover"], ["proof (state)\nthis:\n  Max {l \\<in> L. l < x} < x\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"x < ?uu\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x < Min {u \\<in> U. x < u}", "using \\<open>finite U\\<close> \\<open>?U \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  finite U\n  {u \\<in> U. x < u} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. x < Min {u \\<in> U. x < u}", "by simp"], ["proof (state)\nthis:\n  x < Min {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "moreover"], ["proof (state)\nthis:\n  x < Min {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "have \"?ll < ?uu\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} < Min {u \\<in> U. x < u}", "using \\<open>?ll<x\\<close> \\<open>x<?uu\\<close>"], ["proof (prove)\nusing this:\n  Max {l \\<in> L. l < x} < x\n  x < Min {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. Max {l \\<in> L. l < x} < Min {u \\<in> U. x < u}", "by simp"], ["proof (state)\nthis:\n  Max {l \\<in> L. l < x} < Min {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>y.\n     Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow> y \\<notin> L\n  \\<forall>y.\n     x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow> y \\<notin> U\n  Max {l \\<in> L. l < x} \\<in> L\n  Min {u \\<in> U. x < u} \\<in> U\n  Max {l \\<in> L. l < x} < x\n  x < Min {u \\<in> U. x < u}\n  Max {l \\<in> L. l < x} < Min {u \\<in> U. x < u}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>y.\n     Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow> y \\<notin> L\n  \\<forall>y.\n     x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow> y \\<notin> U\n  Max {l \\<in> L. l < x} \\<in> L\n  Min {u \\<in> U. x < u} \\<in> U\n  Max {l \\<in> L. l < x} < x\n  x < Min {u \\<in> U. x < u}\n  Max {l \\<in> L. l < x} < Min {u \\<in> U. x < u}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "using \\<open>l < x\\<close> \\<open>x < u\\<close> \\<open>?L \\<noteq> {}\\<close> \\<open>?U \\<noteq> {}\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>y.\n     Max {l \\<in> L. l < x} < y \\<and> y < x \\<longrightarrow> y \\<notin> L\n  \\<forall>y.\n     x < y \\<and> y < Min {u \\<in> U. x < u} \\<longrightarrow> y \\<notin> U\n  Max {l \\<in> L. l < x} \\<in> L\n  Min {u \\<in> U. x < u} \\<in> U\n  Max {l \\<in> L. l < x} < x\n  x < Min {u \\<in> U. x < u}\n  Max {l \\<in> L. l < x} < Min {u \\<in> U. x < u}\n  l < x\n  x < u\n  {l \\<in> L. l < x} \\<noteq> {}\n  {u \\<in> U. x < u} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>L.\n       \\<exists>u\\<in>U.\n          l < x \\<and>\n          x < u \\<and>\n          (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n          (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n          (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)", "by(blast intro!:dense greaterThanLessThan_iff[THEN iffD1])"], ["proof (state)\nthis:\n  \\<exists>l\\<in>L.\n     \\<exists>u\\<in>U.\n        l < x \\<and>\n        x < u \\<and>\n        (\\<forall>y\\<in>{l<..<x}. y \\<notin> L) \\<and>\n        (\\<forall>y\\<in>{x<..<u}. y \\<notin> U) \\<and>\n        (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> P y)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem I_interior1:\nassumes \"nqfree \\<phi>\" shows \"DLO.I (qe_interior\\<^sub>1 \\<phi>) xs = (\\<exists>x. DLO.I \\<phi> (x#xs))\"\n  (is \"?QE = ?EX\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs =\n    (\\<exists>x. DLO.I \\<phi> (x # xs))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume ?QE"], ["proof (state)\nthis:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume \"DLO.I (inf\\<^sub>- \\<phi>) xs\""], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence ?EX"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs)", "using \\<open>?QE\\<close> min_inf[of \\<phi> xs] \\<open>nqfree \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  nqfree \\<phi> \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y\\<le>x. DLO.I (inf\\<^sub>- \\<phi>) xs = DLO.I \\<phi> (y # xs)\n  nqfree \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs)", "by(auto simp add:qe_interior\\<^sub>1_def amap_fm_list_disj)"], ["proof (state)\nthis:\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "moreover"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume  \"DLO.I (inf\\<^sub>+ \\<phi>) xs\""], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>+ \\<phi>) xs\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence ?EX"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>+ \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs)", "using \\<open>?QE\\<close> plus_inf[of \\<phi> xs] \\<open>nqfree \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>+ \\<phi>) xs\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  nqfree \\<phi> \\<Longrightarrow>\n  \\<exists>x.\n     \\<forall>y\\<ge>x. DLO.I (inf\\<^sub>+ \\<phi>) xs = DLO.I \\<phi> (y # xs)\n  nqfree \\<phi>\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs)", "by(auto simp add:qe_interior\\<^sub>1_def amap_fm_list_disj)"], ["proof (state)\nthis:\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "moreover"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume \"\\<not>DLO.I (inf\\<^sub>- \\<phi>) xs \\<and> \\<not>DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n            (\\<forall>x\\<in>EQ \\<phi> xs. \\<not>DLO.I \\<phi> (x#xs))\""], ["proof (state)\nthis:\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs \\<and>\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n  (\\<forall>x\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (x # xs))\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "with \\<open>?QE\\<close> \\<open>nqfree \\<phi>\\<close>"], ["proof (chain)\npicking this:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  nqfree \\<phi>\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs \\<and>\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n  (\\<forall>x\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (x # xs))", "obtain l u\n      where \"DLO.I (subst\\<^sub>2 l u \\<phi>) xs\" and \"xs!l < xs!u\""], ["proof (prove)\nusing this:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  nqfree \\<phi>\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs \\<and>\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n  (\\<forall>x\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (x # xs))\n\ngoal (1 subgoal):\n 1. (\\<And>l u.\n        \\<lbrakk>DLO.I (subst\\<^sub>2 l u \\<phi>) xs;\n         xs ! l < xs ! u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by(fastforce simp: qe_interior\\<^sub>1_def set_lbounds set_ubounds I_subst EQ_conv_set_ebounds)"], ["proof (state)\nthis:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "moreover"], ["proof (state)\nthis:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u", "obtain x where \"xs!l < x \\<and> x < xs!u\""], ["proof (prove)\nusing this:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        xs ! l < x \\<and> x < xs ! u \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by(metis dense)"], ["proof (state)\nthis:\n  xs ! l < x \\<and> x < xs ! u\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "ultimately"], ["proof (chain)\npicking this:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u\n  xs ! l < x \\<and> x < xs ! u", "have \"DLO.I \\<phi> (x # xs)\""], ["proof (prove)\nusing this:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u\n  xs ! l < x \\<and> x < xs ! u\n\ngoal (1 subgoal):\n 1. DLO.I \\<phi> (x # xs)", "using \\<open>nqfree \\<phi>\\<close> I_subst\\<^sub>21[OF \\<open>nqfree \\<phi>\\<close> \\<open>xs!l < xs!u\\<close>]"], ["proof (prove)\nusing this:\n  DLO.I (subst\\<^sub>2 l u \\<phi>) xs\n  xs ! l < xs ! u\n  xs ! l < x \\<and> x < xs ! u\n  nqfree \\<phi>\n  \\<lbrakk>DLO.I (subst\\<^sub>2 l u \\<phi>) xs; xs ! l < ?x;\n   ?x < xs ! u\\<rbrakk>\n  \\<Longrightarrow> DLO.I \\<phi> (?x # xs)\n\ngoal (1 subgoal):\n 1. DLO.I \\<phi> (x # xs)", "by simp"], ["proof (state)\nthis:\n  DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence ?EX"], ["proof (prove)\nusing this:\n  DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs)", ".."], ["proof (state)\nthis:\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs \\<and>\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n  (\\<forall>x\\<in>EQ \\<phi> xs.\n      \\<not> DLO.I \\<phi> (x # xs)) \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (2 subgoals):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs \\<Longrightarrow>\n    \\<exists>x. DLO.I \\<phi> (x # xs)\n 2. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "ultimately"], ["proof (chain)\npicking this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs \\<and>\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n  (\\<forall>x\\<in>EQ \\<phi> xs.\n      \\<not> DLO.I \\<phi> (x # xs)) \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)", "show ?EX"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs \\<and>\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs \\<and>\n  (\\<forall>x\\<in>EQ \\<phi> xs.\n      \\<not> DLO.I \\<phi> (x # xs)) \\<Longrightarrow>\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs)", "by blast"], ["proof (state)\nthis:\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "let ?as = \"DLO.atoms\\<^sub>0 \\<phi>\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "let ?E = \"set(ebounds ?as)\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume ?EX"], ["proof (state)\nthis:\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  \\<exists>x. DLO.I \\<phi> (x # xs)", "obtain x where x: \"DLO.I \\<phi> (x#xs)\""], ["proof (prove)\nusing this:\n  \\<exists>x. DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        DLO.I \\<phi> (x # xs) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume \"DLO.I (inf\\<^sub>- \\<phi>) xs \\<or> DLO.I (inf\\<^sub>+ \\<phi>) xs\""], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or> DLO.I (inf\\<^sub>+ \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence ?QE"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or> DLO.I (inf\\<^sub>+ \\<phi>) xs\n\ngoal (1 subgoal):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "using \\<open>nqfree \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or> DLO.I (inf\\<^sub>+ \\<phi>) xs\n  nqfree \\<phi>\n\ngoal (1 subgoal):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "by(auto simp:qe_interior\\<^sub>1_def)"], ["proof (state)\nthis:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or>\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "moreover"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or>\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or>\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume \"\\<exists>k \\<in> ?E. DLO.I (subst \\<phi> k) xs\""], ["proof (state)\nthis:\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence ?QE"], ["proof (prove)\nusing this:\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs\n\ngoal (1 subgoal):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "by(force simp:qe_interior\\<^sub>1_def)"], ["proof (state)\nthis:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "moreover"], ["proof (state)\nthis:\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "{"], ["proof (state)\nthis:\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "assume \"\\<not> DLO.I (inf\\<^sub>- \\<phi>) xs\" and \"\\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs\"\n    and \"\\<forall>k \\<in> ?E. \\<not> DLO.I (subst \\<phi> k) xs\""], ["proof (state)\nthis:\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs\n  \\<forall>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     \\<not> DLO.I (subst \\<phi> k) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence noE: \"\\<forall>e \\<in> EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e#xs)\""], ["proof (prove)\nusing this:\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs\n  \\<forall>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     \\<not> DLO.I (subst \\<phi> k) xs\n\ngoal (1 subgoal):\n 1. \\<forall>e\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e # xs)", "using \\<open>nqfree \\<phi>\\<close>"], ["proof (prove)\nusing this:\n  \\<not> DLO.I (inf\\<^sub>- \\<phi>) xs\n  \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs\n  \\<forall>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     \\<not> DLO.I (subst \\<phi> k) xs\n  nqfree \\<phi>\n\ngoal (1 subgoal):\n 1. \\<forall>e\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e # xs)", "by (force simp:set_ebounds EQ_def I_subst)"], ["proof (state)\nthis:\n  \\<forall>e\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence \"x \\<notin> EQ \\<phi> xs\""], ["proof (prove)\nusing this:\n  \\<forall>e\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e # xs)\n\ngoal (1 subgoal):\n 1. x \\<notin> EQ \\<phi> xs", "using x"], ["proof (prove)\nusing this:\n  \\<forall>e\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e # xs)\n  DLO.I \\<phi> (x # xs)\n\ngoal (1 subgoal):\n 1. x \\<notin> EQ \\<phi> xs", "by fastforce"], ["proof (state)\nthis:\n  x \\<notin> EQ \\<phi> xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "obtain l where \"l \\<in> LB \\<phi> xs\" \"l < x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>l \\<in> LB \\<phi> xs; l < x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using LBex[OF \\<open>nqfree \\<phi>\\<close> x \\<open>\\<not> DLO.I(inf\\<^sub>- \\<phi>) xs\\<close> \\<open>x \\<notin> EQ \\<phi> xs\\<close>]"], ["proof (prove)\nusing this:\n  \\<exists>l\\<in>LB \\<phi> xs. l < x\n\ngoal (1 subgoal):\n 1. (\\<And>l.\n        \\<lbrakk>l \\<in> LB \\<phi> xs; l < x\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  l \\<in> LB \\<phi> xs\n  l < x\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "obtain u where \"u \\<in> UB \\<phi> xs\" \"x < u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>u \\<in> UB \\<phi> xs; x < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using UBex[OF \\<open>nqfree \\<phi>\\<close> x \\<open>\\<not> DLO.I(inf\\<^sub>+ \\<phi>) xs\\<close> \\<open>x \\<notin> EQ \\<phi> xs\\<close>]"], ["proof (prove)\nusing this:\n  \\<exists>u\\<in>UB \\<phi> xs. x < u\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>u \\<in> UB \\<phi> xs; x < u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", ".."], ["proof (state)\nthis:\n  u \\<in> UB \\<phi> xs\n  x < u\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "have \"\\<exists>l\\<in>LB \\<phi> xs. \\<exists>u\\<in>UB \\<phi> xs. l<x \\<and> x<u \\<and> nolub \\<phi> xs l x u \\<and> (\\<forall>y. l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y#xs))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>LB \\<phi> xs.\n       \\<exists>u\\<in>UB \\<phi> xs.\n          l < x \\<and>\n          x < u \\<and>\n          nolub \\<phi> xs l x u \\<and>\n          (\\<forall>y.\n              l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y # xs))", "using dense_interval[where P = \"\\<lambda>x. DLO.I \\<phi> (x#xs)\", OF finite_LB finite_UB \\<open>l:LB \\<phi> xs\\<close> \\<open>u:UB \\<phi> xs\\<close> \\<open>l<x\\<close> \\<open>x<u\\<close> x] x innermost_intvl[OF \\<open>nqfree \\<phi>\\<close> _ _ _ \\<open>x \\<notin> EQ \\<phi> xs\\<close>]"], ["proof (prove)\nusing this:\n  (\\<And>y l u.\n      \\<lbrakk>\\<forall>y\\<in>{l<..<x}. y \\<notin> LB \\<phi> xs;\n       \\<forall>y\\<in>{x<..<u}. y \\<notin> UB \\<phi> xs; l < x; x < u;\n       l < y; y < u\\<rbrakk>\n      \\<Longrightarrow> DLO.I \\<phi> (y # xs)) \\<Longrightarrow>\n  \\<exists>l\\<in>LB \\<phi> xs.\n     \\<exists>u\\<in>UB \\<phi> xs.\n        l < x \\<and>\n        x < u \\<and>\n        (\\<forall>y\\<in>{l<..<x}. y \\<notin> LB \\<phi> xs) \\<and>\n        (\\<forall>y\\<in>{x<..<u}. y \\<notin> UB \\<phi> xs) \\<and>\n        (\\<forall>y.\n            l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y # xs))\n  DLO.I \\<phi> (x # xs)\n  \\<lbrakk>nolub \\<phi> xs ?l x ?u; ?l < x; x < ?u; DLO.I \\<phi> (x # xs);\n   ?l < ?y; ?y < ?u\\<rbrakk>\n  \\<Longrightarrow> DLO.I \\<phi> (?y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>l\\<in>LB \\<phi> xs.\n       \\<exists>u\\<in>UB \\<phi> xs.\n          l < x \\<and>\n          x < u \\<and>\n          nolub \\<phi> xs l x u \\<and>\n          (\\<forall>y.\n              l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y # xs))", "by (simp add:nolub_def)"], ["proof (state)\nthis:\n  \\<exists>l\\<in>LB \\<phi> xs.\n     \\<exists>u\\<in>UB \\<phi> xs.\n        l < x \\<and>\n        x < u \\<and>\n        nolub \\<phi> xs l x u \\<and>\n        (\\<forall>y.\n            l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y # xs))\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "then"], ["proof (chain)\npicking this:\n  \\<exists>l\\<in>LB \\<phi> xs.\n     \\<exists>u\\<in>UB \\<phi> xs.\n        l < x \\<and>\n        x < u \\<and>\n        nolub \\<phi> xs l x u \\<and>\n        (\\<forall>y.\n            l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y # xs))", "obtain m n where\n      \"Less (Suc m) 0 \\<in> set ?as\" \"Less 0 (Suc n) \\<in> set ?as\"\n      \"xs!m < x \\<and> x < xs!n\"\n      \"nolub \\<phi> xs (xs!m) x (xs!n)\"\n      \"\\<forall>y. xs!m < y \\<and> y < xs!n \\<longrightarrow> DLO.I \\<phi> (y#xs)\""], ["proof (prove)\nusing this:\n  \\<exists>l\\<in>LB \\<phi> xs.\n     \\<exists>u\\<in>UB \\<phi> xs.\n        l < x \\<and>\n        x < u \\<and>\n        nolub \\<phi> xs l x u \\<and>\n        (\\<forall>y.\n            l < y \\<and> y < u \\<longrightarrow> DLO.I \\<phi> (y # xs))\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>);\n         Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>);\n         xs ! m < x \\<and> x < xs ! n; nolub \\<phi> xs (xs ! m) x (xs ! n);\n         \\<forall>y.\n            xs ! m < y \\<and> y < xs ! n \\<longrightarrow>\n            DLO.I \\<phi> (y # xs)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  xs ! m < x \\<and> x < xs ! n\n  nolub \\<phi> xs (xs ! m) x (xs ! n)\n  \\<forall>y.\n     xs ! m < y \\<and> y < xs ! n \\<longrightarrow> DLO.I \\<phi> (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "moreover"], ["proof (state)\nthis:\n  Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  xs ! m < x \\<and> x < xs ! n\n  nolub \\<phi> xs (xs ! m) x (xs ! n)\n  \\<forall>y.\n     xs ! m < y \\<and> y < xs ! n \\<longrightarrow> DLO.I \\<phi> (y # xs)\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "hence \"DLO.I (subst\\<^sub>2 m n \\<phi>) xs\""], ["proof (prove)\nusing this:\n  Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  xs ! m < x \\<and> x < xs ! n\n  nolub \\<phi> xs (xs ! m) x (xs ! n)\n  \\<forall>y.\n     xs ! m < y \\<and> y < xs ! n \\<longrightarrow> DLO.I \\<phi> (y # xs)\n\ngoal (1 subgoal):\n 1. DLO.I (subst\\<^sub>2 m n \\<phi>) xs", "using noE"], ["proof (prove)\nusing this:\n  Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  xs ! m < x \\<and> x < xs ! n\n  nolub \\<phi> xs (xs ! m) x (xs ! n)\n  \\<forall>y.\n     xs ! m < y \\<and> y < xs ! n \\<longrightarrow> DLO.I \\<phi> (y # xs)\n  \\<forall>e\\<in>EQ \\<phi> xs. \\<not> DLO.I \\<phi> (e # xs)\n\ngoal (1 subgoal):\n 1. DLO.I (subst\\<^sub>2 m n \\<phi>) xs", "by(force intro!: I_subst\\<^sub>22[OF \\<open>nqfree \\<phi>\\<close>])"], ["proof (state)\nthis:\n  DLO.I (subst\\<^sub>2 m n \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "ultimately"], ["proof (chain)\npicking this:\n  Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  xs ! m < x \\<and> x < xs ! n\n  nolub \\<phi> xs (xs ! m) x (xs ! n)\n  \\<forall>y.\n     xs ! m < y \\<and> y < xs ! n \\<longrightarrow> DLO.I \\<phi> (y # xs)\n  DLO.I (subst\\<^sub>2 m n \\<phi>) xs", "have ?QE"], ["proof (prove)\nusing this:\n  Less (Suc m) 0 \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  Less 0 (Suc n) \\<in> set (DLO.atoms\\<^sub>0 \\<phi>)\n  xs ! m < x \\<and> x < xs ! n\n  nolub \\<phi> xs (xs ! m) x (xs ! n)\n  \\<forall>y.\n     xs ! m < y \\<and> y < xs ! n \\<longrightarrow> DLO.I \\<phi> (y # xs)\n  DLO.I (subst\\<^sub>2 m n \\<phi>) xs\n\ngoal (1 subgoal):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "by(fastforce simp add:qe_interior\\<^sub>1_def bex_Un set_lbounds set_ubounds)"], ["proof (state)\nthis:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "}"], ["proof (state)\nthis:\n  \\<lbrakk>\\<not> DLO.I (inf\\<^sub>- \\<phi>) xs;\n   \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs;\n   \\<forall>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n      \\<not> DLO.I (subst \\<phi> k) xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. \\<exists>x. DLO.I \\<phi> (x # xs) \\<Longrightarrow>\n    DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "ultimately"], ["proof (chain)\npicking this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or>\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  \\<lbrakk>\\<not> DLO.I (inf\\<^sub>- \\<phi>) xs;\n   \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs;\n   \\<forall>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n      \\<not> DLO.I (subst \\<phi> k) xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "show ?QE"], ["proof (prove)\nusing this:\n  DLO.I (inf\\<^sub>- \\<phi>) xs \\<or>\n  DLO.I (inf\\<^sub>+ \\<phi>) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  \\<exists>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n     DLO.I (subst \\<phi> k) xs \\<Longrightarrow>\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n  \\<lbrakk>\\<not> DLO.I (inf\\<^sub>- \\<phi>) xs;\n   \\<not> DLO.I (inf\\<^sub>+ \\<phi>) xs;\n   \\<forall>k\\<in>set (ebounds (DLO.atoms\\<^sub>0 \\<phi>)).\n      \\<not> DLO.I (subst \\<phi> k) xs\\<rbrakk>\n  \\<Longrightarrow> DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal (1 subgoal):\n 1. DLO.I (qe_interior\\<^sub>1 \\<phi>) xs", "by blast"], ["proof (state)\nthis:\n  DLO.I (qe_interior\\<^sub>1 \\<phi>) xs\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma qfree_asubst\\<^sub>2: \"qfree (asubst\\<^sub>2 l u a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree (asubst\\<^sub>2 l u a)", "by(cases \"(l,u,a)\" rule:asubst\\<^sub>2.cases) simp_all"], ["", "lemma qfree_subst\\<^sub>2: \"nqfree \\<phi> \\<Longrightarrow> qfree (subst\\<^sub>2 l u \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nqfree \\<phi> \\<Longrightarrow> qfree (subst\\<^sub>2 l u \\<phi>)", "by(induct \\<phi>) (simp_all add:qfree_asubst\\<^sub>2)"], ["", "lemma qfree_interior1: \"nqfree \\<phi> \\<Longrightarrow> qfree(qe_interior\\<^sub>1 \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nqfree \\<phi> \\<Longrightarrow> qfree (qe_interior\\<^sub>1 \\<phi>)", "apply(simp add:qe_interior\\<^sub>1_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. nqfree \\<phi> \\<Longrightarrow>\n    qfree\n     (list_disj\n       (inf\\<^sub>- \\<phi> #\n        inf\\<^sub>+ \\<phi> #\n        concat\n         (map (\\<lambda>l.\n                  map (\\<lambda>u.\n                          And (Atom (Less l u)) (subst\\<^sub>2 l u \\<phi>))\n                   (ubounds (DLO.atoms\\<^sub>0 \\<phi>)))\n           (lbounds (DLO.atoms\\<^sub>0 \\<phi>))) @\n        map (subst \\<phi>) (ebounds (DLO.atoms\\<^sub>0 \\<phi>))))", "apply(rule qfree_list_disj)"], ["proof (prove)\ngoal (1 subgoal):\n 1. nqfree \\<phi> \\<Longrightarrow>\n    \\<forall>\\<phi>\n             \\<in>set (inf\\<^sub>- \\<phi> #\n                       inf\\<^sub>+ \\<phi> #\n                       concat\n                        (map (\\<lambda>l.\n                                 map (\\<lambda>u.\n   And (Atom (Less l u)) (subst\\<^sub>2 l u \\<phi>))\n                                  (ubounds (DLO.atoms\\<^sub>0 \\<phi>)))\n                          (lbounds (DLO.atoms\\<^sub>0 \\<phi>))) @\n                       map (subst \\<phi>)\n                        (ebounds (DLO.atoms\\<^sub>0 \\<phi>))).\n       qfree \\<phi>", "apply (auto simp:qfree_min_inf qfree_plus_inf qfree_subst\\<^sub>2 qfree_map_fm)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "definition \"qe_interior = DLO.lift_nnf_qe qe_interior\\<^sub>1\""], ["", "lemma qfree_qe_interior: \"qfree(qe_interior \\<phi>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qfree (qe_interior \\<phi>)", "by(simp add: qe_interior_def DLO.qfree_lift_nnf_qe qfree_interior1)"], ["", "lemma I_qe_interior: \"DLO.I (qe_interior \\<phi>) xs = DLO.I \\<phi> xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. DLO.I (qe_interior \\<phi>) xs = DLO.I \\<phi> xs", "by(simp add:qe_interior_def DLO.I_lift_nnf_qe qfree_interior1 I_interior1)"], ["", "end"]]}