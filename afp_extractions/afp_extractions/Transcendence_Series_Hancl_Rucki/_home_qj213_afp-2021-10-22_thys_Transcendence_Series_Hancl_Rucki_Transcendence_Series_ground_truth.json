{"file_name": "/home/qj213/afp-2021-10-22/thys/Transcendence_Series_Hancl_Rucki/Transcendence_Series.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Transcendence_Series_Hancl_Rucki", "problem_names": ["lemma powr_less_inverse_iff:\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"x powr y < z \\<longleftrightarrow> x < z powr (inverse y)\"", "lemma powr_less_inverse_iff':\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"z< x powr y \\<longleftrightarrow> z powr (inverse y) < x\"", "lemma powr_less_eq_inverse_iff:\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"x powr y \\<le> z \\<longleftrightarrow> x \\<le> z powr (inverse y)\"", "lemma powr_less_eq_inverse_iff':\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"z \\<le> x powr y \\<longleftrightarrow> z powr (inverse y) \\<le> x\"", "lemma tendsto_PInfty_mono:\n  assumes \"(ereal o f) \\<longlonglongrightarrow> \\<infinity>\" \"\\<forall>\\<^sub>F x in sequentially. f x \\<le> g x\"\n  shows \"(ereal o g) \\<longlonglongrightarrow> \\<infinity>\"", "lemma limsup_infinity_imp_Inf_many:\n  assumes \"limsup f = \\<infinity>\"\n  shows \"(\\<forall> m. (\\<exists>\\<^sub>\\<infinity>i. f i > ereal m))\"", "lemma snd_quotient_plus_leq:\n  defines \"de\\<equiv>(snd o quotient_of)\"\n  shows \"de (x+y) \\<le> de x * de y \"", "lemma quotient_of_inj: \"inj quotient_of\"", "lemma infinite_inj_imageE:\n  assumes \"infinite A\" \"inj_on f A\" \"f ` A \\<subseteq> B\"\n  shows \"infinite B\"", "lemma incseq_tendsto_limsup:\n  fixes f::\"nat \\<Rightarrow> 'a::{complete_linorder,linorder_topology}\"\n  assumes \"incseq f\"\n  shows \"f \\<longlonglongrightarrow> limsup f\"", "theorem (in RothsTheorem) HanclRucki1:\n  fixes a b ::\"nat\\<Rightarrow>int\" and \\<delta> ::real \n  defines \"aa\\<equiv>(\\<lambda>n. real_of_int (a n))\" and \"bb\\<equiv>(\\<lambda>n. real_of_int (b n))\"\n  assumes a_pos:\"\\<forall> k. a k >0\" and b_pos:\"\\<forall> k. b k >0\" and \"\\<delta> >0\"\n      and limsup_infy:\"limsup (\\<lambda> k. aa (k+1)/(\\<Prod>i = 0..k. aa i)powr(2+\\<delta>)*(1/bb (k+1))) = \\<infinity>\" \n      and liminf_1:\"liminf (\\<lambda>k. aa (k+1) / aa k * bb k / bb (k+1)) > 1\"\n  shows \"\\<not> algebraic(suminf  (\\<lambda> k. bb k / aa k))\"", "theorem (in RothsTheorem) HanclRucki2: \n  fixes a b ::\"nat\\<Rightarrow>int\" and \\<delta> \\<epsilon> ::real \n  defines \"aa\\<equiv>(\\<lambda>n. real_of_int (a n))\" and \"bb\\<equiv>(\\<lambda>n. real_of_int (b n))\"\n  assumes a_pos:\"\\<forall> k. a k >0\" and b_pos:\"\\<forall> k. b k >0\" and \"\\<delta> >0\"\n    and \"\\<epsilon> >0\" \n    and limsup_infi:\"limsup (\\<lambda> k.(aa (k+1)/(\\<Prod>i = 0..k. aa i)powr(2+(2/\\<epsilon>) + \\<delta>))\n          * (1/(bb (k+1)))) = \\<infinity>\"\n    and ratio_large:\"\\<forall> k. ( k \\<ge> t \\<longrightarrow>  (( aa(k+1)/bb( k+1)) ) powr(1/(1+\\<epsilon>)) \n              \\<ge>  (( aa k/bb k) powr(1/(1+\\<epsilon>)))+1)\"\n  shows \"\\<not> algebraic(suminf (\\<lambda> k. bb k /aa k))  \""], "translations": [["", "lemma powr_less_inverse_iff:\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"x powr y < z \\<longleftrightarrow> x < z powr (inverse y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x powr y < z) = (x < z powr inverse y)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. x powr y < z \\<Longrightarrow> x < z powr inverse y\n 2. x < z powr inverse y \\<Longrightarrow> x powr y < z", "assume \"x powr y < z\""], ["proof (state)\nthis:\n  x powr y < z\n\ngoal (2 subgoals):\n 1. x powr y < z \\<Longrightarrow> x < z powr inverse y\n 2. x < z powr inverse y \\<Longrightarrow> x powr y < z", "from powr_less_mono2[OF _ _ this,of \"inverse y\"]"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < inverse y; 0 \\<le> x powr y\\<rbrakk>\n  \\<Longrightarrow> (x powr y) powr inverse y < z powr inverse y", "show \"x < z powr inverse y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < inverse y; 0 \\<le> x powr y\\<rbrakk>\n  \\<Longrightarrow> (x powr y) powr inverse y < z powr inverse y\n\ngoal (1 subgoal):\n 1. x < z powr inverse y", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < inverse y; 0 \\<le> x powr y\\<rbrakk>\n  \\<Longrightarrow> (x powr y) powr inverse y < z powr inverse y\n  0 < x\n  0 < y\n  0 < z\n\ngoal (1 subgoal):\n 1. x < z powr inverse y", "by (auto simp:powr_powr)"], ["proof (state)\nthis:\n  x < z powr inverse y\n\ngoal (1 subgoal):\n 1. x < z powr inverse y \\<Longrightarrow> x powr y < z", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x < z powr inverse y \\<Longrightarrow> x powr y < z", "assume *:\"x < z powr inverse y\""], ["proof (state)\nthis:\n  x < z powr inverse y\n\ngoal (1 subgoal):\n 1. x < z powr inverse y \\<Longrightarrow> x powr y < z", "from powr_less_mono2[OF _ _ *,of y]"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < y; 0 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> x powr y < (z powr inverse y) powr y", "show \"x powr y < z\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < y; 0 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> x powr y < (z powr inverse y) powr y\n\ngoal (1 subgoal):\n 1. x powr y < z", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < y; 0 \\<le> x\\<rbrakk>\n  \\<Longrightarrow> x powr y < (z powr inverse y) powr y\n  0 < x\n  0 < y\n  0 < z\n\ngoal (1 subgoal):\n 1. x powr y < z", "by (auto simp:powr_powr)"], ["proof (state)\nthis:\n  x powr y < z\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma powr_less_inverse_iff':\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"z< x powr y \\<longleftrightarrow> z powr (inverse y) < x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z < x powr y) = (z powr inverse y < x)", "using powr_less_inverse_iff[symmetric,of _ \"inverse y\"] assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?x; 0 < inverse y; 0 < ?z\\<rbrakk>\n  \\<Longrightarrow> (?x < ?z powr inverse (inverse y)) =\n                    (?x powr inverse y < ?z)\n  0 < x\n  0 < y\n  0 < z\n\ngoal (1 subgoal):\n 1. (z < x powr y) = (z powr inverse y < x)", "by auto"], ["", "lemma powr_less_eq_inverse_iff:\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"x powr y \\<le> z \\<longleftrightarrow> x \\<le> z powr (inverse y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x powr y \\<le> z) = (x \\<le> z powr inverse y)", "by (meson assms not_less powr_less_inverse_iff')"], ["", "lemma powr_less_eq_inverse_iff':\n  fixes x y z::real\n  assumes \"x>0\" \"y>0\" \"z>0\"\n  shows \"z \\<le> x powr y \\<longleftrightarrow> z powr (inverse y) \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z \\<le> x powr y) = (z powr inverse y \\<le> x)", "by (simp add: assms powr_less_eq_inverse_iff)"], ["", "lemma tendsto_PInfty_mono:\n  assumes \"(ereal o f) \\<longlonglongrightarrow> \\<infinity>\" \"\\<forall>\\<^sub>F x in sequentially. f x \\<le> g x\"\n  shows \"(ereal o g) \\<longlonglongrightarrow> \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (ereal \\<circ> g) \\<longlonglongrightarrow> \\<infinity>", "using assms"], ["proof (prove)\nusing this:\n  (ereal \\<circ> f) \\<longlonglongrightarrow> \\<infinity>\n  \\<forall>\\<^sub>F x in sequentially. f x \\<le> g x\n\ngoal (1 subgoal):\n 1. (ereal \\<circ> g) \\<longlonglongrightarrow> \\<infinity>", "unfolding comp_def tendsto_PInfty_eq_at_top"], ["proof (prove)\nusing this:\n  filterlim f at_top sequentially\n  \\<forall>\\<^sub>F x in sequentially. f x \\<le> g x\n\ngoal (1 subgoal):\n 1. filterlim g at_top sequentially", "by (elim filterlim_at_top_mono, simp)"], ["", "lemma limsup_infinity_imp_Inf_many:\n  assumes \"limsup f = \\<infinity>\"\n  shows \"(\\<forall> m. (\\<exists>\\<^sub>\\<infinity>i. f i > ereal m))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m. \\<exists>\\<^sub>\\<infinity>i. ereal m < f i", "unfolding INFM_nat"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>m ma. \\<exists>n>ma. ereal m < f n", "proof (clarify,rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m ma.\n       \\<not> (\\<exists>n>ma. ereal m < f n) \\<Longrightarrow> False", "fix m k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>m ma.\n       \\<not> (\\<exists>n>ma. ereal m < f n) \\<Longrightarrow> False", "assume \"\\<not> (\\<exists>n>k. ereal m < f n)\""], ["proof (state)\nthis:\n  \\<not> (\\<exists>n>k. ereal m < f n)\n\ngoal (1 subgoal):\n 1. \\<And>m ma.\n       \\<not> (\\<exists>n>ma. ereal m < f n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<exists>n>k. ereal m < f n)", "have \"\\<forall>n>k. f n \\<le> ereal m\""], ["proof (prove)\nusing this:\n  \\<not> (\\<exists>n>k. ereal m < f n)\n\ngoal (1 subgoal):\n 1. \\<forall>n>k. f n \\<le> ereal m", "by auto"], ["proof (state)\nthis:\n  \\<forall>n>k. f n \\<le> ereal m\n\ngoal (1 subgoal):\n 1. \\<And>m ma.\n       \\<not> (\\<exists>n>ma. ereal m < f n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>n>k. f n \\<le> ereal m", "have \"\\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m\""], ["proof (prove)\nusing this:\n  \\<forall>n>k. f n \\<le> ereal m\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m", "using eventually_at_top_dense"], ["proof (prove)\nusing this:\n  \\<forall>n>k. f n \\<le> ereal m\n  eventually ?P at_top = (\\<exists>N. \\<forall>n>N. ?P n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m\n\ngoal (1 subgoal):\n 1. \\<And>m ma.\n       \\<not> (\\<exists>n>ma. ereal m < f n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m", "have \"limsup f \\<le> ereal m\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m\n\ngoal (1 subgoal):\n 1. limsup f \\<le> ereal m", "using Limsup_bounded"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. f n \\<le> ereal m\n  \\<forall>\\<^sub>F n in ?F. ?X n \\<le> ?C \\<Longrightarrow>\n  Limsup ?F ?X \\<le> ?C\n\ngoal (1 subgoal):\n 1. limsup f \\<le> ereal m", "by auto"], ["proof (state)\nthis:\n  limsup f \\<le> ereal m\n\ngoal (1 subgoal):\n 1. \\<And>m ma.\n       \\<not> (\\<exists>n>ma. ereal m < f n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  limsup f \\<le> ereal m", "show False"], ["proof (prove)\nusing this:\n  limsup f \\<le> ereal m\n\ngoal (1 subgoal):\n 1. False", "using assms"], ["proof (prove)\nusing this:\n  limsup f \\<le> ereal m\n  limsup f = \\<infinity>\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma snd_quotient_plus_leq:\n  defines \"de\\<equiv>(snd o quotient_of)\"\n  shows \"de (x+y) \\<le> de x * de y \""], ["proof (prove)\ngoal (1 subgoal):\n 1. de (x + y) \\<le> de x * de y", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. de (x + y) \\<le> de x * de y", "obtain x1 x2 y1 y2 where xy: \"quotient_of x = (x1,x2)\" \"quotient_of y=(y1,y2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x1 x2 y1 y2.\n        \\<lbrakk>quotient_of x = (x1, x2); quotient_of y = (y1, y2)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson surj_pair)"], ["proof (state)\nthis:\n  quotient_of x = (x1, x2)\n  quotient_of y = (y1, y2)\n\ngoal (1 subgoal):\n 1. de (x + y) \\<le> de x * de y", "have \"x2>0\" \"y2>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < x2 &&& 0 < y2", "using xy quotient_of_denom_pos"], ["proof (prove)\nusing this:\n  quotient_of x = (x1, x2)\n  quotient_of y = (y1, y2)\n  quotient_of ?r = (?p, ?q) \\<Longrightarrow> 0 < ?q\n\ngoal (1 subgoal):\n 1. 0 < x2 &&& 0 < y2", "by blast+"], ["proof (state)\nthis:\n  0 < x2\n  0 < y2\n\ngoal (1 subgoal):\n 1. de (x + y) \\<le> de x * de y", "then"], ["proof (chain)\npicking this:\n  0 < x2\n  0 < y2", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < x2\n  0 < y2\n\ngoal (1 subgoal):\n 1. de (x + y) \\<le> de x * de y", "unfolding de_def comp_def rat_plus_code xy"], ["proof (prove)\nusing this:\n  0 < x2\n  0 < y2\n\ngoal (1 subgoal):\n 1. snd (let (a, c) = (x1, x2); (b, d) = (y1, y2)\n         in Rat.normalize (a * d + b * c, c * d))\n    \\<le> snd (x1, x2) * snd (y1, y2)", "apply (auto split:prod.split simp:Rat.normalize_def Let_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < x2; 0 < y2\\<rbrakk>\n    \\<Longrightarrow> x2 * y2 div gcd (x1 * y2 + y1 * x2) (x2 * y2)\n                      \\<le> x2 * y2", "by (smt div_by_1 gcd_pos_int int_div_less_self mult_eq_0_iff mult_sign_intros(1))"], ["proof (state)\nthis:\n  de (x + y) \\<le> de x * de y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma quotient_of_inj: \"inj quotient_of\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj quotient_of", "unfolding inj_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y. quotient_of x = quotient_of y \\<longrightarrow> x = y", "by (simp add: quotient_of_inject)"], ["", "lemma infinite_inj_imageE:\n  assumes \"infinite A\" \"inj_on f A\" \"f ` A \\<subseteq> B\"\n  shows \"infinite B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite B", "using assms inj_on_finite"], ["proof (prove)\nusing this:\n  infinite A\n  inj_on f A\n  f ` A \\<subseteq> B\n  \\<lbrakk>inj_on ?f ?A; ?f ` ?A \\<subseteq> ?B; finite ?B\\<rbrakk>\n  \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. infinite B", "by blast"], ["", "lemma incseq_tendsto_limsup:\n  fixes f::\"nat \\<Rightarrow> 'a::{complete_linorder,linorder_topology}\"\n  assumes \"incseq f\"\n  shows \"f \\<longlonglongrightarrow> limsup f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> limsup f", "using LIMSEQ_SUP assms convergent_def convergent_ereal tendsto_Limsup \n          trivial_limit_sequentially"], ["proof (prove)\nusing this:\n  incseq ?X \\<Longrightarrow> ?X \\<longlonglongrightarrow> Sup (range ?X)\n  incseq f\n  convergent ?X = (\\<exists>L. ?X \\<longlonglongrightarrow> L)\n  convergent ?X = (limsup ?X = liminf ?X)\n  \\<lbrakk>?F \\<noteq> bot; Limsup ?F ?f = Liminf ?F ?f\\<rbrakk>\n  \\<Longrightarrow> (?f \\<longlongrightarrow> Limsup ?F ?f) ?F\n  sequentially \\<noteq> bot\n\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> limsup f", "by blast"], ["", "subsection \\<open>Main proofs\\<close>"], ["", "text \\<open>Since the proof of Roth's theorem has not been formalized yet, we formalize the statement in a locale \n      and use it as an assumption.\\<close>"], ["", "locale RothsTheorem = \n  assumes RothsTheorem:\"\\<forall>\\<xi> \\<kappa>. algebraic \\<xi> \\<and> \\<xi> \\<notin> \\<rat> \\<and> infinite {(p,q). q>0 \\<and> \n            coprime p q \\<and> \\<bar>\\<xi> - of_int p / of_int q\\<bar> < 1 / q powr \\<kappa>} \\<longrightarrow> \\<kappa> \\<le> 2\""], ["", "theorem (in RothsTheorem) HanclRucki1:\n  fixes a b ::\"nat\\<Rightarrow>int\" and \\<delta> ::real \n  defines \"aa\\<equiv>(\\<lambda>n. real_of_int (a n))\" and \"bb\\<equiv>(\\<lambda>n. real_of_int (b n))\"\n  assumes a_pos:\"\\<forall> k. a k >0\" and b_pos:\"\\<forall> k. b k >0\" and \"\\<delta> >0\"\n      and limsup_infy:\"limsup (\\<lambda> k. aa (k+1)/(\\<Prod>i = 0..k. aa i)powr(2+\\<delta>)*(1/bb (k+1))) = \\<infinity>\" \n      and liminf_1:\"liminf (\\<lambda>k. aa (k+1) / aa k * bb k / bb (k+1)) > 1\"\n  shows \"\\<not> algebraic(suminf  (\\<lambda> k. bb k / aa k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have summable:\"summable (\\<lambda> k. bb k / aa k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "proof (rule ratio_test_convergence)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < bb n / aa n\n 2. 1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))", "have [simp]:\"aa k>0\" \"bb k>0\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < aa k &&& 0 < bb k", "unfolding aa_def bb_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (a k) &&& 0 < real_of_int (b k)", "using a_pos b_pos"], ["proof (prove)\nusing this:\n  \\<forall>k. 0 < a k\n  \\<forall>k. 0 < b k\n\ngoal (1 subgoal):\n 1. 0 < real_of_int (a k) &&& 0 < real_of_int (b k)", "by auto"], ["proof (state)\nthis:\n  0 < aa ?k\n  0 < bb ?k\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < bb n / aa n\n 2. 1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))", "show \"\\<forall>\\<^sub>F n in sequentially. 0 < bb n / aa n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < bb n / aa n", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < bb n / aa n\n\ngoal (1 subgoal):\n 1. 1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))", "show \"1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))", "using liminf_1"], ["proof (prove)\nusing this:\n  1 < liminf (\\<lambda>x. ereal (aa (x + 1) / aa x * bb x / bb (x + 1)))\n\ngoal (1 subgoal):\n 1. 1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  1 < liminf (\\<lambda>n. ereal (bb n / aa n / (bb (Suc n) / aa (Suc n))))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable (\\<lambda>k. bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have [simp]: \"aa k>0\" \"bb k>0\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < aa k &&& 0 < bb k", "unfolding aa_def bb_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (a k) &&& 0 < real_of_int (b k)", "by (auto simp add: a_pos b_pos)"], ["proof (state)\nthis:\n  0 < aa ?k\n  0 < bb ?k\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have ab_1:\"aa k\\<ge>1\" \"bb k\\<ge>1\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> aa k &&& 1 \\<le> bb k", "unfolding aa_def bb_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a k) &&& 1 \\<le> real_of_int (b k)", "using a_pos b_pos"], ["proof (prove)\nusing this:\n  \\<forall>k. 0 < a k\n  \\<forall>k. 0 < b k\n\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a k) &&& 1 \\<le> real_of_int (b k)", "by (auto simp add: int_one_le_iff_zero_less)"], ["proof (state)\nthis:\n  1 \\<le> aa ?k\n  1 \\<le> bb ?k\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define B where \"B \\<equiv> liminf (\\<lambda>x. ereal (aa (x + 1) / aa x * bb x / bb (x + 1)))\""], ["proof (state)\nthis:\n  B \\<equiv>\n  liminf (\\<lambda>x. ereal (aa (x + 1) / aa x * bb x / bb (x + 1)))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define M where \"M \\<equiv> (case B of ereal m \\<Rightarrow> (m+1)/2 | _ \\<Rightarrow> 2)\""], ["proof (state)\nthis:\n  M \\<equiv> case B of ereal m \\<Rightarrow> (m + 1) / 2 | _ \\<Rightarrow> 2\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \"M > 1\" \"M < B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < M &&& ereal M < B", "using liminf_1"], ["proof (prove)\nusing this:\n  1 < liminf (\\<lambda>x. ereal (aa (x + 1) / aa x * bb x / bb (x + 1)))\n\ngoal (1 subgoal):\n 1. 1 < M &&& ereal M < B", "unfolding M_def"], ["proof (prove)\nusing this:\n  1 < liminf (\\<lambda>x. ereal (aa (x + 1) / aa x * bb x / bb (x + 1)))\n\ngoal (1 subgoal):\n 1. 1 < (case B of ereal m \\<Rightarrow> (m + 1) / 2\n         | _ \\<Rightarrow> 2) &&&\n    ereal (case B of ereal m \\<Rightarrow> (m + 1) / 2 | _ \\<Rightarrow> 2)\n    < B", "by (auto simp add: M_def B_def split: ereal.split)"], ["proof (state)\nthis:\n  1 < M\n  ereal M < B\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "text \\<open>\nRemark:\nIn the original proof of Theorem 2.1 in \\cite{hancl2005}\nit was claimed in p.534 that from assumption (3) (i.e. @{thm liminf_1}),\nwe obtain that:\n$\\forall A>1~\\exists k_0~ \\forall k > k_0~ \\frac{1}{A} \\frac{b_k}{ a_k} > \\frac{ b_{k+1}}{ a_{k+1}} $,\n however note the counterexample  where\n$a_{k+1}= k (a_1 a_2 ... a_k)^{\\lceil 2+ \\delta \\rceil}$ if k is odd, and\n$a_{k+1} = 2 a_k$ otherwise, with $b_k =1$ for all $k$.\nIn commmunication by email the authors suggested to replace the claim \n$\\forall A>1~\\exists k_0~ \\forall k > k_0~ \\frac{1}{A} \\frac{b_k}{ a_k} > \\frac{ b_{k+1}}{ a_{k+1}} $\nwith\n$\\exists A>1~\\exists k_0~ \\forall k > k_0~ \\frac{1}{A} \\frac{b_k}{ a_k} > \\frac{ b_{k+1}}{ a_{k+1}} $\nwhich solves the problem and the proof proceeds as in the paper.\nThe witness for $\\exists A>1 $ is denoted by $M$ here.\\<close>"], ["proof (state)\nthis:\n  1 < M\n  ereal M < B\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have bb_aa_event:\"\\<forall>\\<^sub>F k in sequentially. (1/M)*(bb k / aa k)> bb(k+1)/ aa (k+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       bb (k + 1) / aa (k + 1) < 1 / M * (bb k / aa k)", "using less_LiminfD[OF \\<open>M < B\\<close>[unfolded B_def],simplified]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     M < aa (Suc x) * bb x / (aa x * bb (Suc x))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       bb (k + 1) / aa (k + 1) < 1 / M * (bb k / aa k)", "by eventually_elim (use \\<open>M > 1\\<close> in \\<open>auto simp: field_simps\\<close>)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially.\n     bb (k + 1) / aa (k + 1) < 1 / M * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have bb_aa_p:\"\\<forall>\\<^sub>F k in sequentially. \\<forall>p. bb(k+p)/ aa (k+p) \\<le> (1/M^p)*(bb k / aa k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)", "obtain k0 where k0_ineq:\n        \"\\<forall>n\\<ge>k0. bb (n + 1) / aa (n + 1) < 1 / M * (bb n / aa n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>k0.\n        \\<forall>n\\<ge>k0.\n           bb (n + 1) / aa (n + 1) < 1 / M * (bb n / aa n) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using bb_aa_event"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F k in sequentially.\n     bb (k + 1) / aa (k + 1) < 1 / M * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. (\\<And>k0.\n        \\<forall>n\\<ge>k0.\n           bb (n + 1) / aa (n + 1) < 1 / M * (bb n / aa n) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_sequentially"], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N. bb (n + 1) / aa (n + 1) < 1 / M * (bb n / aa n)\n\ngoal (1 subgoal):\n 1. (\\<And>k0.\n        \\<forall>n\\<ge>k0.\n           bb (n + 1) / aa (n + 1) < 1 / M * (bb n / aa n) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>k0. bb (n + 1) / aa (n + 1) < 1 / M * (bb n / aa n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)", "have \"bb(k+p)/ aa (k+p) \\<le> (1/M^p)*(bb k / aa k)\" when \"k\\<ge>k0\" for p k"], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)", "proof (induct p)"], ["proof (state)\ngoal (2 subgoals):\n 1. bb (k + 0) / aa (k + 0) \\<le> 1 / M ^ 0 * (bb k / aa k)\n 2. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. bb (k + 0) / aa (k + 0) \\<le> 1 / M ^ 0 * (bb k / aa k)\n 2. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + 0) / aa (k + 0) \\<le> 1 / M ^ 0 * (bb k / aa k)", "by auto"], ["proof (state)\nthis:\n  bb (k + 0) / aa (k + 0) \\<le> 1 / M ^ 0 * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "case (Suc p)"], ["proof (state)\nthis:\n  bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "have \" bb (k + Suc p) / aa (k + Suc p)  < 1 / M * (bb (k+p) / aa (k+p))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + Suc p) / aa (k + Suc p) < 1 / M * (bb (k + p) / aa (k + p))", "using k0_ineq[rule_format,of \"k+p\"] that"], ["proof (prove)\nusing this:\n  k0 \\<le> k + p \\<Longrightarrow>\n  bb (k + p + 1) / aa (k + p + 1) < 1 / M * (bb (k + p) / aa (k + p))\n  k0 \\<le> k\n\ngoal (1 subgoal):\n 1. bb (k + Suc p) / aa (k + Suc p) < 1 / M * (bb (k + p) / aa (k + p))", "by auto"], ["proof (state)\nthis:\n  bb (k + Suc p) / aa (k + Suc p) < 1 / M * (bb (k + p) / aa (k + p))\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "also"], ["proof (state)\nthis:\n  bb (k + Suc p) / aa (k + Suc p) < 1 / M * (bb (k + p) / aa (k + p))\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "have \"... \\<le> 1 / M ^(Suc p) * (bb k / aa k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / M * (bb (k + p) / aa (k + p)) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "using Suc \\<open>M>1\\<close>"], ["proof (prove)\nusing this:\n  bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)\n  1 < M\n\ngoal (1 subgoal):\n 1. 1 / M * (bb (k + p) / aa (k + p)) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "by (auto simp add:field_simps)"], ["proof (state)\nthis:\n  1 / M * (bb (k + p) / aa (k + p)) \\<le> 1 / M ^ Suc p * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<And>p.\n       bb (k + p) / aa (k + p)\n       \\<le> 1 / M ^ p * (bb k / aa k) \\<Longrightarrow>\n       bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "finally"], ["proof (chain)\npicking this:\n  bb (k + Suc p) / aa (k + Suc p) < 1 / M ^ Suc p * (bb k / aa k)", "show ?case"], ["proof (prove)\nusing this:\n  bb (k + Suc p) / aa (k + Suc p) < 1 / M ^ Suc p * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)", "by auto"], ["proof (state)\nthis:\n  bb (k + Suc p) / aa (k + Suc p) \\<le> 1 / M ^ Suc p * (bb k / aa k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  k0 \\<le> ?k \\<Longrightarrow>\n  bb (?k + ?p) / aa (?k + ?p) \\<le> 1 / M ^ ?p * (bb ?k / aa ?k)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)", "then"], ["proof (chain)\npicking this:\n  k0 \\<le> ?k \\<Longrightarrow>\n  bb (?k + ?p) / aa (?k + ?p) \\<le> 1 / M ^ ?p * (bb ?k / aa ?k)", "show ?thesis"], ["proof (prove)\nusing this:\n  k0 \\<le> ?k \\<Longrightarrow>\n  bb (?k + ?p) / aa (?k + ?p) \\<le> 1 / M ^ ?p * (bb ?k / aa ?k)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)", "unfolding eventually_sequentially"], ["proof (prove)\nusing this:\n  k0 \\<le> ?k \\<Longrightarrow>\n  bb (?k + ?p) / aa (?k + ?p) \\<le> 1 / M ^ ?p * (bb ?k / aa ?k)\n\ngoal (1 subgoal):\n 1. \\<exists>N.\n       \\<forall>n\\<ge>N.\n          \\<forall>p.\n             bb (n + p) / aa (n + p) \\<le> 1 / M ^ p * (bb n / aa n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially.\n     \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially.\n     \\<forall>p. bb (k + p) / aa (k + p) \\<le> 1 / M ^ p * (bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define \\<xi> where \"\\<xi> = suminf (\\<lambda> k. bb k / aa k)\""], ["proof (state)\nthis:\n  \\<xi> = (\\<Sum>k. bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \\<xi>_Inf_many:\"\\<exists>\\<^sub>\\<infinity> k. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar> <  1 / prod aa {0..k} powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"\\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> = \\<bar>\\<Sum>i. bb (i+(k+1)) / aa (i+(k+1))\\<bar>\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>", "unfolding \\<xi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>(\\<Sum>k. bb k / aa k) - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>", "apply (subst suminf_minus_initial_segment[of _ \"k+1\",OF summable])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>(\\<Sum>k. bb k / aa k) - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>(\\<Sum>n. bb n / aa n) - (\\<Sum>i<k + 1. bb i / aa i)\\<bar>", "using atLeast0AtMost lessThan_Suc_atMost"], ["proof (prove)\nusing this:\n  {0..?n} = {..?n}\n  {..<Suc ?k} = {..?k}\n\ngoal (1 subgoal):\n 1. \\<bar>(\\<Sum>k. bb k / aa k) - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>(\\<Sum>n. bb n / aa n) - (\\<Sum>i<k + 1. bb i / aa i)\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..?k. bb i / aa i)\\<bar> =\n  \\<bar>\\<Sum>i. bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "moreover"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..?k. bb i / aa i)\\<bar> =\n  \\<bar>\\<Sum>i. bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"\\<exists>\\<^sub>\\<infinity> k. \\<bar>\\<Sum>i. bb(i+(k+1))/ aa (i+(k+1))\\<bar>\n                            <  1 / prod aa {0..k} powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "define P where \"P \\<equiv> (\\<lambda> i. \\<forall>p. bb (i + 1 + p) / aa (i + 1 + p)\n                                          \\<le> 1 / M ^ p * (bb (i + 1) / aa (i + 1)))\""], ["proof (state)\nthis:\n  P \\<equiv>\n  \\<lambda>i.\n     \\<forall>p.\n        bb (i + 1 + p) / aa (i + 1 + p)\n        \\<le> 1 / M ^ p * (bb (i + 1) / aa (i + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "define Q where \"Q \\<equiv> (\\<lambda> i. ereal (M / (M - 1)) \n                    < ereal (aa (i + 1) / prod aa {0..i} powr (2 + \\<delta>) * (1 / bb (i + 1))))\""], ["proof (state)\nthis:\n  Q \\<equiv>\n  \\<lambda>i.\n     ereal (M / (M - 1))\n     < ereal\n        (aa (i + 1) / prod aa {0..i} powr (2 + \\<delta>) * (1 / bb (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"\\<forall>\\<^sub>\\<infinity> i. P i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. P i", "using bb_aa_p[THEN sequentially_offset, of 1] cofinite_eq_sequentially"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in sequentially.\n     \\<forall>p.\n        bb (i + 1 + p) / aa (i + 1 + p)\n        \\<le> 1 / M ^ p * (bb (i + 1) / aa (i + 1))\n  cofinite = sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i. P i", "unfolding P_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in sequentially.\n     \\<forall>p.\n        bb (i + 1 + p) / aa (i + 1 + p)\n        \\<le> 1 / M ^ p * (bb (i + 1) / aa (i + 1))\n  cofinite = sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>i.\n       \\<forall>p.\n          bb (i + 1 + p) / aa (i + 1 + p)\n          \\<le> 1 / M ^ p * (bb (i + 1) / aa (i + 1))", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i. P i\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>i. P i\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"\\<exists>\\<^sub>\\<infinity>i. Q i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i. Q i", "using limsup_infy[THEN limsup_infinity_imp_Inf_many,rule_format,of \"(M / (M -1))\"]"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i.\n     ereal (M / (M - 1))\n     < ereal\n        (aa (i + 1) / prod aa {0..i} powr (2 + \\<delta>) * (1 / bb (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i. Q i", "unfolding Q_def"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i.\n     ereal (M / (M - 1))\n     < ereal\n        (aa (i + 1) / prod aa {0..i} powr (2 + \\<delta>) * (1 / bb (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i.\n       ereal (M / (M - 1))\n       < ereal\n          (aa (i + 1) / prod aa {0..i} powr (2 + \\<delta>) *\n           (1 / bb (i + 1)))", "."], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>i. Q i\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>i. Q i\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"\\<bar>\\<Sum>i. bb(i+(k+1))/ aa (i+(k+1))\\<bar>\n                            <  1 / prod aa {0..k} powr (2 + \\<delta>)\"\n        when \"P k\" \"Q k\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have summable_M:\"summable (\\<lambda>i. 1 / M ^ i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. 1 / M ^ i)", "apply (rule summable_ratio_test[of \"1/M\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. 1 / M < 1\n 2. \\<And>n.\n       ?N \\<le> n \\<Longrightarrow>\n       norm (1 / M ^ Suc n) \\<le> 1 / M * norm (1 / M ^ n)", "using \\<open>M>1\\<close>"], ["proof (prove)\nusing this:\n  1 < M\n\ngoal (2 subgoals):\n 1. 1 / M < 1\n 2. \\<And>n.\n       ?N \\<le> n \\<Longrightarrow>\n       norm (1 / M ^ Suc n) \\<le> 1 / M * norm (1 / M ^ n)", "by auto"], ["proof (state)\nthis:\n  summable (\\<lambda>i. 1 / M ^ i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"(\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))) \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "apply (rule suminf_nonneg)"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 2. \\<And>n. 0 \\<le> bb (n + (k + 1)) / aa (n + (k + 1))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "using summable_ignore_initial_segment[OF summable,of \"k+1\"]"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. bb (n + (k + 1)) / aa (n + (k + 1)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. 0 \\<le> bb (n + (k + 1)) / aa (n + (k + 1))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> bb (n_ + (k + 1)) / aa (n_ + (k + 1))", "by (simp add: less_imp_le)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  0 \\<le> (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "then"], ["proof (chain)\npicking this:\n  0 \\<le> (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "have \"\\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> \n                      = (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\""], ["proof (prove)\nusing this:\n  0 \\<le> (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n    (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"... \\<le> (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n    \\<le> (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))", "apply (rule suminf_le)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>n.\n       bb (n + (k + 1)) / aa (n + (k + 1))\n       \\<le> 1 / M ^ n * (bb (k + 1) / aa (k + 1))\n 2. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 3. summable (\\<lambda>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (n_ + (k + 1)) / aa (n_ + (k + 1))\n    \\<le> 1 / M ^ n_ * (bb (k + 1) / aa (k + 1))", "using that(1)"], ["proof (prove)\nusing this:\n  P k\n\ngoal (1 subgoal):\n 1. bb (n_ + (k + 1)) / aa (n_ + (k + 1))\n    \\<le> 1 / M ^ n_ * (bb (k + 1) / aa (k + 1))", "unfolding P_def"], ["proof (prove)\nusing this:\n  \\<forall>p.\n     bb (k + 1 + p) / aa (k + 1 + p)\n     \\<le> 1 / M ^ p * (bb (k + 1) / aa (k + 1))\n\ngoal (1 subgoal):\n 1. bb (n_ + (k + 1)) / aa (n_ + (k + 1))\n    \\<le> 1 / M ^ n_ * (bb (k + 1) / aa (k + 1))", "by (auto simp add:algebra_simps)"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 2. summable (\\<lambda>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "using summable_ignore_initial_segment[OF summable,of \"k+1\"]"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. bb (n + (k + 1)) / aa (n + (k + 1)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))", "using summable_mult2[OF summable_M,of \" bb (k + 1) / aa (k + 1)\"]"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. 1 / M ^ n * (bb (k + 1) / aa (k + 1)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n  \\<le> (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n  \\<le> (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"... = (bb (k + 1) / aa (k + 1)) * (\\<Sum>i. 1 / M ^ i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1))) =\n    bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i)", "using suminf_mult2[OF summable_M,of \" bb (k + 1) / aa (k + 1)\"]"], ["proof (prove)\nusing this:\n  (\\<Sum>i. 1 / M ^ i) * (bb (k + 1) / aa (k + 1)) =\n  (\\<Sum>n. 1 / M ^ n * (bb (k + 1) / aa (k + 1)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1))) =\n    bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1))) =\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i. 1 / M ^ i * (bb (k + 1) / aa (k + 1))) =\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"... = (bb (k + 1) / aa (k + 1)) * (\\<Sum>i. (1 / M) ^ i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i) =\n    bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i)", "using \\<open>M>1\\<close>"], ["proof (prove)\nusing this:\n  1 < M\n\ngoal (1 subgoal):\n 1. bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i) =\n    bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i)", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i) =\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. 1 / M ^ i) =\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"... = (bb (k + 1) / aa (k + 1)) * (M / (M -1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i) =\n    bb (k + 1) / aa (k + 1) * (M / (M - 1))", "apply (subst suminf_geometric)"], ["proof (prove)\ngoal (2 subgoals):\n 1. norm (1 / M) < 1\n 2. bb (k + 1) / aa (k + 1) * (1 / (1 - 1 / M)) =\n    bb (k + 1) / aa (k + 1) * (M / (M - 1))", "using \\<open>M>1\\<close>"], ["proof (prove)\nusing this:\n  1 < M\n\ngoal (2 subgoals):\n 1. norm (1 / M) < 1\n 2. bb (k + 1) / aa (k + 1) * (1 / (1 - 1 / M)) =\n    bb (k + 1) / aa (k + 1) * (M / (M - 1))", "by (auto simp: field_simps)"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i) =\n  bb (k + 1) / aa (k + 1) * (M / (M - 1))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) * (\\<Sum>i. (1 / M) ^ i) =\n  bb (k + 1) / aa (k + 1) * (M / (M - 1))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"... < (bb (k + 1) / aa (k + 1)) * (aa (k + 1) / \n                            prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + 1) / aa (k + 1) * (M / (M - 1))\n    < bb (k + 1) / aa (k + 1) *\n      (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1)))", "apply (subst mult_less_cancel_left_pos)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < bb (k + 1) / aa (k + 1)\n 2. M / (M - 1)\n    < aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1))", "using that(2)"], ["proof (prove)\nusing this:\n  Q k\n\ngoal (2 subgoals):\n 1. 0 < bb (k + 1) / aa (k + 1)\n 2. M / (M - 1)\n    < aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1))", "unfolding Q_def"], ["proof (prove)\nusing this:\n  ereal (M / (M - 1))\n  < ereal\n     (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1)))\n\ngoal (2 subgoals):\n 1. 0 < bb (k + 1) / aa (k + 1)\n 2. M / (M - 1)\n    < aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1))", "by auto"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) * (M / (M - 1))\n  < bb (k + 1) / aa (k + 1) *\n    (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) * (M / (M - 1))\n  < bb (k + 1) / aa (k + 1) *\n    (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "have \"... = 1/ prod aa {0..k} powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (k + 1) / aa (k + 1) *\n    (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1))) =\n    1 / prod aa {0..k} powr (2 + \\<delta>)", "using ab_1[of \"Suc k\"]"], ["proof (prove)\nusing this:\n  1 \\<le> aa (Suc k)\n  1 \\<le> bb (Suc k)\n\ngoal (1 subgoal):\n 1. bb (k + 1) / aa (k + 1) *\n    (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1))) =\n    1 / prod aa {0..k} powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  bb (k + 1) / aa (k + 1) *\n  (aa (k + 1) / prod aa {0..k} powr (2 + \\<delta>) * (1 / bb (k + 1))) =\n  1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "finally"], ["proof (chain)\npicking this:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "."], ["proof (state)\nthis:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>P ?k; Q ?k\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<Sum>i.\n                             bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n                    < 1 / prod aa {0..?k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>\\<infinity>i. P i\n  \\<exists>\\<^sub>\\<infinity>i. Q i\n  \\<lbrakk>P ?k; Q ?k\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<Sum>i.\n                             bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n                    < 1 / prod aa {0..?k} powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>i. P i\n  \\<exists>\\<^sub>\\<infinity>i. Q i\n  \\<lbrakk>P ?k; Q ?k\\<rbrakk>\n  \\<Longrightarrow> \\<bar>\\<Sum>i.\n                             bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n                    < 1 / prod aa {0..?k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "by (smt INFM_conjI INFM_mono)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..?k. bb i / aa i)\\<bar> =\n  \\<bar>\\<Sum>i. bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..?k. bb i / aa i)\\<bar> =\n  \\<bar>\\<Sum>i. bb (i + (?k + 1)) / aa (i + (?k + 1))\\<bar>\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define pq where \"pq \\<equiv> (\\<lambda>k. quotient_of (\\<Sum>i=0..k. of_int (b i) / of_int (a i)))\""], ["proof (state)\nthis:\n  pq \\<equiv>\n  \\<lambda>k.\n     quotient_of (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define p q where \"p \\<equiv> fst \\<circ> pq\" and \"q = snd \\<circ> pq\""], ["proof (state)\nthis:\n  p \\<equiv> fst \\<circ> pq\n  q = snd \\<circ> pq\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have coprime_pq:\"coprime (p k) (q k)\"\n        and q_pos:\"q k > 0\" and pq_sum:\"p k / q k = (\\<Sum>i=0..k. b i / a i)\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (p k) (q k) &&&\n    0 < q k &&&\n    real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. coprime (p k) (q k)\n 2. 0 < q k\n 3. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "have eq: \"quotient_of (\\<Sum>i=0..k. of_int (b i) / of_int (a i)) = (p k, q k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quotient_of (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n    (p k, q k)", "by (simp add: p_def q_def pq_def)"], ["proof (state)\nthis:\n  quotient_of (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n  (p k, q k)\n\ngoal (3 subgoals):\n 1. coprime (p k) (q k)\n 2. 0 < q k\n 3. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "from quotient_of_coprime[OF eq]"], ["proof (chain)\npicking this:\n  coprime (p k) (q k)", "show \"coprime (p k) (q k)\""], ["proof (prove)\nusing this:\n  coprime (p k) (q k)\n\ngoal (1 subgoal):\n 1. coprime (p k) (q k)", "."], ["proof (state)\nthis:\n  coprime (p k) (q k)\n\ngoal (2 subgoals):\n 1. 0 < q k\n 2. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "from quotient_of_denom_pos[OF eq]"], ["proof (chain)\npicking this:\n  0 < q k", "show \"q k > 0\""], ["proof (prove)\nusing this:\n  0 < q k\n\ngoal (1 subgoal):\n 1. 0 < q k", "."], ["proof (state)\nthis:\n  0 < q k\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "have \"(\\<Sum>i=0..k. b i / a i) = of_rat (\\<Sum>i=0..k. of_int (b i) / of_int (a i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n    real_of_rat (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))", "by (simp add: of_rat_sum of_rat_divide)"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "have \"(\\<Sum>i=0..k. rat_of_int (b i) / rat_of_int (a i)) =\n                 rat_of_int (p k) / rat_of_int (q k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n    rat_of_int (p k) / rat_of_int (q k)", "using quotient_of_div[OF eq]"], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n  rat_of_int (p k) / rat_of_int (q k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n    rat_of_int (p k) / rat_of_int (q k)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n  rat_of_int (p k) / rat_of_int (q k)\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (rat_of_int (p k) / rat_of_int (q k))", "show \"p k / q k = (\\<Sum>i=0..k. b i / a i)\""], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (rat_of_int (p k) / rat_of_int (q k))\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "by (simp add:of_rat_divide)"], ["proof (state)\nthis:\n  real_of_int (p k) / real_of_int (q k) =\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (p ?k) (q ?k)\n  0 < q ?k\n  real_of_int (p ?k) / real_of_int (q ?k) =\n  (\\<Sum>i = 0..?k. real_of_int (b i) / real_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \\<xi>_Inf_many2:\"\\<exists>\\<^sub>\\<infinity> k. \\<bar>\\<xi> - p k / q k\\<bar> <  1 / q k powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "using \\<xi>_Inf_many"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n     < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "proof (elim INFM_mono)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "assume asm:\"\\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar> < 1 / prod aa {0..k} powr (2 + \\<delta>)\""], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "have \"\\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> \n              = \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n    \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>", "using pq_sum"], ["proof (prove)\nusing this:\n  real_of_int (p ?k) / real_of_int (q ?k) =\n  (\\<Sum>i = 0..?k. real_of_int (b i) / real_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n    \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>", "unfolding aa_def bb_def"], ["proof (prove)\nusing this:\n  real_of_int (p ?k) / real_of_int (q ?k) =\n  (\\<Sum>i = 0..?k. real_of_int (b i) / real_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n    \\<bar>\\<xi> -\n          (\\<Sum>k = 0..k. real_of_int (b k) / real_of_int (a k))\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "have \"... < 1 / prod aa {0..k} powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "using asm"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n    < 1 / prod aa {0..k} powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 1 / prod aa {0..k} powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "have \"... \\<le> 1 / q k powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta>)\n    \\<le> 1 / real_of_int (q k) powr (2 + \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta>)\n    \\<le> 1 / real_of_int (q k) powr (2 + \\<delta>)", "have \"q k \\<le> prod aa {0..k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q k) \\<le> prod aa {0..k}", "proof (induct k)"], ["proof (state)\ngoal (2 subgoals):\n 1. real_of_int (q 0) \\<le> prod aa {0..0}\n 2. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. real_of_int (q 0) \\<le> prod aa {0..0}\n 2. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q 0) \\<le> prod aa {0..0}", "unfolding q_def pq_def aa_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     ((snd \\<circ>\n       (\\<lambda>k.\n           quotient_of\n            (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))))\n       0)\n    \\<le> (\\<Prod>b = 0..0. real_of_int (a b))", "apply (simp add:rat_divide_code of_int_rat quotient_of_Fract)"], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (Rat.normalize (b 0, a 0)) \\<le> a 0", "using ab_1[of 0,unfolded aa_def bb_def]"], ["proof (prove)\nusing this:\n  1 \\<le> real_of_int (a 0)\n  1 \\<le> real_of_int (b 0)\n\ngoal (1 subgoal):\n 1. snd (Rat.normalize (b 0, a 0)) \\<le> a 0", "unfolding Let_def normalize_def"], ["proof (prove)\nusing this:\n  1 \\<le> real_of_int (a 0)\n  1 \\<le> real_of_int (b 0)\n\ngoal (1 subgoal):\n 1. snd (if 0 < snd (b 0, a 0)\n         then (fst (b 0, a 0) div gcd (fst (b 0, a 0)) (snd (b 0, a 0)),\n               snd (b 0, a 0) div gcd (fst (b 0, a 0)) (snd (b 0, a 0)))\n         else if snd (b 0, a 0) = 0 then (0, 1)\n              else (fst (b 0, a 0) div\n                    - gcd (fst (b 0, a 0)) (snd (b 0, a 0)),\n                    snd (b 0, a 0) div\n                    - gcd (fst (b 0, a 0)) (snd (b 0, a 0))))\n    \\<le> a 0", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>1 \\<le> a 0; 1 \\<le> b 0\\<rbrakk>\n    \\<Longrightarrow> a 0 div gcd (b 0) (a 0) \\<le> a 0", "by (metis div_by_1 gcd_pos_int less_imp_le less_trans nonneg1_imp_zdiv_pos_iff \n                not_less zdiv_mono2)"], ["proof (state)\nthis:\n  real_of_int (q 0) \\<le> prod aa {0..0}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "case (Suc k)"], ["proof (state)\nthis:\n  real_of_int (q k) \\<le> prod aa {0..k}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "define de where \"de \\<equiv>snd \\<circ> quotient_of\""], ["proof (state)\nthis:\n  de \\<equiv> snd \\<circ> quotient_of\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"real_of_int (q (Suc k)) \n                  = de (\\<Sum>i=0..Suc k. of_int (b i) / of_int (a i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q (Suc k)) =\n    real_of_int\n     (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))", "unfolding q_def pq_def de_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     ((snd \\<circ>\n       (\\<lambda>k.\n           quotient_of\n            (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))))\n       (Suc k)) =\n    real_of_int\n     ((snd \\<circ> quotient_of)\n       (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))", "by simp"], ["proof (state)\nthis:\n  real_of_int (q (Suc k)) =\n  real_of_int (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q (Suc k)) =\n  real_of_int (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = de ((\\<Sum>i=0..k. of_int (b i) / of_int (a i)) \n                                + of_int (b (Suc k)) / of_int (a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i))) =\n    real_of_int\n     (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n          rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "by simp"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i))) =\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i))) =\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... \\<le> de (\\<Sum>i=0..k. of_int (b i) / of_int (a i)) \n                                * de (of_int (b (Suc k)) / of_int (a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n          rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n    \\<le> real_of_int\n           (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n            de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "using snd_quotient_plus_leq[folded de_def]"], ["proof (prove)\nusing this:\n  de (?x + ?y) \\<le> de ?x * de ?y\n\ngoal (1 subgoal):\n 1. real_of_int\n     (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n          rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n    \\<le> real_of_int\n           (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n            de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "by presburger"], ["proof (state)\nthis:\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n  \\<le> real_of_int\n         (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n          de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n  \\<le> real_of_int\n         (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n          de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = q k * de (of_int (b (Suc k)) / of_int (a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n      de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n    real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "unfolding q_def pq_def de_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     ((snd \\<circ> quotient_of)\n       (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n      (snd \\<circ> quotient_of)\n       (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n    real_of_int\n     ((snd \\<circ>\n       (\\<lambda>k.\n           quotient_of\n            (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))))\n       k *\n      (snd \\<circ> quotient_of)\n       (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "by auto"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n    de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n    de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = q k * snd (Rat.normalize (b (Suc k), a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n    real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))", "by (simp add:rat_divide_code of_int_rat quotient_of_Fract de_def)"], ["proof (state)\nthis:\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... \\<le> q k * aa (Suc k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n    \\<le> real_of_int (q k) * aa (Suc k)", "using ab_1[of \"Suc k\"] q_pos[of \"k\"]"], ["proof (prove)\nusing this:\n  1 \\<le> aa (Suc k)\n  1 \\<le> bb (Suc k)\n  0 < q k\n\ngoal (1 subgoal):\n 1. real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n    \\<le> real_of_int (q k) * aa (Suc k)", "unfolding normalize_def aa_def bb_def Let_def"], ["proof (prove)\nusing this:\n  1 \\<le> real_of_int (a (Suc k))\n  1 \\<le> real_of_int (b (Suc k))\n  0 < q k\n\ngoal (1 subgoal):\n 1. real_of_int\n     (q k *\n      snd (if 0 < snd (b (Suc k), a (Suc k))\n           then (fst (b (Suc k), a (Suc k)) div\n                 gcd (fst (b (Suc k), a (Suc k)))\n                  (snd (b (Suc k), a (Suc k))),\n                 snd (b (Suc k), a (Suc k)) div\n                 gcd (fst (b (Suc k), a (Suc k)))\n                  (snd (b (Suc k), a (Suc k))))\n           else if snd (b (Suc k), a (Suc k)) = 0 then (0, 1)\n                else (fst (b (Suc k), a (Suc k)) div\n                      - gcd (fst (b (Suc k), a (Suc k)))\n                         (snd (b (Suc k), a (Suc k))),\n                      snd (b (Suc k), a (Suc k)) div\n                      - gcd (fst (b (Suc k), a (Suc k)))\n                         (snd (b (Suc k), a (Suc k))))))\n    \\<le> real_of_int (q k) * real_of_int (a (Suc k))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>1 \\<le> a (Suc k); 1 \\<le> b (Suc k); 0 < q k\\<rbrakk>\n    \\<Longrightarrow> a (Suc k) div gcd (b (Suc k)) (a (Suc k))\n                      \\<le> a (Suc k)", "by (metis div_by_1 int_one_le_iff_zero_less less_trans \n                  nonneg1_imp_zdiv_pos_iff not_less zdiv_mono2 zero_less_one)"], ["proof (state)\nthis:\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n  \\<le> real_of_int (q k) * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n  \\<le> real_of_int (q k) * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... \\<le>  prod aa {0..k} * aa (Suc k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)", "using Suc ab_1[of \"Suc k\"]"], ["proof (prove)\nusing this:\n  real_of_int (q k) \\<le> prod aa {0..k}\n  1 \\<le> aa (Suc k)\n  1 \\<le> bb (Suc k)\n\ngoal (1 subgoal):\n 1. real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)", "by auto"], ["proof (state)\nthis:\n  real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = prod aa {0..Suc k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prod aa {0..k} * aa (Suc k) = prod aa {0..Suc k}", "by (simp add: prod.atLeast0_atMost_Suc)"], ["proof (state)\nthis:\n  prod aa {0..k} * aa (Suc k) = prod aa {0..Suc k}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "finally"], ["proof (chain)\npicking this:\n  real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "show ?case"], ["proof (prove)\nusing this:\n  real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}\n\ngoal (1 subgoal):\n 1. real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "."], ["proof (state)\nthis:\n  real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (q k) \\<le> prod aa {0..k}\n\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta>)\n    \\<le> 1 / real_of_int (q k) powr (2 + \\<delta>)", "then"], ["proof (chain)\npicking this:\n  real_of_int (q k) \\<le> prod aa {0..k}", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (q k) \\<le> prod aa {0..k}\n\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta>)\n    \\<le> 1 / real_of_int (q k) powr (2 + \\<delta>)", "by (smt \\<open>0 < \\<delta>\\<close> frac_le of_int_0 of_int_le_iff powr_gt_zero \n                  powr_mono2 q_pos)"], ["proof (state)\nthis:\n  1 / prod aa {0..k} powr (2 + \\<delta>)\n  \\<le> 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / prod aa {0..k} powr (2 + \\<delta>)\n  \\<le> 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 1 / prod aa {0..k} powr (2 + \\<delta>) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "finally"], ["proof (chain)\npicking this:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n  < 1 / real_of_int (q k) powr (2 + \\<delta>)", "show \"\\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> < 1 / real_of_int (q k) powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n  < 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n    < 1 / real_of_int (q k) powr (2 + \\<delta>)", "."], ["proof (state)\nthis:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n  < 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define pqs where \"pqs \\<equiv>{(p, q). q>0 \\<and> coprime p q \n      \\<and> \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar> < 1 / q powr (2 + \\<delta>)}\""], ["proof (state)\nthis:\n  pqs \\<equiv>\n  {(p, q).\n   0 < q \\<and>\n   coprime p q \\<and>\n   \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n   < 1 / real_of_int q powr (2 + \\<delta>)}\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \\<xi>_infinite:\"infinite pqs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite pqs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. infinite pqs", "define A where \"A \\<equiv> {k. \\<bar>\\<xi> -  (p k) /  (q k)\\<bar> < 1 / (q k) powr (2 + \\<delta>)}\""], ["proof (state)\nthis:\n  A \\<equiv>\n  {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n      < 1 / real_of_int (q k) powr (2 + \\<delta>)}\n\ngoal (1 subgoal):\n 1. infinite pqs", "have \"\\<exists>\\<^sub>\\<infinity> k. \\<bar>\\<xi> - p k / q k\\<bar> <  1 / q k powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "using \\<xi>_Inf_many2"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)", "."], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. infinite pqs", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 / real_of_int (q k) powr (2 + \\<delta>)", "have \"infinite A\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 / real_of_int (q k) powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. infinite A", "unfolding Inf_many_def A_def"], ["proof (prove)\nusing this:\n  infinite\n   {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 / real_of_int (q k) powr (2 + \\<delta>)}\n\ngoal (1 subgoal):\n 1. infinite\n     {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n         < 1 / real_of_int (q k) powr (2 + \\<delta>)}", "by auto"], ["proof (state)\nthis:\n  infinite A\n\ngoal (1 subgoal):\n 1. infinite pqs", "moreover"], ["proof (state)\nthis:\n  infinite A\n\ngoal (1 subgoal):\n 1. infinite pqs", "have \"inj_on (\\<lambda>k. (p k, q k)) A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "define g where \"g \\<equiv> (\\<lambda>i. rat_of_int (b i) / rat_of_int (a i))\""], ["proof (state)\nthis:\n  g \\<equiv> \\<lambda>i. rat_of_int (b i) / rat_of_int (a i)\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "define f where \"f \\<equiv> (\\<lambda>k. \\<Sum>i = 0..k. g i)\""], ["proof (state)\nthis:\n  f \\<equiv> \\<lambda>k. sum g {0..k}\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "have g_pos:\"g i>0\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < g i", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < rat_of_int (b i) / rat_of_int (a i)", "by (simp add: a_pos b_pos)"], ["proof (state)\nthis:\n  0 < g ?i\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "have \"strict_mono f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strict_mono f", "unfolding strict_mono_def f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y. x < y \\<longrightarrow> sum g {0..x} < sum g {0..y}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "fix x y::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "assume \"x < y\""], ["proof (state)\nthis:\n  x < y\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "then"], ["proof (chain)\npicking this:\n  x < y", "have \"sum g {0..y} - sum g {0..x} = sum g {x<..y}\""], ["proof (prove)\nusing this:\n  x < y\n\ngoal (1 subgoal):\n 1. sum g {0..y} - sum g {0..x} = sum g {x<..y}", "apply (subst  Groups_Big.sum_diff[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. x < y \\<Longrightarrow> finite {0..y}\n 2. x < y \\<Longrightarrow> {0..x} \\<subseteq> {0..y}\n 3. x < y \\<Longrightarrow> sum g ({0..y} - {0..x}) = sum g {x<..y}", "by (auto intro:arg_cong2[where f=sum])"], ["proof (state)\nthis:\n  sum g {0..y} - sum g {0..x} = sum g {x<..y}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "also"], ["proof (state)\nthis:\n  sum g {0..y} - sum g {0..x} = sum g {x<..y}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "have \"... > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < sum g {x<..y}", "apply (rule ordered_comm_monoid_add_class.sum_pos)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {x<..y}\n 2. {x<..y} \\<noteq> {}\n 3. \\<And>i. i \\<in> {x<..y} \\<Longrightarrow> 0 < g i", "using \\<open>x<y\\<close> g_pos"], ["proof (prove)\nusing this:\n  x < y\n  0 < g ?i\n\ngoal (3 subgoals):\n 1. finite {x<..y}\n 2. {x<..y} \\<noteq> {}\n 3. \\<And>i. i \\<in> {x<..y} \\<Longrightarrow> 0 < g i", "by auto"], ["proof (state)\nthis:\n  0 < sum g {x<..y}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "finally"], ["proof (chain)\npicking this:\n  0 < sum g {0..y} - sum g {0..x}", "have \"sum g {0..y} - sum g {0..x} >0\""], ["proof (prove)\nusing this:\n  0 < sum g {0..y} - sum g {0..x}\n\ngoal (1 subgoal):\n 1. 0 < sum g {0..y} - sum g {0..x}", "."], ["proof (state)\nthis:\n  0 < sum g {0..y} - sum g {0..x}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "then"], ["proof (chain)\npicking this:\n  0 < sum g {0..y} - sum g {0..x}", "show \"sum g {0..x} < sum g {0..y}\""], ["proof (prove)\nusing this:\n  0 < sum g {0..y} - sum g {0..x}\n\ngoal (1 subgoal):\n 1. sum g {0..x} < sum g {0..y}", "by auto"], ["proof (state)\nthis:\n  sum g {0..x} < sum g {0..y}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  strict_mono f\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  strict_mono f", "have \"inj f\""], ["proof (prove)\nusing this:\n  strict_mono f\n\ngoal (1 subgoal):\n 1. inj f", "using strict_mono_imp_inj_on"], ["proof (prove)\nusing this:\n  strict_mono f\n  strict_mono ?f \\<Longrightarrow> inj_on ?f ?A\n\ngoal (1 subgoal):\n 1. inj f", "by auto"], ["proof (state)\nthis:\n  inj f\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  inj f", "have \"inj (quotient_of o f)\""], ["proof (prove)\nusing this:\n  inj f\n\ngoal (1 subgoal):\n 1. inj (quotient_of \\<circ> f)", "by (simp add: inj_compose quotient_of_inj)"], ["proof (state)\nthis:\n  inj (quotient_of \\<circ> f)\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  inj (quotient_of \\<circ> f)", "have \"inj (\\<lambda>k. (p k, q k))\""], ["proof (prove)\nusing this:\n  inj (quotient_of \\<circ> f)\n\ngoal (1 subgoal):\n 1. inj (\\<lambda>k. (p k, q k))", "unfolding f_def p_def q_def pq_def comp_def"], ["proof (prove)\nusing this:\n  inj (\\<lambda>x. quotient_of (sum g {0..x}))\n\ngoal (1 subgoal):\n 1. inj (\\<lambda>k.\n            (fst (quotient_of\n                   (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))),\n             snd (quotient_of\n                   (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)))))", "apply (fold g_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj (\\<lambda>x. quotient_of (sum g {0..x})) \\<Longrightarrow>\n    inj (\\<lambda>k.\n            (fst (quotient_of (sum g {0..k})),\n             snd (quotient_of (sum g {0..k}))))", "by auto"], ["proof (state)\nthis:\n  inj (\\<lambda>k. (p k, q k))\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  inj (\\<lambda>k. (p k, q k))", "show ?thesis"], ["proof (prove)\nusing this:\n  inj (\\<lambda>k. (p k, q k))\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "by (auto elim:subset_inj_on)"], ["proof (state)\nthis:\n  inj_on (\\<lambda>k. (p k, q k)) A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inj_on (\\<lambda>k. (p k, q k)) A\n\ngoal (1 subgoal):\n 1. infinite pqs", "moreover"], ["proof (state)\nthis:\n  inj_on (\\<lambda>k. (p k, q k)) A\n\ngoal (1 subgoal):\n 1. infinite pqs", "have \"(\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs", "unfolding A_def pqs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>k. (p k, q k)) `\n    {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n        < 1 / real_of_int (q k) powr (2 + \\<delta>)}\n    \\<subseteq> {(p, q).\n                 0 < q \\<and>\n                 coprime p q \\<and>\n                 \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n                 < 1 / real_of_int q powr (2 + \\<delta>)}", "using coprime_pq q_pos"], ["proof (prove)\nusing this:\n  coprime (p ?k) (q ?k)\n  0 < q ?k\n\ngoal (1 subgoal):\n 1. (\\<lambda>k. (p k, q k)) `\n    {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n        < 1 / real_of_int (q k) powr (2 + \\<delta>)}\n    \\<subseteq> {(p, q).\n                 0 < q \\<and>\n                 coprime p q \\<and>\n                 \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n                 < 1 / real_of_int q powr (2 + \\<delta>)}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\n\ngoal (1 subgoal):\n 1. infinite pqs", "ultimately"], ["proof (chain)\npicking this:\n  infinite A\n  inj_on (\\<lambda>k. (p k, q k)) A\n  (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs", "show ?thesis"], ["proof (prove)\nusing this:\n  infinite A\n  inj_on (\\<lambda>k. (p k, q k)) A\n  (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\n\ngoal (1 subgoal):\n 1. infinite pqs", "apply (elim infinite_inj_imageE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>inj_on (\\<lambda>k. (p k, q k)) A;\n     (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\\<rbrakk>\n    \\<Longrightarrow> inj_on ?f3 A\n 2. \\<lbrakk>inj_on (\\<lambda>k. (p k, q k)) A;\n     (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\\<rbrakk>\n    \\<Longrightarrow> ?f3 ` A \\<subseteq> pqs", "by auto"], ["proof (state)\nthis:\n  infinite pqs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  infinite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "moreover"], ["proof (state)\nthis:\n  infinite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \"finite pqs\" if \"\\<xi> \\<in> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite pqs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite pqs", "obtain m n where \\<xi>_mn:\"\\<xi> = (of_int m / of_int n)\" and \"coprime m n\" \"n>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain m n where mn:\"\\<bar>\\<xi>\\<bar> = (of_nat m / of_nat n)\" \"coprime m n\" \"n\\<noteq>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<bar>\\<xi>\\<bar> = real m / real n; coprime m n;\n         n \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Rats_abs_nat_div_natE[OF \\<open>\\<xi> \\<in> \\<rat>\\<close> Rats_abs_nat_div_natE]"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>m n.\n              \\<lbrakk>n \\<noteq> 0; \\<bar>\\<xi>\\<bar> = real m / real n;\n               coprime m n\\<rbrakk>\n              \\<Longrightarrow> ?x1 m n \\<in> \\<rat>;\n   \\<And>m n ma na.\n      \\<lbrakk>n \\<noteq> 0; \\<bar>\\<xi>\\<bar> = real m / real n;\n       coprime m n; na \\<noteq> 0; \\<bar>?x1 m n\\<bar> = real ma / real na;\n       coprime ma na\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<bar>\\<xi>\\<bar> = real m / real n; coprime m n;\n         n \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<bar>\\<xi>\\<bar> = real m / real n\n  coprime m n\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define m' and n'::int \n        where \"m'=(if \\<xi> > 0 then nat m else -nat m)\" and \"n'=nat n\""], ["proof (state)\nthis:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))", "have \"\\<xi> = (of_int m' / of_int n')\" \"coprime m' n'\" \"n'>0\""], ["proof (prove)\nusing this:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))\n\ngoal (1 subgoal):\n 1. \\<xi> = real_of_int m' / real_of_int n' &&& coprime m' n' &&& 0 < n'", "using mn"], ["proof (prove)\nusing this:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))\n  \\<bar>\\<xi>\\<bar> = real m / real n\n  coprime m n\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<xi> = real_of_int m' / real_of_int n' &&& coprime m' n' &&& 0 < n'", "by auto"], ["proof (state)\nthis:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'\n  \\<lbrakk>\\<xi> = real_of_int ?m / real_of_int ?n; coprime ?m ?n;\n   0 < ?n\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<xi> = real_of_int m / real_of_int n\n  coprime m n\n  0 < n\n\ngoal (1 subgoal):\n 1. finite pqs", "have \"pqs \\<subseteq> {(m,n)} \\<union> {x. x \\<in>pqs \\<and> - \\<bar>m\\<bar> - 1 \\<le>fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0<snd x \\<and> snd x < n }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pqs\n    \\<subseteq> {(m, n)} \\<union>\n                {x \\<in> pqs.\n                 - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                 fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                 0 < snd x \\<and> snd x < n}", "proof (rule subsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "assume \"x \\<in> pqs\""], ["proof (state)\nthis:\n  x \\<in> pqs\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "define p q where \"p \\<equiv> fst x\" and \"q=snd x\""], ["proof (state)\nthis:\n  p \\<equiv> fst x\n  q = snd x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "have \"q>0\" \"coprime p q\" and pq_less:\"\\<bar>\\<xi> - p / q\\<bar> < 1 / q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 < q &&& coprime p q) &&&\n    \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "using \\<open>x\\<in>pqs\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> pqs\n\ngoal (1 subgoal):\n 1. (0 < q &&& coprime p q) &&&\n    \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "unfolding p_def q_def pqs_def"], ["proof (prove)\nusing this:\n  x \\<in> {(p, q).\n           0 < q \\<and>\n           coprime p q \\<and>\n           \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n           < 1 / real_of_int q powr (2 + \\<delta>)}\n\ngoal (1 subgoal):\n 1. (0 < snd x &&& coprime (fst x) (snd x)) &&&\n    \\<bar>\\<xi> - real_of_int (fst x) / real_of_int (snd x)\\<bar>\n    < 1 / real_of_int (snd x) powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  0 < q\n  coprime p q\n  \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "have q_lt_n:\"q<n\" when \"m\\<noteq>p \\<or> n\\<noteq>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. q < n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. q < n", "have \"m * q \\<noteq> n * p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. m * q \\<noteq> n * p", "using that \\<open>coprime m n\\<close> \\<open>coprime p q\\<close> \\<open>q>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> p \\<or> n \\<noteq> q\n  coprime m n\n  coprime p q\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. m * q \\<noteq> n * p", "by (metis eq_rat(1) fst_conv int_one_le_iff_zero_less mult.commute normalize_stable \n                not_one_le_zero quotient_of_Fract snd_conv)"], ["proof (state)\nthis:\n  m * q \\<noteq> n * p\n\ngoal (1 subgoal):\n 1. q < n", "then"], ["proof (chain)\npicking this:\n  m * q \\<noteq> n * p", "have \"1/(n*q) \\<le> \\<bar>m/n - p/q\\<bar>\""], ["proof (prove)\nusing this:\n  m * q \\<noteq> n * p\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (n * q)\n    \\<le> \\<bar>real_of_int m / real_of_int n -\n                real_of_int p / real_of_int q\\<bar>", "using \\<open>q>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  m * q \\<noteq> n * p\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (n * q)\n    \\<le> \\<bar>real_of_int m / real_of_int n -\n                real_of_int p / real_of_int q\\<bar>", "apply (auto simp:field_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>m * q \\<noteq> n * p; 0 < q; 0 < n\\<rbrakk>\n    \\<Longrightarrow> 1 \\<le> \\<bar>real_of_int m * real_of_int q -\n                                    real_of_int n * real_of_int p\\<bar>", "by (metis add_diff_cancel_left' diff_diff_eq2 diff_zero less_irrefl not_le of_int_diff \n                of_int_lessD of_int_mult)"], ["proof (state)\nthis:\n  1 / real_of_int (n * q)\n  \\<le> \\<bar>real_of_int m / real_of_int n -\n              real_of_int p / real_of_int q\\<bar>\n\ngoal (1 subgoal):\n 1. q < n", "also"], ["proof (state)\nthis:\n  1 / real_of_int (n * q)\n  \\<le> \\<bar>real_of_int m / real_of_int n -\n              real_of_int p / real_of_int q\\<bar>\n\ngoal (1 subgoal):\n 1. q < n", "have \"...  < 1 / q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "using pq_less"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "unfolding \\<xi>_mn"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. q < n", "also"], ["proof (state)\nthis:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. q < n", "have \"... \\<le> 1 / q ^2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "have \"real_of_int (q\\<^sup>2) = q powr 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q\\<^sup>2) = real_of_int q powr 2", "apply (subst powr_numeral)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> real_of_int q\n 2. real_of_int (q\\<^sup>2) = (real_of_int q)\\<^sup>2", "unfolding power2_eq_square"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> real_of_int q\n 2. real_of_int (q * q) = real_of_int q * real_of_int q", "using \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (2 subgoals):\n 1. 0 \\<le> real_of_int q\n 2. real_of_int (q * q) = real_of_int q * real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2) = real_of_int q powr 2\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "also"], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2) = real_of_int q powr 2\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "have \"... \\<le> q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q powr 2 \\<le> real_of_int q powr (2 + \\<delta>)", "apply (rule powr_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 2 \\<le> 2 + \\<delta>\n 2. 1 \\<le> real_of_int q", "using \\<open>q>0\\<close> \\<open>\\<delta>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n  0 < \\<delta>\n\ngoal (2 subgoals):\n 1. 2 \\<le> 2 + \\<delta>\n 2. 1 \\<le> real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int q powr 2 \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "finally"], ["proof (chain)\npicking this:\n  real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)", "have \"real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)", "."], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "moreover"], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "have \"real_of_int q powr (2 + \\<delta>) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int q powr (2 + \\<delta>)", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (1 subgoal):\n 1. 0 < real_of_int q powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  0 < real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)\n  0 < real_of_int q powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (q\\<^sup>2) \\<le> real_of_int q powr (2 + \\<delta>)\n  0 < real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / real_of_int q powr (2 + \\<delta>) \\<le> 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. q < n", "finally"], ["proof (chain)\npicking this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)", "have \" 1 /  (n * q) < 1 / q\\<^sup>2\""], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)", "."], ["proof (state)\nthis:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. q < n", "then"], ["proof (chain)\npicking this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. q < n", "using \\<open>q>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. q < n", "unfolding power2_eq_square"], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q * q)\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. q < n", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  q < n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "moreover"], ["proof (state)\nthis:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "have \"- \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\" when \"m\\<noteq>p \\<or> n\\<noteq>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "define qn where \"qn \\<equiv> q/n\""], ["proof (state)\nthis:\n  qn \\<equiv> real_of_int q / real_of_int n\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"0<qn\" \"qn<1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < qn &&& qn < 1", "unfolding qn_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int q / real_of_int n &&& real_of_int q / real_of_int n < 1", "using q_lt_n[OF \\<open>m\\<noteq>p \\<or> n\\<noteq>q\\<close>] \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  q < n\n  0 < q\n\ngoal (1 subgoal):\n 1. 0 < real_of_int q / real_of_int n &&& real_of_int q / real_of_int n < 1", "by auto"], ["proof (state)\nthis:\n  0 < qn\n  qn < 1\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"\\<bar>m/n - p / q\\<bar> < 1 / q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "using pq_less"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "unfolding \\<xi>_mn"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "then"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)", "have \"\\<bar>p / q - m/n\\<bar> < 1 / q powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int p / real_of_int q -\n          real_of_int m / real_of_int n\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta>)", "by simp"], ["proof (state)\nthis:\n  \\<bar>real_of_int p / real_of_int q - real_of_int m / real_of_int n\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "then"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int p / real_of_int q - real_of_int m / real_of_int n\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)", "have \" m/n- 1 / q powr (2 + \\<delta>) < p/q \\<and> p/q < m/n + 1 / q powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  \\<bar>real_of_int p / real_of_int q - real_of_int m / real_of_int n\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n    < real_of_int p / real_of_int q \\<and>\n    real_of_int p / real_of_int q\n    < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)", "unfolding abs_diff_less_iff"], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n    < real_of_int p / real_of_int q \\<and>\n    real_of_int p / real_of_int q\n    < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "then"], ["proof (chain)\npicking this:\n  real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)", "have \"qn*m- q / q powr (2 + \\<delta>) < p \\<and> p < qn*m + q / q powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. qn * real_of_int m - real_of_int q / real_of_int q powr (2 + \\<delta>)\n    < real_of_int p \\<and>\n    real_of_int p\n    < qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)", "unfolding qn_def"], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int n * real_of_int m -\n    real_of_int q / real_of_int q powr (2 + \\<delta>)\n    < real_of_int p \\<and>\n    real_of_int p\n    < real_of_int q / real_of_int n * real_of_int m +\n      real_of_int q / real_of_int q powr (2 + \\<delta>)", "using \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n - 1 / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n + 1 / real_of_int q powr (2 + \\<delta>)\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int n * real_of_int m -\n    real_of_int q / real_of_int q powr (2 + \\<delta>)\n    < real_of_int p \\<and>\n    real_of_int p\n    < real_of_int q / real_of_int n * real_of_int m +\n      real_of_int q / real_of_int q powr (2 + \\<delta>)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  qn * real_of_int m - real_of_int q / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "moreover"], ["proof (state)\nthis:\n  qn * real_of_int m - real_of_int q / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"- \\<bar>m\\<bar> - 1 \\<le> qn*m- q / q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q / real_of_int q powr (2 + \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q / real_of_int q powr (2 + \\<delta>)", "have \"- \\<bar>m\\<bar> \\<le> qn*m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "using \\<open>0<qn\\<close> \\<open>qn<1\\<close>"], ["proof (prove)\nusing this:\n  0 < qn\n  qn < 1\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "apply (cases \"m\\<ge>0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>0 < qn; qn < 1; 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n 2. \\<lbrakk>0 < qn; qn < 1; \\<not> 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> - real_of_int m \\<le> qn * real_of_int m", "by (meson less_eq_real_def mult_nonneg_nonneg neg_le_0_iff_le of_int_0_le_iff order_trans)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; \\<not> 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; \\<not> 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "by simp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q / real_of_int q powr (2 + \\<delta>)", "moreover"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q / real_of_int q powr (2 + \\<delta>)", "have \"- 1 \\<le> - q / q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "have \"q = q powr 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "by auto"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "also"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "have \"... \\<le>q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q powr 1 \\<le> real_of_int q powr (2 + \\<delta>)", "apply (rule powr_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta>\n 2. 1 \\<le> real_of_int q", "using \\<open>q>0\\<close> \\<open>\\<delta>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n  0 < \\<delta>\n\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta>\n 2. 1 \\<le> real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int q powr 1 \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "finally"], ["proof (chain)\npicking this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)", "have \"q \\<le> q powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)", "."], ["proof (state)\nthis:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "then"], ["proof (chain)\npicking this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n  0 < q\n\ngoal (1 subgoal):\n 1. - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q / real_of_int q powr (2 + \\<delta>)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n  - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n  - 1 \\<le> real_of_int (- q) / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q / real_of_int q powr (2 + \\<delta>)", "by auto"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q / real_of_int q powr (2 + \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "moreover"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q / real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"qn*m + q / q powr (2 + \\<delta>) \\<le> \\<bar>m\\<bar> + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "have \"qn*m \\<le> \\<bar>m\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "using \\<open>0<qn\\<close> \\<open>qn<1\\<close>"], ["proof (prove)\nusing this:\n  0 < qn\n  qn < 1\n\ngoal (1 subgoal):\n 1. qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "apply (cases \"m\\<ge>0\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>0 < qn; qn < 1; 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n 2. \\<lbrakk>0 < qn; qn < 1; \\<not> 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "by (simp add: mult_left_le_one_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; \\<not> 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1; \\<not> 0 \\<le> m\\<rbrakk>\n    \\<Longrightarrow> qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "by (smt of_int_0_le_iff zero_le_mult_iff)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n\ngoal (1 subgoal):\n 1. qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "moreover"], ["proof (state)\nthis:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n\ngoal (1 subgoal):\n 1. qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "have \"q / q powr (2 + \\<delta>) \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "have \"q = q powr 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "by auto"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "also"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "have \"... \\<le>q powr (2 + \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q powr 1 \\<le> real_of_int q powr (2 + \\<delta>)", "apply (rule powr_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta>\n 2. 1 \\<le> real_of_int q", "using \\<open>q>0\\<close> \\<open>\\<delta>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n  0 < \\<delta>\n\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta>\n 2. 1 \\<le> real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int q powr 1 \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "finally"], ["proof (chain)\npicking this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)", "have \"q \\<le> q powr (2 + \\<delta>)\""], ["proof (prove)\nusing this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)", "."], ["proof (state)\nthis:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "then"], ["proof (chain)\npicking this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  real_of_int q \\<le> real_of_int q powr (2 + \\<delta>)\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "by auto"], ["proof (state)\nthis:\n  real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1\n\ngoal (1 subgoal):\n 1. qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "ultimately"], ["proof (chain)\npicking this:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n  real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1", "show ?thesis"], ["proof (prove)\nusing this:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n  real_of_int q / real_of_int q powr (2 + \\<delta>) \\<le> 1\n\ngoal (1 subgoal):\n 1. qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "by auto"], ["proof (state)\nthis:\n  qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "ultimately"], ["proof (chain)\npicking this:\n  qn * real_of_int m - real_of_int q / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q / real_of_int q powr (2 + \\<delta>)\n  qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  qn * real_of_int m - real_of_int q / real_of_int q powr (2 + \\<delta>)\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q / real_of_int q powr (2 + \\<delta>)\n  qn * real_of_int m + real_of_int q / real_of_int q powr (2 + \\<delta>)\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "by auto"], ["proof (state)\nthis:\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "ultimately"], ["proof (chain)\npicking this:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "show \"x \\<in> {(m, n)} \\<union> {x \\<in> pqs. - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \n                          \\<and> 0 < snd x \\<and> snd x < n}\""], ["proof (prove)\nusing this:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n\ngoal (1 subgoal):\n 1. x \\<in> {(m, n)} \\<union>\n            {x \\<in> pqs.\n             - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n             fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n             0 < snd x \\<and> snd x < n}", "using \\<open>x \\<in> pqs\\<close> \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n  x \\<in> pqs\n  0 < q\n\ngoal (1 subgoal):\n 1. x \\<in> {(m, n)} \\<union>\n            {x \\<in> pqs.\n             - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n             fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n             0 < snd x \\<and> snd x < n}", "unfolding p_def q_def"], ["proof (prove)\nusing this:\n  m \\<noteq> fst x \\<or> n \\<noteq> snd x \\<Longrightarrow> snd x < n\n  m \\<noteq> fst x \\<or> n \\<noteq> snd x \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1\n  x \\<in> pqs\n  0 < snd x\n\ngoal (1 subgoal):\n 1. x \\<in> {(m, n)} \\<union>\n            {x \\<in> pqs.\n             - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n             fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n             0 < snd x \\<and> snd x < n}", "by force"], ["proof (state)\nthis:\n  x \\<in> {(m, n)} \\<union>\n          {x \\<in> pqs.\n           - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n           fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "moreover"], ["proof (state)\nthis:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "have \"finite {x. x \\<in>pqs \\<and> - \\<bar>m\\<bar> - 1 \\<le>fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0<snd x \\<and> snd x < n }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "have \"finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> +1} \\<times> {0<..<n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})", "by blast"], ["proof (state)\nthis:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "moreover"], ["proof (state)\nthis:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "have \"{x. x \\<in>pqs \\<and> - \\<bar>m\\<bar> - 1 \\<le>fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0<snd x \\<and> snd x < n } \\<subseteq> \n                ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> +1} \\<times> {0<..<n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> pqs.\n     - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n     fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n    \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}", "by auto"], ["proof (state)\nthis:\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "ultimately"], ["proof (chain)\npicking this:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "apply (elim rev_finite_subset)"], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> pqs.\n     - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n     fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n    \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times>\n                {0<..<n} \\<Longrightarrow>\n    {x \\<in> pqs.\n     - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n     fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n    \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}", "by blast"], ["proof (state)\nthis:\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "ultimately"], ["proof (chain)\npicking this:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "show ?thesis"], ["proof (prove)\nusing this:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "using finite_subset"], ["proof (prove)\nusing this:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<lbrakk>?A \\<subseteq> ?B; finite ?B\\<rbrakk> \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite pqs", "by auto"], ["proof (state)\nthis:\n  finite pqs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "ultimately"], ["proof (chain)\npicking this:\n  infinite pqs\n  \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs", "show ?thesis"], ["proof (prove)\nusing this:\n  infinite pqs\n  \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "apply (fold \\<xi>_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>infinite pqs;\n     \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\\<rbrakk>\n    \\<Longrightarrow> \\<not> algebraic \\<xi>", "using RothsTheorem[rule_format,of \\<xi> \"2 + \\<delta>\",folded pqs_def] \\<open>\\<delta> >0\\<close>"], ["proof (prove)\nusing this:\n  algebraic \\<xi> \\<and>\n  \\<xi> \\<notin> \\<rat> \\<and> infinite pqs \\<Longrightarrow>\n  2 + \\<delta> \\<le> 2\n  0 < \\<delta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>infinite pqs;\n     \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\\<rbrakk>\n    \\<Longrightarrow> \\<not> algebraic \\<xi>", "by auto"], ["proof (state)\nthis:\n  \\<not> algebraic (\\<Sum>k. bb k / aa k)\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem (in RothsTheorem) HanclRucki2: \n  fixes a b ::\"nat\\<Rightarrow>int\" and \\<delta> \\<epsilon> ::real \n  defines \"aa\\<equiv>(\\<lambda>n. real_of_int (a n))\" and \"bb\\<equiv>(\\<lambda>n. real_of_int (b n))\"\n  assumes a_pos:\"\\<forall> k. a k >0\" and b_pos:\"\\<forall> k. b k >0\" and \"\\<delta> >0\"\n    and \"\\<epsilon> >0\" \n    and limsup_infi:\"limsup (\\<lambda> k.(aa (k+1)/(\\<Prod>i = 0..k. aa i)powr(2+(2/\\<epsilon>) + \\<delta>))\n          * (1/(bb (k+1)))) = \\<infinity>\"\n    and ratio_large:\"\\<forall> k. ( k \\<ge> t \\<longrightarrow>  (( aa(k+1)/bb( k+1)) ) powr(1/(1+\\<epsilon>)) \n              \\<ge>  (( aa k/bb k) powr(1/(1+\\<epsilon>)))+1)\"\n  shows \"\\<not> algebraic(suminf (\\<lambda> k. bb k /aa k))  \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have aa_bb_pos[simp]:\"aa k>0\" \"bb k>0\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < aa k &&& 0 < bb k", "unfolding aa_def bb_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (a k) &&& 0 < real_of_int (b k)", "using a_pos b_pos"], ["proof (prove)\nusing this:\n  \\<forall>k. 0 < a k\n  \\<forall>k. 0 < b k\n\ngoal (1 subgoal):\n 1. 0 < real_of_int (a k) &&& 0 < real_of_int (b k)", "by auto"], ["proof (state)\nthis:\n  0 < aa ?k\n  0 < bb ?k\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have summable:\"summable (\\<lambda> k. bb k / aa k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "define c0 where \"c0\\<equiv>(aa t/bb t) powr(1/(1+\\<epsilon>)) - t\""], ["proof (state)\nthis:\n  c0 \\<equiv> (aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "have ab_k:\"(aa k / bb k) powr(1/(1+\\<epsilon>)) \\<ge> k + c0\" when \"k\\<ge>t\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>))", "using that"], ["proof (prove)\nusing this:\n  t \\<le> k\n\ngoal (1 subgoal):\n 1. real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>))", "proof (induct k)"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<le> 0 \\<Longrightarrow>\n    real 0 + c0 \\<le> (aa 0 / bb 0) powr (1 / (1 + \\<epsilon>))\n 2. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "case 0"], ["proof (state)\nthis:\n  t \\<le> 0\n\ngoal (2 subgoals):\n 1. t \\<le> 0 \\<Longrightarrow>\n    real 0 + c0 \\<le> (aa 0 / bb 0) powr (1 / (1 + \\<epsilon>))\n 2. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  t \\<le> 0", "show ?case"], ["proof (prove)\nusing this:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. real 0 + c0 \\<le> (aa 0 / bb 0) powr (1 / (1 + \\<epsilon>))", "unfolding c0_def"], ["proof (prove)\nusing this:\n  t \\<le> 0\n\ngoal (1 subgoal):\n 1. real 0 + ((aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t)\n    \\<le> (aa 0 / bb 0) powr (1 / (1 + \\<epsilon>))", "by simp"], ["proof (state)\nthis:\n  real 0 + c0 \\<le> (aa 0 / bb 0) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "case (Suc k)"], ["proof (state)\nthis:\n  t \\<le> k \\<Longrightarrow>\n  real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n  t \\<le> Suc k\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "have ?case when \"\\<not> t\\<le>k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "have \"t = Suc k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t = Suc k", "using that Suc.prems"], ["proof (prove)\nusing this:\n  \\<not> t \\<le> k\n  t \\<le> Suc k\n\ngoal (1 subgoal):\n 1. t = Suc k", "by linarith"], ["proof (state)\nthis:\n  t = Suc k\n\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  t = Suc k", "show ?thesis"], ["proof (prove)\nusing this:\n  t = Suc k\n\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "unfolding c0_def"], ["proof (prove)\nusing this:\n  t = Suc k\n\ngoal (1 subgoal):\n 1. real (Suc k) + ((aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t)\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<not> t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "moreover"], ["proof (state)\nthis:\n  \\<not> t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "have ?case when \"t \\<le> k\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "have \"(aa(k+1)/bb(k+1)) powr(1/(1+\\<epsilon>))\n              \\<ge> ( aa k/bb k) powr(1/(1+\\<epsilon>))+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n    \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "using ratio_large[rule_format,OF that]"], ["proof (prove)\nusing this:\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n    \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "by blast"], ["proof (state)\nthis:\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "using Suc(1)[OF that]"], ["proof (prove)\nusing this:\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n  real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "by simp"], ["proof (state)\nthis:\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>t \\<le> k \\<Longrightarrow>\n                real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>));\n        t \\<le> Suc k\\<rbrakk>\n       \\<Longrightarrow> real (Suc k) + c0\n                         \\<le> (aa (Suc k) / bb (Suc k)) powr\n                               (1 / (1 + \\<epsilon>))", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n  t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "show ?case"], ["proof (prove)\nusing this:\n  \\<not> t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n  t \\<le> k \\<Longrightarrow>\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real (Suc k) + c0\n    \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  real (Suc k) + c0\n  \\<le> (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<le> ?k \\<Longrightarrow>\n  real ?k + c0 \\<le> (aa ?k / bb ?k) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "have \"summable (\\<lambda>k. 1 / (k + c0) powr (1+\\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))", "have \"c0 + t > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < c0 + real t", "unfolding c0_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t + real t", "using aa_bb_pos[of t]"], ["proof (prove)\nusing this:\n  0 < aa t\n  0 < bb t\n\ngoal (1 subgoal):\n 1. 0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t + real t", "by (simp,linarith)"], ["proof (state)\nthis:\n  0 < c0 + real t\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  0 < c0 + real t", "have \"summable (\\<lambda>k. 1 / (k + (c0+t)) powr (1+\\<epsilon>))\""], ["proof (prove)\nusing this:\n  0 < c0 + real t\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>x. 1 / (real x + (c0 + real t)) powr (1 + \\<epsilon>))", "using summable_hurwitz_zeta_real[of \"1+\\<epsilon>\" \"c0+t\"]"], ["proof (prove)\nusing this:\n  0 < c0 + real t\n  \\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n  \\<Longrightarrow> summable\n                     (\\<lambda>n.\n                         (real n + (c0 + real t)) powr - (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>x. 1 / (real x + (c0 + real t)) powr (1 + \\<epsilon>))", "apply (subst (asm) powr_minus_divide)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t;\n     \\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n     \\<Longrightarrow> summable\n                        (\\<lambda>n.\n                            (real n + (c0 + real t)) powr\n                            - (1 + \\<epsilon>))\\<rbrakk>\n    \\<Longrightarrow> summable\n                       (\\<lambda>n.\n                           (real n + (c0 + real t)) powr - (1 + \\<epsilon>))\n 2. (\\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n     \\<Longrightarrow> summable\n                        (\\<lambda>n.\n                            (real n + (c0 + real t)) powr\n                            - (1 + \\<epsilon>))) \\<Longrightarrow>\n    1 < 1 + \\<epsilon>\n 3. \\<lbrakk>\\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n             \\<Longrightarrow> summable\n                                (\\<lambda>n.\n                                    (real n + (c0 + real t)) powr\n                                    - (1 + \\<epsilon>));\n     summable\n      (\\<lambda>n.\n          1 / (real n + (c0 + real t)) powr (1 + \\<epsilon>))\\<rbrakk>\n    \\<Longrightarrow> summable\n                       (\\<lambda>x.\n                           1 /\n                           (real x + (c0 + real t)) powr (1 + \\<epsilon>))", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (3 subgoals):\n 1. \\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t;\n     \\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n     \\<Longrightarrow> summable\n                        (\\<lambda>n.\n                            (real n + (c0 + real t)) powr\n                            - (1 + \\<epsilon>))\\<rbrakk>\n    \\<Longrightarrow> summable\n                       (\\<lambda>n.\n                           (real n + (c0 + real t)) powr - (1 + \\<epsilon>))\n 2. (\\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n     \\<Longrightarrow> summable\n                        (\\<lambda>n.\n                            (real n + (c0 + real t)) powr\n                            - (1 + \\<epsilon>))) \\<Longrightarrow>\n    1 < 1 + \\<epsilon>\n 3. \\<lbrakk>\\<lbrakk>1 < 1 + \\<epsilon>; 0 < c0 + real t\\<rbrakk>\n             \\<Longrightarrow> summable\n                                (\\<lambda>n.\n                                    (real n + (c0 + real t)) powr\n                                    - (1 + \\<epsilon>));\n     summable\n      (\\<lambda>n.\n          1 / (real n + (c0 + real t)) powr (1 + \\<epsilon>))\\<rbrakk>\n    \\<Longrightarrow> summable\n                       (\\<lambda>x.\n                           1 /\n                           (real x + (c0 + real t)) powr (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  summable (\\<lambda>x. 1 / (real x + (c0 + real t)) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  summable (\\<lambda>x. 1 / (real x + (c0 + real t)) powr (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  summable (\\<lambda>x. 1 / (real x + (c0 + real t)) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))", "apply (rule_tac summable_offset[of _ t])"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>x.\n         1 /\n         (real x + (c0 + real t)) powr (1 + \\<epsilon>)) \\<Longrightarrow>\n    summable (\\<lambda>n. 1 / (real (n + t) + c0) powr (1 + \\<epsilon>))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "moreover"], ["proof (state)\nthis:\n  summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "have \"bb k / aa k \\<le> 1 / (k + c0) powr (1+\\<epsilon>)\" when \"k\\<ge>t\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "have \"(aa t / bb t) powr (1 / (1 + \\<epsilon>)) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. aa t \\<noteq> 0 \\<and> bb t \\<noteq> 0", "by (metis \\<open>\\<And>k. 0 < aa k\\<close> \\<open>\\<And>k. 0 < bb k\\<close> less_numeral_extra(3))"], ["proof (state)\nthis:\n  0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>))", "have \"k + c0 >0\""], ["proof (prove)\nusing this:\n  0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 0 < real k + c0", "unfolding c0_def"], ["proof (prove)\nusing this:\n  0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 0 < real k + ((aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t)", "using that"], ["proof (prove)\nusing this:\n  0 < (aa t / bb t) powr (1 / (1 + \\<epsilon>))\n  t \\<le> k\n\ngoal (1 subgoal):\n 1. 0 < real k + ((aa t / bb t) powr (1 / (1 + \\<epsilon>)) - real t)", "by linarith"], ["proof (state)\nthis:\n  0 < real k + c0\n\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  0 < real k + c0", "have \"aa k / bb k \\<ge> (k + c0) powr (1+\\<epsilon>)\""], ["proof (prove)\nusing this:\n  0 < real k + c0\n\ngoal (1 subgoal):\n 1. (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k", "using ab_k[OF that]"], ["proof (prove)\nusing this:\n  0 < real k + c0\n  real k + c0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k", "apply (subst (asm) powr_less_eq_inverse_iff')"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 < real k + c0 \\<Longrightarrow> 0 < aa k / bb k\n 2. 0 < real k + c0 \\<Longrightarrow> 0 < 1 / (1 + \\<epsilon>)\n 3. 0 < real k + c0 \\<Longrightarrow> 0 < real k + c0\n 4. \\<lbrakk>0 < real k + c0;\n     (real k + c0) powr inverse (1 / (1 + \\<epsilon>))\n     \\<le> aa k / bb k\\<rbrakk>\n    \\<Longrightarrow> (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k", "using \\<open>\\<epsilon> >0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (4 subgoals):\n 1. 0 < real k + c0 \\<Longrightarrow> 0 < aa k / bb k\n 2. 0 < real k + c0 \\<Longrightarrow> 0 < 1 / (1 + \\<epsilon>)\n 3. 0 < real k + c0 \\<Longrightarrow> 0 < real k + c0\n 4. \\<lbrakk>0 < real k + c0;\n     (real k + c0) powr inverse (1 / (1 + \\<epsilon>))\n     \\<le> aa k / bb k\\<rbrakk>\n    \\<Longrightarrow> (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k", "by auto"], ["proof (state)\nthis:\n  (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k\n\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k", "have \"inverse (aa k / bb k) \\<le> inverse ((k + c0) powr (1+\\<epsilon>))\""], ["proof (prove)\nusing this:\n  (real k + c0) powr (1 + \\<epsilon>) \\<le> aa k / bb k\n\ngoal (1 subgoal):\n 1. inverse (aa k / bb k)\n    \\<le> inverse ((real k + c0) powr (1 + \\<epsilon>))", "apply (elim le_imp_inverse_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (real k + c0) powr (1 + \\<epsilon>)", "using \\<open>k + c0 >0\\<close>"], ["proof (prove)\nusing this:\n  0 < real k + c0\n\ngoal (1 subgoal):\n 1. 0 < (real k + c0) powr (1 + \\<epsilon>)", "by auto"], ["proof (state)\nthis:\n  inverse (aa k / bb k) \\<le> inverse ((real k + c0) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  inverse (aa k / bb k) \\<le> inverse ((real k + c0) powr (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  inverse (aa k / bb k) \\<le> inverse ((real k + c0) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)", "by (simp add: inverse_eq_divide)"], ["proof (state)\nthis:\n  bb k / aa k \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  t \\<le> ?k \\<Longrightarrow>\n  bb ?k / aa ?k \\<le> 1 / (real ?k + c0) powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "ultimately"], ["proof (chain)\npicking this:\n  summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))\n  t \\<le> ?k \\<Longrightarrow>\n  bb ?k / aa ?k \\<le> 1 / (real ?k + c0) powr (1 + \\<epsilon>)", "show ?thesis"], ["proof (prove)\nusing this:\n  summable (\\<lambda>x. 1 / (real x + c0) powr (1 + \\<epsilon>))\n  t \\<le> ?k \\<Longrightarrow>\n  bb ?k / aa ?k \\<le> 1 / (real ?k + c0) powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>k. bb k / aa k)", "apply (elim summable_comparison_test'[where N=t])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>k.\n                   t \\<le> k \\<Longrightarrow>\n                   bb k / aa k\n                   \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>);\n        t \\<le> n\\<rbrakk>\n       \\<Longrightarrow> norm (bb n / aa n)\n                         \\<le> 1 / (real n + c0) powr (1 + \\<epsilon>)", "using aa_bb_pos"], ["proof (prove)\nusing this:\n  0 < aa ?k\n  0 < bb ?k\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>k.\n                   t \\<le> k \\<Longrightarrow>\n                   bb k / aa k\n                   \\<le> 1 / (real k + c0) powr (1 + \\<epsilon>);\n        t \\<le> n\\<rbrakk>\n       \\<Longrightarrow> norm (bb n / aa n)\n                         \\<le> 1 / (real n + c0) powr (1 + \\<epsilon>)", "by (simp add: less_eq_real_def)"], ["proof (state)\nthis:\n  summable (\\<lambda>k. bb k / aa k)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable (\\<lambda>k. bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have 7:\"\\<exists>\\<^sub>\\<infinity> k. 1 / (M powr (\\<epsilon>/(1+\\<epsilon>)) * (\\<Prod>i = 0..k. aa i)\n                  powr(2+ \\<delta> * \\<epsilon> / (1+\\<epsilon>))) > (bb (k+1) / aa(k+1)) powr (\\<epsilon> / (1+\\<epsilon>))\"\n      when \"M > 0\" for M"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "define tt where \"tt \\<equiv> (\\<lambda>i. prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>))\""], ["proof (state)\nthis:\n  tt \\<equiv>\n  \\<lambda>i. prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "have tt_pos:\"tt i > 0\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < tt i", "unfolding tt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>)", "apply(subst powr_gt_zero,induct i)"], ["proof (prove)\ngoal (2 subgoals):\n 1. prod aa {0..0} \\<noteq> 0\n 2. \\<And>i.\n       prod aa {0..i} \\<noteq> 0 \\<Longrightarrow>\n       prod aa {0..Suc i} \\<noteq> 0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. prod aa {0..0} \\<noteq> 0", "by (metis aa_bb_pos(1) order_less_irrefl prod_pos)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       prod aa {0..i} \\<noteq> 0 \\<Longrightarrow>\n       prod aa {0..Suc i} \\<noteq> 0", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. prod aa {0..i_} \\<noteq> 0 \\<Longrightarrow>\n    prod aa {0..Suc i_} \\<noteq> 0", "by (metis \\<open>\\<And>k. 0 < aa k\\<close> order_less_irrefl prod_pos)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  0 < tt ?i\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "have \"\\<exists>\\<^sub>\\<infinity>i. M < (aa (i + 1) / tt i * (1 / bb (i + 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i. M < aa (i + 1) / tt i * (1 / bb (i + 1))", "using limsup_infinity_imp_Inf_many[OF limsup_infi,rule_format,of M]"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i.\n     ereal M\n     < ereal\n        (aa (i + 1) / prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>) *\n         (1 / bb (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i. M < aa (i + 1) / tt i * (1 / bb (i + 1))", "unfolding tt_def"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i.\n     ereal M\n     < ereal\n        (aa (i + 1) / prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>) *\n         (1 / bb (i + 1)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i.\n       M < aa (i + 1) /\n           prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>) *\n           (1 / bb (i + 1))", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>i. M < aa (i + 1) / tt i * (1 / bb (i + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>i. M < aa (i + 1) / tt i * (1 / bb (i + 1))", "have \"\\<exists>\\<^sub>\\<infinity>i. 1 / (M * tt i) > (bb (i+1) / aa (i+1))\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i. M < aa (i + 1) / tt i * (1 / bb (i + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i. bb (i + 1) / aa (i + 1) < 1 / (M * tt i)", "apply (elim INFM_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       M < aa (i + 1) / tt i * (1 / bb (i + 1)) \\<Longrightarrow>\n       bb (i + 1) / aa (i + 1) < 1 / (M * tt i)", "using \\<open>M>0\\<close> tt_pos"], ["proof (prove)\nusing this:\n  0 < M\n  0 < tt ?i\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       M < aa (i + 1) / tt i * (1 / bb (i + 1)) \\<Longrightarrow>\n       bb (i + 1) / aa (i + 1) < 1 / (M * tt i)", "by (auto simp:divide_simps algebra_simps)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>i. bb (i + 1) / aa (i + 1) < 1 / (M * tt i)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>i. bb (i + 1) / aa (i + 1) < 1 / (M * tt i)", "have \"\\<exists>\\<^sub>\\<infinity>i. (1 / (M * tt i)) powr (\\<epsilon>/(1+\\<epsilon>)) \n                        > (bb (i+1) / aa (i+1)) powr (\\<epsilon>/(1+\\<epsilon>))\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i. bb (i + 1) / aa (i + 1) < 1 / (M * tt i)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>i.\n       (bb (i + 1) / aa (i + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < (1 / (M * tt i)) powr (\\<epsilon> / (1 + \\<epsilon>))", "apply (elim INFM_mono powr_less_mono2[rotated 2])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i. 0 < \\<epsilon> / (1 + \\<epsilon>)\n 2. \\<And>i. 0 \\<le> bb (i + 1) / aa (i + 1)", "by (simp_all add: assms(6) pos_add_strict less_eq_real_def)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>i.\n     (bb (i + 1) / aa (i + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < (1 / (M * tt i)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>i.\n     (bb (i + 1) / aa (i + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < (1 / (M * tt i)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "have \"tt i  powr (\\<epsilon>/(1+\\<epsilon>)) = prod aa {0..i} powr (2 + \\<delta> * \\<epsilon> / (1+\\<epsilon>))\"\n        for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. tt i powr (\\<epsilon> / (1 + \\<epsilon>)) =\n    prod aa {0..i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "unfolding tt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>)) powr\n    (\\<epsilon> / (1 + \\<epsilon>)) =\n    prod aa {0..i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (auto simp:powr_powr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. prod aa {0..i} powr\n    ((2 + 2 / \\<epsilon> + \\<delta>) * \\<epsilon> / (1 + \\<epsilon>)) =\n    prod aa {0..i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. prod aa {0..i} powr\n    ((2 + 2 / \\<epsilon> + \\<delta>) * \\<epsilon> / (1 + \\<epsilon>)) =\n    prod aa {0..i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by (simp add:divide_simps,simp add:algebra_simps)"], ["proof (state)\nthis:\n  tt ?i powr (\\<epsilon> / (1 + \\<epsilon>)) =\n  prod aa {0..?i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>i.\n     (bb (i + 1) / aa (i + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < (1 / (M * tt i)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  tt ?i powr (\\<epsilon> / (1 + \\<epsilon>)) =\n  prod aa {0..?i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>i.\n     (bb (i + 1) / aa (i + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < (1 / (M * tt i)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  tt ?i powr (\\<epsilon> / (1 + \\<epsilon>)) =\n  prod aa {0..?i} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < 1 /\n         (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "apply (elim INFM_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<And>i.\n                   tt i powr (\\<epsilon> / (1 + \\<epsilon>)) =\n                   prod aa {0..i} powr\n                   (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>));\n        (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n        < (1 / (M * tt k)) powr (\\<epsilon> / (1 + \\<epsilon>))\\<rbrakk>\n       \\<Longrightarrow> (bb (k + 1) / aa (k + 1)) powr\n                         (\\<epsilon> / (1 + \\<epsilon>))\n                         < 1 /\n                           (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n                            prod aa {0..k} powr\n                            (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "by (smt nonzero_mult_div_cancel_left powr_divide powr_mult powr_one_eq_one\n                that tt_pos zero_less_divide_iff)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < 1 /\n       (M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n        prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < ?M \\<Longrightarrow>\n  \\<exists>\\<^sub>\\<infinity>k.\n     (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < 1 /\n       (?M powr (\\<epsilon> / (1 + \\<epsilon>)) *\n        prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have 8:\"\\<forall>\\<^sub>F k in sequentially. \\<forall>s.  (( aa(k+s)/bb( k+s))) \\<ge> \n                    ((( aa k/bb k) powr(1/(1+\\<epsilon>))) +s)powr(1+\\<epsilon>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "using eventually_ge_at_top[of t]"], ["proof (prove)\nusing this:\n  eventually ((\\<le>) t) sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       t \\<le> k \\<Longrightarrow>\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "case (elim k)"], ["proof (state)\nthis:\n  t \\<le> k\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       t \\<le> k \\<Longrightarrow>\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "define ff where \"ff \\<equiv> (\\<lambda>k. (aa k / bb k) powr (1 / (1 + \\<epsilon>)))\""], ["proof (state)\nthis:\n  ff \\<equiv> \\<lambda>k. (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       t \\<le> k \\<Longrightarrow>\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "have 11:\"ff k+s \\<le> ff (k+s)\" for s"], ["proof (prove)\ngoal (1 subgoal):\n 1. ff k + real s \\<le> ff (k + s)", "proof (induct s)"], ["proof (state)\ngoal (2 subgoals):\n 1. ff k + real 0 \\<le> ff (k + 0)\n 2. \\<And>s.\n       ff k + real s \\<le> ff (k + s) \\<Longrightarrow>\n       ff k + real (Suc s) \\<le> ff (k + Suc s)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. ff k + real 0 \\<le> ff (k + 0)\n 2. \\<And>s.\n       ff k + real s \\<le> ff (k + s) \\<Longrightarrow>\n       ff k + real (Suc s) \\<le> ff (k + Suc s)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. ff k + real 0 \\<le> ff (k + 0)", "unfolding ff_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real 0\n    \\<le> (aa (k + 0) / bb (k + 0)) powr (1 / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  ff k + real 0 \\<le> ff (k + 0)\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       ff k + real s \\<le> ff (k + s) \\<Longrightarrow>\n       ff k + real (Suc s) \\<le> ff (k + Suc s)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s.\n       ff k + real s \\<le> ff (k + s) \\<Longrightarrow>\n       ff k + real (Suc s) \\<le> ff (k + Suc s)", "case (Suc s)"], ["proof (state)\nthis:\n  ff k + real s \\<le> ff (k + s)\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       ff k + real s \\<le> ff (k + s) \\<Longrightarrow>\n       ff k + real (Suc s) \\<le> ff (k + Suc s)", "then"], ["proof (chain)\npicking this:\n  ff k + real s \\<le> ff (k + s)", "have \"ff k + Suc s \\<le> ff (k+Suc s)\""], ["proof (prove)\nusing this:\n  ff k + real s \\<le> ff (k + s)\n\ngoal (1 subgoal):\n 1. ff k + real (Suc s) \\<le> ff (k + Suc s)", "using ratio_large[rule_format,of \"k+s\"] \\<open> t \\<le> k\\<close>"], ["proof (prove)\nusing this:\n  ff k + real s \\<le> ff (k + s)\n  t \\<le> k + s \\<Longrightarrow>\n  (aa (k + s) / bb (k + s)) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + s + 1) / bb (k + s + 1)) powr (1 / (1 + \\<epsilon>))\n  t \\<le> k\n\ngoal (1 subgoal):\n 1. ff k + real (Suc s) \\<le> ff (k + Suc s)", "unfolding ff_def"], ["proof (prove)\nusing this:\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s\n  \\<le> (aa (k + s) / bb (k + s)) powr (1 / (1 + \\<epsilon>))\n  t \\<le> k + s \\<Longrightarrow>\n  (aa (k + s) / bb (k + s)) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + s + 1) / bb (k + s + 1)) powr (1 / (1 + \\<epsilon>))\n  t \\<le> k\n\ngoal (1 subgoal):\n 1. (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real (Suc s)\n    \\<le> (aa (k + Suc s) / bb (k + Suc s)) powr (1 / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  ff k + real (Suc s) \\<le> ff (k + Suc s)\n\ngoal (1 subgoal):\n 1. \\<And>s.\n       ff k + real s \\<le> ff (k + s) \\<Longrightarrow>\n       ff k + real (Suc s) \\<le> ff (k + Suc s)", "then"], ["proof (chain)\npicking this:\n  ff k + real (Suc s) \\<le> ff (k + Suc s)", "show ?case"], ["proof (prove)\nusing this:\n  ff k + real (Suc s) \\<le> ff (k + Suc s)\n\ngoal (1 subgoal):\n 1. ff k + real (Suc s) \\<le> ff (k + Suc s)", "by simp"], ["proof (state)\nthis:\n  ff k + real (Suc s) \\<le> ff (k + Suc s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ff k + real ?s \\<le> ff (k + ?s)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       t \\<le> k \\<Longrightarrow>\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "then"], ["proof (chain)\npicking this:\n  ff k + real ?s \\<le> ff (k + ?s)", "have \"(ff k+s) powr (1+\\<epsilon>) \\<le> ff (k+s) powr (1+\\<epsilon>)\" for s"], ["proof (prove)\nusing this:\n  ff k + real ?s \\<le> ff (k + ?s)\n\ngoal (1 subgoal):\n 1. (ff k + real s) powr (1 + \\<epsilon>)\n    \\<le> ff (k + s) powr (1 + \\<epsilon>)", "apply (rule powr_mono2[of \"1+\\<epsilon>\",rotated 2])"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> 1 + \\<epsilon>\n 2. 0 \\<le> ff k + real s", "unfolding ff_def"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> 1 + \\<epsilon>\n 2. 0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (2 subgoals):\n 1. 0 \\<le> 1 + \\<epsilon>\n 2. 0 \\<le> (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s", "by auto"], ["proof (state)\nthis:\n  (ff k + real ?s) powr (1 + \\<epsilon>)\n  \\<le> ff (k + ?s) powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       t \\<le> k \\<Longrightarrow>\n       \\<forall>s.\n          ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n          (1 + \\<epsilon>)\n          \\<le> aa (k + s) / bb (k + s)", "then"], ["proof (chain)\npicking this:\n  (ff k + real ?s) powr (1 + \\<epsilon>)\n  \\<le> ff (k + ?s) powr (1 + \\<epsilon>)", "show ?case"], ["proof (prove)\nusing this:\n  (ff k + real ?s) powr (1 + \\<epsilon>)\n  \\<le> ff (k + ?s) powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<forall>s.\n       ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n       (1 + \\<epsilon>)\n       \\<le> aa (k + s) / bb (k + s)", "unfolding ff_def"], ["proof (prove)\nusing this:\n  ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real ?s) powr\n  (1 + \\<epsilon>)\n  \\<le> ((aa (k + ?s) / bb (k + ?s)) powr (1 / (1 + \\<epsilon>))) powr\n        (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<forall>s.\n       ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n       (1 + \\<epsilon>)\n       \\<le> aa (k + s) / bb (k + s)", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real ?s) powr\n  (1 + \\<epsilon>)\n  \\<le> ((aa (k + ?s) / bb (k + ?s)) powr (1 / (1 + \\<epsilon>))) powr\n        (1 + \\<epsilon>)\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>s.\n       ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n       (1 + \\<epsilon>)\n       \\<le> aa (k + s) / bb (k + s)", "apply (auto simp add:powr_powr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>s.\n       \\<lbrakk>\\<And>s.\n                   ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> (aa (k + s) / bb (k + s)) powr 1;\n        0 < \\<epsilon>\\<rbrakk>\n       \\<Longrightarrow> ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) +\n                          real s) powr\n                         (1 + \\<epsilon>)\n                         \\<le> aa (k + s) / bb (k + s)", "by (simp add: a_pos aa_def b_pos bb_def le_less)"], ["proof (state)\nthis:\n  \\<forall>s.\n     ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n     (1 + \\<epsilon>)\n     \\<le> aa (k + s) / bb (k + s)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially.\n     \\<forall>s.\n        ((aa k / bb k) powr (1 / (1 + \\<epsilon>)) + real s) powr\n        (1 + \\<epsilon>)\n        \\<le> aa (k + s) / bb (k + s)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have 9: \"(\\<Sum>r. 1/((z+real r)powr(1+\\<epsilon>))) \\<le> 1/(\\<epsilon> *(z-1) powr \\<epsilon>)\" \n      \"summable (\\<lambda>i. 1/((z+ real i)powr(1+\\<epsilon>)))\"\n    when \"z>1\" for z"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>) &&&\n    summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "define f where \"f \\<equiv> (\\<lambda>r. 1/((z+ r)powr(1+\\<epsilon>)))\""], ["proof (state)\nthis:\n  f \\<equiv> \\<lambda>r. 1 / (z + r) powr (1 + \\<epsilon>)\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "have \"((\\<lambda>x. f (x - 1)) has_integral ((z-1) powr - \\<epsilon>) / \\<epsilon>) {0..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (x - 1)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (x - 1)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "have \"((\\<lambda>x. (z-1 + x) powr (- 1 - \\<epsilon>)) has_integral ((z-1) powr - \\<epsilon>) / \\<epsilon>) {0<..}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0<..}", "using powr_has_integral_at_top[of 0 \"z-1\" \"- 1 - \\<epsilon>\",simplified] \\<open>z>1\\<close> \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>1 < z; 0 < \\<epsilon>\\<rbrakk>\n  \\<Longrightarrow> ((\\<lambda>x.\n                         (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n                     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n                     {0<..}\n  1 < z\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0<..}", "by auto"], ["proof (state)\nthis:\n  ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0<..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (x - 1)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0<..}", "have \"((\\<lambda>x. (z-1 + x) powr (- 1 - \\<epsilon>)) has_integral ((z-1) powr - \\<epsilon>) / \\<epsilon>) {0..}\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0<..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "apply (subst (asm) has_integral_closure[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. negligible (frontier {0<..})\n 2. ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     (closure {0<..}) \\<Longrightarrow>\n    ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "by (auto simp add: negligible_convex_frontier)"], ["proof (state)\nthis:\n  ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (x - 1)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "then"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}", "show ?thesis"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. (z - 1 + x) powr (- 1 - \\<epsilon>)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n\ngoal (1 subgoal):\n 1. ((\\<lambda>x. f (x - 1)) has_integral\n     (z - 1) powr - \\<epsilon> / \\<epsilon>)\n     {0..}", "apply (rule has_integral_cong[THEN iffD1, rotated 1])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..} \\<Longrightarrow>\n       (z - 1 + x) powr (- 1 - \\<epsilon>) = f (x - 1)", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> {0..} \\<Longrightarrow>\n       (z - 1 + x) powr (- 1 - \\<epsilon>) =\n       1 / (z + (x - 1)) powr (1 + \\<epsilon>)", "by (smt powr_minus_divide)"], ["proof (state)\nthis:\n  ((\\<lambda>x. f (x - 1)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((\\<lambda>x. f (x - 1)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "moreover"], ["proof (state)\nthis:\n  ((\\<lambda>x. f (x - 1)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "have \"\\<And>x. 0 \\<le> x \\<Longrightarrow> 0 \\<le> f (x - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. 0 \\<le> x \\<Longrightarrow> 0 \\<le> f (x - 1)", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       0 \\<le> x \\<Longrightarrow>\n       0 \\<le> 1 / (z + (x - 1)) powr (1 + \\<epsilon>)", "by simp"], ["proof (state)\nthis:\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f (?x - 1)\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "moreover"], ["proof (state)\nthis:\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f (?x - 1)\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "have \"\\<And>x y. 0 \\<le> x \\<Longrightarrow> x \\<le> y \\<Longrightarrow> f (y - 1) \\<le> f (x - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>0 \\<le> x; x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> f (y - 1) \\<le> f (x - 1)", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>0 \\<le> x; x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> 1 / (z + (y - 1)) powr (1 + \\<epsilon>)\n                         \\<le> 1 / (z + (x - 1)) powr (1 + \\<epsilon>)", "by (smt assms(6) frac_le powr_mono2 powr_nonneg_iff that)"], ["proof (state)\nthis:\n  \\<lbrakk>0 \\<le> ?x; ?x \\<le> ?y\\<rbrakk>\n  \\<Longrightarrow> f (?y - 1) \\<le> f (?x - 1)\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "ultimately"], ["proof (chain)\npicking this:\n  ((\\<lambda>x. f (x - 1)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f (?x - 1)\n  \\<lbrakk>0 \\<le> ?x; ?x \\<le> ?y\\<rbrakk>\n  \\<Longrightarrow> f (?y - 1) \\<le> f (?x - 1)", "have \"summable (\\<lambda>i. f (real i))\" \"(\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>\""], ["proof (prove)\nusing this:\n  ((\\<lambda>x. f (x - 1)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f (?x - 1)\n  \\<lbrakk>0 \\<le> ?x; ?x \\<le> ?y\\<rbrakk>\n  \\<Longrightarrow> f (?y - 1) \\<le> f (?x - 1)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. f (real i)) &&&\n    (\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>", "using decreasing_sum_le_integral[of \"\\<lambda>x. f (x-1)\" \"((z-1) powr - \\<epsilon>) / \\<epsilon>\",simplified]"], ["proof (prove)\nusing this:\n  ((\\<lambda>x. f (x - 1)) has_integral\n   (z - 1) powr - \\<epsilon> / \\<epsilon>)\n   {0..}\n  0 \\<le> ?x \\<Longrightarrow> 0 \\<le> f (?x - 1)\n  \\<lbrakk>0 \\<le> ?x; ?x \\<le> ?y\\<rbrakk>\n  \\<Longrightarrow> f (?y - 1) \\<le> f (?x - 1)\n  \\<lbrakk>\\<And>x. 0 \\<le> x \\<Longrightarrow> 0 \\<le> f (x - 1);\n   \\<And>x y.\n      \\<lbrakk>0 \\<le> x; x \\<le> y\\<rbrakk>\n      \\<Longrightarrow> f (y - 1) \\<le> f (x - 1);\n   ((\\<lambda>x. f (x - 1)) has_integral\n    (z - 1) powr - \\<epsilon> / \\<epsilon>)\n    {0..}\\<rbrakk>\n  \\<Longrightarrow> summable (\\<lambda>i. f (real i))\n  \\<lbrakk>\\<And>x. 0 \\<le> x \\<Longrightarrow> 0 \\<le> f (x - 1);\n   \\<And>x y.\n      \\<lbrakk>0 \\<le> x; x \\<le> y\\<rbrakk>\n      \\<Longrightarrow> f (y - 1) \\<le> f (x - 1);\n   ((\\<lambda>x. f (x - 1)) has_integral\n    (z - 1) powr - \\<epsilon> / \\<epsilon>)\n    {0..}\\<rbrakk>\n  \\<Longrightarrow> (\\<Sum>i. f (real i))\n                    \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. f (real i)) &&&\n    (\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>", "by auto"], ["proof (state)\nthis:\n  summable (\\<lambda>i. f (real i))\n  (\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "moreover"], ["proof (state)\nthis:\n  summable (\\<lambda>i. f (real i))\n  (\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "have \"(z - 1) powr - \\<epsilon> / \\<epsilon> = 1/(\\<epsilon> *(z-1) powr \\<epsilon>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z - 1) powr - \\<epsilon> / \\<epsilon> =\n    1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)", "by (simp add: powr_minus_divide)"], ["proof (state)\nthis:\n  (z - 1) powr - \\<epsilon> / \\<epsilon> =\n  1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n\ngoal (2 subgoals):\n 1. (\\<Sum>r. 1 / (z + real r) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n 2. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "ultimately"], ["proof (chain)\npicking this:\n  summable (\\<lambda>i. f (real i))\n  (\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>\n  (z - 1) powr - \\<epsilon> / \\<epsilon> =\n  1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)", "show \"(\\<Sum>i. f (real i)) \\<le> 1/(\\<epsilon> *(z-1) powr \\<epsilon>)\""], ["proof (prove)\nusing this:\n  summable (\\<lambda>i. f (real i))\n  (\\<Sum>i. f (real i)) \\<le> (z - 1) powr - \\<epsilon> / \\<epsilon>\n  (z - 1) powr - \\<epsilon> / \\<epsilon> =\n  1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i. f (real i)) \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i. f (real i)) \\<le> 1 / (\\<epsilon> * (z - 1) powr \\<epsilon>)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. 1 / (z + real i) powr (1 + \\<epsilon>))", "show \"summable (\\<lambda>i. f (real i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. f (real i))", "using \\<open>summable (\\<lambda>i. f (real i))\\<close>"], ["proof (prove)\nusing this:\n  summable (\\<lambda>i. f (real i))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. f (real i))", "."], ["proof (state)\nthis:\n  summable (\\<lambda>i. f (real i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 < ?z \\<Longrightarrow>\n  (\\<Sum>r. 1 / (?z + real r) powr (1 + \\<epsilon>))\n  \\<le> 1 / (\\<epsilon> * (?z - 1) powr \\<epsilon>)\n  1 < ?z \\<Longrightarrow>\n  summable (\\<lambda>i. 1 / (?z + real i) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have u:\"(\\<lambda>k.( aa k / bb k)) \\<longlonglongrightarrow> \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "define ff where \"ff\\<equiv>(\\<lambda>x. ereal (aa x / bb x))\""], ["proof (state)\nthis:\n  ff \\<equiv> \\<lambda>x. ereal (aa x / bb x)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "have \"limsup ff =  \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "define tt where \"tt \\<equiv> (\\<lambda>i. prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>))\""], ["proof (state)\nthis:\n  tt \\<equiv>\n  \\<lambda>i. prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>)\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "have \"tt i \\<ge> 1\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> tt i", "unfolding tt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> prod aa {0..i} powr (2 + 2 / \\<epsilon> + \\<delta>)", "apply (rule ge_one_powr_ge_zero)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 1 \\<le> prod aa {0..i}\n 2. 0 \\<le> 2 + 2 / \\<epsilon> + \\<delta>", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> prod aa {0..i}", "apply (rule linordered_nonzero_semiring_class.prod_ge_1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> {0..i} \\<Longrightarrow> 1 \\<le> aa x", "by (simp add: a_pos aa_def int_one_le_iff_zero_less)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> 2 + 2 / \\<epsilon> + \\<delta>", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> 2 + 2 / \\<epsilon> + \\<delta>", "by (simp add: \\<open>\\<epsilon>>0\\<close> \\<open>\\<delta>>0\\<close> less_imp_le)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  1 \\<le> tt ?i\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "then"], ["proof (chain)\npicking this:\n  1 \\<le> tt ?i", "have \"limsup (\\<lambda>x.  (aa (x + 1) / tt x * (1 / bb (x + 1))))\n                  \\<le> limsup (\\<lambda>x.  aa (x + 1) / bb (x + 1))\""], ["proof (prove)\nusing this:\n  1 \\<le> tt ?i\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n    \\<le> limsup (\\<lambda>x. ereal (aa (x + 1) / bb (x + 1)))", "apply (intro Limsup_mono eventuallyI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       (\\<And>i. 1 \\<le> tt i) \\<Longrightarrow>\n       ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))\n       \\<le> ereal (aa (x + 1) / bb (x + 1))", "apply (auto simp add:field_simps order.order_iff_strict)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<And>i. 1 < tt i \\<or> tt i = 1; bb (Suc x) \\<noteq> 0;\n        \\<not> aa (Suc x) / tt x < aa (Suc x); tt x \\<noteq> 1\\<rbrakk>\n       \\<Longrightarrow> aa (Suc x) = 0", "by (metis aa_bb_pos(1) div_by_1 frac_less2 less_irrefl less_numeral_extra(1) \n            not_le)"], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa (x + 1) / bb (x + 1)))\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "also"], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa (x + 1) / bb (x + 1)))\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "have \"... = limsup (\\<lambda>x.  aa x / bb x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa (x + 1) / bb (x + 1))) =\n    limsup (\\<lambda>x. ereal (aa x / bb x))", "by (subst limsup_shift,simp)"], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / bb (x + 1))) =\n  limsup (\\<lambda>x. ereal (aa x / bb x))\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "finally"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))", "have \"limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n                      \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\""], ["proof (prove)\nusing this:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n    \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))", "."], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "moreover"], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "have \"limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n                        = \\<infinity>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n    \\<infinity>", "using limsup_infi"], ["proof (prove)\nusing this:\n  limsup\n   (\\<lambda>x.\n       ereal\n        (aa (x + 1) / prod aa {0..x} powr (2 + 2 / \\<epsilon> + \\<delta>) *\n         (1 / bb (x + 1)))) =\n  \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n    \\<infinity>", "unfolding tt_def"], ["proof (prove)\nusing this:\n  limsup\n   (\\<lambda>x.\n       ereal\n        (aa (x + 1) / prod aa {0..x} powr (2 + 2 / \\<epsilon> + \\<delta>) *\n         (1 / bb (x + 1)))) =\n  \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup\n     (\\<lambda>x.\n         ereal\n          (aa (x + 1) /\n           prod aa {0..x} powr (2 + 2 / \\<epsilon> + \\<delta>) *\n           (1 / bb (x + 1)))) =\n    \\<infinity>", "by auto"], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n  \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "ultimately"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n  \\<infinity>", "show ?thesis"], ["proof (prove)\nusing this:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n  \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup ff = \\<infinity>", "unfolding ff_def"], ["proof (prove)\nusing this:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n  \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa x / bb x)) = \\<infinity>", "using ereal_infty_less_eq2(1)"], ["proof (prove)\nusing this:\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1))))\n  \\<le> limsup (\\<lambda>x. ereal (aa x / bb x))\n  limsup (\\<lambda>x. ereal (aa (x + 1) / tt x * (1 / bb (x + 1)))) =\n  \\<infinity>\n  \\<lbrakk>?a \\<le> ?b; ?a = \\<infinity>\\<rbrakk>\n  \\<Longrightarrow> ?b = \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (aa x / bb x)) = \\<infinity>", "by blast"], ["proof (state)\nthis:\n  limsup ff = \\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  limsup ff = \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "then"], ["proof (chain)\npicking this:\n  limsup ff = \\<infinity>", "have \"limsup (\\<lambda>k. ff (k+t)) =  \\<infinity>\""], ["proof (prove)\nusing this:\n  limsup ff = \\<infinity>\n\ngoal (1 subgoal):\n 1. limsup (\\<lambda>k. ff (k + t)) = \\<infinity>", "by (simp add: limsup_shift_k)"], ["proof (state)\nthis:\n  limsup (\\<lambda>k. ff (k + t)) = \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "moreover"], ["proof (state)\nthis:\n  limsup (\\<lambda>k. ff (k + t)) = \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "have \"incseq (\\<lambda>k. ff (k+t))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. incseq (\\<lambda>k. ff (k + t))", "proof (rule incseq_SucI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. ff (n + t) \\<le> ff (Suc n + t)", "fix k::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n. ff (n + t) \\<le> ff (Suc n + t)", "define gg where \"gg\\<equiv>(\\<lambda>x. (aa x / bb x))\""], ["proof (state)\nthis:\n  gg \\<equiv> \\<lambda>x. aa x / bb x\n\ngoal (1 subgoal):\n 1. \\<And>n. ff (n + t) \\<le> ff (Suc n + t)", "have \"(gg (k+t)) powr (1 / (1 + \\<epsilon>)) + 1 \n                \\<le> (gg (Suc (k+t))) powr (1 / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. gg (k + t) powr (1 / (1 + \\<epsilon>)) + 1\n    \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))", "using ratio_large[rule_format, of \"k+t\",simplified]"], ["proof (prove)\nusing this:\n  (aa (k + t) / bb (k + t)) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (Suc (k + t)) / bb (Suc (k + t))) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. gg (k + t) powr (1 / (1 + \\<epsilon>)) + 1\n    \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))", "unfolding gg_def"], ["proof (prove)\nusing this:\n  (aa (k + t) / bb (k + t)) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (Suc (k + t)) / bb (Suc (k + t))) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. (aa (k + t) / bb (k + t)) powr (1 / (1 + \\<epsilon>)) + 1\n    \\<le> (aa (Suc (k + t)) / bb (Suc (k + t))) powr (1 / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  gg (k + t) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>n. ff (n + t) \\<le> ff (Suc n + t)", "then"], ["proof (chain)\npicking this:\n  gg (k + t) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))", "have \"(gg (k+t)) powr (1 / (1 + \\<epsilon>))\n                      \\<le> (gg (Suc (k+t))) powr (1 / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  gg (k + t) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. gg (k + t) powr (1 / (1 + \\<epsilon>))\n    \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  gg (k + t) powr (1 / (1 + \\<epsilon>))\n  \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>n. ff (n + t) \\<le> ff (Suc n + t)", "then"], ["proof (chain)\npicking this:\n  gg (k + t) powr (1 / (1 + \\<epsilon>))\n  \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))", "have \"gg (k+t)\\<le> gg (Suc (k+t))\""], ["proof (prove)\nusing this:\n  gg (k + t) powr (1 / (1 + \\<epsilon>))\n  \\<le> gg (Suc (k + t)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. gg (k + t) \\<le> gg (Suc (k + t))", "by (smt aa_bb_pos(1) aa_bb_pos(2) assms(6) divide_pos_pos gg_def \n                powr_less_mono2)"], ["proof (state)\nthis:\n  gg (k + t) \\<le> gg (Suc (k + t))\n\ngoal (1 subgoal):\n 1. \\<And>n. ff (n + t) \\<le> ff (Suc n + t)", "then"], ["proof (chain)\npicking this:\n  gg (k + t) \\<le> gg (Suc (k + t))", "show \"ff (k + t) \\<le> ff (Suc k + t)\""], ["proof (prove)\nusing this:\n  gg (k + t) \\<le> gg (Suc (k + t))\n\ngoal (1 subgoal):\n 1. ff (k + t) \\<le> ff (Suc k + t)", "unfolding gg_def ff_def"], ["proof (prove)\nusing this:\n  aa (k + t) / bb (k + t) \\<le> aa (Suc (k + t)) / bb (Suc (k + t))\n\ngoal (1 subgoal):\n 1. ereal (aa (k + t) / bb (k + t))\n    \\<le> ereal (aa (Suc k + t) / bb (Suc k + t))", "by auto"], ["proof (state)\nthis:\n  ff (k + t) \\<le> ff (Suc k + t)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  incseq (\\<lambda>k. ff (k + t))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "ultimately"], ["proof (chain)\npicking this:\n  limsup (\\<lambda>k. ff (k + t)) = \\<infinity>\n  incseq (\\<lambda>k. ff (k + t))", "have \"(\\<lambda>k. ff (k+t)) \\<longlonglongrightarrow> \\<infinity>\""], ["proof (prove)\nusing this:\n  limsup (\\<lambda>k. ff (k + t)) = \\<infinity>\n  incseq (\\<lambda>k. ff (k + t))\n\ngoal (1 subgoal):\n 1. (\\<lambda>k. ff (k + t)) \\<longlonglongrightarrow> \\<infinity>", "using incseq_tendsto_limsup"], ["proof (prove)\nusing this:\n  limsup (\\<lambda>k. ff (k + t)) = \\<infinity>\n  incseq (\\<lambda>k. ff (k + t))\n  incseq ?f \\<Longrightarrow> ?f \\<longlonglongrightarrow> limsup ?f\n\ngoal (1 subgoal):\n 1. (\\<lambda>k. ff (k + t)) \\<longlonglongrightarrow> \\<infinity>", "by fastforce"], ["proof (state)\nthis:\n  (\\<lambda>k. ff (k + t)) \\<longlonglongrightarrow> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>k. ff (k + t)) \\<longlonglongrightarrow> \\<infinity>", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>k. ff (k + t)) \\<longlonglongrightarrow> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "unfolding ff_def"], ["proof (prove)\nusing this:\n  (\\<lambda>k. ereal (aa (k + t) / bb (k + t)))\n  \\<longlonglongrightarrow> \\<infinity>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>", "unfolding tendsto_def"], ["proof (prove)\nusing this:\n  \\<forall>S.\n     open S \\<longrightarrow>\n     \\<infinity> \\<in> S \\<longrightarrow>\n     (\\<forall>\\<^sub>F x in sequentially.\n         ereal (aa (x + t) / bb (x + t)) \\<in> S)\n\ngoal (1 subgoal):\n 1. \\<forall>S.\n       open S \\<longrightarrow>\n       \\<infinity> \\<in> S \\<longrightarrow>\n       (\\<forall>\\<^sub>F x in sequentially. ereal (aa x / bb x) \\<in> S)", "apply (subst eventually_sequentially_seg[symmetric,of _ t])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>S.\n       open S \\<longrightarrow>\n       \\<infinity> \\<in> S \\<longrightarrow>\n       (\\<forall>\\<^sub>F x in sequentially.\n           ereal (aa (x + t) / bb (x + t)) \\<in> S) \\<Longrightarrow>\n    \\<forall>S.\n       open S \\<longrightarrow>\n       \\<infinity> \\<in> S \\<longrightarrow>\n       (\\<forall>\\<^sub>F n in sequentially.\n           ereal (aa (n + t) / bb (n + t)) \\<in> S)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>x. ereal (aa x / bb x)) \\<longlonglongrightarrow> \\<infinity>\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define \\<xi> where \"\\<xi> = suminf (\\<lambda> k. bb k / aa k)\""], ["proof (state)\nthis:\n  \\<xi> = (\\<Sum>k. bb k / aa k)\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have 10:\"\\<forall>\\<^sub>F k in sequentially. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar> \n                        < 2 / \\<epsilon> * (bb (k+1) / aa (k+1)) powr (\\<epsilon> / (1+\\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "using 8[THEN sequentially_offset,of 1] eventually_ge_at_top[of t]\n            u[unfolded tendsto_PInfty,rule_format,THEN sequentially_offset\n                        ,of \"(2 powr (1/\\<epsilon>) / (2 powr (1/\\<epsilon>) - 1)) powr (1+\\<epsilon>)\" 1]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in sequentially.\n     \\<forall>s.\n        ((aa (i + 1) / bb (i + 1)) powr (1 / (1 + \\<epsilon>)) +\n         real s) powr\n        (1 + \\<epsilon>)\n        \\<le> aa (i + 1 + s) / bb (i + 1 + s)\n  eventually ((\\<le>) t) sequentially\n  \\<forall>\\<^sub>F i in sequentially.\n     ereal\n      ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n       (1 + \\<epsilon>))\n     < ereal (aa (i + 1) / bb (i + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F k in sequentially.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "case (elim k)"], ["proof (state)\nthis:\n  \\<forall>s.\n     ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) + real s) powr\n     (1 + \\<epsilon>)\n     \\<le> aa (k + 1 + s) / bb (k + 1 + s)\n  t \\<le> k\n  ereal\n   ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n    (1 + \\<epsilon>))\n  < ereal (aa (k + 1) / bb (k + 1))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "define tt where \"tt \\<equiv> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\""], ["proof (state)\nthis:\n  tt \\<equiv> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"tt>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < tt", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < tt", "have \"(aa k / bb k) powr (1 / (1 + \\<epsilon>)) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (aa k / bb k) powr (1 / (1 + \\<epsilon>))", "by (metis a_pos aa_def b_pos bb_def divide_eq_0_iff less_irrefl \n                of_int_eq_0_iff powr_gt_zero)"], ["proof (state)\nthis:\n  0 < (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 < tt", "then"], ["proof (chain)\npicking this:\n  0 < (aa k / bb k) powr (1 / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 < tt", "using ratio_large[rule_format,OF \\<open>k\\<ge>t\\<close>]"], ["proof (prove)\nusing this:\n  0 < (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 < tt", "unfolding tt_def"], ["proof (prove)\nusing this:\n  0 < (aa k / bb k) powr (1 / (1 + \\<epsilon>))\n  (aa k / bb k) powr (1 / (1 + \\<epsilon>)) + 1\n  \\<le> (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 < (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "by argo"], ["proof (state)\nthis:\n  1 < tt\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 < tt\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"\\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> = \\<bar>\\<Sum>i. bb (i+(k+1)) / aa (i+(k+1))\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>", "unfolding \\<xi>_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>(\\<Sum>k. bb k / aa k) - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>", "apply (subst suminf_minus_initial_segment[of _ \"k+1\",OF summable])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>(\\<Sum>k. bb k / aa k) - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>(\\<Sum>n. bb n / aa n) - (\\<Sum>i<k + 1. bb i / aa i)\\<bar>", "using atLeast0AtMost lessThan_Suc_atMost"], ["proof (prove)\nusing this:\n  {0..?n} = {..?n}\n  {..<Suc ?k} = {..?k}\n\ngoal (1 subgoal):\n 1. \\<bar>(\\<Sum>k. bb k / aa k) - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n    \\<bar>(\\<Sum>n. bb n / aa n) - (\\<Sum>i<k + 1. bb i / aa i)\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar> =\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"... = (\\<Sum>i. bb (i+(k+1)) / aa (i+(k+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n    (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n    (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "have \"(\\<Sum>i. bb (i+(k+1)) / aa (i+(k+1))) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "apply (rule suminf_pos)"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 2. \\<And>n. 0 < bb (n + (k + 1)) / aa (n + (k + 1))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "using summable[THEN summable_ignore_initial_segment,of \"k+1\"]"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. bb (n + (k + 1)) / aa (n + (k + 1)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "."], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. 0 < bb (n + (k + 1)) / aa (n + (k + 1))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < bb (n_ + (k + 1)) / aa (n_ + (k + 1))", "by (simp add: a_pos aa_def b_pos bb_def)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  0 < (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n    (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "then"], ["proof (chain)\npicking this:\n  0 < (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n    (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1))\\<bar> =\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"... \\<le> (\\<Sum>i. 1 / (tt + i) powr (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n    \\<le> (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "proof (rule suminf_le)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>n.\n       bb (n + (k + 1)) / aa (n + (k + 1))\n       \\<le> 1 / (tt + real n) powr (1 + \\<epsilon>)\n 2. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 3. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "define ff where \"ff \\<equiv> (\\<lambda>k n. (aa (k+1) / bb (k+1)) powr (1 / (1 + \\<epsilon>)) + real n)\""], ["proof (state)\nthis:\n  ff \\<equiv>\n  \\<lambda>k n.\n     (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) + real n\n\ngoal (3 subgoals):\n 1. \\<And>n.\n       bb (n + (k + 1)) / aa (n + (k + 1))\n       \\<le> 1 / (tt + real n) powr (1 + \\<epsilon>)\n 2. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 3. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "have \"bb (n + (k + 1)) / aa (n + (k + 1)) \\<le> 1 / (ff k n) powr (1 + \\<epsilon>)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "have \"ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n +1 ) / bb (k + n+1 )\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n + 1) / bb (k + n + 1)", "using elim(1)[rule_format,of n]"], ["proof (prove)\nusing this:\n  ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) + real n) powr\n  (1 + \\<epsilon>)\n  \\<le> aa (k + 1 + n) / bb (k + 1 + n)\n\ngoal (1 subgoal):\n 1. ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n + 1) / bb (k + n + 1)", "unfolding ff_def"], ["proof (prove)\nusing this:\n  ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) + real n) powr\n  (1 + \\<epsilon>)\n  \\<le> aa (k + 1 + n) / bb (k + 1 + n)\n\ngoal (1 subgoal):\n 1. ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) + real n) powr\n    (1 + \\<epsilon>)\n    \\<le> aa (k + n + 1) / bb (k + n + 1)", "by auto"], ["proof (state)\nthis:\n  ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n + 1) / bb (k + n + 1)\n\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "moreover"], ["proof (state)\nthis:\n  ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n + 1) / bb (k + n + 1)\n\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "have \"ff k n powr (1 + \\<epsilon>) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < ff k n powr (1 + \\<epsilon>)", "unfolding ff_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n         real n) powr\n        (1 + \\<epsilon>)", "by (smt elim(2) of_nat_0_le_iff powr_gt_zero ratio_large)"], ["proof (state)\nthis:\n  0 < ff k n powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "ultimately"], ["proof (chain)\npicking this:\n  ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n + 1) / bb (k + n + 1)\n  0 < ff k n powr (1 + \\<epsilon>)", "have \"1 / ff k n powr (1 + \\<epsilon>) \\<ge>  bb (k + (n + 1)) / aa (k + (n + 1))\""], ["proof (prove)\nusing this:\n  ff k n powr (1 + \\<epsilon>) \\<le> aa (k + n + 1) / bb (k + n + 1)\n  0 < ff k n powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. bb (k + (n + 1)) / aa (k + (n + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "apply (drule_tac le_imp_inverse_le)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < ff k n powr (1 + \\<epsilon>) \\<Longrightarrow>\n    0 < ff k n powr (1 + \\<epsilon>)\n 2. \\<lbrakk>0 < ff k n powr (1 + \\<epsilon>);\n     inverse (aa (k + n + 1) / bb (k + n + 1))\n     \\<le> inverse (ff k n powr (1 + \\<epsilon>))\\<rbrakk>\n    \\<Longrightarrow> bb (k + (n + 1)) / aa (k + (n + 1))\n                      \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "by (auto simp add: inverse_eq_divide)"], ["proof (state)\nthis:\n  bb (k + (n + 1)) / aa (k + (n + 1)) \\<le> 1 / ff k n powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  bb (k + (n + 1)) / aa (k + (n + 1)) \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "show ?thesis"], ["proof (prove)\nusing this:\n  bb (k + (n + 1)) / aa (k + (n + 1)) \\<le> 1 / ff k n powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. bb (n + (k + 1)) / aa (n + (k + 1))\n    \\<le> 1 / ff k n powr (1 + \\<epsilon>)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  bb (n + (k + 1)) / aa (n + (k + 1)) \\<le> 1 / ff k n powr (1 + \\<epsilon>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bb (?n + (k + 1)) / aa (?n + (k + 1))\n  \\<le> 1 / ff k ?n powr (1 + \\<epsilon>)\n\ngoal (3 subgoals):\n 1. \\<And>n.\n       bb (n + (k + 1)) / aa (n + (k + 1))\n       \\<le> 1 / (tt + real n) powr (1 + \\<epsilon>)\n 2. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 3. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  bb (?n + (k + 1)) / aa (?n + (k + 1))\n  \\<le> 1 / ff k ?n powr (1 + \\<epsilon>)", "show \"\\<And>n. bb (n + (k + 1)) / aa (n + (k + 1)) \\<le> 1 / (tt + real n) powr (1 + \\<epsilon>)\""], ["proof (prove)\nusing this:\n  bb (?n + (k + 1)) / aa (?n + (k + 1))\n  \\<le> 1 / ff k ?n powr (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       bb (n + (k + 1)) / aa (n + (k + 1))\n       \\<le> 1 / (tt + real n) powr (1 + \\<epsilon>)", "unfolding ff_def tt_def"], ["proof (prove)\nusing this:\n  bb (?n + (k + 1)) / aa (?n + (k + 1))\n  \\<le> 1 /\n        ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n         real ?n) powr\n        (1 + \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       bb (n + (k + 1)) / aa (n + (k + 1))\n       \\<le> 1 /\n             ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n              real n) powr\n             (1 + \\<epsilon>)", "by auto"], ["proof (state)\nthis:\n  bb (?n + (k + 1)) / aa (?n + (k + 1))\n  \\<le> 1 / (tt + real ?n) powr (1 + \\<epsilon>)\n\ngoal (2 subgoals):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n 2. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "show \"summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "using summable[THEN summable_ignore_initial_segment,of \"k+1\"]"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. bb (n + (k + 1)) / aa (n + (k + 1)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))", "."], ["proof (state)\nthis:\n  summable (\\<lambda>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "show \"summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "using 9(2)[OF \\<open>tt>1\\<close>]"], ["proof (prove)\nusing this:\n  summable (\\<lambda>i. 1 / (tt + real i) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  summable (\\<lambda>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n  \\<le> (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  (\\<Sum>i. bb (i + (k + 1)) / aa (i + (k + 1)))\n  \\<le> (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"... \\<le> 1/(\\<epsilon> *(tt-1) powr \\<epsilon>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)", "using 9[OF \\<open>tt>1\\<close>]"], ["proof (prove)\nusing this:\n  (\\<Sum>r. 1 / (tt + real r) powr (1 + \\<epsilon>))\n  \\<le> 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n  summable (\\<lambda>i. 1 / (tt + real i) powr (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n    \\<le> 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n  \\<le> 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  (\\<Sum>x. 1 / (tt + real x) powr (1 + \\<epsilon>))\n  \\<le> 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"... < 2 / (\\<epsilon> *tt powr \\<epsilon>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "have \"((2 powr (1/\\<epsilon>) / (2 powr (1/\\<epsilon>) - 1)) powr (1 + \\<epsilon>)) < (aa (k+1) / bb (k+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n    (1 + \\<epsilon>)\n    < aa (k + 1) / bb (k + 1)", "using elim(3)"], ["proof (prove)\nusing this:\n  ereal\n   ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n    (1 + \\<epsilon>))\n  < ereal (aa (k + 1) / bb (k + 1))\n\ngoal (1 subgoal):\n 1. (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n    (1 + \\<epsilon>)\n    < aa (k + 1) / bb (k + 1)", "by auto"], ["proof (state)\nthis:\n  (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n  (1 + \\<epsilon>)\n  < aa (k + 1) / bb (k + 1)\n\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n  (1 + \\<epsilon>)\n  < aa (k + 1) / bb (k + 1)", "have \"2 powr (1/\\<epsilon>) / (2 powr (1/\\<epsilon>) - 1) < tt\""], ["proof (prove)\nusing this:\n  (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n  (1 + \\<epsilon>)\n  < aa (k + 1) / bb (k + 1)\n\ngoal (1 subgoal):\n 1. 2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1) < tt", "unfolding tt_def"], ["proof (prove)\nusing this:\n  (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n  (1 + \\<epsilon>)\n  < aa (k + 1) / bb (k + 1)\n\ngoal (1 subgoal):\n 1. 2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)\n    < (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "apply (drule_tac powr_less_mono2[rotated 2,where a=\"1/ (1 + \\<epsilon>)\"])"], ["proof (prove)\ngoal (3 subgoals):\n 1. 0 < 1 / (1 + \\<epsilon>)\n 2. 0 \\<le> (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n            (1 + \\<epsilon>)\n 3. ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n     (1 + \\<epsilon>)) powr\n    (1 / (1 + \\<epsilon>))\n    < (aa (k + 1) / bb (k + 1)) powr\n      (1 / (1 + \\<epsilon>)) \\<Longrightarrow>\n    2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)\n    < (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (3 subgoals):\n 1. 0 < 1 / (1 + \\<epsilon>)\n 2. 0 \\<le> (2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n            (1 + \\<epsilon>)\n 3. ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n     (1 + \\<epsilon>)) powr\n    (1 / (1 + \\<epsilon>))\n    < (aa (k + 1) / bb (k + 1)) powr\n      (1 / (1 + \\<epsilon>)) \\<Longrightarrow>\n    2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)\n    < (aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))", "apply (auto simp:powr_powr )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n             1\n             < (aa (Suc k) / bb (Suc k)) powr (1 / (1 + \\<epsilon>));\n     0 < \\<epsilon>\\<rbrakk>\n    \\<Longrightarrow> 2 powr (1 / \\<epsilon>) /\n                      (2 powr (1 / \\<epsilon>) - 1)\n                      < (aa (Suc k) / bb (Suc k)) powr\n                        (1 / (1 + \\<epsilon>))", "by (subst (asm) powr_one,auto simp add:field_simps)"], ["proof (state)\nthis:\n  2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1) < tt\n\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1) < tt", "have \" tt < (tt-1) * (2 powr (1/\\<epsilon>))\""], ["proof (prove)\nusing this:\n  2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1) < tt\n\ngoal (1 subgoal):\n 1. tt < (tt - 1) * 2 powr (1 / \\<epsilon>)", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1) < tt\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. tt < (tt - 1) * 2 powr (1 / \\<epsilon>)", "by (auto simp:divide_simps algebra_simps)"], ["proof (state)\nthis:\n  tt < (tt - 1) * 2 powr (1 / \\<epsilon>)\n\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  tt < (tt - 1) * 2 powr (1 / \\<epsilon>)", "have \"tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>\""], ["proof (prove)\nusing this:\n  tt < (tt - 1) * 2 powr (1 / \\<epsilon>)\n\ngoal (1 subgoal):\n 1. tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>", "apply (drule_tac powr_less_mono2[rotated 2,where a=\"\\<epsilon>\"])"], ["proof (prove)\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. 0 \\<le> tt\n 3. tt powr \\<epsilon>\n    < ((tt - 1) * 2 powr (1 / \\<epsilon>)) powr \\<epsilon> \\<Longrightarrow>\n    tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>", "using \\<open>\\<epsilon>>0\\<close> \\<open>tt>1\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n  1 < tt\n\ngoal (3 subgoals):\n 1. 0 < \\<epsilon>\n 2. 0 \\<le> tt\n 3. tt powr \\<epsilon>\n    < ((tt - 1) * 2 powr (1 / \\<epsilon>)) powr \\<epsilon> \\<Longrightarrow>\n    tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>", "by (auto simp:powr_powr powr_mult)"], ["proof (state)\nthis:\n  tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>\n\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "then"], ["proof (chain)\npicking this:\n  tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>", "show ?thesis"], ["proof (prove)\nusing this:\n  tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>\n\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "using \\<open>\\<epsilon>>0\\<close> \\<open>tt>1\\<close>"], ["proof (prove)\nusing this:\n  tt powr \\<epsilon> < 2 * (tt - 1) powr \\<epsilon>\n  0 < \\<epsilon>\n  1 < tt\n\ngoal (1 subgoal):\n 1. 1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n    < 2 / (\\<epsilon> * tt powr \\<epsilon>)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n  < 2 / (\\<epsilon> * tt powr \\<epsilon>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n  < 2 / (\\<epsilon> * tt powr \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  1 / (\\<epsilon> * (tt - 1) powr \\<epsilon>)\n  < 2 / (\\<epsilon> * tt powr \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "have \"... =  2 / \\<epsilon> * (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 / (\\<epsilon> * tt powr \\<epsilon>) =\n    2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "unfolding tt_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 /\n    (\\<epsilon> *\n     ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))) powr\n     \\<epsilon>) =\n    2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. 2 /\n    (\\<epsilon> *\n     ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>))) powr\n     \\<epsilon>) =\n    2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "by (auto simp:powr_powr divide_simps algebra_simps powr_divide less_imp_le)"], ["proof (state)\nthis:\n  2 / (\\<epsilon> * tt powr \\<epsilon>) =\n  2 / \\<epsilon> *\n  (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       \\<lbrakk>\\<forall>s.\n                   ((aa (k + 1) / bb (k + 1)) powr (1 / (1 + \\<epsilon>)) +\n                    real s) powr\n                   (1 + \\<epsilon>)\n                   \\<le> aa (k + 1 + s) / bb (k + 1 + s);\n        t \\<le> k;\n        ereal\n         ((2 powr (1 / \\<epsilon>) / (2 powr (1 / \\<epsilon>) - 1)) powr\n          (1 + \\<epsilon>))\n        < ereal (aa (k + 1) / bb (k + 1))\\<rbrakk>\n       \\<Longrightarrow> \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                         < 2 / \\<epsilon> *\n                           (bb (k + 1) / aa (k + 1)) powr\n                           (\\<epsilon> / (1 + \\<epsilon>))", "finally"], ["proof (chain)\npicking this:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "show ?case"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - (\\<Sum>i = 0..k. bb i / aa i)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n    < 2 / \\<epsilon> *\n      (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F k in sequentially.\n     \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n     < 2 / \\<epsilon> *\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define pq where \"pq \\<equiv> (\\<lambda>k. quotient_of (\\<Sum>i=0..k. of_int (b i) / of_int (a i)))\""], ["proof (state)\nthis:\n  pq \\<equiv>\n  \\<lambda>k.\n     quotient_of (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define p q where \"p \\<equiv> fst \\<circ> pq\" and \"q = snd \\<circ> pq\""], ["proof (state)\nthis:\n  p \\<equiv> fst \\<circ> pq\n  q = snd \\<circ> pq\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have coprime_pq:\"coprime (p k) (q k)\"\n        and q_pos:\"q k > 0\" and pq_sum:\"p k / q k = (\\<Sum>i=0..k. b i / a i)\" for k"], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (p k) (q k) &&&\n    0 < q k &&&\n    real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "proof -"], ["proof (state)\ngoal (3 subgoals):\n 1. coprime (p k) (q k)\n 2. 0 < q k\n 3. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "have eq: \"quotient_of (\\<Sum>i=0..k. of_int (b i) / of_int (a i)) = (p k, q k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. quotient_of (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n    (p k, q k)", "by (simp add: p_def q_def pq_def)"], ["proof (state)\nthis:\n  quotient_of (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n  (p k, q k)\n\ngoal (3 subgoals):\n 1. coprime (p k) (q k)\n 2. 0 < q k\n 3. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "from quotient_of_coprime[OF eq]"], ["proof (chain)\npicking this:\n  coprime (p k) (q k)", "show \"coprime (p k) (q k)\""], ["proof (prove)\nusing this:\n  coprime (p k) (q k)\n\ngoal (1 subgoal):\n 1. coprime (p k) (q k)", "."], ["proof (state)\nthis:\n  coprime (p k) (q k)\n\ngoal (2 subgoals):\n 1. 0 < q k\n 2. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "from quotient_of_denom_pos[OF eq]"], ["proof (chain)\npicking this:\n  0 < q k", "show \"q k > 0\""], ["proof (prove)\nusing this:\n  0 < q k\n\ngoal (1 subgoal):\n 1. 0 < q k", "."], ["proof (state)\nthis:\n  0 < q k\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "have \"(\\<Sum>i=0..k. b i / a i) = of_rat (\\<Sum>i=0..k. of_int (b i) / of_int (a i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n    real_of_rat (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))", "by (simp add: of_rat_sum of_rat_divide)"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "also"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "have \"(\\<Sum>i=0..k. rat_of_int (b i) / rat_of_int (a i)) =\n                 rat_of_int (p k) / rat_of_int (q k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n    rat_of_int (p k) / rat_of_int (q k)", "using quotient_of_div[OF eq]"], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n  rat_of_int (p k) / rat_of_int (q k)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n    rat_of_int (p k) / rat_of_int (q k)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) =\n  rat_of_int (p k) / rat_of_int (q k)\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (rat_of_int (p k) / rat_of_int (q k))", "show \"p k / q k = (\\<Sum>i=0..k. b i / a i)\""], ["proof (prove)\nusing this:\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i)) =\n  real_of_rat (rat_of_int (p k) / rat_of_int (q k))\n\ngoal (1 subgoal):\n 1. real_of_int (p k) / real_of_int (q k) =\n    (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))", "by (simp add:of_rat_divide)"], ["proof (state)\nthis:\n  real_of_int (p k) / real_of_int (q k) =\n  (\\<Sum>i = 0..k. real_of_int (b i) / real_of_int (a i))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (p ?k) (q ?k)\n  0 < q ?k\n  real_of_int (p ?k) / real_of_int (q ?k) =\n  (\\<Sum>i = 0..?k. real_of_int (b i) / real_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \\<xi>_Inf_many:\"\\<exists>\\<^sub>\\<infinity> k. \\<bar>\\<xi> - p k / q k\\<bar> <  1 / q k powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have *:\"\\<exists>\\<^sub>\\<infinity>k. (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n              < \\<epsilon> / (2 * prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "using 7[of \"(2 / \\<epsilon>) powr ((1+\\<epsilon>)/ \\<epsilon>)\"] \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < (2 / \\<epsilon>) powr\n      ((1 + \\<epsilon>) / \\<epsilon>) \\<Longrightarrow>\n  \\<exists>\\<^sub>\\<infinity>k.\n     (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < 1 /\n       (((2 / \\<epsilon>) powr ((1 + \\<epsilon>) / \\<epsilon>)) powr\n        (\\<epsilon> / (1 + \\<epsilon>)) *\n        prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))", "by (auto simp:powr_powr)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < \\<epsilon> /\n       (2 *\n        prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have **:\"\\<forall>\\<^sub>\\<infinity>k. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n                < 2 / \\<epsilon> * (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "using 10[unfolded cofinite_eq_sequentially[symmetric]]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n     < 2 / \\<epsilon> *\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n     < 2 / \\<epsilon> *\n       (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "from INFM_conjI[OF * **]"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>x.\n     (bb (Suc x) / aa (Suc x)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < \\<epsilon> /\n       (2 *\n        prod aa {0..x} powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n     \\<bar>\\<xi> - (\\<Sum>k = 0..x. bb k / aa k)\\<bar>\n     < 2 / \\<epsilon> *\n       (bb (x + 1) / aa (x + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>x.\n     (bb (Suc x) / aa (Suc x)) powr (\\<epsilon> / (1 + \\<epsilon>))\n     < \\<epsilon> /\n       (2 *\n        prod aa {0..x} powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n     \\<bar>\\<xi> - (\\<Sum>k = 0..x. bb k / aa k)\\<bar>\n     < 2 / \\<epsilon> *\n       (bb (x + 1) / aa (x + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>\\<infinity>k.\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "proof (elim INFM_mono)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "fix k"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "assume asm:\"(bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n                         < \\<epsilon> / (2 * prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n                          \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar> \n                        < 2 / \\<epsilon> * (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\""], ["proof (state)\nthis:\n  (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  < \\<epsilon> /\n    (2 *\n     prod aa {0..k} powr\n     (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"\\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> \n              = \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n    \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>", "using pq_sum"], ["proof (prove)\nusing this:\n  real_of_int (p ?k) / real_of_int (q ?k) =\n  (\\<Sum>i = 0..?k. real_of_int (b i) / real_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n    \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>", "unfolding aa_def bb_def"], ["proof (prove)\nusing this:\n  real_of_int (p ?k) / real_of_int (q ?k) =\n  (\\<Sum>i = 0..?k. real_of_int (b i) / real_of_int (a i))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n    \\<bar>\\<xi> -\n          (\\<Sum>k = 0..k. real_of_int (b k) / real_of_int (a k))\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar> =\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"... < (2 / \\<epsilon>) * (bb (k+1) / aa (k+1)) powr (\\<epsilon> / (1+\\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n    < 2 / \\<epsilon> *\n      (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "using asm"], ["proof (prove)\nusing this:\n  (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  < \\<epsilon> /\n    (2 *\n     prod aa {0..k} powr\n     (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n    < 2 / \\<epsilon> *\n      (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"... <  (2 / \\<epsilon>) * (\\<epsilon> / (2 * prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n    < 2 / \\<epsilon> *\n      (\\<epsilon> /\n       (2 *\n        prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))))", "apply (rule mult_strict_left_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n    < \\<epsilon> /\n      (2 *\n       prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\n 2. 0 < 2 / \\<epsilon>", "using asm \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  < \\<epsilon> /\n    (2 *\n     prod aa {0..k} powr\n     (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n  \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n  < 2 / \\<epsilon> *\n    (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  0 < \\<epsilon>\n\ngoal (2 subgoals):\n 1. (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n    < \\<epsilon> /\n      (2 *\n       prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))\n 2. 0 < 2 / \\<epsilon>", "by auto"], ["proof (state)\nthis:\n  2 / \\<epsilon> *\n  (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  < 2 / \\<epsilon> *\n    (\\<epsilon> /\n     (2 *\n      prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  2 / \\<epsilon> *\n  (bb (k + 1) / aa (k + 1)) powr (\\<epsilon> / (1 + \\<epsilon>))\n  < 2 / \\<epsilon> *\n    (\\<epsilon> /\n     (2 *\n      prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"... = 1/ prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 / \\<epsilon> *\n    (\\<epsilon> /\n     (2 *\n      prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))) =\n    1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. 2 / \\<epsilon> *\n    (\\<epsilon> /\n     (2 *\n      prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))) =\n    1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  2 / \\<epsilon> *\n  (\\<epsilon> /\n   (2 *\n    prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))) =\n  1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  2 / \\<epsilon> *\n  (\\<epsilon> /\n   (2 *\n    prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)))) =\n  1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"... \\<le> 1 / q k powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 /\n          real_of_int (q k) powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 /\n          real_of_int (q k) powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"q k \\<le> prod aa {0..k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q k) \\<le> prod aa {0..k}", "proof (induct k)"], ["proof (state)\ngoal (2 subgoals):\n 1. real_of_int (q 0) \\<le> prod aa {0..0}\n 2. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. real_of_int (q 0) \\<le> prod aa {0..0}\n 2. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q 0) \\<le> prod aa {0..0}", "unfolding q_def pq_def aa_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     ((snd \\<circ>\n       (\\<lambda>k.\n           quotient_of\n            (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))))\n       0)\n    \\<le> (\\<Prod>b = 0..0. real_of_int (a b))", "apply (simp add:rat_divide_code of_int_rat quotient_of_Fract)"], ["proof (prove)\ngoal (1 subgoal):\n 1. snd (Rat.normalize (b 0, a 0)) \\<le> a 0", "using aa_bb_pos[of 0,unfolded aa_def bb_def]"], ["proof (prove)\nusing this:\n  0 < real_of_int (a 0)\n  0 < real_of_int (b 0)\n\ngoal (1 subgoal):\n 1. snd (Rat.normalize (b 0, a 0)) \\<le> a 0", "unfolding Let_def normalize_def"], ["proof (prove)\nusing this:\n  0 < real_of_int (a 0)\n  0 < real_of_int (b 0)\n\ngoal (1 subgoal):\n 1. snd (if 0 < snd (b 0, a 0)\n         then (fst (b 0, a 0) div gcd (fst (b 0, a 0)) (snd (b 0, a 0)),\n               snd (b 0, a 0) div gcd (fst (b 0, a 0)) (snd (b 0, a 0)))\n         else if snd (b 0, a 0) = 0 then (0, 1)\n              else (fst (b 0, a 0) div\n                    - gcd (fst (b 0, a 0)) (snd (b 0, a 0)),\n                    snd (b 0, a 0) div\n                    - gcd (fst (b 0, a 0)) (snd (b 0, a 0))))\n    \\<le> a 0", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < a 0; 0 < b 0\\<rbrakk>\n    \\<Longrightarrow> a 0 div gcd (b 0) (a 0) \\<le> a 0", "by (metis div_by_1 less_imp_le less_trans nonneg1_imp_zdiv_pos_iff \n                not_less zdiv_mono2)"], ["proof (state)\nthis:\n  real_of_int (q 0) \\<le> prod aa {0..0}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "case (Suc k)"], ["proof (state)\nthis:\n  real_of_int (q k) \\<le> prod aa {0..k}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "define de where \"de \\<equiv> snd \\<circ> quotient_of\""], ["proof (state)\nthis:\n  de \\<equiv> snd \\<circ> quotient_of\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"real_of_int (q (Suc k)) \n                  = de (\\<Sum>i=0..Suc k. of_int (b i) / of_int (a i))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q (Suc k)) =\n    real_of_int\n     (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))", "unfolding q_def pq_def de_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     ((snd \\<circ>\n       (\\<lambda>k.\n           quotient_of\n            (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))))\n       (Suc k)) =\n    real_of_int\n     ((snd \\<circ> quotient_of)\n       (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))", "by simp"], ["proof (state)\nthis:\n  real_of_int (q (Suc k)) =\n  real_of_int (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q (Suc k)) =\n  real_of_int (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i)))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = de ((\\<Sum>i=0..k. of_int (b i) / of_int (a i)) \n                                + of_int (b (Suc k)) / of_int (a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i))) =\n    real_of_int\n     (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n          rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "by simp"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i))) =\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..Suc k. rat_of_int (b i) / rat_of_int (a i))) =\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... \\<le> de (\\<Sum>i=0..k. of_int (b i) / of_int (a i)) \n                                * de (of_int (b (Suc k)) / of_int (a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n          rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n    \\<le> real_of_int\n           (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n            de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "using snd_quotient_plus_leq[folded de_def]"], ["proof (prove)\nusing this:\n  de (?x + ?y) \\<le> de ?x * de ?y\n\ngoal (1 subgoal):\n 1. real_of_int\n     (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n          rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n    \\<le> real_of_int\n           (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n            de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "by presburger"], ["proof (state)\nthis:\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n  \\<le> real_of_int\n         (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n          de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int\n   (de ((\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) +\n        rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n  \\<le> real_of_int\n         (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n          de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = q k * de (of_int (b (Suc k)) / of_int (a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n      de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n    real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "unfolding q_def pq_def de_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     ((snd \\<circ> quotient_of)\n       (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n      (snd \\<circ> quotient_of)\n       (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n    real_of_int\n     ((snd \\<circ>\n       (\\<lambda>k.\n           quotient_of\n            (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))))\n       k *\n      (snd \\<circ> quotient_of)\n       (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))", "by auto"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n    de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int\n   (de (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)) *\n    de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = q k * snd (Rat.normalize (b (Suc k), a (Suc k)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int\n     (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n    real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))", "by (simp add:rat_divide_code of_int_rat quotient_of_Fract de_def)"], ["proof (state)\nthis:\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q k * de (rat_of_int (b (Suc k)) / rat_of_int (a (Suc k)))) =\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... \\<le> q k * aa (Suc k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n    \\<le> real_of_int (q k) * aa (Suc k)", "using aa_bb_pos[of \"Suc k\"] q_pos[of \"k\"]"], ["proof (prove)\nusing this:\n  0 < aa (Suc k)\n  0 < bb (Suc k)\n  0 < q k\n\ngoal (1 subgoal):\n 1. real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n    \\<le> real_of_int (q k) * aa (Suc k)", "unfolding normalize_def aa_def bb_def Let_def"], ["proof (prove)\nusing this:\n  0 < real_of_int (a (Suc k))\n  0 < real_of_int (b (Suc k))\n  0 < q k\n\ngoal (1 subgoal):\n 1. real_of_int\n     (q k *\n      snd (if 0 < snd (b (Suc k), a (Suc k))\n           then (fst (b (Suc k), a (Suc k)) div\n                 gcd (fst (b (Suc k), a (Suc k)))\n                  (snd (b (Suc k), a (Suc k))),\n                 snd (b (Suc k), a (Suc k)) div\n                 gcd (fst (b (Suc k), a (Suc k)))\n                  (snd (b (Suc k), a (Suc k))))\n           else if snd (b (Suc k), a (Suc k)) = 0 then (0, 1)\n                else (fst (b (Suc k), a (Suc k)) div\n                      - gcd (fst (b (Suc k), a (Suc k)))\n                         (snd (b (Suc k), a (Suc k))),\n                      snd (b (Suc k), a (Suc k)) div\n                      - gcd (fst (b (Suc k), a (Suc k)))\n                         (snd (b (Suc k), a (Suc k))))))\n    \\<le> real_of_int (q k) * real_of_int (a (Suc k))", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < a (Suc k); 0 < b (Suc k); 0 < q k\\<rbrakk>\n    \\<Longrightarrow> a (Suc k) div gcd (b (Suc k)) (a (Suc k))\n                      \\<le> a (Suc k)", "by (metis div_by_1 int_one_le_iff_zero_less less_trans \n                  nonneg1_imp_zdiv_pos_iff not_less zdiv_mono2 zero_less_one)"], ["proof (state)\nthis:\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n  \\<le> real_of_int (q k) * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q k * snd (Rat.normalize (b (Suc k), a (Suc k))))\n  \\<le> real_of_int (q k) * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... \\<le>  prod aa {0..k} * aa (Suc k)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)", "using Suc aa_bb_pos[of \"Suc k\"]"], ["proof (prove)\nusing this:\n  real_of_int (q k) \\<le> prod aa {0..k}\n  0 < aa (Suc k)\n  0 < bb (Suc k)\n\ngoal (1 subgoal):\n 1. real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)", "by auto"], ["proof (state)\nthis:\n  real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "also"], ["proof (state)\nthis:\n  real_of_int (q k) * aa (Suc k) \\<le> prod aa {0..k} * aa (Suc k)\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "have \"... = prod aa {0..Suc k}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prod aa {0..k} * aa (Suc k) = prod aa {0..Suc k}", "by (simp add: prod.atLeast0_atMost_Suc)"], ["proof (state)\nthis:\n  prod aa {0..k} * aa (Suc k) = prod aa {0..Suc k}\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n       real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "finally"], ["proof (chain)\npicking this:\n  real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "show ?case"], ["proof (prove)\nusing this:\n  real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}\n\ngoal (1 subgoal):\n 1. real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}", "."], ["proof (state)\nthis:\n  real_of_int (q (Suc k)) \\<le> prod aa {0..Suc k}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (q k) \\<le> prod aa {0..k}\n\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 /\n          real_of_int (q k) powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  real_of_int (q k) \\<le> prod aa {0..k}", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (q k) \\<le> prod aa {0..k}\n\ngoal (1 subgoal):\n 1. 1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 /\n          real_of_int (q k) powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (rule_tac divide_left_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n 2. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow> 0 \\<le> 1\n 3. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 < prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) *\n        real_of_int (q k) powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (rule powr_mono2)"], ["proof (prove)\ngoal (5 subgoals):\n 1. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 \\<le> real_of_int (q k)\n 3. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    real_of_int (q k) \\<le> prod aa {0..k}\n 4. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow> 0 \\<le> 1\n 5. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 < prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) *\n        real_of_int (q k) powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>\\<delta>>0\\<close> \\<open>\\<epsilon>>0\\<close> q_pos[of k]"], ["proof (prove)\nusing this:\n  0 < \\<delta>\n  0 < \\<epsilon>\n  0 < q k\n\ngoal (5 subgoals):\n 1. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 \\<le> real_of_int (q k)\n 3. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    real_of_int (q k) \\<le> prod aa {0..k}\n 4. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow> 0 \\<le> 1\n 5. real_of_int (q k) \\<le> prod aa {0..k} \\<Longrightarrow>\n    0 < prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) *\n        real_of_int (q k) powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (auto simp:powr_mult[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a.\n       \\<lbrakk>real_of_int (q k) \\<le> prod aa {0..k}; 0 < \\<delta>;\n        0 < \\<epsilon>; 0 < q k; a \\<le> k; aa a = 0\\<rbrakk>\n       \\<Longrightarrow> False", "by (metis aa_bb_pos(1) less_irrefl)"], ["proof (state)\nthis:\n  1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1 /\n        real_of_int (q k) powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / prod aa {0..k} powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1 /\n        real_of_int (q k) powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>k.\n       (bb (Suc k) / aa (Suc k)) powr (\\<epsilon> / (1 + \\<epsilon>))\n       < \\<epsilon> /\n         (2 *\n          prod aa {0..k} powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))) \\<and>\n       \\<bar>\\<xi> - (\\<Sum>k = 0..k. bb k / aa k)\\<bar>\n       < 2 / \\<epsilon> *\n         (bb (k + 1) / aa (k + 1)) powr\n         (\\<epsilon> / (1 + \\<epsilon>)) \\<Longrightarrow>\n       \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "finally"], ["proof (chain)\npicking this:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n  < 1 /\n    real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "show \"\\<bar>\\<xi> -  p k / q k\\<bar> < 1 /  q k powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n  < 1 /\n    real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n    < 1 /\n      real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n  < 1 /\n    real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 /\n       real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 /\n       real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "define pqs where \"pqs \\<equiv> {(p, q). q>0 \\<and> coprime p q \\<and> \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar> \n                  < 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\""], ["proof (state)\nthis:\n  pqs \\<equiv>\n  {(p, q).\n   0 < q \\<and>\n   coprime p q \\<and>\n   \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n   < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \\<xi>_infinite:\"infinite pqs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. infinite pqs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. infinite pqs", "define A where \"A \\<equiv> {k. \\<bar>\\<xi> -  (p k) /  (q k)\\<bar> < 1 / (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\""], ["proof (state)\nthis:\n  A \\<equiv>\n  {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n      < 1 /\n        real_of_int (q k) powr\n        (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\n\ngoal (1 subgoal):\n 1. infinite pqs", "note \\<xi>_Inf_many"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 /\n       real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. infinite pqs", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 /\n       real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"infinite A\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>\\<infinity>k.\n     \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n     < 1 /\n       real_of_int (q k) powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. infinite A", "unfolding Inf_many_def A_def"], ["proof (prove)\nusing this:\n  infinite\n   {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n       < 1 /\n         real_of_int (q k) powr\n         (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\n\ngoal (1 subgoal):\n 1. infinite\n     {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n         < 1 /\n           real_of_int (q k) powr\n           (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}", "by auto"], ["proof (state)\nthis:\n  infinite A\n\ngoal (1 subgoal):\n 1. infinite pqs", "moreover"], ["proof (state)\nthis:\n  infinite A\n\ngoal (1 subgoal):\n 1. infinite pqs", "have \"inj_on (\\<lambda>k. (p k, q k)) A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "define g where \"g \\<equiv> (\\<lambda>i. rat_of_int (b i) / rat_of_int (a i))\""], ["proof (state)\nthis:\n  g \\<equiv> \\<lambda>i. rat_of_int (b i) / rat_of_int (a i)\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "define f where \"f \\<equiv> (\\<lambda>k. \\<Sum>i = 0..k. g i)\""], ["proof (state)\nthis:\n  f \\<equiv> \\<lambda>k. sum g {0..k}\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "have g_pos:\"g i>0\" for i"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < g i", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < rat_of_int (b i) / rat_of_int (a i)", "by (simp add: a_pos b_pos)"], ["proof (state)\nthis:\n  0 < g ?i\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "have \"strict_mono f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. strict_mono f", "unfolding strict_mono_def f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x y. x < y \\<longrightarrow> sum g {0..x} < sum g {0..y}", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "fix x y::nat"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "assume \"x < y\""], ["proof (state)\nthis:\n  x < y\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "then"], ["proof (chain)\npicking this:\n  x < y", "have \"sum g {0..y} - sum g {0..x} = sum g {x<..y}\""], ["proof (prove)\nusing this:\n  x < y\n\ngoal (1 subgoal):\n 1. sum g {0..y} - sum g {0..x} = sum g {x<..y}", "apply (subst  Groups_Big.sum_diff[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. x < y \\<Longrightarrow> finite {0..y}\n 2. x < y \\<Longrightarrow> {0..x} \\<subseteq> {0..y}\n 3. x < y \\<Longrightarrow> sum g ({0..y} - {0..x}) = sum g {x<..y}", "by (auto intro:arg_cong2[where f=sum])"], ["proof (state)\nthis:\n  sum g {0..y} - sum g {0..x} = sum g {x<..y}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "also"], ["proof (state)\nthis:\n  sum g {0..y} - sum g {0..x} = sum g {x<..y}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "have \"... > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < sum g {x<..y}", "apply (rule ordered_comm_monoid_add_class.sum_pos)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {x<..y}\n 2. {x<..y} \\<noteq> {}\n 3. \\<And>i. i \\<in> {x<..y} \\<Longrightarrow> 0 < g i", "using \\<open>x<y\\<close> g_pos"], ["proof (prove)\nusing this:\n  x < y\n  0 < g ?i\n\ngoal (3 subgoals):\n 1. finite {x<..y}\n 2. {x<..y} \\<noteq> {}\n 3. \\<And>i. i \\<in> {x<..y} \\<Longrightarrow> 0 < g i", "by auto"], ["proof (state)\nthis:\n  0 < sum g {x<..y}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "finally"], ["proof (chain)\npicking this:\n  0 < sum g {0..y} - sum g {0..x}", "have \"sum g {0..y} - sum g {0..x} >0\""], ["proof (prove)\nusing this:\n  0 < sum g {0..y} - sum g {0..x}\n\ngoal (1 subgoal):\n 1. 0 < sum g {0..y} - sum g {0..x}", "."], ["proof (state)\nthis:\n  0 < sum g {0..y} - sum g {0..x}\n\ngoal (1 subgoal):\n 1. \\<And>x y. x < y \\<Longrightarrow> sum g {0..x} < sum g {0..y}", "then"], ["proof (chain)\npicking this:\n  0 < sum g {0..y} - sum g {0..x}", "show \"sum g {0..x} < sum g {0..y}\""], ["proof (prove)\nusing this:\n  0 < sum g {0..y} - sum g {0..x}\n\ngoal (1 subgoal):\n 1. sum g {0..x} < sum g {0..y}", "by auto"], ["proof (state)\nthis:\n  sum g {0..x} < sum g {0..y}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  strict_mono f\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  strict_mono f", "have \"inj f\""], ["proof (prove)\nusing this:\n  strict_mono f\n\ngoal (1 subgoal):\n 1. inj f", "using strict_mono_imp_inj_on"], ["proof (prove)\nusing this:\n  strict_mono f\n  strict_mono ?f \\<Longrightarrow> inj_on ?f ?A\n\ngoal (1 subgoal):\n 1. inj f", "by auto"], ["proof (state)\nthis:\n  inj f\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  inj f", "have \"inj (quotient_of o f)\""], ["proof (prove)\nusing this:\n  inj f\n\ngoal (1 subgoal):\n 1. inj (quotient_of \\<circ> f)", "by (simp add: inj_compose quotient_of_inj)"], ["proof (state)\nthis:\n  inj (quotient_of \\<circ> f)\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  inj (quotient_of \\<circ> f)", "have \"inj (\\<lambda>k. (p k, q k))\""], ["proof (prove)\nusing this:\n  inj (quotient_of \\<circ> f)\n\ngoal (1 subgoal):\n 1. inj (\\<lambda>k. (p k, q k))", "unfolding f_def p_def q_def pq_def comp_def"], ["proof (prove)\nusing this:\n  inj (\\<lambda>x. quotient_of (sum g {0..x}))\n\ngoal (1 subgoal):\n 1. inj (\\<lambda>k.\n            (fst (quotient_of\n                   (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i))),\n             snd (quotient_of\n                   (\\<Sum>i = 0..k. rat_of_int (b i) / rat_of_int (a i)))))", "apply (fold g_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj (\\<lambda>x. quotient_of (sum g {0..x})) \\<Longrightarrow>\n    inj (\\<lambda>k.\n            (fst (quotient_of (sum g {0..k})),\n             snd (quotient_of (sum g {0..k}))))", "by auto"], ["proof (state)\nthis:\n  inj (\\<lambda>k. (p k, q k))\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "then"], ["proof (chain)\npicking this:\n  inj (\\<lambda>k. (p k, q k))", "show ?thesis"], ["proof (prove)\nusing this:\n  inj (\\<lambda>k. (p k, q k))\n\ngoal (1 subgoal):\n 1. inj_on (\\<lambda>k. (p k, q k)) A", "by (auto elim:subset_inj_on)"], ["proof (state)\nthis:\n  inj_on (\\<lambda>k. (p k, q k)) A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inj_on (\\<lambda>k. (p k, q k)) A\n\ngoal (1 subgoal):\n 1. infinite pqs", "moreover"], ["proof (state)\nthis:\n  inj_on (\\<lambda>k. (p k, q k)) A\n\ngoal (1 subgoal):\n 1. infinite pqs", "have \"(\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs", "unfolding A_def pqs_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>k. (p k, q k)) `\n    {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n        < 1 /\n          real_of_int (q k) powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\n    \\<subseteq> {(p, q).\n                 0 < q \\<and>\n                 coprime p q \\<and>\n                 \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n                 < 1 /\n                   real_of_int q powr\n                   (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}", "using coprime_pq q_pos"], ["proof (prove)\nusing this:\n  coprime (p ?k) (q ?k)\n  0 < q ?k\n\ngoal (1 subgoal):\n 1. (\\<lambda>k. (p k, q k)) `\n    {k. \\<bar>\\<xi> - real_of_int (p k) / real_of_int (q k)\\<bar>\n        < 1 /\n          real_of_int (q k) powr\n          (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\n    \\<subseteq> {(p, q).\n                 0 < q \\<and>\n                 coprime p q \\<and>\n                 \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n                 < 1 /\n                   real_of_int q powr\n                   (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\n\ngoal (1 subgoal):\n 1. infinite pqs", "ultimately"], ["proof (chain)\npicking this:\n  infinite A\n  inj_on (\\<lambda>k. (p k, q k)) A\n  (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs", "show ?thesis"], ["proof (prove)\nusing this:\n  infinite A\n  inj_on (\\<lambda>k. (p k, q k)) A\n  (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\n\ngoal (1 subgoal):\n 1. infinite pqs", "apply (elim infinite_inj_imageE)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>inj_on (\\<lambda>k. (p k, q k)) A;\n     (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\\<rbrakk>\n    \\<Longrightarrow> inj_on ?f3 A\n 2. \\<lbrakk>inj_on (\\<lambda>k. (p k, q k)) A;\n     (\\<lambda>k. (p k, q k)) ` A \\<subseteq> pqs\\<rbrakk>\n    \\<Longrightarrow> ?f3 ` A \\<subseteq> pqs", "by auto"], ["proof (state)\nthis:\n  infinite pqs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  infinite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "moreover"], ["proof (state)\nthis:\n  infinite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "have \"finite pqs\" if \"\\<xi> \\<in> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite pqs", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite pqs", "obtain m n where \\<xi>_mn:\"\\<xi> = (of_int m / of_int n)\" and \"coprime m n\" \"n>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain m n where mn:\"\\<bar>\\<xi>\\<bar> = (of_nat m / of_nat n)\" \"coprime m n\" \"n\\<noteq>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<bar>\\<xi>\\<bar> = real m / real n; coprime m n;\n         n \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Rats_abs_nat_div_natE[OF \\<open>\\<xi> \\<in> \\<rat>\\<close> Rats_abs_nat_div_natE]"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>m n.\n              \\<lbrakk>n \\<noteq> 0; \\<bar>\\<xi>\\<bar> = real m / real n;\n               coprime m n\\<rbrakk>\n              \\<Longrightarrow> ?x1 m n \\<in> \\<rat>;\n   \\<And>m n ma na.\n      \\<lbrakk>n \\<noteq> 0; \\<bar>\\<xi>\\<bar> = real m / real n;\n       coprime m n; na \\<noteq> 0; \\<bar>?x1 m n\\<bar> = real ma / real na;\n       coprime ma na\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<bar>\\<xi>\\<bar> = real m / real n; coprime m n;\n         n \\<noteq> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by metis"], ["proof (state)\nthis:\n  \\<bar>\\<xi>\\<bar> = real m / real n\n  coprime m n\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define m' and n'::int \n        where \"m'=(if \\<xi> > 0 then nat m else -nat m)\" and \"n'=nat n\""], ["proof (state)\nthis:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))", "have \"\\<xi> = (of_int m' / of_int n')\" \"coprime m' n'\" \"n'>0\""], ["proof (prove)\nusing this:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))\n\ngoal (1 subgoal):\n 1. \\<xi> = real_of_int m' / real_of_int n' &&& coprime m' n' &&& 0 < n'", "using mn"], ["proof (prove)\nusing this:\n  m' = (if 0 < \\<xi> then int (nat (int m)) else - int (nat (int m)))\n  n' = int (nat (int n))\n  \\<bar>\\<xi>\\<bar> = real m / real n\n  coprime m n\n  n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<xi> = real_of_int m' / real_of_int n' &&& coprime m' n' &&& 0 < n'", "by auto"], ["proof (state)\nthis:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'\n\ngoal (1 subgoal):\n 1. (\\<And>m n.\n        \\<lbrakk>\\<xi> = real_of_int m / real_of_int n; coprime m n;\n         0 < n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  \\<xi> = real_of_int m' / real_of_int n'\n  coprime m' n'\n  0 < n'\n  \\<lbrakk>\\<xi> = real_of_int ?m / real_of_int ?n; coprime ?m ?n;\n   0 < ?n\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<xi> = real_of_int m / real_of_int n\n  coprime m n\n  0 < n\n\ngoal (1 subgoal):\n 1. finite pqs", "have \"pqs \\<subseteq> {(m,n)} \\<union> {x. x \\<in>pqs \\<and> - \\<bar>m\\<bar> - 1 \\<le>fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0<snd x \\<and> snd x < n }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. pqs\n    \\<subseteq> {(m, n)} \\<union>\n                {x \\<in> pqs.\n                 - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                 fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                 0 < snd x \\<and> snd x < n}", "proof (rule subsetI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "assume \"x \\<in> pqs\""], ["proof (state)\nthis:\n  x \\<in> pqs\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "define p q where \"p \\<equiv> fst x\" and \"q=snd x\""], ["proof (state)\nthis:\n  p \\<equiv> fst x\n  q = snd x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "have \"q>0\" \"coprime p q\" and pq_less:\"\\<bar>\\<xi> - p / q\\<bar> \n          < 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 < q &&& coprime p q) &&&\n    \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>x\\<in>pqs\\<close>"], ["proof (prove)\nusing this:\n  x \\<in> pqs\n\ngoal (1 subgoal):\n 1. (0 < q &&& coprime p q) &&&\n    \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "unfolding p_def q_def pqs_def"], ["proof (prove)\nusing this:\n  x \\<in> {(p, q).\n           0 < q \\<and>\n           coprime p q \\<and>\n           \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n           < 1 /\n             real_of_int q powr\n             (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))}\n\ngoal (1 subgoal):\n 1. (0 < snd x &&& coprime (fst x) (snd x)) &&&\n    \\<bar>\\<xi> - real_of_int (fst x) / real_of_int (snd x)\\<bar>\n    < 1 /\n      real_of_int (snd x) powr\n      (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  0 < q\n  coprime p q\n  \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "have q_lt_n:\"q<n\" when \"m\\<noteq>p \\<or> n\\<noteq>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. q < n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. q < n", "have \"m * q \\<noteq> n * p\""], ["proof (prove)\ngoal (1 subgoal):\n 1. m * q \\<noteq> n * p", "using that \\<open>coprime m n\\<close> \\<open>coprime p q\\<close> \\<open>q>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> p \\<or> n \\<noteq> q\n  coprime m n\n  coprime p q\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. m * q \\<noteq> n * p", "by (metis eq_rat(1) fst_conv int_one_le_iff_zero_less mult.commute normalize_stable \n                not_one_le_zero quotient_of_Fract snd_conv)"], ["proof (state)\nthis:\n  m * q \\<noteq> n * p\n\ngoal (1 subgoal):\n 1. q < n", "then"], ["proof (chain)\npicking this:\n  m * q \\<noteq> n * p", "have \"1/(n*q) \\<le> \\<bar>m/n - p/q\\<bar>\""], ["proof (prove)\nusing this:\n  m * q \\<noteq> n * p\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (n * q)\n    \\<le> \\<bar>real_of_int m / real_of_int n -\n                real_of_int p / real_of_int q\\<bar>", "using \\<open>q>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  m * q \\<noteq> n * p\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (n * q)\n    \\<le> \\<bar>real_of_int m / real_of_int n -\n                real_of_int p / real_of_int q\\<bar>", "apply (auto simp:field_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>m * q \\<noteq> n * p; 0 < q; 0 < n\\<rbrakk>\n    \\<Longrightarrow> 1 \\<le> \\<bar>real_of_int m * real_of_int q -\n                                    real_of_int n * real_of_int p\\<bar>", "by (metis add_diff_cancel_left' diff_diff_eq2 diff_zero less_irrefl not_le of_int_diff \n                of_int_lessD of_int_mult)"], ["proof (state)\nthis:\n  1 / real_of_int (n * q)\n  \\<le> \\<bar>real_of_int m / real_of_int n -\n              real_of_int p / real_of_int q\\<bar>\n\ngoal (1 subgoal):\n 1. q < n", "also"], ["proof (state)\nthis:\n  1 / real_of_int (n * q)\n  \\<le> \\<bar>real_of_int m / real_of_int n -\n              real_of_int p / real_of_int q\\<bar>\n\ngoal (1 subgoal):\n 1. q < n", "have \"...  < 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using pq_less"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "unfolding \\<xi>_mn"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. q < n", "also"], ["proof (state)\nthis:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. q < n", "have \"... \\<le> 1 / q ^2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "have \"real_of_int (q\\<^sup>2) = q powr 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (q\\<^sup>2) = real_of_int q powr 2", "apply (subst powr_numeral)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> real_of_int q\n 2. real_of_int (q\\<^sup>2) = (real_of_int q)\\<^sup>2", "unfolding power2_eq_square"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 \\<le> real_of_int q\n 2. real_of_int (q * q) = real_of_int q * real_of_int q", "using \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (2 subgoals):\n 1. 0 \\<le> real_of_int q\n 2. real_of_int (q * q) = real_of_int q * real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2) = real_of_int q powr 2\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "also"], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2) = real_of_int q powr 2\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "have \"... \\<le> q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q powr 2\n    \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (rule powr_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 2 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. 1 \\<le> real_of_int q", "using \\<open>q>0\\<close> \\<open>\\<delta>>0\\<close> \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n  0 < \\<delta>\n  0 < \\<epsilon>\n\ngoal (2 subgoals):\n 1. 2 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. 1 \\<le> real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int q powr 2\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "finally"], ["proof (chain)\npicking this:\n  real_of_int (q\\<^sup>2)\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"real_of_int (q\\<^sup>2) \n                          \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  real_of_int (q\\<^sup>2)\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int (q\\<^sup>2)\n    \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2)\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "moreover"], ["proof (state)\nthis:\n  real_of_int (q\\<^sup>2)\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "have \"real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (1 subgoal):\n 1. 0 < real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  0 < real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (q\\<^sup>2)\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  0 < real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (q\\<^sup>2)\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  0 < real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1 / real_of_int (q\\<^sup>2)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1 / real_of_int (q\\<^sup>2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. q < n", "finally"], ["proof (chain)\npicking this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)", "have \" 1 /  (n * q) < 1 / q\\<^sup>2\""], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)", "."], ["proof (state)\nthis:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. q < n", "then"], ["proof (chain)\npicking this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)", "show ?thesis"], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n\ngoal (1 subgoal):\n 1. q < n", "using \\<open>q>0\\<close> \\<open>n>0\\<close>"], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q\\<^sup>2)\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. q < n", "unfolding power2_eq_square"], ["proof (prove)\nusing this:\n  1 / real_of_int (n * q) < 1 / real_of_int (q * q)\n  0 < q\n  0 < n\n\ngoal (1 subgoal):\n 1. q < n", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  q < n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "moreover"], ["proof (state)\nthis:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "have \"- \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\" when \"m\\<noteq>p \\<or> n\\<noteq>q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "define qn where \"qn \\<equiv> q/n\""], ["proof (state)\nthis:\n  qn \\<equiv> real_of_int q / real_of_int n\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"0<qn\" \"qn<1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < qn &&& qn < 1", "unfolding qn_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int q / real_of_int n &&& real_of_int q / real_of_int n < 1", "using q_lt_n[OF \\<open>m\\<noteq>p \\<or> n\\<noteq>q\\<close>] \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  q < n\n  0 < q\n\ngoal (1 subgoal):\n 1. 0 < real_of_int q / real_of_int n &&& real_of_int q / real_of_int n < 1", "by auto"], ["proof (state)\nthis:\n  0 < qn\n  qn < 1\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"\\<bar>m/n - p / q\\<bar> < 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using pq_less"], ["proof (prove)\nusing this:\n  \\<bar>\\<xi> - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "unfolding \\<xi>_mn"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int m / real_of_int n -\n          real_of_int p / real_of_int q\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by simp"], ["proof (state)\nthis:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "then"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"\\<bar>p / q - m/n\\<bar> < 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  \\<bar>real_of_int m / real_of_int n - real_of_int p / real_of_int q\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int p / real_of_int q -\n          real_of_int m / real_of_int n\\<bar>\n    < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by simp"], ["proof (state)\nthis:\n  \\<bar>real_of_int p / real_of_int q - real_of_int m / real_of_int n\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "then"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int p / real_of_int q - real_of_int m / real_of_int n\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \" m/n- 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) \n            < p/q \\<and> p/q < m/n + 1 / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  \\<bar>real_of_int p / real_of_int q - real_of_int m / real_of_int n\\<bar>\n  < 1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int m / real_of_int n -\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    < real_of_int p / real_of_int q \\<and>\n    real_of_int p / real_of_int q\n    < real_of_int m / real_of_int n +\n      1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "unfolding abs_diff_less_iff"], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n -\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n +\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int m / real_of_int n -\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    < real_of_int p / real_of_int q \\<and>\n    real_of_int p / real_of_int q\n    < real_of_int m / real_of_int n +\n      1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  real_of_int m / real_of_int n -\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n +\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "then"], ["proof (chain)\npicking this:\n  real_of_int m / real_of_int n -\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n +\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"qn*m- q / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) < p \n            \\<and> p < qn*m + q / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n -\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n +\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. qn * real_of_int m -\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    < real_of_int p \\<and>\n    real_of_int p\n    < qn * real_of_int m +\n      real_of_int q /\n      real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "unfolding qn_def"], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n -\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n +\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int n * real_of_int m -\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    < real_of_int p \\<and>\n    real_of_int p\n    < real_of_int q / real_of_int n * real_of_int m +\n      real_of_int q /\n      real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  real_of_int m / real_of_int n -\n  1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p / real_of_int q \\<and>\n  real_of_int p / real_of_int q\n  < real_of_int m / real_of_int n +\n    1 / real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q / real_of_int n * real_of_int m -\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    < real_of_int p \\<and>\n    real_of_int p\n    < real_of_int q / real_of_int n * real_of_int m +\n      real_of_int q /\n      real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  qn * real_of_int m -\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "moreover"], ["proof (state)\nthis:\n  qn * real_of_int m -\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"- \\<bar>m\\<bar> - 1 \\<le> qn*m- q / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"- \\<bar>m\\<bar> \\<le> qn*m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "using \\<open>0<qn\\<close> \\<open>qn<1\\<close>"], ["proof (prove)\nusing this:\n  0 < qn\n  qn < 1\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m", "apply (simp add: abs_if)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1\\<rbrakk>\n    \\<Longrightarrow> \\<not> m < 0 \\<longrightarrow>\n                      - real_of_int m \\<le> qn * real_of_int m", "by (smt (verit, best) mult_nonneg_nonneg of_int_nonneg)"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "moreover"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"- 1 \\<le> - q / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"q = q powr 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "by auto"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "also"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"... \\<le>q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q powr 1\n    \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (rule powr_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. 1 \\<le> real_of_int q", "using \\<open>q>0\\<close> \\<open>\\<delta>>0\\<close> \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n  0 < \\<delta>\n  0 < \\<epsilon>\n\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. 1 \\<le> real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int q powr 1\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "finally"], ["proof (chain)\npicking this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"q \\<le> q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int q\n    \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "then"], ["proof (chain)\npicking this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  0 < q\n\ngoal (1 subgoal):\n 1. - 1\n    \\<le> real_of_int (- q) /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  - 1\n  \\<le> real_of_int (- q) /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  - 1\n  \\<le> real_of_int (- q) /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n  - 1\n  \\<le> real_of_int (- q) /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (- \\<bar>m\\<bar>) \\<le> qn * real_of_int m\n  - 1\n  \\<le> real_of_int (- q) /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int (- \\<bar>m\\<bar> - 1)\n    \\<le> qn * real_of_int m -\n          real_of_int q /\n          real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "by auto"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "moreover"], ["proof (state)\nthis:\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "have \"qn*m + q / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) \\<le> \\<bar>m\\<bar> + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "have \"qn*m \\<le> \\<bar>m\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "using \\<open>0<qn\\<close> \\<open>qn<1\\<close>"], ["proof (prove)\nusing this:\n  0 < qn\n  qn < 1\n\ngoal (1 subgoal):\n 1. qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>", "apply (simp add: abs_if mult_left_le_one_le)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 < qn; qn < 1\\<rbrakk>\n    \\<Longrightarrow> m < 0 \\<longrightarrow>\n                      qn * real_of_int m \\<le> - real_of_int m", "by (meson less_eq_real_def mult_pos_neg neg_0_less_iff_less of_int_less_0_iff order_trans)"], ["proof (state)\nthis:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n\ngoal (1 subgoal):\n 1. qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "moreover"], ["proof (state)\nthis:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n\ngoal (1 subgoal):\n 1. qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "have \"q / q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)) \\<le> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "have \"q = q powr 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q = real_of_int q powr 1", "by auto"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "also"], ["proof (state)\nthis:\n  real_of_int q = real_of_int q powr 1\n\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "have \"... \\<le>q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int q powr 1\n    \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "apply (rule powr_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. 1 \\<le> real_of_int q", "using \\<open>q>0\\<close> \\<open>\\<delta>>0\\<close> \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < q\n  0 < \\<delta>\n  0 < \\<epsilon>\n\ngoal (2 subgoals):\n 1. 1 \\<le> 2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\n 2. 1 \\<le> real_of_int q", "by auto"], ["proof (state)\nthis:\n  real_of_int q powr 1\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "finally"], ["proof (chain)\npicking this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "have \"q \\<le> q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\""], ["proof (prove)\nusing this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int q\n    \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "."], ["proof (state)\nthis:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "then"], ["proof (chain)\npicking this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "using \\<open>0 < q\\<close>"], ["proof (prove)\nusing this:\n  real_of_int q\n  \\<le> real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  0 < q\n\ngoal (1 subgoal):\n 1. real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> 1", "by auto"], ["proof (state)\nthis:\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1\n\ngoal (1 subgoal):\n 1. qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "ultimately"], ["proof (chain)\npicking this:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1", "show ?thesis"], ["proof (prove)\nusing this:\n  qn * real_of_int m \\<le> real_of_int \\<bar>m\\<bar>\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> 1\n\ngoal (1 subgoal):\n 1. qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n    \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "by auto"], ["proof (state)\nthis:\n  qn * real_of_int m +\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  qn * real_of_int m +\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "ultimately"], ["proof (chain)\npicking this:\n  qn * real_of_int m -\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  qn * real_of_int m +\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  qn * real_of_int m -\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  < real_of_int p \\<and>\n  real_of_int p\n  < qn * real_of_int m +\n    real_of_int q /\n    real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  real_of_int (- \\<bar>m\\<bar> - 1)\n  \\<le> qn * real_of_int m -\n        real_of_int q /\n        real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  qn * real_of_int m +\n  real_of_int q /\n  real_of_int q powr (2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>))\n  \\<le> real_of_int (\\<bar>m\\<bar> + 1)\n\ngoal (1 subgoal):\n 1. - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "by auto"], ["proof (state)\nthis:\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> pqs \\<Longrightarrow>\n       x \\<in> {(m, n)} \\<union>\n               {x \\<in> pqs.\n                - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n                fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n                0 < snd x \\<and> snd x < n}", "ultimately"], ["proof (chain)\npicking this:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1", "show \"x \\<in> {(m, n)} \\<union> {x \\<in> pqs. - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \n                          \\<and> 0 < snd x \\<and> snd x < n}\""], ["proof (prove)\nusing this:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n\ngoal (1 subgoal):\n 1. x \\<in> {(m, n)} \\<union>\n            {x \\<in> pqs.\n             - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n             fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n             0 < snd x \\<and> snd x < n}", "using \\<open>x \\<in> pqs\\<close> \\<open>q>0\\<close>"], ["proof (prove)\nusing this:\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow> q < n\n  m \\<noteq> p \\<or> n \\<noteq> q \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> p \\<and> p \\<le> \\<bar>m\\<bar> + 1\n  x \\<in> pqs\n  0 < q\n\ngoal (1 subgoal):\n 1. x \\<in> {(m, n)} \\<union>\n            {x \\<in> pqs.\n             - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n             fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n             0 < snd x \\<and> snd x < n}", "unfolding p_def q_def"], ["proof (prove)\nusing this:\n  m \\<noteq> fst x \\<or> n \\<noteq> snd x \\<Longrightarrow> snd x < n\n  m \\<noteq> fst x \\<or> n \\<noteq> snd x \\<Longrightarrow>\n  - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1\n  x \\<in> pqs\n  0 < snd x\n\ngoal (1 subgoal):\n 1. x \\<in> {(m, n)} \\<union>\n            {x \\<in> pqs.\n             - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n             fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n             0 < snd x \\<and> snd x < n}", "by force"], ["proof (state)\nthis:\n  x \\<in> {(m, n)} \\<union>\n          {x \\<in> pqs.\n           - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n           fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "moreover"], ["proof (state)\nthis:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "have \"finite {x. x \\<in>pqs \\<and> - \\<bar>m\\<bar> - 1 \\<le>fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0<snd x \\<and> snd x < n }\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "have \"finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> +1} \\<times> {0<..<n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})", "by blast"], ["proof (state)\nthis:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "moreover"], ["proof (state)\nthis:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "have \"{x. x \\<in>pqs \\<and> - \\<bar>m\\<bar> - 1 \\<le>fst x \\<and> fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0<snd x \\<and> snd x < n } \\<subseteq> \n                ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> +1} \\<times> {0<..<n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {x \\<in> pqs.\n     - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n     fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n    \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}", "by auto"], ["proof (state)\nthis:\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "ultimately"], ["proof (chain)\npicking this:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "using finite_subset"], ["proof (prove)\nusing this:\n  finite ({- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n})\n  {x \\<in> pqs.\n   - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n   fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<subseteq> {- \\<bar>m\\<bar> - 1..\\<bar>m\\<bar> + 1} \\<times> {0<..<n}\n  \\<lbrakk>?A \\<subseteq> ?B; finite ?B\\<rbrakk> \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite\n     {x \\<in> pqs.\n      - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n      fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "by blast"], ["proof (state)\nthis:\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "ultimately"], ["proof (chain)\npicking this:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}", "show ?thesis"], ["proof (prove)\nusing this:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n\ngoal (1 subgoal):\n 1. finite pqs", "using finite_subset"], ["proof (prove)\nusing this:\n  pqs\n  \\<subseteq> {(m, n)} \\<union>\n              {x \\<in> pqs.\n               - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n               fst x \\<le> \\<bar>m\\<bar> + 1 \\<and>\n               0 < snd x \\<and> snd x < n}\n  finite\n   {x \\<in> pqs.\n    - \\<bar>m\\<bar> - 1 \\<le> fst x \\<and>\n    fst x \\<le> \\<bar>m\\<bar> + 1 \\<and> 0 < snd x \\<and> snd x < n}\n  \\<lbrakk>?A \\<subseteq> ?B; finite ?B\\<rbrakk> \\<Longrightarrow> finite ?A\n\ngoal (1 subgoal):\n 1. finite pqs", "by auto"], ["proof (state)\nthis:\n  finite pqs\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "ultimately"], ["proof (chain)\npicking this:\n  infinite pqs\n  \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs", "show ?thesis"], ["proof (prove)\nusing this:\n  infinite pqs\n  \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\n\ngoal (1 subgoal):\n 1. \\<not> algebraic (\\<Sum>k. bb k / aa k)", "apply (fold \\<xi>_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>infinite pqs;\n     \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\\<rbrakk>\n    \\<Longrightarrow> \\<not> algebraic \\<xi>", "using RothsTheorem[rule_format,of \\<xi> \"2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>)\",folded pqs_def] \n      \\<open>\\<delta> >0\\<close> \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  algebraic \\<xi> \\<and>\n  \\<xi> \\<notin> \\<rat> \\<and> infinite pqs \\<Longrightarrow>\n  2 + \\<delta> * \\<epsilon> / (1 + \\<epsilon>) \\<le> 2\n  0 < \\<delta>\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>infinite pqs;\n     \\<xi> \\<in> \\<rat> \\<Longrightarrow> finite pqs\\<rbrakk>\n    \\<Longrightarrow> \\<not> algebraic \\<xi>", "apply (auto simp:divide_simps )"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>infinite pqs; \\<xi> \\<in> \\<rat> \\<Longrightarrow> False;\n     \\<xi> \\<notin> \\<rat> \\<Longrightarrow> \\<delta> * \\<epsilon> \\<le> 0;\n     0 < \\<delta>; 0 < \\<epsilon>; algebraic \\<xi>\\<rbrakk>\n    \\<Longrightarrow> False", "by (meson mult_le_0_iff not_less)"], ["proof (state)\nthis:\n  \\<not> algebraic (\\<Sum>k. bb k / aa k)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection\\<open> Acknowledgements\\<close>"], ["", "text\\<open>A.K.-A. and W.L. were supported by the ERC Advanced Grant ALEXANDRIA (Project 742178)\n funded by the European Research Council and led by Professor Lawrence Paulson\n at the University of Cambridge, UK. Thanks to Iosif Pinelis for his clarification on\nMathOverflow regarding the summmability of the series in @{thm [source] RothsTheorem.HanclRucki2}\n@{url \"https://mathoverflow.net/questions/323069/why-is-this-series-summable\"}\nand to Manuel Eberl for his helpful comments.\\<close>"], ["", "end"]]}