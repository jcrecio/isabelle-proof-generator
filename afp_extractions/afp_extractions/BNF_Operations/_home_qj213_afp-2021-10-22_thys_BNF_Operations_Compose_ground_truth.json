{"file_name": "/home/qj213/afp-2021-10-22/thys/BNF_Operations/Compose.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/BNF_Operations", "problem_names": ["lemma Hset1_alt:\n  \"Hset1 = Union o BNF_Def.collect {image F1set1 o Gset1, image F2set1 o Gset2, image F3set1 o Gset3}\"", "lemma Hset2_alt:\n  \"Hset2 = Union o BNF_Def.collect {image F1set2 o Gset1, image F2set2 o Gset2, image F3set2 o Gset3}\"", "theorem Hmap_id: \"Hmap id id = id\"", "theorem Hmap_comp: \"Hmap (f1 o g1) (f2 o g2) = Hmap f1 f2 o Hmap g1 g2\"", "theorem Hmap_cong: \"\\<lbrakk>\\<And>z. z \\<in> Hset1 x \\<Longrightarrow> f1 z = g1 z; \\<And>z. z \\<in> Hset2 x \\<Longrightarrow> f2 z = g2 z\\<rbrakk> \\<Longrightarrow>\n  Hmap f1 f2 x = Hmap g1 g2 x\"", "theorem Hset1_natural: \"Hset1 o Hmap f1 f2 = image f1 o Hset1\"", "theorem Hset2_natural: \"Hset2 o Hmap f1 f2 = image f2 o Hset2\"", "theorem Hbd_card_order: \"card_order Hbd\"", "theorem Hbd_cinfinite: \"cinfinite Hbd\"", "theorem Hset1_bd: \"|Hset1 (x :: ('p1, 'p2, 'p3, 'p, 'a1, 'a2) H )| \\<le>o\n  (Hbd :: ('p1, 'p2, 'p3, 'p) Hbd_type rel)\"", "theorem Hset2_bd: \"|Hset2 (x :: ('p1, 'p2, 'p3, 'p, 'a1, 'a2) H )| \\<le>o\n  (Hbd :: ('p1, 'p2, 'p3, 'p) Hbd_type rel)\"", "lemma Hin_alt: \"Hin A1 A2 = Gin (F1in A1 A2) (F2in A1 A2) (F3in A1 A2)\"", "lemma Hwit1:\n  \"\\<And>x. x \\<in> Hset1 (Hwit1 b c) \\<Longrightarrow> x = b\"\n  \"\\<And>x. x \\<in> Hset2 (Hwit1 b c) \\<Longrightarrow> x = c\"", "lemma Hwit21:\n  \"\\<And>x. x \\<in> Hset1 (Hwit21 b c) \\<Longrightarrow> x = b\"\n  \"\\<And>x. x \\<in> Hset2 (Hwit21 b c) \\<Longrightarrow> x = c\"", "lemma Hwit22:\n  \"\\<And>x. x \\<in> Hset1 (Hwit22 b c) \\<Longrightarrow> x = b\"\n  \"\\<And>x. x \\<in> Hset2 (Hwit22 b c) \\<Longrightarrow> x = c\"", "lemma Grel_cong: \"\\<lbrakk>R1 = S1; R2 = S2; R3 = S3\\<rbrakk> \\<Longrightarrow> Grel R1 R2 R3 = Grel S1 S2 S3\"", "lemmas Hrel_unfold = trans[OF Hrel_def trans[OF OO_Grp_cong[OF Hin_alt]\n      trans[OF arg_cong2[of _ _ _ _ relcompp, OF trans[OF arg_cong[of _ _ conversep, OF sym[OF G.rel_Grp]] G.rel_conversep[symmetric]] sym[OF G.rel_Grp]]\n        trans[OF G.rel_compp[symmetric] Grel_cong[OF sym[OF F1.rel_compp_Grp] sym[OF F2.rel_compp_Grp] sym[OF F3.rel_compp_Grp]]]]]]"], "translations": [["", "lemma Hset1_alt:\n  \"Hset1 = Union o BNF_Def.collect {image F1set1 o Gset1, image F2set1 o Gset2, image F3set1 o Gset3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hset1 =\n    \\<Union> \\<circ>\n    BNF_Def.collect\n     {(`) F1set1 \\<circ> Gset1, (`) F2set1 \\<circ> Gset2,\n      (`) F3set1 \\<circ> Gset3}", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_set_alt_tac @{context} @{thm G.collect_set_map}\\<close>)"], ["", "lemma Hset2_alt:\n  \"Hset2 = Union o BNF_Def.collect {image F1set2 o Gset1, image F2set2 o Gset2, image F3set2 o Gset3}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hset2 =\n    \\<Union> \\<circ>\n    BNF_Def.collect\n     {(`) F1set2 \\<circ> Gset1, (`) F2set2 \\<circ> Gset2,\n      (`) F3set2 \\<circ> Gset3}", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_set_alt_tac @{context} @{thm G.collect_set_map}\\<close>)"], ["", "abbreviation Hbd where\n  \"Hbd \\<equiv> (bd_F1 +c bd_F2 +c bd_F3) *c bd_G\""], ["", "theorem Hmap_id: \"Hmap id id = id\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hmap id id = id", "unfolding G.map_id0 F1.map_id0 F2.map_id0 F3.map_id0"], ["proof (prove)\ngoal (1 subgoal):\n 1. id = id", ".."], ["", "theorem Hmap_comp: \"Hmap (f1 o g1) (f2 o g2) = Hmap f1 f2 o Hmap g1 g2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hmap (f1 \\<circ> g1) (f2 \\<circ> g2) = Hmap f1 f2 \\<circ> Hmap g1 g2", "unfolding G.map_comp0 F1.map_comp0 F2.map_comp0 F3.map_comp0"], ["proof (prove)\ngoal (1 subgoal):\n 1. Hmap f1 f2 \\<circ> Hmap g1 g2 = Hmap f1 f2 \\<circ> Hmap g1 g2", ".."], ["", "theorem Hmap_cong: \"\\<lbrakk>\\<And>z. z \\<in> Hset1 x \\<Longrightarrow> f1 z = g1 z; \\<And>z. z \\<in> Hset2 x \\<Longrightarrow> f2 z = g2 z\\<rbrakk> \\<Longrightarrow>\n  Hmap f1 f2 x = Hmap g1 g2 x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>z. z \\<in> Hset1 x \\<Longrightarrow> f1 z = g1 z;\n     \\<And>z. z \\<in> Hset2 x \\<Longrightarrow> f2 z = g2 z\\<rbrakk>\n    \\<Longrightarrow> Hmap f1 f2 x = Hmap g1 g2 x", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_map_cong0_tac @{context}\n  [] @{thms Hset1_alt Hset2_alt} @{thm G.map_cong0} @{thms F1.map_cong0 F2.map_cong0 F3.map_cong0}\\<close>)"], ["", "theorem Hset1_natural: \"Hset1 o Hmap f1 f2 = image f1 o Hset1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_set_map0_tac @{context} @{thm refl} @{thm G.map_comp0} @{thm G.map_cong0}\n  @{thm G.collect_set_map} @{thms F1.set_map0(1) F2.set_map0(1) F3.set_map0(1)}\\<close>)"], ["", "theorem Hset2_natural: \"Hset2 o Hmap f1 f2 = image f2 o Hset2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_set_map0_tac @{context} @{thm refl} @{thm G.map_comp0} @{thm G.map_cong0}\n  @{thm G.collect_set_map} @{thms F1.set_map0(2) F2.set_map0(2) F3.set_map0(2)}\\<close>)"], ["", "theorem Hbd_card_order: \"card_order Hbd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card_order Hbd", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_bd_card_order_tac @{context}\n  @{thms F1.bd_card_order F2.bd_card_order F3.bd_card_order} @{thm G.bd_card_order}\\<close>)"], ["", "theorem Hbd_cinfinite: \"cinfinite Hbd\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cinfinite Hbd", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_bd_cinfinite_tac @{context}\n  @{thm F1.bd_cinfinite} @{thm G.bd_cinfinite}\\<close>)"], ["", "theorem Hset1_bd: \"|Hset1 (x :: ('p1, 'p2, 'p3, 'p, 'a1, 'a2) H )| \\<le>o\n  (Hbd :: ('p1, 'p2, 'p3, 'p) Hbd_type rel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. |Hset1 x| \\<le>o Hbd", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_set_bd_tac @{context} @{thm refl} NONE @{thm Hset1_alt}\n      @{thms comp_single_set_bd[OF F1.bd_Card_order F1.set_bd(1) G.set_bd(1)]\n             comp_single_set_bd[OF F2.bd_Card_order F2.set_bd(1) G.set_bd(2)]\n             comp_single_set_bd[OF F3.bd_Card_order F3.set_bd(1) G.set_bd(3)]}\\<close>)"], ["", "theorem Hset2_bd: \"|Hset2 (x :: ('p1, 'p2, 'p3, 'p, 'a1, 'a2) H )| \\<le>o\n  (Hbd :: ('p1, 'p2, 'p3, 'p) Hbd_type rel)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. |Hset2 x| \\<le>o Hbd", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_set_bd_tac @{context} @{thm refl} NONE @{thm Hset2_alt}\n      @{thms comp_single_set_bd[OF F1.bd_Card_order F1.set_bd(2) G.set_bd(1)]\n             comp_single_set_bd[OF F2.bd_Card_order F2.set_bd(2) G.set_bd(2)]\n             comp_single_set_bd[OF F3.bd_Card_order F3.set_bd(2) G.set_bd(3)]}\\<close>)"], ["", "abbreviation Hin where \"Hin A1 A2 \\<equiv> {x. Hset1 x \\<subseteq> A1 \\<and> Hset2 x \\<subseteq> A2}\""], ["", "lemma Hin_alt: \"Hin A1 A2 = Gin (F1in A1 A2) (F2in A1 A2) (F3in A1 A2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Hin A1 A2 = Gin (F1in A1 A2) (F2in A1 A2) (F3in A1 A2)", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_in_alt_tac @{context} @{thms Hset1_alt Hset2_alt}\\<close>)"], ["", "definition Hwit1 where \"Hwit1 b c = wit1_G wit_F1 (wit_F3 b c)\""], ["", "definition Hwit21 where \"Hwit21 b c = wit2_G (wit1_F2 b) (wit_F3 b c)\""], ["", "definition Hwit22 where \"Hwit22 b c = wit2_G (wit2_F2 c) (wit_F3 b c)\""], ["", "lemma Hwit1:\n  \"\\<And>x. x \\<in> Hset1 (Hwit1 b c) \\<Longrightarrow> x = b\"\n  \"\\<And>x. x \\<in> Hset2 (Hwit1 b c) \\<Longrightarrow> x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> Hset1 (Hwit1 b c) \\<Longrightarrow> x = b) &&&\n    (\\<And>x. x \\<in> Hset2 (Hwit1 b c) \\<Longrightarrow> x = c)", "unfolding Hwit1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> Hset1 (wit1_G wit_F1 (wit_F3 b c)) \\<Longrightarrow>\n        x = b) &&&\n    (\\<And>x.\n        x \\<in> Hset2 (wit1_G wit_F1 (wit_F3 b c)) \\<Longrightarrow> x = c)", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_wit_tac @{context} [] @{thms G.wit1 G.wit2}\n  @{thm G.collect_set_map} @{thms F1.wit F2.wit1 F2.wit2 F3.wit}\\<close>)"], ["", "lemma Hwit21:\n  \"\\<And>x. x \\<in> Hset1 (Hwit21 b c) \\<Longrightarrow> x = b\"\n  \"\\<And>x. x \\<in> Hset2 (Hwit21 b c) \\<Longrightarrow> x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> Hset1 (Hwit21 b c) \\<Longrightarrow> x = b) &&&\n    (\\<And>x. x \\<in> Hset2 (Hwit21 b c) \\<Longrightarrow> x = c)", "unfolding Hwit21_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> Hset1 (wit2_G (wit1_F2 b) (wit_F3 b c)) \\<Longrightarrow>\n        x = b) &&&\n    (\\<And>x.\n        x \\<in> Hset2 (wit2_G (wit1_F2 b) (wit_F3 b c)) \\<Longrightarrow>\n        x = c)", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_wit_tac @{context} [] @{thms G.wit1 G.wit2}\n  @{thm G.collect_set_map} @{thms F1.wit F2.wit1 F2.wit2 F3.wit}\\<close>)"], ["", "lemma Hwit22:\n  \"\\<And>x. x \\<in> Hset1 (Hwit22 b c) \\<Longrightarrow> x = b\"\n  \"\\<And>x. x \\<in> Hset2 (Hwit22 b c) \\<Longrightarrow> x = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> Hset1 (Hwit22 b c) \\<Longrightarrow> x = b) &&&\n    (\\<And>x. x \\<in> Hset2 (Hwit22 b c) \\<Longrightarrow> x = c)", "unfolding Hwit22_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>x.\n        x \\<in> Hset1 (wit2_G (wit2_F2 c) (wit_F3 b c)) \\<Longrightarrow>\n        x = b) &&&\n    (\\<And>x.\n        x \\<in> Hset2 (wit2_G (wit2_F2 c) (wit_F3 b c)) \\<Longrightarrow>\n        x = c)", "by (tactic \\<open>BNF_Comp_Tactics.mk_comp_wit_tac @{context} [] @{thms G.wit1 G.wit2}\n  @{thm G.collect_set_map} @{thms F1.wit F2.wit1 F2.wit2 F3.wit}\\<close>)"], ["", "(* Relator structure for H *)"], ["", "lemma Grel_cong: \"\\<lbrakk>R1 = S1; R2 = S2; R3 = S3\\<rbrakk> \\<Longrightarrow> Grel R1 R2 R3 = Grel S1 S2 S3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>R1 = S1; R2 = S2; R3 = S3\\<rbrakk>\n    \\<Longrightarrow> Grel R1 R2 R3 = Grel S1 S2 S3", "by hypsubst (rule refl)"], ["", "definition Hrel where\n  \"Hrel R1 R2 = (BNF_Def.Grp (Hin (Collect (case_prod R1)) (Collect (case_prod R2))) (Hmap fst fst))^--1 OO\n                (BNF_Def.Grp (Hin (Collect (case_prod R1)) (Collect (case_prod R2))) (Hmap snd snd))\""], ["", "lemmas Hrel_unfold = trans[OF Hrel_def trans[OF OO_Grp_cong[OF Hin_alt]\n      trans[OF arg_cong2[of _ _ _ _ relcompp, OF trans[OF arg_cong[of _ _ conversep, OF sym[OF G.rel_Grp]] G.rel_conversep[symmetric]] sym[OF G.rel_Grp]]\n        trans[OF G.rel_compp[symmetric] Grel_cong[OF sym[OF F1.rel_compp_Grp] sym[OF F2.rel_compp_Grp] sym[OF F3.rel_compp_Grp]]]]]]"], ["", "bnf H: \"('p1, 'p2, 'p3, 'p, 'a1, 'a2) H\"\n  map: Hmap\n  sets: Hset1 Hset2\n  bd: \"Hbd :: ('p1, 'p2, 'p3, 'p) Hbd_type rel\"\n  rel: Hrel"], ["proof (prove)\ngoal (11 subgoals):\n 1. Hmap id id = id\n 2. \\<And>f1 f2 g1 g2.\n       Hmap (g1 \\<circ> f1) (g2 \\<circ> f2) = Hmap g1 g2 \\<circ> Hmap f1 f2\n 3. \\<And>x f1 f2 g1 g2.\n       \\<lbrakk>\\<And>z1. z1 \\<in> Hset1 x \\<Longrightarrow> f1 z1 = g1 z1;\n        \\<And>z2. z2 \\<in> Hset2 x \\<Longrightarrow> f2 z2 = g2 z2\\<rbrakk>\n       \\<Longrightarrow> Hmap f1 f2 x = Hmap g1 g2 x\n 4. \\<And>f1 f2. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1\n 5. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 6. card_order Hbd\n 7. cinfinite Hbd\n 8. \\<And>x. |Hset1 x| \\<le>o Hbd\n 9. \\<And>x. |Hset2 x| \\<le>o Hbd\n 10. \\<And>R1 R2 S1 S2.\n        Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\nA total of 11 subgoals...", "apply -"], ["proof (prove)\ngoal (11 subgoals):\n 1. Hmap id id = id\n 2. \\<And>f1 f2 g1 g2.\n       Hmap (g1 \\<circ> f1) (g2 \\<circ> f2) = Hmap g1 g2 \\<circ> Hmap f1 f2\n 3. \\<And>x f1 f2 g1 g2.\n       \\<lbrakk>\\<And>z1. z1 \\<in> Hset1 x \\<Longrightarrow> f1 z1 = g1 z1;\n        \\<And>z2. z2 \\<in> Hset2 x \\<Longrightarrow> f2 z2 = g2 z2\\<rbrakk>\n       \\<Longrightarrow> Hmap f1 f2 x = Hmap g1 g2 x\n 4. \\<And>f1 f2. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1\n 5. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 6. card_order Hbd\n 7. cinfinite Hbd\n 8. \\<And>x. |Hset1 x| \\<le>o Hbd\n 9. \\<And>x. |Hset2 x| \\<le>o Hbd\n 10. \\<And>R1 R2 S1 S2.\n        Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\nA total of 11 subgoals...", "apply (rule Hmap_id)"], ["proof (prove)\ngoal (10 subgoals):\n 1. \\<And>f1 f2 g1 g2.\n       Hmap (g1 \\<circ> f1) (g2 \\<circ> f2) = Hmap g1 g2 \\<circ> Hmap f1 f2\n 2. \\<And>x f1 f2 g1 g2.\n       \\<lbrakk>\\<And>z1. z1 \\<in> Hset1 x \\<Longrightarrow> f1 z1 = g1 z1;\n        \\<And>z2. z2 \\<in> Hset2 x \\<Longrightarrow> f2 z2 = g2 z2\\<rbrakk>\n       \\<Longrightarrow> Hmap f1 f2 x = Hmap g1 g2 x\n 3. \\<And>f1 f2. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1\n 4. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 5. card_order Hbd\n 6. cinfinite Hbd\n 7. \\<And>x. |Hset1 x| \\<le>o Hbd\n 8. \\<And>x. |Hset2 x| \\<le>o Hbd\n 9. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 10. \\<And>R1 R2.\n        Hrel R1 R2 =\n        (\\<lambda>x y.\n            \\<exists>z.\n               (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n                Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n               Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hmap_comp)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>x f1 f2 g1 g2.\n       \\<lbrakk>\\<And>z1. z1 \\<in> Hset1 x \\<Longrightarrow> f1 z1 = g1 z1;\n        \\<And>z2. z2 \\<in> Hset2 x \\<Longrightarrow> f2 z2 = g2 z2\\<rbrakk>\n       \\<Longrightarrow> Hmap f1 f2 x = Hmap g1 g2 x\n 2. \\<And>f1 f2. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1\n 3. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 4. card_order Hbd\n 5. cinfinite Hbd\n 6. \\<And>x. |Hset1 x| \\<le>o Hbd\n 7. \\<And>x. |Hset2 x| \\<le>o Hbd\n 8. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 9. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (erule Hmap_cong)"], ["proof (prove)\ngoal (9 subgoals):\n 1. \\<And>x f1 f2 g1 g2 z1.\n       \\<lbrakk>\\<And>z2. z2 \\<in> Hset2 x \\<Longrightarrow> f2 z2 = g2 z2;\n        z1 \\<in> Hset2 x\\<rbrakk>\n       \\<Longrightarrow> f2 z1 = g2 z1\n 2. \\<And>f1 f2. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1\n 3. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 4. card_order Hbd\n 5. cinfinite Hbd\n 6. \\<And>x. |Hset1 x| \\<le>o Hbd\n 7. \\<And>x. |Hset2 x| \\<le>o Hbd\n 8. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 9. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply assumption"], ["proof (prove)\ngoal (8 subgoals):\n 1. \\<And>f1 f2. Hset1 \\<circ> Hmap f1 f2 = (`) f1 \\<circ> Hset1\n 2. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 3. card_order Hbd\n 4. cinfinite Hbd\n 5. \\<And>x. |Hset1 x| \\<le>o Hbd\n 6. \\<And>x. |Hset2 x| \\<le>o Hbd\n 7. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 8. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hset1_natural)"], ["proof (prove)\ngoal (7 subgoals):\n 1. \\<And>f1 f2. Hset2 \\<circ> Hmap f1 f2 = (`) f2 \\<circ> Hset2\n 2. card_order Hbd\n 3. cinfinite Hbd\n 4. \\<And>x. |Hset1 x| \\<le>o Hbd\n 5. \\<And>x. |Hset2 x| \\<le>o Hbd\n 6. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 7. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hset2_natural)"], ["proof (prove)\ngoal (6 subgoals):\n 1. card_order Hbd\n 2. cinfinite Hbd\n 3. \\<And>x. |Hset1 x| \\<le>o Hbd\n 4. \\<And>x. |Hset2 x| \\<le>o Hbd\n 5. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 6. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hbd_card_order)"], ["proof (prove)\ngoal (5 subgoals):\n 1. cinfinite Hbd\n 2. \\<And>x. |Hset1 x| \\<le>o Hbd\n 3. \\<And>x. |Hset2 x| \\<le>o Hbd\n 4. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 5. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hbd_cinfinite)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x. |Hset1 x| \\<le>o Hbd\n 2. \\<And>x. |Hset2 x| \\<le>o Hbd\n 3. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 4. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hset1_bd)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>x. |Hset2 x| \\<le>o Hbd\n 2. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 3. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hset2_bd)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>R1 R2 S1 S2.\n       Hrel R1 R2 OO Hrel S1 S2 \\<le> Hrel (R1 OO S1) (R2 OO S2)\n 2. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (unfold Hrel_unfold G.rel_compp[symmetric] F1.rel_compp[symmetric] F2.rel_compp[symmetric] F3.rel_compp[symmetric] eq_OO) [1]"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>R1 R2 S1 S2.\n       Grel (F1rel (R1 OO S1) (R2 OO S2)) (F2rel (R1 OO S1) (R2 OO S2))\n        (F3rel (R1 OO S1) (R2 OO S2))\n       \\<le> Grel (F1rel (R1 OO S1) (R2 OO S2))\n              (F2rel (R1 OO S1) (R2 OO S2)) (F3rel (R1 OO S1) (R2 OO S2))\n 2. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule order_refl)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>R1 R2.\n       Hrel R1 R2 =\n       (\\<lambda>x y.\n           \\<exists>z.\n              (Hset1 z \\<subseteq> {(x, y). R1 x y} \\<and>\n               Hset2 z \\<subseteq> {(x, y). R2 x y}) \\<and>\n              Hmap fst fst z = x \\<and> Hmap snd snd z = y)", "apply (rule Hrel_def[unfolded OO_Grp_alt mem_Collect_eq])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "(*<*)"], ["", "end"], ["", "(*>*)"]]}