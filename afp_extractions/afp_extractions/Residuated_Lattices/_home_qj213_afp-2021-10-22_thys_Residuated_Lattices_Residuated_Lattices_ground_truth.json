{"file_name": "/home/qj213/afp-2021-10-22/thys/Residuated_Lattices/Residuated_Lattices.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Residuated_Lattices", "problem_names": ["theorem residuated_pairI [intro]: \n  assumes \"\\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y\"\n  and \"\\<forall>x y. x \\<le> y \\<longrightarrow> g x \\<le> g y\"\n  and \"\\<forall>x. x \\<le> (g o f) x\"\n  and \"\\<forall>x. (f o g) x \\<le> x\"\n  shows \"residuated_pair f g\"", "lemma residual_unique: \"residuated f \\<Longrightarrow> \\<exists>!g. residuated_pair f g\"", "lemma residual_galois: \"residuated f \\<Longrightarrow> f(x) \\<le> y \\<longleftrightarrow> x \\<le> residual f y\"", "lemma residual_galoisI1: \"residuated f \\<Longrightarrow> f(x) \\<le> y \\<Longrightarrow> x \\<le> residual f y\"", "lemma residual_galoisI2: \"residuated f \\<Longrightarrow> x \\<le> residual f y \\<Longrightarrow> f(x) \\<le> y\"", "lemma res_c1: \"residuated f \\<Longrightarrow> x \\<le> residual f (f x)\"", "lemma res_c2: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> residual f (f x) \\<le> residual f (f y)\"", "lemma res_c3: \"residuated f \\<Longrightarrow> residual f (f (residual f (f x))) = residual f (f x)\"", "lemma res_closure: \"residuated f \\<Longrightarrow> closure (residual f o f)\"", "lemma res_i1: \"residuated f \\<Longrightarrow> f (residual f x) \\<le> x\"", "lemma res_i2: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> f (residual f x) \\<le> f (residual f y)\"", "lemma res_i3: \"residuated f \\<Longrightarrow> f (residual f (f (residual f x))) = f (residual f x)\"", "lemma res_interior: \"residuated f \\<Longrightarrow> interior (f o residual f)\"", "lemma res_iso: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> f x \\<le> f y\"", "lemma res_residual_iso: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> residual f x \\<le> residual f y\"", "lemma res_comp1 [simp]: \"residuated f \\<Longrightarrow> f o residual f o f = f\"", "lemma res_comp2 [simp]: \"residuated f \\<Longrightarrow> residual f o f o residual f = residual f\"", "lemma (in semilattice_sup) residuated_sup: \"residuated f \\<Longrightarrow> f (x \\<squnion> y) = f x \\<squnion> f y\"", "lemma (in semilattice_inf) residuated_inf: \"residuated f \\<Longrightarrow> residual f (x \\<sqinter> y) = residual f x \\<sqinter> residual f y\"", "lemma residuated_strict: \"residuated f \\<Longrightarrow> f \\<bottom> = \\<bottom>\"", "lemma res_top: \"residuated f \\<Longrightarrow> residual f \\<top> = \\<top>\"", "lemma residual_eq1: \"residuated f \\<Longrightarrow> residual f y = \\<Squnion> {x. f x \\<le> y}\"", "lemma residual_eq2: \"residuated f \\<Longrightarrow> f x = \\<Sqinter> {y. x \\<le> residual f y}\"", "lemma residuated_Sup: \"residuated f \\<Longrightarrow> f(\\<Squnion> X) = \\<Squnion>{f x | x. x \\<in> X}\"", "lemma residuated_Inf: \"residuated f \\<Longrightarrow> residual f(\\<Sqinter> X) = \\<Sqinter>{residual f x | x. x \\<in> X}\"", "lemma Sup_sup: \"\\<forall>X. f(\\<Squnion> X) = \\<Squnion>{f x | x. x \\<in> X} \\<Longrightarrow> f (x \\<squnion> y) = f x \\<squnion> f y\"", "lemma Sup_residuatedI: \"\\<forall>X. f(\\<Squnion> X) = \\<Squnion>{f x | x. x \\<in> X} \\<Longrightarrow> residuated f\"", "lemma Inf_inf: \"\\<forall>X. f(\\<Sqinter> X) = \\<Sqinter>{f x | x. x \\<in> X} \\<Longrightarrow> f (x \\<sqinter> y) = f x \\<sqinter> f y\"", "lemma Inf_residuatedI: \"\\<forall>X. \\<Sqinter>{g x | x. x \\<in> X} = g (\\<Sqinter> X) \\<Longrightarrow> \\<exists>f. residuated_pair f g\"", "lemma reslI [intro]: \"x \\<cdot> y \\<le> z \\<Longrightarrow> x \\<le> z \\<leftarrow> y\"", "lemma resrI [intro]: \"x \\<cdot> y \\<le> z \\<Longrightarrow> y \\<le> x \\<rightarrow> z\"", "lemma residuated_pair_multl [simp]: \"residuated_pair (\\<lambda>x. x \\<cdot> y) (\\<lambda>x. x \\<leftarrow> y)\"", "lemma residuated_pair_multr [simp]: \"residuated_pair (\\<lambda>y. x \\<cdot> y) (\\<lambda>y. x \\<rightarrow> y)\"", "lemma residuated_multl [simp]: \"residuated (\\<lambda>x. x \\<cdot> y)\"", "lemma residuated_multr [simp]: \"residuated (\\<lambda>y. x \\<cdot> y)\"", "lemma resl_eq [simp]: \"residual (\\<lambda>x. x \\<cdot> y) = (\\<lambda>x. x \\<leftarrow> y)\"", "lemma resr_eq [simp]: \"residual (\\<lambda>y. x \\<cdot> y) = (\\<lambda>y. x \\<rightarrow> y)\"", "lemma res_lc1: \"x \\<le> x \\<cdot> y \\<leftarrow> y\"", "lemma res_lc2: \"x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<leftarrow> z \\<le> y \\<cdot> z \\<leftarrow> z\"", "lemma res_lc3 [simp]: \"(x \\<cdot> y \\<leftarrow> y) \\<cdot> y \\<leftarrow> y = x \\<cdot> y \\<leftarrow> y\"", "lemma res_rc1: \"x \\<le> y \\<rightarrow> y \\<cdot> x\"", "lemma res_rc2: \"x \\<le> y \\<Longrightarrow> z \\<rightarrow> z \\<cdot> x \\<le> z \\<rightarrow> z \\<cdot> y\"", "lemma res_rc3 [simp]: \"y \\<rightarrow> y \\<cdot> (y \\<rightarrow> y \\<cdot> x) = y \\<rightarrow> y \\<cdot> x\"", "lemma res_li1: \"(x \\<leftarrow> y) \\<cdot> y \\<le> x\"", "lemma res_li2: \"x \\<le> y \\<Longrightarrow> (x \\<leftarrow> z) \\<cdot> z \\<le> (y \\<leftarrow> z) \\<cdot> z\"", "lemma res_li3 [simp]: \"((x \\<leftarrow> y) \\<cdot> y \\<leftarrow> y) \\<cdot> y = (x \\<leftarrow> y) \\<cdot> y\"", "lemma res_ri1: \"y \\<cdot> (y \\<rightarrow> x) \\<le> x\"", "lemma res_ri2: \"x \\<le> y \\<Longrightarrow> z \\<cdot> (z \\<rightarrow> x) \\<le> z \\<cdot> (z \\<rightarrow> y)\"", "lemma res_ri3 [simp]: \"y \\<cdot> (y \\<rightarrow> y \\<cdot> (y \\<rightarrow> x)) = y \\<cdot> (y \\<rightarrow> x)\"", "lemma resl_iso: \"x \\<le> y \\<Longrightarrow> x \\<leftarrow> z \\<le> y \\<leftarrow> z\"", "lemma resr_iso: \"x \\<le> y \\<Longrightarrow> z \\<rightarrow> x \\<le> z \\<rightarrow> y\"", "lemma resl_comp1 [simp]: \"(x \\<cdot> y \\<leftarrow> y) \\<cdot> y = x \\<cdot> y\"", "lemma resl_comp2 [simp]: \"(x \\<leftarrow> y) \\<cdot> y \\<leftarrow> y = x \\<leftarrow> y\"", "lemma resr_comp1 [simp]: \"y \\<cdot> (y \\<rightarrow> y \\<cdot> x) = y \\<cdot> x\"", "lemma resr_comp2 [simp]: \"y \\<rightarrow> y \\<cdot> (y \\<rightarrow> x) = y \\<rightarrow> x\"", "lemma resl_antitoner: \"x \\<le> y \\<longrightarrow> z \\<leftarrow> y \\<le> z \\<leftarrow> x\"", "lemma resr_antitonel: \"x \\<le> y \\<longrightarrow> y \\<rightarrow> z \\<le> x \\<rightarrow> z\"", "lemma jipsen1l: \"x \\<le> y \\<leftarrow> (x \\<rightarrow> y)\"", "lemma jipsen1r: \"x \\<le> (y \\<leftarrow> x) \\<rightarrow> y\"", "lemma jipsen2l: \"(y \\<leftarrow> (x \\<rightarrow> y)) \\<rightarrow> y = x \\<rightarrow> y\"", "lemma jipsen2r: \"y \\<leftarrow> ((y \\<leftarrow> x) \\<rightarrow> y) = y \\<leftarrow> x\"", "lemma resl_trans: \"(x \\<leftarrow> y)  \\<cdot>  (y \\<leftarrow> z) \\<le> x \\<leftarrow> z\"", "lemma resr_trans: \"(x \\<rightarrow> y)  \\<cdot>  (y \\<rightarrow> z) \\<le> x \\<rightarrow> z\"", "lemma resr1: \"(x \\<rightarrow> y) \\<cdot> z \\<le> (x \\<rightarrow> y \\<cdot> z)\"", "lemma resr2: \"x \\<rightarrow> y \\<le> z \\<cdot> x \\<rightarrow> z \\<cdot> y\"", "lemma resr3: \"x \\<cdot> y \\<rightarrow> z = y \\<rightarrow> (x \\<rightarrow> z)\"", "lemma resl1: \"z \\<cdot> (x \\<leftarrow> y) \\<le> (z \\<cdot> x \\<leftarrow> y)\"", "lemma resl2: \"x \\<leftarrow> y \\<le> x \\<cdot> z \\<leftarrow> y \\<cdot> z\"", "lemma resl3: \"x \\<leftarrow> y \\<cdot> z = (x \\<leftarrow> z) \\<leftarrow> y\"", "lemma residual_assoc: \"x \\<rightarrow> (y \\<leftarrow> z) = (x \\<rightarrow> y) \\<leftarrow> z\"", "lemma resl_unit: \"x \\<leftarrow> 1 = x\"", "lemma resr_unit: \"1 \\<rightarrow> x = x\"", "lemma mult_one_resl: \"x \\<cdot> (1 \\<leftarrow> y) \\<le> x \\<leftarrow> y\"", "lemma mult_one_resr: \"(x \\<rightarrow> 1) \\<cdot> y \\<le> x \\<rightarrow> y\"", "lemma jipsen3l: \"1 \\<le> x \\<leftarrow> x\"", "lemma jipsen3r: \"1 \\<le> x \\<rightarrow> x\"", "lemma jipsen4l [simp]: \"(x \\<leftarrow> x) \\<cdot> x = x\"", "lemma jipsen4r [simp]: \"x \\<cdot> (x \\<rightarrow> x) = x\"", "lemma jipsen5l [simp]: \"(x \\<leftarrow> x) \\<cdot> (x \\<leftarrow> x) = x \\<leftarrow> x\"", "lemma jipsen5r [simp]: \"(x \\<rightarrow> x) \\<cdot> (x \\<rightarrow> x) = x \\<rightarrow> x\"", "lemma jipsen6l: \"y \\<leftarrow> x \\<le> (y \\<leftarrow> z) \\<leftarrow> (x \\<leftarrow> z)\"", "lemma jipsen6r: \"x \\<rightarrow> y \\<le> (z \\<rightarrow> x) \\<rightarrow> (z \\<rightarrow> y)\"", "lemma jipsen7l: \"y \\<leftarrow> x \\<le> (z \\<leftarrow> y) \\<rightarrow> (z \\<leftarrow> x)\"", "lemma jipsen7r: \"x \\<rightarrow> y \\<le> (x \\<rightarrow> z) \\<leftarrow> (y \\<rightarrow> z)\"", "lemma distl: \"x \\<cdot> (y \\<squnion> z) = x \\<cdot> y \\<squnion> x \\<cdot> z\"", "lemma distr: \"(x \\<squnion> y) \\<cdot> z = x \\<cdot> z \\<squnion> y \\<cdot> z\"", "lemma resl_subdist_var: \"x \\<leftarrow> z \\<le> (x \\<squnion> y) \\<leftarrow> z\"", "lemma resl_subdist: \"(x \\<leftarrow> z) \\<squnion> (y \\<leftarrow> z) \\<le> (x \\<squnion> y) \\<leftarrow> z\"", "lemma resr_subdist_var: \"(x \\<rightarrow> y) \\<le> x \\<rightarrow> (y \\<squnion> z)\"", "lemma resr_subdist: \"(x \\<rightarrow> y) \\<squnion> (x \\<rightarrow> z) \\<le> x \\<rightarrow> (y \\<squnion> z)\"", "lemma resl_superdist_var: \"x \\<leftarrow> (y \\<squnion> z) \\<le> x \\<leftarrow> y\"", "lemma resr_superdist_var: \"(x \\<squnion> y) \\<rightarrow> z \\<le> x \\<rightarrow> z\"", "lemma resl_dist: \"(x \\<sqinter> y) \\<leftarrow> z = (x \\<leftarrow> z) \\<sqinter> (y \\<leftarrow> z)\"", "lemma resr_dist: \"x \\<rightarrow> (y \\<sqinter> z) = (x \\<rightarrow> y) \\<sqinter> (x \\<rightarrow> z)\"", "lemma resl_inf_superdist: \"x \\<leftarrow> y \\<le> x \\<leftarrow> (y \\<sqinter> z)\"", "lemma resr_inf_superdist_var: \"x \\<rightarrow> y \\<le> (x \\<sqinter> z) \\<rightarrow> y\"", "lemma resl_distr: \"z \\<leftarrow> (x \\<squnion> y) = (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\"", "lemma resr_distl: \"(x \\<squnion> y) \\<rightarrow> z = (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\"", "lemma multl_strict [simp]: \"x \\<cdot> \\<bottom> = \\<bottom>\"", "lemma multr_strict [simp]: \"\\<bottom> \\<cdot> x = \\<bottom>\"", "lemma resl_top [simp]: \"\\<top> \\<leftarrow> x = \\<top>\"", "lemma resl_impl [simp]: \"x \\<leftarrow> \\<bottom> = \\<top>\"", "lemma resr_top [simp]: \"x \\<rightarrow> \\<top> = \\<top>\"", "lemma resr_impl [simp]: \"\\<bottom> \\<rightarrow> x = \\<top>\"", "lemma resl_eq_def: \"y \\<leftarrow> x = \\<Squnion> {z. z \\<cdot> x \\<le> y}\"", "lemma resr_eq_def: \"x \\<rightarrow> y = \\<Squnion> {z. x \\<cdot> z \\<le> y}\"", "lemma multl_def: \"x \\<cdot> y = \\<Sqinter> {z. x \\<le> z \\<leftarrow> y}\"", "lemma multr_def: \"x \\<cdot> y = \\<Sqinter> {z. y \\<le> x \\<rightarrow> z}\""], "translations": [["", "theorem residuated_pairI [intro]: \n  assumes \"\\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y\"\n  and \"\\<forall>x y. x \\<le> y \\<longrightarrow> g x \\<le> g y\"\n  and \"\\<forall>x. x \\<le> (g o f) x\"\n  and \"\\<forall>x. (f o g) x \\<le> x\"\n  shows \"residuated_pair f g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated_pair f g", "by (metis assms comp_apply local.order_trans residuated_pair_def antisym)"], ["", "definition residuated :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\" where\n  \"residuated f \\<equiv> \\<exists>g. residuated_pair f g\""], ["", "text \\<open>\n  If a map $f$ is residuated, then its residual $g$ is unique. \n\\<close>"], ["", "lemma residual_unique: \"residuated f \\<Longrightarrow> \\<exists>!g. residuated_pair f g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> \\<exists>!g. residuated_pair f g", "unfolding residuated_def residuated_pair_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n    \\<exists>!g. \\<forall>x y. (f x \\<le> y) = (x \\<le> g y)", "by (metis ext eq_refl order.antisym)"], ["", "text \\<open>\n  Since the residual of a map $f$ is unique, it makes sense to \n  define a residual operator. \n\\<close>"], ["", "definition residual :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> ('a \\<Rightarrow> 'a)\" where\n  \"residual f \\<equiv> THE g. residuated_pair f g\""], ["", "lemma residual_galois: \"residuated f \\<Longrightarrow> f(x) \\<le> y \\<longleftrightarrow> x \\<le> residual f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> (f x \\<le> y) = (x \\<le> residual f y)", "apply (clarsimp simp: residuated_def residuated_pair_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n       (x \\<le> g y) = (x \\<le> residual f y)", "apply (subgoal_tac \"residual f = g\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>g.\n       \\<lbrakk>\\<forall>x y. (f x \\<le> y) = (x \\<le> g y);\n        residual f = g\\<rbrakk>\n       \\<Longrightarrow> (x \\<le> g y) = (x \\<le> residual f y)\n 2. \\<And>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n       residual f = g", "apply (simp_all add: residual_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n       (THE g. residuated_pair f g) = g", "apply (rule the1_equality)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n       \\<exists>!g. residuated_pair f g\n 2. \\<And>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n       residuated_pair f g", "apply (metis residuated_def residuated_pair_def residual_unique)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>g.\n       \\<forall>x y. (f x \\<le> y) = (x \\<le> g y) \\<Longrightarrow>\n       residuated_pair f g", "by (simp add: residuated_pair_def)"], ["", "lemma residual_galoisI1: \"residuated f \\<Longrightarrow> f(x) \\<le> y \\<Longrightarrow> x \\<le> residual f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>residuated f; f x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> x \\<le> residual f y", "by (metis residual_galois)"], ["", "lemma residual_galoisI2: \"residuated f \\<Longrightarrow> x \\<le> residual f y \\<Longrightarrow> f(x) \\<le> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>residuated f; x \\<le> residual f y\\<rbrakk>\n    \\<Longrightarrow> f x \\<le> y", "by (metis residual_galois)"], ["", "text \\<open>\n  A closure operator on a poset is a map that is expansive, isotone and\n  idempotent.\n  The composition of the residual of a function $f$ with $f$ is a closure operator.\n\\<close>"], ["", "definition closure :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\" where\n  \"closure f \\<equiv> (\\<forall>x. x \\<le> f x) \\<and> (\\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y) \\<and> (\\<forall>x. f(f x) = f x)\""], ["", "lemma res_c1: \"residuated f \\<Longrightarrow> x \\<le> residual f (f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> x \\<le> residual f (f x)", "by (metis local.order.refl residual_galois)"], ["", "lemma res_c2: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> residual f (f x) \\<le> residual f (f y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>residuated f; x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> residual f (f x) \\<le> residual f (f y)", "by (metis local.order.refl local.order_trans residual_galois)"], ["", "lemma res_c3: \"residuated f \\<Longrightarrow> residual f (f (residual f (f x))) = residual f (f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f (f (residual f (f x))) = residual f (f x)", "by (metis local.eq_iff local.order_trans res_c1 residual_galois)"], ["", "lemma res_closure: \"residuated f \\<Longrightarrow> closure (residual f o f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> closure (residual f \\<circ> f)", "by (auto simp: closure_def intro: res_c1 res_c2 res_c3)"], ["", "text \\<open>\n  Dually, an interior operator on a poset is a map that is contractive, isotone and\n  idempotent.\n  The composition of $f$ with its residual is an interior operator.\n\\<close>"], ["", "definition interior :: \"('a \\<Rightarrow> 'a) \\<Rightarrow> bool\" where\n  \"interior f \\<equiv> (\\<forall>x. f x \\<le> x) \\<and> (\\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y) \\<and> (\\<forall>x. f(f x) = f x)\""], ["", "lemma res_i1: \"residuated f \\<Longrightarrow> f (residual f x) \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f (residual f x) \\<le> x", "by (metis local.order.refl residual_galois)"], ["", "lemma res_i2: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> f (residual f x) \\<le> f (residual f y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>residuated f; x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> f (residual f x) \\<le> f (residual f y)", "by (metis local.order.refl local.order_trans residual_galois)"], ["", "lemma res_i3: \"residuated f \\<Longrightarrow> f (residual f (f (residual f x))) = f (residual f x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    f (residual f (f (residual f x))) = f (residual f x)", "by (metis local.antisym_conv res_c1 res_c3 res_i1 residual_galois)"], ["", "lemma res_interior: \"residuated f \\<Longrightarrow> interior (f o residual f)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> interior (f \\<circ> residual f)", "by (auto simp: interior_def intro: res_i1 res_i2 res_i3)"], ["", "text \\<open>Next we show a few basic lemmas about residuated maps.\\<close>"], ["", "lemma res_iso: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> f x \\<le> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>residuated f; x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> f x \\<le> f y", "by (metis local.order.trans res_c1 residual_galois)"], ["", "lemma res_residual_iso: \"residuated f \\<Longrightarrow> x \\<le> y \\<Longrightarrow> residual f x \\<le> residual f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>residuated f; x \\<le> y\\<rbrakk>\n    \\<Longrightarrow> residual f x \\<le> residual f y", "by (metis local.order.trans res_i1 residual_galois)"], ["", "lemma res_comp1 [simp]: \"residuated f \\<Longrightarrow> f o residual f o f = f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "assume resf: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "{"], ["proof (state)\nthis:\n  residuated f\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "have \"(f o residual f o f) x = f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<circ> residual f \\<circ> f) x = f x", "by (metis resf comp_apply local.eq_iff res_c1 res_i1 res_iso)"], ["proof (state)\nthis:\n  (f \\<circ> residual f \\<circ> f) x = f x\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "}"], ["proof (state)\nthis:\n  (f \\<circ> residual f \\<circ> f) ?x2 = f ?x2\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<circ> residual f \\<circ> f = f", "thus ?thesis"], ["proof (prove)\nusing this:\n  (f \\<circ> residual f \\<circ> f) ?x2 = f ?x2\n\ngoal (1 subgoal):\n 1. f \\<circ> residual f \\<circ> f = f", "by (metis ext)"], ["proof (state)\nthis:\n  f \\<circ> residual f \\<circ> f = f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma res_comp2 [simp]: \"residuated f \\<Longrightarrow> residual f o f o residual f = residual f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "assume resf: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "{"], ["proof (state)\nthis:\n  residuated f\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "have \"(residual f o f o residual f) x = residual f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (residual f \\<circ> f \\<circ> residual f) x = residual f x", "by (metis resf comp_apply local.eq_iff res_c1 res_i1 res_residual_iso)"], ["proof (state)\nthis:\n  (residual f \\<circ> f \\<circ> residual f) x = residual f x\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "}"], ["proof (state)\nthis:\n  (residual f \\<circ> f \\<circ> residual f) ?x2 = residual f ?x2\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f \\<circ> f \\<circ> residual f = residual f", "thus ?thesis"], ["proof (prove)\nusing this:\n  (residual f \\<circ> f \\<circ> residual f) ?x2 = residual f ?x2\n\ngoal (1 subgoal):\n 1. residual f \\<circ> f \\<circ> residual f = residual f", "by (metis ext)"], ["proof (state)\nthis:\n  residual f \\<circ> f \\<circ> residual f = residual f\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* order *)"], ["", "text \\<open>\n  A residuated function $f$ preserves all existing joins.\n  Dually, its residual preserves all existing meets.\n  We restrict our attention to semilattices, where binary joins or meets exist, and to\n  complete lattices, where arbitrary joins and meets exist.\n\\<close>"], ["", "lemma (in semilattice_sup) residuated_sup: \"residuated f \\<Longrightarrow> f (x \\<squnion> y) = f x \\<squnion> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f (x \\<squnion> y) = f x \\<squnion> f y", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (x \\<squnion> y) \\<le> f x \\<squnion> f y\n 2. residuated f \\<Longrightarrow>\n    f x \\<squnion> f y \\<le> f (x \\<squnion> y)", "assume assm: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (x \\<squnion> y) \\<le> f x \\<squnion> f y\n 2. residuated f \\<Longrightarrow>\n    f x \\<squnion> f y \\<le> f (x \\<squnion> y)", "thus \"f (x \\<squnion> y) \\<le> f x \\<squnion> f y\""], ["proof (prove)\nusing this:\n  residuated f\n\ngoal (1 subgoal):\n 1. f (x \\<squnion> y) \\<le> f x \\<squnion> f y", "by (metis local.residual_galoisI1 local.residual_galoisI2 local.sup.bounded_iff local.sup_ge1 local.sup_ge2)"], ["proof (state)\nthis:\n  f (x \\<squnion> y) \\<le> f x \\<squnion> f y\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    f x \\<squnion> f y \\<le> f (x \\<squnion> y)", "show \"f x \\<squnion> f y \\<le> f (x \\<squnion> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f x \\<squnion> f y \\<le> f (x \\<squnion> y)", "by (metis assm local.res_iso local.sup.bounded_iff local.sup_ge1 local.sup_ge2)"], ["proof (state)\nthis:\n  f x \\<squnion> f y \\<le> f (x \\<squnion> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma (in semilattice_inf) residuated_inf: \"residuated f \\<Longrightarrow> residual f (x \\<sqinter> y) = residual f x \\<sqinter> residual f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f (x \\<sqinter> y) = residual f x \\<sqinter> residual f y", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    residual f (x \\<sqinter> y) \\<le> residual f x \\<sqinter> residual f y\n 2. residuated f \\<Longrightarrow>\n    residual f x \\<sqinter> residual f y \\<le> residual f (x \\<sqinter> y)", "assume assm: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    residual f (x \\<sqinter> y) \\<le> residual f x \\<sqinter> residual f y\n 2. residuated f \\<Longrightarrow>\n    residual f x \\<sqinter> residual f y \\<le> residual f (x \\<sqinter> y)", "thus \"residual f (x \\<sqinter> y) \\<le> residual f x \\<sqinter> residual f y\""], ["proof (prove)\nusing this:\n  residuated f\n\ngoal (1 subgoal):\n 1. residual f (x \\<sqinter> y) \\<le> residual f x \\<sqinter> residual f y", "by (metis local.inf.boundedI local.inf.cobounded1 local.inf.cobounded2 local.res_residual_iso)"], ["proof (state)\nthis:\n  residual f (x \\<sqinter> y) \\<le> residual f x \\<sqinter> residual f y\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f x \\<sqinter> residual f y \\<le> residual f (x \\<sqinter> y)", "show \"residual f x \\<sqinter> residual f y \\<le> residual f (x \\<sqinter> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residual f x \\<sqinter> residual f y \\<le> residual f (x \\<sqinter> y)", "by (metis assm local.inf.bounded_iff local.inf.cobounded1 local.inf.cobounded2 local.residual_galoisI1 local.residual_galoisI2)"], ["proof (state)\nthis:\n  residual f x \\<sqinter> residual f y \\<le> residual f (x \\<sqinter> y)\n\ngoal:\nNo subgoals!", "qed"], ["", "context bounded_lattice begin"], ["", "lemma residuated_strict: \"residuated f \\<Longrightarrow> f \\<bottom> = \\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f \\<bottom> = \\<bottom>", "by (metis local.bot_least local.bot_unique local.res_i1 local.res_iso)"], ["", "lemma res_top: \"residuated f \\<Longrightarrow> residual f \\<top> = \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> residual f \\<top> = \\<top>", "by (metis local.residual_galoisI1 local.top_greatest local.top_unique)"], ["", "end"], ["", "context complete_lattice begin"], ["", "text \\<open>\n  On a complete lattice, a function $f$ is residuated if and only if\n  it preserves arbitrary (possibly infinite) joins.\n  Dually, a function $g$ is a residual of a residuated funtion $f$\n  if and only if $g$ preserver arbitrary meets. \n\\<close>"], ["", "lemma residual_eq1: \"residuated f \\<Longrightarrow> residual f y = \\<Squnion> {x. f x \\<le> y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> residual f y = \\<Squnion>{x. f x \\<le> y}", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    residual f y \\<le> \\<Squnion>{x. f x \\<le> y}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{x. f x \\<le> y} \\<le> residual f y", "assume assm: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    residual f y \\<le> \\<Squnion>{x. f x \\<le> y}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{x. f x \\<le> y} \\<le> residual f y", "thus \"residual f y \\<le> \\<Squnion>{x. f x \\<le> y}\""], ["proof (prove)\nusing this:\n  residuated f\n\ngoal (1 subgoal):\n 1. residual f y \\<le> \\<Squnion>{x. f x \\<le> y}", "by (auto simp: res_i1 intro!: Sup_upper)"], ["proof (state)\nthis:\n  residual f y \\<le> \\<Squnion>{x. f x \\<le> y}\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Squnion>{x. f x \\<le> y} \\<le> residual f y", "show \"\\<Squnion>{x. f x \\<le> y} \\<le> residual f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Squnion>{x. f x \\<le> y} \\<le> residual f y", "by (auto simp: assm intro!: Sup_least residual_galoisI1)"], ["proof (state)\nthis:\n  \\<Squnion>{x. f x \\<le> y} \\<le> residual f y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma residual_eq2: \"residuated f \\<Longrightarrow> f x = \\<Sqinter> {y. x \\<le> residual f y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow> f x = \\<Sqinter>{y. x \\<le> residual f y}", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f x \\<le> \\<Sqinter>{y. x \\<le> residual f y}\n 2. residuated f \\<Longrightarrow>\n    \\<Sqinter>{y. x \\<le> residual f y} \\<le> f x", "assume assm: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f x \\<le> \\<Sqinter>{y. x \\<le> residual f y}\n 2. residuated f \\<Longrightarrow>\n    \\<Sqinter>{y. x \\<le> residual f y} \\<le> f x", "thus \"f x \\<le> \\<Sqinter>{y. x \\<le> residual f y}\""], ["proof (prove)\nusing this:\n  residuated f\n\ngoal (1 subgoal):\n 1. f x \\<le> \\<Sqinter>{y. x \\<le> residual f y}", "by (auto intro: Inf_greatest residual_galoisI2)"], ["proof (state)\nthis:\n  f x \\<le> \\<Sqinter>{y. x \\<le> residual f y}\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{y. x \\<le> residual f y} \\<le> f x", "show \"\\<Sqinter>{y. x \\<le> residual f y} \\<le> f x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sqinter>{y. x \\<le> residual f y} \\<le> f x", "using assm"], ["proof (prove)\nusing this:\n  residuated f\n\ngoal (1 subgoal):\n 1. \\<Sqinter>{y. x \\<le> residual f y} \\<le> f x", "by (auto simp: res_c1 intro!: Inf_lower)"], ["proof (state)\nthis:\n  \\<Sqinter>{y. x \\<le> residual f y} \\<le> f x\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma residuated_Sup: \"residuated f \\<Longrightarrow> f(\\<Squnion> X) = \\<Squnion>{f x | x. x \\<in> X}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X}", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "assume assm: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "obtain y where y_def: \"y = \\<Squnion>{f x |x. x \\<in> X}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        y = \\<Squnion>{f x |x. x \\<in> X} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y = \\<Squnion>{f x |x. x \\<in> X}\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "hence \"\\<forall>x \\<in> X. f x \\<le> y\""], ["proof (prove)\nusing this:\n  y = \\<Squnion>{f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X. f x \\<le> y", "by (auto simp: y_def intro: Sup_upper)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>X. f x \\<le> y\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "hence \"\\<forall>x \\<in> X. x \\<le> residual f y\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X. f x \\<le> y\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X. x \\<le> residual f y", "by (auto simp: assm intro!: residual_galoisI1)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>X. x \\<le> residual f y\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "hence \"\\<Squnion>X \\<le> residual f y\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X. x \\<le> residual f y\n\ngoal (1 subgoal):\n 1. \\<Squnion>X \\<le> residual f y", "by (auto intro: Sup_least)"], ["proof (state)\nthis:\n  \\<Squnion>X \\<le> residual f y\n\ngoal (2 subgoals):\n 1. residuated f \\<Longrightarrow>\n    f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n 2. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "thus \"f(\\<Squnion> X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\""], ["proof (prove)\nusing this:\n  \\<Squnion>X \\<le> residual f y\n\ngoal (1 subgoal):\n 1. f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}", "by (metis y_def assm residual_galoisI2)"], ["proof (state)\nthis:\n  f (\\<Squnion>X) \\<le> \\<Squnion>{f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Squnion>{f x |x. x \\<in> X} \\<le> f (\\<Squnion>X)", "qed (clarsimp intro!: Sup_least res_iso Sup_upper)"], ["", "lemma residuated_Inf: \"residuated f \\<Longrightarrow> residual f(\\<Sqinter> X) = \\<Sqinter>{residual f x | x. x \\<in> X}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    residual f (\\<Sqinter>X) = \\<Sqinter>{residual f x |x. x \\<in> X}", "proof (rule antisym, clarsimp intro!: Inf_greatest res_residual_iso Inf_lower)"], ["proof (state)\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "assume assm: \"residuated f\""], ["proof (state)\nthis:\n  residuated f\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "obtain y where y_def: \"y = \\<Sqinter>{residual f x |x. x \\<in> X}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>y.\n        y = \\<Sqinter>{residual f x |x. x \\<in> X} \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  y = \\<Sqinter>{residual f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "hence \"\\<forall>x \\<in> X. y \\<le> residual f x\""], ["proof (prove)\nusing this:\n  y = \\<Sqinter>{residual f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X. y \\<le> residual f x", "by (auto simp: y_def intro: Inf_lower)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>X. y \\<le> residual f x\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "hence \"\\<forall>x \\<in> X. f y \\<le> x\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X. y \\<le> residual f x\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X. f y \\<le> x", "by (metis assm residual_galoisI2)"], ["proof (state)\nthis:\n  \\<forall>x\\<in>X. f y \\<le> x\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "hence \"f y \\<le> \\<Sqinter> X\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X. f y \\<le> x\n\ngoal (1 subgoal):\n 1. f y \\<le> \\<Sqinter>X", "by (auto intro: Inf_greatest)"], ["proof (state)\nthis:\n  f y \\<le> \\<Sqinter>X\n\ngoal (1 subgoal):\n 1. residuated f \\<Longrightarrow>\n    \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "thus \"\\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)\""], ["proof (prove)\nusing this:\n  f y \\<le> \\<Sqinter>X\n\ngoal (1 subgoal):\n 1. \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)", "by (auto simp: assm y_def intro!: residual_galoisI1)"], ["proof (state)\nthis:\n  \\<Sqinter>{residual f x |x. x \\<in> X} \\<le> residual f (\\<Sqinter>X)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Sup_sup: \"\\<forall>X. f(\\<Squnion> X) = \\<Squnion>{f x | x. x \\<in> X} \\<Longrightarrow> f (x \\<squnion> y) = f x \\<squnion> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X.\n       f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X} \\<Longrightarrow>\n    f (x \\<squnion> y) = f x \\<squnion> f y", "apply (erule_tac x=\"{x, y}\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<Squnion>{x, y}) =\n    \\<Squnion>{f xa |xa. xa \\<in> {x, y}} \\<Longrightarrow>\n    f (x \\<squnion> y) = f x \\<squnion> f y", "by (force intro: Sup_eqI)"], ["", "lemma Sup_residuatedI: \"\\<forall>X. f(\\<Squnion> X) = \\<Squnion>{f x | x. x \\<in> X} \\<Longrightarrow> residuated f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X.\n       f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X} \\<Longrightarrow>\n    residuated f", "proof (unfold residuated_def residuated_pair_def, standard+)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        f x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> ?g y\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> ?g y\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "fix x y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        f x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> ?g y\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> ?g y\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "assume \"f x \\<le> y\""], ["proof (state)\nthis:\n  f x \\<le> y\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        f x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> ?g y\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> ?g y\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "thus \"x \\<le> \\<Squnion>{x. f x \\<le> y}\""], ["proof (prove)\nusing this:\n  f x \\<le> y\n\ngoal (1 subgoal):\n 1. x \\<le> \\<Squnion>{x. f x \\<le> y}", "by (clarsimp intro!: Sup_upper)"], ["proof (state)\nthis:\n  x \\<le> \\<Squnion>{x. f x \\<le> y}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "assume assm: \"\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X}\""], ["proof (state)\nthis:\n  \\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "hence f_iso: \"\\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y\""], ["proof (prove)\nusing this:\n  \\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. \\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y", "using Sup_sup"], ["proof (prove)\nusing this:\n  \\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X}\n  \\<forall>X.\n     ?f (\\<Squnion>X) = \\<Squnion>{?f x |x. x \\<in> X} \\<Longrightarrow>\n  ?f (?x \\<squnion> ?y) = ?f ?x \\<squnion> ?f ?y\n\ngoal (1 subgoal):\n 1. \\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y", "by (auto simp: le_iff_sup)"], ["proof (state)\nthis:\n  \\<forall>x y. x \\<le> y \\<longrightarrow> f x \\<le> f y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "assume \"x \\<le> \\<Squnion>{x. f x \\<le> y}\""], ["proof (state)\nthis:\n  x \\<le> \\<Squnion>{x. f x \\<le> y}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "hence \"f x \\<le> f(\\<Squnion>{x. f x \\<le> y})\""], ["proof (prove)\nusing this:\n  x \\<le> \\<Squnion>{x. f x \\<le> y}\n\ngoal (1 subgoal):\n 1. f x \\<le> f (\\<Squnion>{x. f x \\<le> y})", "by (metis f_iso)"], ["proof (state)\nthis:\n  f x \\<le> f (\\<Squnion>{x. f x \\<le> y})\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "also"], ["proof (state)\nthis:\n  f x \\<le> f (\\<Squnion>{x. f x \\<le> y})\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "have \"... = \\<Squnion>{f x | x . f x \\<le> y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<Squnion>{x. f x \\<le> y}) = \\<Squnion>{f x |x. f x \\<le> y}", "using assm"], ["proof (prove)\nusing this:\n  \\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. f (\\<Squnion>{x. f x \\<le> y}) = \\<Squnion>{f x |x. f x \\<le> y}", "by auto"], ["proof (state)\nthis:\n  f (\\<Squnion>{x. f x \\<le> y}) = \\<Squnion>{f x |x. f x \\<le> y}\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. f (\\<Squnion>X) = \\<Squnion>{f x |x. x \\<in> X};\n        x \\<le> \\<Squnion>{x. f x \\<le> y}\\<rbrakk>\n       \\<Longrightarrow> f x \\<le> y", "finally"], ["proof (chain)\npicking this:\n  f x \\<le> \\<Squnion>{f x |x. f x \\<le> y}", "show \"f x \\<le> y\""], ["proof (prove)\nusing this:\n  f x \\<le> \\<Squnion>{f x |x. f x \\<le> y}\n\ngoal (1 subgoal):\n 1. f x \\<le> y", "apply (rule order_trans)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Squnion>{f x |x. f x \\<le> y} \\<le> y", "by (auto intro!: Sup_least)"], ["proof (state)\nthis:\n  f x \\<le> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Inf_inf: \"\\<forall>X. f(\\<Sqinter> X) = \\<Sqinter>{f x | x. x \\<in> X} \\<Longrightarrow> f (x \\<sqinter> y) = f x \\<sqinter> f y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X.\n       f (\\<Sqinter>X) = \\<Sqinter>{f x |x. x \\<in> X} \\<Longrightarrow>\n    f (x \\<sqinter> y) = f x \\<sqinter> f y", "apply (erule_tac x=\"{x, y}\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. f (\\<Sqinter>{x, y}) =\n    \\<Sqinter>{f xa |xa. xa \\<in> {x, y}} \\<Longrightarrow>\n    f (x \\<sqinter> y) = f x \\<sqinter> f y", "by (force intro: Inf_eqI)"], ["", "lemma Inf_residuatedI: \"\\<forall>X. \\<Sqinter>{g x | x. x \\<in> X} = g (\\<Sqinter> X) \\<Longrightarrow> \\<exists>f. residuated_pair f g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X.\n       \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X) \\<Longrightarrow>\n    \\<exists>f. residuated_pair f g", "proof (unfold residuated_pair_def, standard+)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        ?f x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        x \\<le> g y\\<rbrakk>\n       \\<Longrightarrow> ?f x \\<le> y", "fix x y"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        ?f x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        x \\<le> g y\\<rbrakk>\n       \\<Longrightarrow> ?f x \\<le> y", "assume \"x \\<le> g y\""], ["proof (state)\nthis:\n  x \\<le> g y\n\ngoal (2 subgoals):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        ?f x \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y\n 2. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        x \\<le> g y\\<rbrakk>\n       \\<Longrightarrow> ?f x \\<le> y", "thus \"\\<Sqinter>{y. x \\<le> g y} \\<le> y\""], ["proof (prove)\nusing this:\n  x \\<le> g y\n\ngoal (1 subgoal):\n 1. \\<Sqinter>{y. x \\<le> g y} \\<le> y", "by (clarsimp intro!: Inf_lower)"], ["proof (state)\nthis:\n  \\<Sqinter>{y. x \\<le> g y} \\<le> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "assume assm: \"\\<forall>X. \\<Sqinter>{g x | x. x \\<in> X} = g (\\<Sqinter> X)\""], ["proof (state)\nthis:\n  \\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "hence g_iso: \"\\<forall>x y. x \\<le> y \\<longrightarrow> g x \\<le> g y\""], ["proof (prove)\nusing this:\n  \\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X)\n\ngoal (1 subgoal):\n 1. \\<forall>x y. x \\<le> y \\<longrightarrow> g x \\<le> g y", "using Inf_inf"], ["proof (prove)\nusing this:\n  \\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X)\n  \\<forall>X.\n     ?f (\\<Sqinter>X) = \\<Sqinter>{?f x |x. x \\<in> X} \\<Longrightarrow>\n  ?f (?x \\<sqinter> ?y) = ?f ?x \\<sqinter> ?f ?y\n\ngoal (1 subgoal):\n 1. \\<forall>x y. x \\<le> y \\<longrightarrow> g x \\<le> g y", "by (auto simp: le_iff_inf)"], ["proof (state)\nthis:\n  \\<forall>x y. x \\<le> y \\<longrightarrow> g x \\<le> g y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "assume \"\\<Sqinter>{y. x \\<le> g y} \\<le> y\""], ["proof (state)\nthis:\n  \\<Sqinter>{y. x \\<le> g y} \\<le> y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "hence \"g (\\<Sqinter>{y. x \\<le> g y}) \\<le> g y\""], ["proof (prove)\nusing this:\n  \\<Sqinter>{y. x \\<le> g y} \\<le> y\n\ngoal (1 subgoal):\n 1. g (\\<Sqinter>{y. x \\<le> g y}) \\<le> g y", "by (metis g_iso)"], ["proof (state)\nthis:\n  g (\\<Sqinter>{y. x \\<le> g y}) \\<le> g y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "hence \"(\\<Sqinter>{g y | y. x \\<le> g y}) \\<le> g y\""], ["proof (prove)\nusing this:\n  g (\\<Sqinter>{y. x \\<le> g y}) \\<le> g y\n\ngoal (1 subgoal):\n 1. \\<Sqinter>{g y |y. x \\<le> g y} \\<le> g y", "using assm"], ["proof (prove)\nusing this:\n  g (\\<Sqinter>{y. x \\<le> g y}) \\<le> g y\n  \\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X)\n\ngoal (1 subgoal):\n 1. \\<Sqinter>{g y |y. x \\<le> g y} \\<le> g y", "apply (erule_tac x=\"{y. x \\<le> g y}\" in allE)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>g (\\<Sqinter>{y. x \\<le> g y}) \\<le> g y;\n     \\<Sqinter>{g xa |xa. xa \\<in> {y. x \\<le> g y}} =\n     g (\\<Sqinter>{y. x \\<le> g y})\\<rbrakk>\n    \\<Longrightarrow> \\<Sqinter>{g y |y. x \\<le> g y} \\<le> g y", "by (auto intro!: Inf_lower)"], ["proof (state)\nthis:\n  \\<Sqinter>{g y |y. x \\<le> g y} \\<le> g y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>\\<forall>X. \\<Sqinter>{g x |x. x \\<in> X} = g (\\<Sqinter>X);\n        \\<Sqinter>{y. x \\<le> g y} \\<le> y\\<rbrakk>\n       \\<Longrightarrow> x \\<le> g y", "thus \"x \\<le> g y\""], ["proof (prove)\nusing this:\n  \\<Sqinter>{g y |y. x \\<le> g y} \\<le> g y\n\ngoal (1 subgoal):\n 1. x \\<le> g y", "apply (rule local.dual_order.trans)"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> \\<Sqinter>{g y |y. x \\<le> g y}", "by (auto intro: Inf_greatest)"], ["proof (state)\nthis:\n  x \\<le> g y\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* complete lattices *)"], ["", "subsection \\<open>Residuated Structures\\<close>"], ["", "text \\<open>\n  In this section, we define residuated algebraic structures, starting from the simplest of all,\n  a \\emph{residuated partial ordered groupoid}, to \n  \\emph{residuated l-monoids}, which are residuated \n  lattices where the multiplicative operator forms a monoid.\n\\<close>"], ["", "class pogroupoid = order + times +\n  assumes mult_isor: \"x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<le> y \\<cdot> z\"\n  and mult_isol: \"x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y\""], ["", "text \\<open>\n  A residuated partial ordered groupoid is simply a partial order and a multiplicative groupoid with \n  two extra operators satisfying the residuation laws.\n  It is straighforward to prove that multiplication is compatible with the order,\n  that is, multiplication is isotone.\n  \n  Most of the lemmas below come in pairs; they are related by opposition duality.\n  Formalising this duality is left for future work.\n\\<close>"], ["", "class residual_r_op =\n  fixes residual_r :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a\" (infixr \"\\<rightarrow>\" 60)"], ["", "class residual_l_op =\n  fixes residual_l :: \"'a \\<Rightarrow> 'a \\<Rightarrow> 'a\" (infixl \"\\<leftarrow>\" 60)"], ["", "class residuated_pogroupoid = order + times + residual_l_op + residual_r_op +\n  assumes resl_galois: \"x \\<le> z \\<leftarrow> y \\<longleftrightarrow> x \\<cdot> y \\<le> z\"\n  and resr_galois: \"x \\<cdot> y \\<le> z \\<longleftrightarrow> y \\<le> x \\<rightarrow> z\"\nbegin"], ["", "lemma reslI [intro]: \"x \\<cdot> y \\<le> z \\<Longrightarrow> x \\<le> z \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> z \\<Longrightarrow> x \\<le> z \\<leftarrow> y", "by (metis resl_galois)"], ["", "lemma resrI [intro]: \"x \\<cdot> y \\<le> z \\<Longrightarrow> y \\<le> x \\<rightarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<le> z \\<Longrightarrow> y \\<le> x \\<rightarrow> z", "by (metis resr_galois)"], ["", "lemma residuated_pair_multl [simp]: \"residuated_pair (\\<lambda>x. x \\<cdot> y) (\\<lambda>x. x \\<leftarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated_pair (\\<lambda>x. x \\<cdot> y) (\\<lambda>x. x \\<leftarrow> y)", "by (auto simp: residuated_pair_def resl_galois)"], ["", "lemma residuated_pair_multr [simp]: \"residuated_pair (\\<lambda>y. x \\<cdot> y) (\\<lambda>y. x \\<rightarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated_pair ((\\<cdot>) x) ((\\<rightarrow>) x)", "by (auto simp: residuated_pair_def resr_galois)"], ["", "text \\<open>\n  Multiplication is then obviously residuated.\n\\<close>"], ["", "lemma residuated_multl [simp]: \"residuated (\\<lambda>x. x \\<cdot> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated (\\<lambda>x. x \\<cdot> y)", "by (metis residuated_def residuated_pair_multl)"], ["", "lemma residuated_multr [simp]: \"residuated (\\<lambda>y. x \\<cdot> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residuated ((\\<cdot>) x)", "by (metis residuated_def residuated_pair_multr)"], ["", "lemma resl_eq [simp]: \"residual (\\<lambda>x. x \\<cdot> y) = (\\<lambda>x. x \\<leftarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residual (\\<lambda>x. x \\<cdot> y) = (\\<lambda>x. x \\<leftarrow> y)", "unfolding residual_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE g. residuated_pair (\\<lambda>x. x \\<cdot> y) g) =\n    (\\<lambda>x. x \\<leftarrow> y)", "apply (rule the1_equality)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>!g. residuated_pair (\\<lambda>x. x \\<cdot> y) g\n 2. residuated_pair (\\<lambda>x. x \\<cdot> y) (\\<lambda>x. x \\<leftarrow> y)", "by (auto simp: intro!: residual_unique)"], ["", "lemma resr_eq [simp]: \"residual (\\<lambda>y. x \\<cdot> y) = (\\<lambda>y. x \\<rightarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. residual ((\\<cdot>) x) = (\\<rightarrow>) x", "unfolding residual_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (THE g. residuated_pair ((\\<cdot>) x) g) = (\\<rightarrow>) x", "apply (rule the1_equality)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<exists>!g. residuated_pair ((\\<cdot>) x) g\n 2. residuated_pair ((\\<cdot>) x) ((\\<rightarrow>) x)", "by (auto simp: intro!: residual_unique)"], ["", "text \\<open>\n  Next we prove a few lemmas, all of which are instantiation of more general facts about residuated functions.\n\\<close>"], ["", "lemma res_lc1: \"x \\<le> x \\<cdot> y \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> x \\<cdot> y \\<leftarrow> y", "by auto"], ["", "lemma res_lc2: \"x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<leftarrow> z \\<le> y \\<cdot> z \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow>\n    x \\<cdot> z \\<leftarrow> z \\<le> y \\<cdot> z \\<leftarrow> z", "by (metis local.res_c2 resl_eq residuated_multl)"], ["", "lemma res_lc3 [simp]: \"(x \\<cdot> y \\<leftarrow> y) \\<cdot> y \\<leftarrow> y = x \\<cdot> y \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y \\<leftarrow> y) \\<cdot> y \\<leftarrow> y =\n    x \\<cdot> y \\<leftarrow> y", "by (metis local.res_c3 resl_eq residuated_multl)"], ["", "lemma res_rc1: \"x \\<le> y \\<rightarrow> y \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<rightarrow> y \\<cdot> x", "by auto"], ["", "lemma res_rc2: \"x \\<le> y \\<Longrightarrow> z \\<rightarrow> z \\<cdot> x \\<le> z \\<rightarrow> z \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow>\n    z \\<rightarrow> z \\<cdot> x \\<le> z \\<rightarrow> z \\<cdot> y", "by (metis local.res_c2 resr_eq residuated_multr)"], ["", "lemma res_rc3 [simp]: \"y \\<rightarrow> y \\<cdot> (y \\<rightarrow> y \\<cdot> x) = y \\<rightarrow> y \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<rightarrow> y \\<cdot> (y \\<rightarrow> y \\<cdot> x) =\n    y \\<rightarrow> y \\<cdot> x", "by (metis local.res_c3 resr_eq residuated_multr)"], ["", "lemma res_li1: \"(x \\<leftarrow> y) \\<cdot> y \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<leftarrow> y) \\<cdot> y \\<le> x", "by (metis local.res_i1 resl_eq residuated_multl)"], ["", "lemma res_li2: \"x \\<le> y \\<Longrightarrow> (x \\<leftarrow> z) \\<cdot> z \\<le> (y \\<leftarrow> z) \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow>\n    (x \\<leftarrow> z) \\<cdot> z \\<le> (y \\<leftarrow> z) \\<cdot> z", "by (metis local.res_i2 resl_eq residuated_multl)"], ["", "lemma res_li3 [simp]: \"((x \\<leftarrow> y) \\<cdot> y \\<leftarrow> y) \\<cdot> y = (x \\<leftarrow> y) \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((x \\<leftarrow> y) \\<cdot> y \\<leftarrow> y) \\<cdot> y =\n    (x \\<leftarrow> y) \\<cdot> y", "by (metis local.res_i3 resl_eq residuated_multl)"], ["", "lemma res_ri1: \"y \\<cdot> (y \\<rightarrow> x) \\<le> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> (y \\<rightarrow> x) \\<le> x", "by (metis local.res_i1 resr_eq residuated_multr)"], ["", "lemma res_ri2: \"x \\<le> y \\<Longrightarrow> z \\<cdot> (z \\<rightarrow> x) \\<le> z \\<cdot> (z \\<rightarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow>\n    z \\<cdot> (z \\<rightarrow> x) \\<le> z \\<cdot> (z \\<rightarrow> y)", "by (metis local.res_i2 resr_eq residuated_multr)"], ["", "lemma res_ri3 [simp]: \"y \\<cdot> (y \\<rightarrow> y \\<cdot> (y \\<rightarrow> x)) = y \\<cdot> (y \\<rightarrow> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> (y \\<rightarrow> y \\<cdot> (y \\<rightarrow> x)) =\n    y \\<cdot> (y \\<rightarrow> x)", "by (metis local.res_i3 resr_eq residuated_multr)"], ["", "subclass pogroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.pogroupoid (\\<cdot>) (\\<le>) (<)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y z. x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<le> y \\<cdot> z\n 2. \\<And>x y z. x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y", "fix x y z"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x y z. x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<le> y \\<cdot> z\n 2. \\<And>x y z. x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y", "show \"x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<le> y \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<le> y \\<cdot> z", "by (metis local.res_iso residuated_multl)"], ["proof (state)\nthis:\n  x \\<le> y \\<Longrightarrow> x \\<cdot> z \\<le> y \\<cdot> z\n\ngoal (1 subgoal):\n 1. \\<And>x y z. x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y", "show \"x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y", "by (metis local.res_iso residuated_multr)"], ["proof (state)\nthis:\n  x \\<le> y \\<Longrightarrow> z \\<cdot> x \\<le> z \\<cdot> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resl_iso: \"x \\<le> y \\<Longrightarrow> x \\<leftarrow> z \\<le> y \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow> x \\<leftarrow> z \\<le> y \\<leftarrow> z", "by (metis res_residual_iso resl_eq residuated_multl)"], ["", "lemma resr_iso: \"x \\<le> y \\<Longrightarrow> z \\<rightarrow> x \\<le> z \\<rightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<Longrightarrow> z \\<rightarrow> x \\<le> z \\<rightarrow> y", "by (metis res_residual_iso resr_eq residuated_multr)"], ["", "lemma resl_comp1 [simp]: \"(x \\<cdot> y \\<leftarrow> y) \\<cdot> y = x \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<cdot> y \\<leftarrow> y) \\<cdot> y = x \\<cdot> y", "by (metis local.antisym local.mult_isor res_lc1 res_li1)"], ["", "lemma resl_comp2 [simp]: \"(x \\<leftarrow> y) \\<cdot> y \\<leftarrow> y = x \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<leftarrow> y) \\<cdot> y \\<leftarrow> y = x \\<leftarrow> y", "by (metis local.eq_iff res_lc1 res_li1 resl_iso)"], ["", "lemma resr_comp1 [simp]: \"y \\<cdot> (y \\<rightarrow> y \\<cdot> x) = y \\<cdot> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<cdot> (y \\<rightarrow> y \\<cdot> x) = y \\<cdot> x", "by (metis local.antisym local.mult_isol res_rc1 res_ri1)"], ["", "lemma resr_comp2 [simp]: \"y \\<rightarrow> y \\<cdot> (y \\<rightarrow> x) = y \\<rightarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<rightarrow> y \\<cdot> (y \\<rightarrow> x) = y \\<rightarrow> x", "by (metis local.eq_iff res_rc1 res_ri1 resr_iso)"], ["", "lemma resl_antitoner: \"x \\<le> y \\<longrightarrow> z \\<leftarrow> y \\<le> z \\<leftarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<longrightarrow> z \\<leftarrow> y \\<le> z \\<leftarrow> x", "by (metis local.dual_order.trans local.mult_isol res_li1 reslI)"], ["", "lemma resr_antitonel: \"x \\<le> y \\<longrightarrow> y \\<rightarrow> z \\<le> x \\<rightarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<longrightarrow> y \\<rightarrow> z \\<le> x \\<rightarrow> z", "by (metis local.dual_order.trans local.resl_galois res_ri1 resrI)"], ["", "text \\<open>The following lemmas are taken from Galatos and \\emph{al.}\\<close>"], ["", "lemma jipsen1l: \"x \\<le> y \\<leftarrow> (x \\<rightarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> y \\<leftarrow> (x \\<rightarrow> y)", "by (metis res_ri1 reslI)"], ["", "lemma jipsen1r: \"x \\<le> (y \\<leftarrow> x) \\<rightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<le> (y \\<leftarrow> x) \\<rightarrow> y", "by (metis res_li1 resrI)"], ["", "lemma jipsen2l: \"(y \\<leftarrow> (x \\<rightarrow> y)) \\<rightarrow> y = x \\<rightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (y \\<leftarrow> (x \\<rightarrow> y)) \\<rightarrow> y = x \\<rightarrow> y", "by (metis jipsen1l jipsen1r local.eq_iff local.resr_antitonel)"], ["", "lemma jipsen2r: \"y \\<leftarrow> ((y \\<leftarrow> x) \\<rightarrow> y) = y \\<leftarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<leftarrow> ((y \\<leftarrow> x) \\<rightarrow> y) = y \\<leftarrow> x", "by (metis jipsen1l jipsen1r local.eq_iff local.resl_antitoner)"], ["", "end"], ["", "(* residuated_pogroupoid *)"], ["", "text \\<open>\n  In a residuated partial ordered semigroup, the multiplicative operator is associative.\n\\<close>"], ["", "class residuated_posemigroup = semigroup_mult + residuated_pogroupoid \nbegin"], ["", "lemma resl_trans: \"(x \\<leftarrow> y)  \\<cdot>  (y \\<leftarrow> z) \\<le> x \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<leftarrow> y) \\<cdot> (y \\<leftarrow> z) \\<le> x \\<leftarrow> z", "by (metis local.res_li1 local.resl_antitoner local.resl_galois mult_assoc)"], ["", "lemma resr_trans: \"(x \\<rightarrow> y)  \\<cdot>  (y \\<rightarrow> z) \\<le> x \\<rightarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<rightarrow> y) \\<cdot> (y \\<rightarrow> z) \\<le> x \\<rightarrow> z", "by (metis local.res_ri1 local.resr_antitonel local.resr_galois mult_assoc)"], ["", "lemma resr1: \"(x \\<rightarrow> y) \\<cdot> z \\<le> (x \\<rightarrow> y \\<cdot> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<rightarrow> y) \\<cdot> z \\<le> x \\<rightarrow> y \\<cdot> z", "by (metis local.mult_isor local.res_ri1 local.resrI mult_assoc)"], ["", "lemma resr2: \"x \\<rightarrow> y \\<le> z \\<cdot> x \\<rightarrow> z \\<cdot> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<le> z \\<cdot> x \\<rightarrow> z \\<cdot> y", "by (metis local.mult_isol local.res_ri1 local.resrI mult_assoc)"], ["", "lemma resr3: \"x \\<cdot> y \\<rightarrow> z = y \\<rightarrow> (x \\<rightarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y \\<rightarrow> z = y \\<rightarrow> x \\<rightarrow> z", "by (metis local.eq_iff local.resr_galois mult_assoc)"], ["", "lemma resl1: \"z \\<cdot> (x \\<leftarrow> y) \\<le> (z \\<cdot> x \\<leftarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<cdot> (x \\<leftarrow> y) \\<le> z \\<cdot> x \\<leftarrow> y", "by (metis local.mult_isol local.res_li1 local.reslI mult_assoc)"], ["", "lemma resl2: \"x \\<leftarrow> y \\<le> x \\<cdot> z \\<leftarrow> y \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> y \\<le> x \\<cdot> z \\<leftarrow> y \\<cdot> z", "by (metis local.mult_isor local.res_li1 local.reslI mult_assoc)"], ["", "lemma resl3: \"x \\<leftarrow> y \\<cdot> z = (x \\<leftarrow> z) \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> y \\<cdot> z = x \\<leftarrow> z \\<leftarrow> y", "by (metis local.eq_iff local.resl_galois mult_assoc)"], ["", "lemma residual_assoc: \"x \\<rightarrow> (y \\<leftarrow> z) = (x \\<rightarrow> y) \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<leftarrow> z = x \\<rightarrow> y \\<leftarrow> z", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z\n 2. x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z", "show \"x \\<rightarrow> (y \\<leftarrow> z) \\<le> (x \\<rightarrow> y) \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z", "by (metis local.res_ri1 local.resl_galois local.resr_galois mult_assoc)"], ["proof (state)\nthis:\n  x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z\n\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z", "show \"(x \\<rightarrow> y) \\<leftarrow> z \\<le> x \\<rightarrow> (y \\<leftarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z", "by (metis local.res_li1 local.resl_galois local.resr_galois mult_assoc)"], ["proof (state)\nthis:\n  x \\<rightarrow> y \\<leftarrow> z \\<le> x \\<rightarrow> y \\<leftarrow> z\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* residuated_posemigroup *)"], ["", "text \\<open>\n  In a residuated partially ordered monoid, the multiplicative operator has a unit $1$; that is,\n  its reduct forms a monoid.\n\\<close>"], ["", "class residuated_pomonoid = monoid_mult + residuated_pogroupoid \nbegin"], ["", "subclass residuated_posemigroup"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_posemigroup (\\<cdot>) (\\<le>) (<) (\\<leftarrow>)\n     (\\<rightarrow>)", ".."], ["", "lemma resl_unit: \"x \\<leftarrow> 1 = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> (1::'a) = x", "by (metis local.mult_1_right local.resl_comp1)"], ["", "lemma resr_unit: \"1 \\<rightarrow> x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<rightarrow> x = x", "by (metis local.mult_1_left local.resr_comp1)"], ["", "lemma mult_one_resl: \"x \\<cdot> (1 \\<leftarrow> y) \\<le> x \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> ((1::'a) \\<leftarrow> y) \\<le> x \\<leftarrow> y", "by (metis local.mult_1_right local.resl1)"], ["", "lemma mult_one_resr: \"(x \\<rightarrow> 1) \\<cdot> y \\<le> x \\<rightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<rightarrow> (1::'a)) \\<cdot> y \\<le> x \\<rightarrow> y", "by (metis local.mult_1_left local.resr1)"], ["", "text \\<open>More lemmas from Galatos and \\emph{al.} follow.\\<close>"], ["", "lemma jipsen3l: \"1 \\<le> x \\<leftarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<leftarrow> x", "by (metis local.jipsen1l resr_unit)"], ["", "lemma jipsen3r: \"1 \\<le> x \\<rightarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1::'a) \\<le> x \\<rightarrow> x", "by (metis local.jipsen1r resl_unit)"], ["", "lemma jipsen4l [simp]: \"(x \\<leftarrow> x) \\<cdot> x = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<leftarrow> x) \\<cdot> x = x", "by (metis local.mult_1_left local.resl_comp1)"], ["", "lemma jipsen4r [simp]: \"x \\<cdot> (x \\<rightarrow> x) = x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (x \\<rightarrow> x) = x", "by (metis local.mult_1_right local.resr_comp1)"], ["", "lemma jipsen5l [simp]: \"(x \\<leftarrow> x) \\<cdot> (x \\<leftarrow> x) = x \\<leftarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<leftarrow> x) \\<cdot> (x \\<leftarrow> x) = x \\<leftarrow> x", "by (metis jipsen4l local.resl3)"], ["", "lemma jipsen5r [simp]: \"(x \\<rightarrow> x) \\<cdot> (x \\<rightarrow> x) = x \\<rightarrow> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<rightarrow> x) \\<cdot> (x \\<rightarrow> x) = x \\<rightarrow> x", "by (metis jipsen4r local.resr3)"], ["", "lemma jipsen6l: \"y \\<leftarrow> x \\<le> (y \\<leftarrow> z) \\<leftarrow> (x \\<leftarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<leftarrow> x \\<le> y \\<leftarrow> z \\<leftarrow> (x \\<leftarrow> z)", "by (metis local.resl_galois local.resl_trans)"], ["", "lemma jipsen6r: \"x \\<rightarrow> y \\<le> (z \\<rightarrow> x) \\<rightarrow> (z \\<rightarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y\n    \\<le> (z \\<rightarrow> x) \\<rightarrow> z \\<rightarrow> y", "by (metis local.resr_galois local.resr_trans)"], ["", "lemma jipsen7l: \"y \\<leftarrow> x \\<le> (z \\<leftarrow> y) \\<rightarrow> (z \\<leftarrow> x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<leftarrow> x \\<le> (z \\<leftarrow> y) \\<rightarrow> z \\<leftarrow> x", "by (metis local.resr_galois local.resl_trans)"], ["", "lemma jipsen7r: \"x \\<rightarrow> y \\<le> (x \\<rightarrow> z) \\<leftarrow> (y \\<rightarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y\n    \\<le> x \\<rightarrow> z \\<leftarrow> (y \\<rightarrow> z)", "by (metis local.resl_galois local.resr_trans)"], ["", "end"], ["", "(* residuated_pomonoid *)"], ["", "text \\<open>\n  Residuated partially ordered groupoids can be expanded residuated join semilattice ordered groupoids.\n  They are used as a base for action algebras, which are expansions \n  of Kleene algebras by operations of residuation.\n  Action algebras can be found in the AFP entry for Kleene algebras.\n\\<close>"], ["", "class residuated_sup_lgroupoid = semilattice_sup + residuated_pogroupoid\nbegin"], ["", "lemma distl: \"x \\<cdot> (y \\<squnion> z) = x \\<cdot> y \\<squnion> x \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> (y \\<squnion> z) = x \\<cdot> y \\<squnion> x \\<cdot> z", "by (metis local.residuated_multr local.residuated_sup)"], ["", "lemma distr: \"(x \\<squnion> y) \\<cdot> z = x \\<cdot> z \\<squnion> y \\<cdot> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<squnion> y) \\<cdot> z = x \\<cdot> z \\<squnion> y \\<cdot> z", "by (metis local.residuated_multl local.residuated_sup)"], ["", "lemma resl_subdist_var: \"x \\<leftarrow> z \\<le> (x \\<squnion> y) \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> z \\<le> x \\<squnion> y \\<leftarrow> z", "by (metis local.resl_iso local.sup_ge1)"], ["", "lemma resl_subdist: \"(x \\<leftarrow> z) \\<squnion> (y \\<leftarrow> z) \\<le> (x \\<squnion> y) \\<leftarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<leftarrow> z) \\<squnion> (y \\<leftarrow> z)\n    \\<le> x \\<squnion> y \\<leftarrow> z", "by (metis local.le_sup_iff local.sup_commute resl_subdist_var)"], ["", "lemma resr_subdist_var: \"(x \\<rightarrow> y) \\<le> x \\<rightarrow> (y \\<squnion> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<le> x \\<rightarrow> y \\<squnion> z", "by (metis local.resr_iso local.sup_ge1)"], ["", "lemma resr_subdist: \"(x \\<rightarrow> y) \\<squnion> (x \\<rightarrow> z) \\<le> x \\<rightarrow> (y \\<squnion> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<rightarrow> y) \\<squnion> (x \\<rightarrow> z)\n    \\<le> x \\<rightarrow> y \\<squnion> z", "by (metis sup_commute sup_least resr_subdist_var)"], ["", "lemma resl_superdist_var: \"x \\<leftarrow> (y \\<squnion> z) \\<le> x \\<leftarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> y \\<squnion> z \\<le> x \\<leftarrow> y", "by (metis local.le_sup_iff local.res_li1 local.reslI local.resr_galois)"], ["", "lemma resr_superdist_var: \"(x \\<squnion> y) \\<rightarrow> z \\<le> x \\<rightarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<squnion> y \\<rightarrow> z \\<le> x \\<rightarrow> z", "by (metis local.le_sup_iff local.res_ri1 local.resl_galois local.resrI)"], ["", "end"], ["", "(* residuated_sup_lgroupoid *)"], ["", "text \\<open>\n  Similarly, semigroup and monoid variants can be defined.\n\\<close>"], ["", "class residuated_sup_lsemigroup = semilattice_sup + residuated_posemigroup"], ["", "subclass (in residuated_sup_lsemigroup) residuated_sup_lgroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_sup_lgroupoid (\\<squnion>) (\\<le>) (<) (\\<cdot>)\n     (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_sup_lmonoid = semilattice_sup + residuated_posemigroup"], ["", "subclass (in residuated_sup_lmonoid) residuated_sup_lsemigroup"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_sup_lsemigroup (\\<squnion>) (\\<le>) (<) (\\<cdot>)\n     (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "text \\<open>\n  By lattice duality, we define residuated meet semillatice ordered groupoid.\n\\<close>"], ["", "class residuated_inf_lgroupoid = semilattice_inf + residuated_pogroupoid\nbegin"], ["", "lemma resl_dist: \"(x \\<sqinter> y) \\<leftarrow> z = (x \\<leftarrow> z) \\<sqinter> (y \\<leftarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<sqinter> y \\<leftarrow> z =\n    (x \\<leftarrow> z) \\<sqinter> (y \\<leftarrow> z)", "by (metis local.resl_eq local.residuated_inf local.residuated_multl)"], ["", "lemma resr_dist: \"x \\<rightarrow> (y \\<sqinter> z) = (x \\<rightarrow> y) \\<sqinter> (x \\<rightarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<sqinter> z =\n    (x \\<rightarrow> y) \\<sqinter> (x \\<rightarrow> z)", "by (metis local.resr_eq local.residuated_inf local.residuated_multr)"], ["", "lemma resl_inf_superdist: \"x \\<leftarrow> y \\<le> x \\<leftarrow> (y \\<sqinter> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> y \\<le> x \\<leftarrow> y \\<sqinter> z", "by (metis local.inf_le1 local.resl_antitoner)"], ["", "lemma resr_inf_superdist_var: \"x \\<rightarrow> y \\<le> (x \\<sqinter> z) \\<rightarrow> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y \\<le> x \\<sqinter> z \\<rightarrow> y", "by (metis local.inf_le1 local.resr_antitonel)"], ["", "end"], ["", "(* residuated_inf_lgroupoid *)"], ["", "class residuated_inf_lsemigroup = semilattice_inf + residuated_posemigroup"], ["", "subclass (in residuated_inf_lsemigroup) residuated_inf_lgroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_inf_lgroupoid (\\<sqinter>) (\\<le>) (<) (\\<cdot>)\n     (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_inf_lmonoid = semilattice_inf + residuated_posemigroup"], ["", "subclass (in residuated_inf_lmonoid) residuated_inf_lsemigroup"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_inf_lsemigroup (\\<sqinter>) (\\<le>) (<) (\\<cdot>)\n     (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "text \\<open>\n  Finally, we obtain residuated lattice groupoids. \n\\<close>"], ["", "class residuated_lgroupoid = lattice + residuated_pogroupoid\nbegin"], ["", "subclass residuated_sup_lgroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_sup_lgroupoid (\\<squnion>) (\\<le>) (<) (\\<cdot>)\n     (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "lemma resl_distr: \"z \\<leftarrow> (x \\<squnion> y) = (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<leftarrow> x \\<squnion> y =\n    (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. z \\<leftarrow> x \\<squnion> y\n    \\<le> (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\n 2. (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\n    \\<le> z \\<leftarrow> x \\<squnion> y", "show \"z \\<leftarrow> x \\<squnion> y \\<le> (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. z \\<leftarrow> x \\<squnion> y\n    \\<le> (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)", "by (metis local.inf.bounded_iff local.resl_superdist_var local.sup_commute)"], ["proof (state)\nthis:\n  z \\<leftarrow> x \\<squnion> y\n  \\<le> (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\n\ngoal (1 subgoal):\n 1. (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\n    \\<le> z \\<leftarrow> x \\<squnion> y", "show \"(z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y) \\<le> z \\<leftarrow> x \\<squnion> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\n    \\<le> z \\<leftarrow> x \\<squnion> y", "by (metis local.inf.cobounded1 local.inf.cobounded2 local.resl_galois local.resr_galois local.sup.bounded_iff)"], ["proof (state)\nthis:\n  (z \\<leftarrow> x) \\<sqinter> (z \\<leftarrow> y)\n  \\<le> z \\<leftarrow> x \\<squnion> y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma resr_distl: \"(x \\<squnion> y) \\<rightarrow> z = (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<squnion> y \\<rightarrow> z =\n    (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)", "proof (rule antisym)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<squnion> y \\<rightarrow> z\n    \\<le> (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\n 2. (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\n    \\<le> x \\<squnion> y \\<rightarrow> z", "show \"x \\<squnion> y \\<rightarrow> z \\<le> (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<squnion> y \\<rightarrow> z\n    \\<le> (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)", "by (metis local.inf.bounded_iff local.resr_antitonel local.resr_superdist_var local.sup_ge2)"], ["proof (state)\nthis:\n  x \\<squnion> y \\<rightarrow> z\n  \\<le> (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\n\ngoal (1 subgoal):\n 1. (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\n    \\<le> x \\<squnion> y \\<rightarrow> z", "show \"(x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z) \\<le> x \\<squnion> y \\<rightarrow> z\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\n    \\<le> x \\<squnion> y \\<rightarrow> z", "by (metis local.inf.cobounded1 local.inf.cobounded2 local.resl_galois local.resr_galois local.sup_least)"], ["proof (state)\nthis:\n  (x \\<rightarrow> z) \\<sqinter> (y \\<rightarrow> z)\n  \\<le> x \\<squnion> y \\<rightarrow> z\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* residuated_lgroupoid *)"], ["", "class residuated_lsemigroup = lattice + residuated_sup_lsemigroup"], ["", "subclass (in residuated_lsemigroup) residuated_lgroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_lgroupoid (\\<sqinter>) (\\<le>) (<) (\\<squnion>)\n     (\\<cdot>) (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_lmonoid = lattice + residuated_sup_lmonoid"], ["", "subclass (in residuated_lmonoid) residuated_lsemigroup"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_lsemigroup (\\<sqinter>) (\\<le>) (<) (\\<squnion>)\n     (\\<cdot>) (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_blgroupoid = bounded_lattice + residuated_pogroupoid\nbegin"], ["", "lemma multl_strict [simp]: \"x \\<cdot> \\<bottom> = \\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> \\<bottom> = \\<bottom>", "by (metis local.residuated_multr local.residuated_strict)"], ["", "lemma multr_strict [simp]: \"\\<bottom> \\<cdot> x = \\<bottom>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bottom> \\<cdot> x = \\<bottom>", "by (metis local.residuated_multl local.residuated_strict)"], ["", "lemma resl_top [simp]: \"\\<top> \\<leftarrow> x = \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<top> \\<leftarrow> x = \\<top>", "by (metis local.res_top local.residuated_multl local.resl_eq)"], ["", "lemma resl_impl [simp]: \"x \\<leftarrow> \\<bottom> = \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<leftarrow> \\<bottom> = \\<top>", "by (metis local.resl_comp2 multl_strict resl_top)"], ["", "lemma resr_top [simp]: \"x \\<rightarrow> \\<top> = \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> \\<top> = \\<top>", "by (metis local.resrI local.top_greatest local.top_unique)"], ["", "lemma resr_impl [simp]: \"\\<bottom> \\<rightarrow> x = \\<top>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bottom> \\<rightarrow> x = \\<top>", "by (metis local.resr_comp2 multr_strict resr_top)"], ["", "end"], ["", "(* residuated_blgroupoid *)"], ["", "class residuated_blsemigroup = bounded_lattice + residuated_sup_lsemigroup"], ["", "subclass (in residuated_blsemigroup) residuated_blgroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_blgroupoid (\\<sqinter>) (\\<le>) (<) (\\<squnion>)\n     \\<bottom> \\<top> (\\<cdot>) (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_blmonoid = bounded_lattice + residuated_sup_lmonoid"], ["", "subclass (in residuated_blmonoid) residuated_blsemigroup"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_blsemigroup (\\<sqinter>) (\\<le>) (<) (\\<squnion>)\n     \\<bottom> \\<top> (\\<cdot>) (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_clgroupoid = complete_lattice + residuated_pogroupoid\nbegin"], ["", "lemma resl_eq_def: \"y \\<leftarrow> x = \\<Squnion> {z. z \\<cdot> x \\<le> y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<leftarrow> x = \\<Squnion>{z. z \\<cdot> x \\<le> y}", "by (metis local.residual_eq1 local.residuated_multl local.resl_eq)"], ["", "lemma resr_eq_def: \"x \\<rightarrow> y = \\<Squnion> {z. x \\<cdot> z \\<le> y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<rightarrow> y = \\<Squnion>{z. x \\<cdot> z \\<le> y}", "by (metis local.residual_eq1 local.residuated_multr local.resr_eq)"], ["", "lemma multl_def: \"x \\<cdot> y = \\<Sqinter> {z. x \\<le> z \\<leftarrow> y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}", "have \"\\<Sqinter>{ya. x \\<le> residual (\\<lambda>a. a \\<cdot> y) ya} = \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sqinter>{ya. x \\<le> residual (\\<lambda>a. a \\<cdot> y) ya} =\n    \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}", "by simp"], ["proof (state)\nthis:\n  \\<Sqinter>{ya. x \\<le> residual (\\<lambda>a. a \\<cdot> y) ya} =\n  \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Sqinter>{ya. x \\<le> residual (\\<lambda>a. a \\<cdot> y) ya} =\n  \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}", "by (metis residuated_multl residual_eq2)"], ["proof (state)\nthis:\n  x \\<cdot> y = \\<Sqinter>{z. x \\<le> z \\<leftarrow> y}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma multr_def: \"x \\<cdot> y = \\<Sqinter> {z. y \\<le> x \\<rightarrow> z}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}", "have \"\\<Sqinter>{ya. y \\<le> residual ((\\<cdot>) x) ya} = \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Sqinter>{ya. y \\<le> residual ((\\<cdot>) x) ya} =\n    \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}", "by simp"], ["proof (state)\nthis:\n  \\<Sqinter>{ya. y \\<le> residual ((\\<cdot>) x) ya} =\n  \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<Sqinter>{ya. y \\<le> residual ((\\<cdot>) x) ya} =\n  \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}\n\ngoal (1 subgoal):\n 1. x \\<cdot> y = \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}", "by (metis residuated_multr residual_eq2)"], ["proof (state)\nthis:\n  x \\<cdot> y = \\<Sqinter>{z. y \\<le> x \\<rightarrow> z}\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(* residuated_clgroupoid *)"], ["", "class residuated_clsemigroup = complete_lattice + residuated_sup_lsemigroup"], ["", "subclass (in residuated_clsemigroup) residuated_clgroupoid"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_clgroupoid Inf Sup (\\<sqinter>) (\\<le>) (<)\n     (\\<squnion>) \\<bottom> \\<top> (\\<cdot>) (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "class residuated_clmonoid = complete_lattice + residuated_sup_lmonoid"], ["", "subclass (in residuated_clmonoid) residuated_clsemigroup"], ["proof (prove)\ngoal (1 subgoal):\n 1. class.residuated_clsemigroup Inf Sup (\\<sqinter>) (\\<le>) (<)\n     (\\<squnion>) \\<bottom> \\<top> (\\<cdot>) (\\<leftarrow>) (\\<rightarrow>)", ".."], ["", "end"]]}