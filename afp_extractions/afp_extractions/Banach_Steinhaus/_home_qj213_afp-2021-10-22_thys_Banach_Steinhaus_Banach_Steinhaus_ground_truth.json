{"file_name": "/home/qj213/afp-2021-10-22/thys/Banach_Steinhaus/Banach_Steinhaus.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Banach_Steinhaus", "problem_names": ["lemma linear_plus_norm:\n  includes notation_norm\n  assumes \\<open>linear f\\<close>\n  shows \\<open>\\<parallel>f \\<xi>\\<parallel> \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel> \\<parallel>f (x - \\<xi>)\\<parallel>\\<close>", "lemma onorm_Sup_on_ball:\n  includes notation_norm\n  assumes \\<open>r > 0\\<close>\n  shows \"\\<parallel>f\\<parallel> \\<le> Sup ( (\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` (ball x r) ) / r\"", "lemma onorm_Sup_on_ball':\n  includes notation_norm\n  assumes \\<open>r > 0\\<close> and \\<open>\\<tau> < 1\\<close>\n  shows \\<open>\\<exists>\\<xi>\\<in>ball x r.  \\<tau> * r * \\<parallel>f\\<parallel> \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\\<close>", "theorem banach_steinhaus:\n  fixes f::\\<open>'c \\<Rightarrow> ('a::banach \\<Rightarrow>\\<^sub>L 'b::real_normed_vector)\\<close>\n  assumes \\<open>\\<And>x. bounded (range (\\<lambda>n. (f n) *\\<^sub>v x))\\<close>\n  shows  \\<open>bounded (range f)\\<close>"], "translations": [["", "lemma linear_plus_norm:\n  includes notation_norm\n  assumes \\<open>linear f\\<close>\n  shows \\<open>\\<parallel>f \\<xi>\\<parallel> \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel> \\<parallel>f (x - \\<xi>)\\<parallel>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "text \\<open>\n  Explanation: For arbitrary \\<^term>\\<open>x\\<close> and a linear operator \\<^term>\\<open>f\\<close>,\n  \\<^term>\\<open>norm (f \\<xi>)\\<close> is upper bounded by the maximum of the norms\n  of the shifts of \\<^term>\\<open>f\\<close> (i.e., \\<^term>\\<open>f (x + \\<xi>)\\<close> and \\<^term>\\<open>f (x - \\<xi>)\\<close>).\n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "have \\<open>norm (f \\<xi>) = norm ( (inverse (of_nat 2)) *\\<^sub>R (f (x + \\<xi>) - f (x - \\<xi>)) )\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel> =\n    \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel>", "by (smt add_diff_cancel_left' assms diff_add_cancel diff_diff_add linear_diff midpoint_def \n        midpoint_plus_self of_nat_1 of_nat_add one_add_one scaleR_half_double)"], ["proof (state)\nthis:\n  \\<parallel>f \\<xi>\\<parallel> =\n  \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "also"], ["proof (state)\nthis:\n  \\<parallel>f \\<xi>\\<parallel> =\n  \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "have \\<open>\\<dots> = inverse (of_nat 2) * norm (f (x + \\<xi>) - f (x - \\<xi>))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel> =\n    inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>", "using Real_Vector_Spaces.real_normed_vector_class.norm_scaleR"], ["proof (prove)\nusing this:\n  \\<parallel>?a *\\<^sub>R ?x\\<parallel> =\n  \\<bar>?a\\<bar> * \\<parallel>?x\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel> =\n    inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>", "by simp"], ["proof (state)\nthis:\n  \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel> =\n  inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "also"], ["proof (state)\nthis:\n  \\<parallel>(f (x + \\<xi>) - f (x - \\<xi>)) /\\<^sub>R real 2\\<parallel> =\n  inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "have \\<open>\\<dots> \\<le> inverse (of_nat 2) * (norm (f (x + \\<xi>)) + norm (f (x - \\<xi>)))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>\n    \\<le> inverse (real 2) *\n          (\\<parallel>f (x + \\<xi>)\\<parallel> +\n           \\<parallel>f (x - \\<xi>)\\<parallel>)", "by (simp add: norm_triangle_ineq4)"], ["proof (state)\nthis:\n  inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>\n  \\<le> inverse (real 2) *\n        (\\<parallel>f (x + \\<xi>)\\<parallel> +\n         \\<parallel>f (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "also"], ["proof (state)\nthis:\n  inverse (real 2) * \\<parallel>f (x + \\<xi>) - f (x - \\<xi>)\\<parallel>\n  \\<le> inverse (real 2) *\n        (\\<parallel>f (x + \\<xi>)\\<parallel> +\n         \\<parallel>f (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "have \\<open>\\<dots> \\<le>  max (norm (f (x + \\<xi>))) (norm (f (x - \\<xi>)))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 2) *\n    (\\<parallel>f (x + \\<xi>)\\<parallel> +\n     \\<parallel>f (x - \\<xi>)\\<parallel>)\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "by auto"], ["proof (state)\nthis:\n  inverse (real 2) *\n  (\\<parallel>f (x + \\<xi>)\\<parallel> +\n   \\<parallel>f (x - \\<xi>)\\<parallel>)\n  \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n         \\<parallel>f (x - \\<xi>)\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "finally"], ["proof (chain)\npicking this:\n  \\<parallel>f \\<xi>\\<parallel>\n  \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n         \\<parallel>f (x - \\<xi>)\\<parallel>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<parallel>f \\<xi>\\<parallel>\n  \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n         \\<parallel>f (x - \\<xi>)\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<parallel>f \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n           \\<parallel>f (x - \\<xi>)\\<parallel>", "by blast"], ["proof (state)\nthis:\n  \\<parallel>f \\<xi>\\<parallel>\n  \\<le> max \\<parallel>f (x + \\<xi>)\\<parallel>\n         \\<parallel>f (x - \\<xi>)\\<parallel>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma onorm_Sup_on_ball:\n  includes notation_norm\n  assumes \\<open>r > 0\\<close>\n  shows \"\\<parallel>f\\<parallel> \\<le> Sup ( (\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` (ball x r) ) / r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "text \\<open>\n  Explanation: Let \\<^term>\\<open>f\\<close> be a bounded operator and let \\<^term>\\<open>x\\<close> be a point. For any \\<^term>\\<open>r > 0\\<close>, \n  the operator norm of \\<^term>\\<open>f\\<close> is bounded above by the supremum of $f$ applied to the open ball of \n  radius \\<^term>\\<open>r\\<close> around \\<^term>\\<open>x\\<close>, divided by \\<^term>\\<open>r\\<close>.\n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_3: \\<open>bdd_above ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)", "obtain M where \\<open>\\<And> \\<xi>.  \\<parallel>f *\\<^sub>v \\<xi>\\<parallel> \\<le> M * norm \\<xi>\\<close> and \\<open>M \\<ge> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<lbrakk>\\<And>\\<xi>.\n                    \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n                    \\<le> M * \\<parallel>\\<xi>\\<parallel>;\n         0 \\<le> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using norm_blinfun norm_ge_zero"], ["proof (prove)\nusing this:\n  \\<parallel>?f *\\<^sub>v ?x\\<parallel>\n  \\<le> \\<parallel>?f\\<parallel> * \\<parallel>?x\\<parallel>\n  0 \\<le> \\<parallel>?x\\<parallel>\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        \\<lbrakk>\\<And>\\<xi>.\n                    \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n                    \\<le> M * \\<parallel>\\<xi>\\<parallel>;\n         0 \\<le> M\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> M * \\<parallel>?\\<xi>\\<parallel>\n  0 \\<le> M\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)", "hence \\<open>\\<And> \\<xi>. \\<xi> \\<in> ball 0 r \\<Longrightarrow> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel> \\<le> M * r\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> M * \\<parallel>?\\<xi>\\<parallel>\n  0 \\<le> M\n\ngoal (1 subgoal):\n 1. \\<And>\\<xi>.\n       \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v \\<xi>\\<parallel> \\<le> M * r", "using \\<open>r > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> M * \\<parallel>?\\<xi>\\<parallel>\n  0 \\<le> M\n  0 < r\n\ngoal (1 subgoal):\n 1. \\<And>\\<xi>.\n       \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v \\<xi>\\<parallel> \\<le> M * r", "by (smt mem_ball_0 mult_left_mono)"], ["proof (state)\nthis:\n  ?\\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel> \\<le> M * r\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?\\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel> \\<le> M * r\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)", "by (meson bdd_aboveI2)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_2: \\<open>bdd_above ((\\<lambda> \\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "have \\<open>bdd_above ((\\<lambda> \\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel>) `\n      ball (0::'c) r)", "by auto"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel>) `\n    ball (0::?'c1) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "moreover"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel>) `\n    ball (0::?'c1) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "have \\<open>bdd_above ((\\<lambda> \\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n      ball (0::'a) r)", "using bdd_above_3"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>x. \\<parallel>f *\\<^sub>v x\\<parallel>) ` ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n      ball (0::'a) r)", "by blast"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "ultimately"], ["proof (chain)\npicking this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel>) `\n    ball (0::?'c1) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n    ball (0::'a) r)", "have \\<open>bdd_above ((\\<lambda> \\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel> + \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v x\\<parallel>) `\n    ball (0::?'c1) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          \\<parallel>f *\\<^sub>v x\\<parallel> +\n          \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n      ball (0::'a) r)", "by (rule bdd_above_plus)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        \\<parallel>f *\\<^sub>v x\\<parallel> +\n        \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "then"], ["proof (chain)\npicking this:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        \\<parallel>f *\\<^sub>v x\\<parallel> +\n        \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n    ball (0::'a) r)", "obtain M where \\<open>\\<And> \\<xi>. \\<xi> \\<in> ball 0 r \\<Longrightarrow> \\<parallel>f *\\<^sub>v x\\<parallel> + \\<parallel>f *\\<^sub>v \\<xi>\\<parallel> \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        \\<parallel>f *\\<^sub>v x\\<parallel> +\n        \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        (\\<And>\\<xi>.\n            \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n            \\<parallel>f *\\<^sub>v x\\<parallel> +\n            \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n            \\<le> M) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>x\\<in>(\\<lambda>\\<xi>.\n                        \\<parallel>f *\\<^sub>v x\\<parallel> +\n                        \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) `\n                    ball (0::'a) r.\n        x \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        (\\<And>\\<xi>.\n            \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n            \\<parallel>f *\\<^sub>v x\\<parallel> +\n            \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n            \\<le> M) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (meson image_eqI)"], ["proof (state)\nthis:\n  ?\\<xi>1 \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v x\\<parallel> +\n  \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>\n  \\<le> M\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "moreover"], ["proof (state)\nthis:\n  ?\\<xi>1 \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v x\\<parallel> +\n  \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>\n  \\<le> M\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "have \\<open>\\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<le> \\<parallel>f *\\<^sub>v x\\<parallel> + \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\\<close> for \\<xi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<le> \\<parallel>f *\\<^sub>v x\\<parallel> +\n          \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "by (simp add: blinfun.add_right norm_triangle_ineq)"], ["proof (state)\nthis:\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>1)\\<parallel>\n  \\<le> \\<parallel>f *\\<^sub>v x\\<parallel> +\n        \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "ultimately"], ["proof (chain)\npicking this:\n  ?\\<xi>1 \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v x\\<parallel> +\n  \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>\n  \\<le> M\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>1)\\<parallel>\n  \\<le> \\<parallel>f *\\<^sub>v x\\<parallel> +\n        \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>", "have \\<open>\\<And> \\<xi>. \\<xi> \\<in> ball 0 r \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  ?\\<xi>1 \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v x\\<parallel> +\n  \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>\n  \\<le> M\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>1)\\<parallel>\n  \\<le> \\<parallel>f *\\<^sub>v x\\<parallel> +\n        \\<parallel>f *\\<^sub>v ?\\<xi>1\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<And>\\<xi>.\n       \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<le> M", "by (simp add: blinfun.add_right norm_triangle_le)"], ["proof (state)\nthis:\n  ?\\<xi>1 \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>1)\\<parallel> \\<le> M\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?\\<xi>1 \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>1)\\<parallel> \\<le> M\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by (meson bdd_aboveI2)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_4: \\<open>bdd_above ((\\<lambda> \\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "obtain K where K_def: \\<open>\\<And> \\<xi>. \\<xi> \\<in> ball 0 r \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<le> K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>K.\n        (\\<And>\\<xi>.\n            \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n            \\<le> K) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using  \\<open>bdd_above ((\\<lambda> \\<xi>. norm (f (x + \\<xi>))) ` (ball 0 r))\\<close>"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        (\\<And>\\<xi>.\n            \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n            \\<le> K) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding bdd_above_def"], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>x\\<in>(\\<lambda>\\<xi>.\n                        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n                    ball (0::'a) r.\n        x \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<And>K.\n        (\\<And>\\<xi>.\n            \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n            \\<le> K) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (meson image_eqI)"], ["proof (state)\nthis:\n  ?\\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel> \\<le> K\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "have \\<open>\\<xi> \\<in> ball (0::'a) r \\<Longrightarrow> -\\<xi> \\<in> ball 0 r\\<close> for \\<xi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n    - \\<xi> \\<in> ball (0::'a) r", "by auto"], ["proof (state)\nthis:\n  ?\\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n  - ?\\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?\\<xi> \\<in> ball (0::'a) r \\<Longrightarrow>\n  - ?\\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by (metis K_def ab_group_add_class.ab_diff_conv_add_uminus bdd_aboveI2)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_1: \\<open>bdd_above ((\\<lambda> \\<xi>. max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>  \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "have \\<open>bdd_above ((\\<lambda> \\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "using bdd_above_2"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by blast"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "moreover"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "have \\<open>bdd_above ((\\<lambda> \\<xi>.  \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "using bdd_above_4"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by blast"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "ultimately"], ["proof (chain)\npicking this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)", "show ?thesis"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "unfolding max_def"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          if \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n             \\<le> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n          then \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n          else \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>bdd_above\n              ((\\<lambda>\\<xi>.\n                   \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n               ball (0::'a) r);\n     bdd_above\n      ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n       ball (0::'a) r)\\<rbrakk>\n    \\<Longrightarrow> bdd_above\n                       ((\\<lambda>xa.\n                            \\<parallel>f *\\<^sub>v (x - xa)\\<parallel>) `\n                        (ball (0::'a) r \\<inter>\n                         {\\<xi>.\n                          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n                          \\<le> \\<parallel>f *\\<^sub>v\n     (x - \\<xi>)\\<parallel>}))\n 2. \\<lbrakk>bdd_above\n              ((\\<lambda>\\<xi>.\n                   \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n               ball (0::'a) r);\n     bdd_above\n      ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n       ball (0::'a) r)\\<rbrakk>\n    \\<Longrightarrow> bdd_above\n                       ((\\<lambda>xa.\n                            \\<parallel>f *\\<^sub>v (x + xa)\\<parallel>) `\n                        (ball (0::'a) r \\<inter>\n                         {\\<xi>.\n                          \\<not> \\<parallel>f *\\<^sub>v\n      (x + \\<xi>)\\<parallel>\n                                 \\<le> \\<parallel>f *\\<^sub>v\n            (x - \\<xi>)\\<parallel>}))", "apply (meson bdd_above_Int1 bdd_above_mono image_Int_subset)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>bdd_above\n              ((\\<lambda>\\<xi>.\n                   \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n               ball (0::'a) r);\n     bdd_above\n      ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n       ball (0::'a) r)\\<rbrakk>\n    \\<Longrightarrow> bdd_above\n                       ((\\<lambda>xa.\n                            \\<parallel>f *\\<^sub>v (x + xa)\\<parallel>) `\n                        (ball (0::'a) r \\<inter>\n                         {\\<xi>.\n                          \\<not> \\<parallel>f *\\<^sub>v\n      (x + \\<xi>)\\<parallel>\n                                 \\<le> \\<parallel>f *\\<^sub>v\n            (x - \\<xi>)\\<parallel>}))", "by (meson bdd_above_Int1 bdd_above_mono image_Int_subset)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_6: \\<open>bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "have \\<open>bounded (ball x r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (ball x r)", "by simp"], ["proof (state)\nthis:\n  bounded (ball x r)\n\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "hence \\<open>bounded ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)\\<close>"], ["proof (prove)\nusing this:\n  bounded (ball x r)\n\ngoal (1 subgoal):\n 1. bounded ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "by (metis (no_types) add.left_neutral bdd_above_2 bdd_above_norm bounded_norm_comp \n          image_add_ball image_image)"], ["proof (state)\nthis:\n  bounded ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)\n\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "thus ?thesis"], ["proof (prove)\nusing this:\n  bounded ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)\n\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "by (simp add: bounded_imp_bdd_above)"], ["proof (state)\nthis:\n  bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have norm_1: \\<open>(\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` ball 0 r = (\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r =\n    (\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r", "by (metis add.right_neutral ball_translation image_image)"], ["proof (state)\nthis:\n  (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n  ball (0::'a) r =\n  (\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_5: \\<open>bdd_above ((\\<lambda>\\<xi>. norm (f (x + \\<xi>))) ` ball 0 r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by (simp add: bdd_above_2)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have norm_2: \\<open>\\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel> \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` ball 0 r\\<close> for \\<xi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "assume \\<open>\\<parallel>\\<xi>\\<parallel> < r\\<close>"], ["proof (state)\nthis:\n  \\<parallel>\\<xi>\\<parallel> < r\n\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "hence \\<open>\\<xi> \\<in> ball (0::'a) r\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>\\<xi>\\<parallel> < r\n\ngoal (1 subgoal):\n 1. \\<xi> \\<in> ball (0::'a) r", "by auto"], ["proof (state)\nthis:\n  \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "hence \\<open>-\\<xi> \\<in> ball (0::'a) r\\<close>"], ["proof (prove)\nusing this:\n  \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. - \\<xi> \\<in> ball (0::'a) r", "by auto"], ["proof (state)\nthis:\n  - \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "thus ?thesis"], ["proof (prove)\nusing this:\n  - \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "by (metis (no_types, lifting) ab_group_add_class.ab_diff_conv_add_uminus image_iff)"], ["proof (state)\nthis:\n  \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<parallel>?\\<xi>\\<parallel> < r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have norm_2': \\<open>\\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` ball 0 r\\<close> for \\<xi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "assume \\<open>norm \\<xi> < r\\<close>"], ["proof (state)\nthis:\n  \\<parallel>\\<xi>\\<parallel> < r\n\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "hence \\<open>\\<xi> \\<in> ball (0::'a) r\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>\\<xi>\\<parallel> < r\n\ngoal (1 subgoal):\n 1. \\<xi> \\<in> ball (0::'a) r", "by auto"], ["proof (state)\nthis:\n  \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "hence \\<open>-\\<xi> \\<in> ball (0::'a) r\\<close>"], ["proof (prove)\nusing this:\n  \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. - \\<xi> \\<in> ball (0::'a) r", "by auto"], ["proof (state)\nthis:\n  - \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "thus ?thesis"], ["proof (prove)\nusing this:\n  - \\<xi> \\<in> ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "by (metis (no_types, lifting) diff_minus_eq_add image_iff)"], ["proof (state)\nthis:\n  \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<parallel>?\\<xi>\\<parallel> < r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have bdd_above_6: \\<open>bdd_above ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` ball 0 r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by (simp add: bdd_above_4)"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have Sup_2: \\<open>(SUP \\<xi>\\<in>ball 0 r. max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n                 max (SUP \\<xi>\\<in>ball 0 r. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) (SUP \\<xi>\\<in>ball 0 r. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "have \\<open>ball (0::'a) r \\<noteq> {}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. ball (0::'a) r \\<noteq> {}", "using \\<open>r > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < r\n\ngoal (1 subgoal):\n 1. ball (0::'a) r \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  ball (0::'a) r \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "moreover"], ["proof (state)\nthis:\n  ball (0::'a) r \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "have \\<open>bdd_above ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` ball 0 r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "using bdd_above_5"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by blast"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "moreover"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "have \\<open>bdd_above ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` ball 0 r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "using bdd_above_6"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by blast"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "ultimately"], ["proof (chain)\npicking this:\n  ball (0::'a) r \\<noteq> {}\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)", "show ?thesis"], ["proof (prove)\nusing this:\n  ball (0::'a) r \\<noteq> {}\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "using max_Sup"], ["proof (prove)\nusing this:\n  ball (0::'a) r \\<noteq> {}\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  bdd_above\n   ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  \\<lbrakk>?X \\<noteq> {}; bdd_above (?f ` ?X); bdd_above (?g ` ?X)\\<rbrakk>\n  \\<Longrightarrow> Sup (pointwise_max ?f ?g ` ?X) =\n                    max (Sup (?f ` ?X)) (Sup (?g ` ?X))\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "by (metis (mono_tags, lifting) Banach_Steinhaus_Missing.pointwise_max_def image_cong)"], ["proof (state)\nthis:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have Sup_3': \\<open>\\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` ball 0 r\\<close> for \\<xi>::'a"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "by (simp add: norm_2')"], ["proof (state)\nthis:\n  \\<parallel>?\\<xi>\\<parallel> < r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have Sup_3'': \\<open>\\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel> \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` ball 0 r\\<close> for \\<xi>::'a"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n    \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n    \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n          ball (0::'a) r", "by (simp add: norm_2)"], ["proof (state)\nthis:\n  \\<parallel>?\\<xi>\\<parallel> < r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have Sup_3: \\<open>max (SUP \\<xi>\\<in>ball 0 r. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) (SUP \\<xi>\\<in>ball 0 r.  \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n        (SUP \\<xi>\\<in>ball 0 r. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "have \\<open>(\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` (ball 0 r) = (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n    ball (0::'a) r =\n    (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>\\<xi>.\n       \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<in> (\\<lambda>\\<xi>.\n                 \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n             ball (0::'a) r\n 2. \\<And>\\<xi>.\n       \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n       \\<in> (\\<lambda>\\<xi>.\n                 \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n             ball (0::'a) r", "using Sup_3'"], ["proof (prove)\nusing this:\n  \\<parallel>?\\<xi>\\<parallel> < r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal (2 subgoals):\n 1. \\<And>\\<xi>.\n       \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<in> (\\<lambda>\\<xi>.\n                 \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n             ball (0::'a) r\n 2. \\<And>\\<xi>.\n       \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n       \\<in> (\\<lambda>\\<xi>.\n                 \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n             ball (0::'a) r", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>\\<xi>.\n       \\<lbrakk>\\<parallel>\\<xi>\\<parallel> < r;\n        \\<And>\\<xi>.\n           \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n           \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<in> (\\<lambda>\\<xi>.\n                     \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n                 ball (0::'a) r\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n                         \\<in> (\\<lambda>\\<xi>.\n                                   \\<parallel>f *\\<^sub>v\n        (x + \\<xi>)\\<parallel>) `\n                               ball (0::'a) r", "using Sup_3''"], ["proof (prove)\nusing this:\n  \\<parallel>?\\<xi>\\<parallel> < r \\<Longrightarrow>\n  \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n  \\<in> (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n        ball (0::'a) r\n\ngoal (1 subgoal):\n 1. \\<And>\\<xi>.\n       \\<lbrakk>\\<parallel>\\<xi>\\<parallel> < r;\n        \\<And>\\<xi>.\n           \\<parallel>\\<xi>\\<parallel> < r \\<Longrightarrow>\n           \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<in> (\\<lambda>\\<xi>.\n                     \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n                 ball (0::'a) r\\<rbrakk>\n       \\<Longrightarrow> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\n                         \\<in> (\\<lambda>\\<xi>.\n                                   \\<parallel>f *\\<^sub>v\n        (x + \\<xi>)\\<parallel>) `\n                               ball (0::'a) r", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n  ball (0::'a) r =\n  (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n  ball (0::'a) r\n\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "hence \\<open>Sup ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` (ball 0 r))=Sup ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\nusing this:\n  (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) `\n  ball (0::'a) r =\n  (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n  ball (0::'a) r\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "by simp"], ["proof (state)\nthis:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "by simp"], ["proof (state)\nthis:\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have Sup_1: \\<open>Sup ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` (ball 0 r)) \\<le> Sup ( (\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) ` (ball x r) )\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "have \\<open>(\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) \\<xi> \\<le> max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>\\<close> for \\<xi>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n    \\<le> max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>", "apply(rule linear_plus_norm)"], ["proof (prove)\ngoal (1 subgoal):\n 1. linear ((*\\<^sub>v) f)", "apply (rule bounded_linear.linear)"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear ((*\\<^sub>v) f)", "by (simp add: blinfun.bounded_linear_right)"], ["proof (state)\nthis:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> max \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "moreover"], ["proof (state)\nthis:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> max \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "have \\<open>bdd_above ((\\<lambda> \\<xi>. max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>  \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "using bdd_above_1"], ["proof (prove)\nusing this:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. bdd_above\n     ((\\<lambda>\\<xi>.\n          max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n           \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n      ball (0::'a) r)", "by blast"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "moreover"], ["proof (state)\nthis:\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "have \\<open>ball (0::'a) r \\<noteq> {}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. ball (0::'a) r \\<noteq> {}", "using \\<open>r > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < r\n\ngoal (1 subgoal):\n 1. ball (0::'a) r \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  ball (0::'a) r \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "ultimately"], ["proof (chain)\npicking this:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> max \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  ball (0::'a) r \\<noteq> {}", "have \\<open>Sup ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` (ball 0 r)) \\<le>\n                     Sup ((\\<lambda>\\<xi>. max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel> \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> max \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  ball (0::'a) r \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball (0::'a) r.\n              max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n               \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "using cSUP_mono"], ["proof (prove)\nusing this:\n  \\<parallel>f *\\<^sub>v ?\\<xi>\\<parallel>\n  \\<le> max \\<parallel>f *\\<^sub>v (x + ?\\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - ?\\<xi>)\\<parallel>\n  bdd_above\n   ((\\<lambda>\\<xi>.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) `\n    ball (0::'a) r)\n  ball (0::'a) r \\<noteq> {}\n  \\<lbrakk>?A \\<noteq> {}; bdd_above (?g ` ?B);\n   \\<And>n.\n      n \\<in> ?A \\<Longrightarrow>\n      \\<exists>m\\<in>?B. ?f n \\<le> ?g m\\<rbrakk>\n  \\<Longrightarrow> Sup (?f ` ?A) \\<le> Sup (?g ` ?B)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball (0::'a) r.\n              max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n               \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "by smt"], ["proof (state)\nthis:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball (0::'a) r.\n            max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n             \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "also"], ["proof (state)\nthis:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball (0::'a) r.\n            max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n             \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "have \\<open>\\<dots> = max (Sup ((\\<lambda>\\<xi>.  \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` (ball 0 r)))\n                        (Sup ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) ` (ball 0 r)))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "using Sup_2"], ["proof (prove)\nusing this:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)", "by blast"], ["proof (state)\nthis:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "also"], ["proof (state)\nthis:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      max \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "have \\<open>\\<dots> = Sup ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) ` (ball 0 r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "using Sup_3"], ["proof (prove)\nusing this:\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. max (SUP \\<xi>\\<in>ball (0::'a) r.\n            \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n     (SUP \\<xi>\\<in>ball (0::'a) r.\n         \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)", "by blast"], ["proof (state)\nthis:\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "also"], ["proof (state)\nthis:\n  max (SUP \\<xi>\\<in>ball (0::'a) r.\n          \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n   (SUP \\<xi>\\<in>ball (0::'a) r.\n       \\<parallel>f *\\<^sub>v (x - \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "have \\<open>\\<dots> = Sup ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) ` (ball x r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP \\<xi>\\<in>ball (0::'a) r.\n        \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) =\n    (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "by (metis  add.right_neutral ball_translation image_image)"], ["proof (state)\nthis:\n  (SUP \\<xi>\\<in>ball (0::'a) r.\n      \\<parallel>f *\\<^sub>v (x + \\<xi>)\\<parallel>) =\n  (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "finally"], ["proof (chain)\npicking this:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "show ?thesis"], ["proof (prove)\nusing this:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "by blast"], ["proof (state)\nthis:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have \\<open>\\<parallel>f\\<parallel> = (SUP x\\<in>ball 0 r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel> =\n    (SUP x\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "using \\<open>0 < r\\<close> onorm_r"], ["proof (prove)\nusing this:\n  0 < r\n  0 < ?r \\<Longrightarrow>\n  \\<parallel>?f\\<parallel> =\n  (SUP x\\<in>ball (0::?'a) ?r. \\<parallel>?f *\\<^sub>v x\\<parallel>) / ?r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel> =\n    (SUP x\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "by blast"], ["proof (state)\nthis:\n  \\<parallel>f\\<parallel> =\n  (SUP x\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "moreover"], ["proof (state)\nthis:\n  \\<parallel>f\\<parallel> =\n  (SUP x\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "have \\<open>Sup ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` (ball 0 r)) / r \\<le> Sup ((\\<lambda>\\<xi>. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) ` (ball x r)) / r\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n    \\<le> (SUP \\<xi>\\<in>ball x r.\n              \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n          r", "using Sup_1 \\<open>0 < r\\<close> divide_right_mono"], ["proof (prove)\nusing this:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>)\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n  0 < r\n  \\<lbrakk>?a \\<le> ?b; (0::?'a) \\<le> ?c\\<rbrakk>\n  \\<Longrightarrow> ?a / ?c \\<le> ?b / ?c\n\ngoal (1 subgoal):\n 1. (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n    \\<le> (SUP \\<xi>\\<in>ball x r.\n              \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n          r", "by fastforce"], ["proof (state)\nthis:\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n        r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "ultimately"], ["proof (chain)\npicking this:\n  \\<parallel>f\\<parallel> =\n  (SUP x\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n        r", "have \\<open>\\<parallel>f\\<parallel> \\<le> Sup ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r) / r\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>f\\<parallel> =\n  (SUP x\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r\n  (SUP t\\<in>ball (0::'a) r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n        r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP t\\<in>ball x r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r", "by simp"], ["proof (state)\nthis:\n  \\<parallel>f\\<parallel>\n  \\<le> (SUP t\\<in>ball x r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<parallel>f\\<parallel>\n  \\<le> (SUP t\\<in>ball x r. \\<parallel>f *\\<^sub>v t\\<parallel>) / r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r", "by simp"], ["proof (state)\nthis:\n  \\<parallel>f\\<parallel>\n  \\<le> (SUP x\\<in>ball x r. \\<parallel>f *\\<^sub>v x\\<parallel>) / r\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma onorm_Sup_on_ball':\n  includes notation_norm\n  assumes \\<open>r > 0\\<close> and \\<open>\\<tau> < 1\\<close>\n  shows \\<open>\\<exists>\\<xi>\\<in>ball x r.  \\<tau> * r * \\<parallel>f\\<parallel> \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "text \\<open>                 \n  In the proof of Banach-Steinhaus theorem, we will use this variation of the \n  lemma @{text onorm_Sup_on_ball}.\n\n  Explanation: Let \\<^term>\\<open>f\\<close> be a bounded operator, let \\<^term>\\<open>x\\<close> be a point and let \\<^term>\\<open>r\\<close> be a \n  positive real number. For any real number \\<^term>\\<open>\\<tau> < 1\\<close>, there is a point \\<^term>\\<open>\\<xi>\\<close> in the open ball \n  of radius \\<^term>\\<open>r\\<close> around \\<^term>\\<open>x\\<close> such that \\<^term>\\<open>\\<tau> * r * \\<parallel>f\\<parallel> \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\\<close>.\n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "proof(cases  \\<open>f = 0\\<close>)"], ["proof (state)\ngoal (2 subgoals):\n 1. f = 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n 2. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "case True"], ["proof (state)\nthis:\n  f = 0\n\ngoal (2 subgoals):\n 1. f = 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n 2. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "thus ?thesis"], ["proof (prove)\nusing this:\n  f = 0\n\ngoal (1 subgoal):\n 1. \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "by (metis assms(1) centre_in_ball mult_zero_right norm_zero order_refl \n        zero_blinfun.rep_eq)"], ["proof (state)\nthis:\n  \\<exists>\\<xi>\\<in>ball x r.\n     \\<tau> * r * \\<parallel>f\\<parallel>\n     \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "case False"], ["proof (state)\nthis:\n  f \\<noteq> 0\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "have bdd_above_1: \\<open>bdd_above ((\\<lambda>t. \\<parallel>(*\\<^sub>v) f t\\<parallel>) ` ball x r)\\<close> for f::\\<open>'a \\<Rightarrow>\\<^sub>L 'b\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "using assms(1) bounded_linear_image"], ["proof (prove)\nusing this:\n  0 < r\n  \\<lbrakk>bounded ?S; bounded_linear ?f\\<rbrakk>\n  \\<Longrightarrow> bounded (?f ` ?S)\n\ngoal (1 subgoal):\n 1. bdd_above ((\\<lambda>t. \\<parallel>f *\\<^sub>v t\\<parallel>) ` ball x r)", "by (simp add: bounded_linear_image \n        blinfun.bounded_linear_right bounded_imp_bdd_above bounded_norm_comp)"], ["proof (state)\nthis:\n  bdd_above ((\\<lambda>t. \\<parallel>?f *\\<^sub>v t\\<parallel>) ` ball x r)\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "have  \\<open>norm f > 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<parallel>f\\<parallel>", "using \\<open>f \\<noteq> 0\\<close>"], ["proof (prove)\nusing this:\n  f \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < \\<parallel>f\\<parallel>", "by auto"], ["proof (state)\nthis:\n  0 < \\<parallel>f\\<parallel>\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "have \\<open>norm f \\<le>  Sup ( (\\<lambda>\\<xi>.  \\<parallel>(*\\<^sub>v) f \\<xi>\\<parallel>) ` (ball x r) ) / r\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP \\<xi>\\<in>ball x r.\n              \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n          r", "using \\<open>r > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < r\n\ngoal (1 subgoal):\n 1. \\<parallel>f\\<parallel>\n    \\<le> (SUP \\<xi>\\<in>ball x r.\n              \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n          r", "by (simp add: onorm_Sup_on_ball)"], ["proof (state)\nthis:\n  \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n        r\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "hence \\<open>r * norm f \\<le>  Sup ( (\\<lambda>\\<xi>.  \\<parallel>(*\\<^sub>v) f \\<xi>\\<parallel>) ` (ball x r) )\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n        r\n\ngoal (1 subgoal):\n 1. r * \\<parallel>f\\<parallel>\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "using \\<open>0 < r\\<close>"], ["proof (prove)\nusing this:\n  \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>) /\n        r\n  0 < r\n\ngoal (1 subgoal):\n 1. r * \\<parallel>f\\<parallel>\n    \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)", "by (smt divide_strict_right_mono nonzero_mult_div_cancel_left)"], ["proof (state)\nthis:\n  r * \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "moreover"], ["proof (state)\nthis:\n  r * \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "have \\<open>\\<tau> * r * norm f < r * norm f\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<tau> * r * \\<parallel>f\\<parallel> < r * \\<parallel>f\\<parallel>", "using  \\<open>\\<tau> < 1\\<close>"], ["proof (prove)\nusing this:\n  \\<tau> < 1\n\ngoal (1 subgoal):\n 1. \\<tau> * r * \\<parallel>f\\<parallel> < r * \\<parallel>f\\<parallel>", "using \\<open>0 < norm f\\<close> \\<open>0 < r\\<close>"], ["proof (prove)\nusing this:\n  \\<tau> < 1\n  0 < \\<parallel>f\\<parallel>\n  0 < r\n\ngoal (1 subgoal):\n 1. \\<tau> * r * \\<parallel>f\\<parallel> < r * \\<parallel>f\\<parallel>", "by auto"], ["proof (state)\nthis:\n  \\<tau> * r * \\<parallel>f\\<parallel> < r * \\<parallel>f\\<parallel>\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "ultimately"], ["proof (chain)\npicking this:\n  r * \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n  \\<tau> * r * \\<parallel>f\\<parallel> < r * \\<parallel>f\\<parallel>", "have \\<open>\\<tau> * r * norm f < Sup ( (norm \\<circ> ((*\\<^sub>v) f)) ` (ball x r) )\\<close>"], ["proof (prove)\nusing this:\n  r * \\<parallel>f\\<parallel>\n  \\<le> (SUP \\<xi>\\<in>ball x r. \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>)\n  \\<tau> * r * \\<parallel>f\\<parallel> < r * \\<parallel>f\\<parallel>\n\ngoal (1 subgoal):\n 1. \\<tau> * r * \\<parallel>f\\<parallel>\n    < Sup ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)", "by simp"], ["proof (state)\nthis:\n  \\<tau> * r * \\<parallel>f\\<parallel>\n  < Sup ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "moreover"], ["proof (state)\nthis:\n  \\<tau> * r * \\<parallel>f\\<parallel>\n  < Sup ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "have \\<open>(norm \\<circ> ( (*\\<^sub>v) f)) ` (ball x r) \\<noteq> {}\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (norm \\<circ> (*\\<^sub>v) f) ` ball x r \\<noteq> {}", "using \\<open>0 < r\\<close>"], ["proof (prove)\nusing this:\n  0 < r\n\ngoal (1 subgoal):\n 1. (norm \\<circ> (*\\<^sub>v) f) ` ball x r \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  (norm \\<circ> (*\\<^sub>v) f) ` ball x r \\<noteq> {}\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "moreover"], ["proof (state)\nthis:\n  (norm \\<circ> (*\\<^sub>v) f) ` ball x r \\<noteq> {}\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "have \\<open>bdd_above ((norm \\<circ> ( (*\\<^sub>v) f)) ` (ball x r))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bdd_above ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)", "using bdd_above_1"], ["proof (prove)\nusing this:\n  bdd_above ((\\<lambda>t. \\<parallel>?f *\\<^sub>v t\\<parallel>) ` ball x r)\n\ngoal (1 subgoal):\n 1. bdd_above ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x r f.\n       \\<lbrakk>\\<And>f.\n                   bounded_linear f \\<Longrightarrow>\n                   bdd_above\n                    ((\\<lambda>t. \\<parallel>f t\\<parallel>) ` ball x r);\n        bounded_linear f\\<rbrakk>\n       \\<Longrightarrow> bdd_above ((norm \\<circ> f) ` ball x r)", "by simp"], ["proof (state)\nthis:\n  bdd_above ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "ultimately"], ["proof (chain)\npicking this:\n  \\<tau> * r * \\<parallel>f\\<parallel>\n  < Sup ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)\n  (norm \\<circ> (*\\<^sub>v) f) ` ball x r \\<noteq> {}\n  bdd_above ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)", "have \\<open>\\<exists>t \\<in> (norm \\<circ> ( (*\\<^sub>v) f)) ` (ball x r). \\<tau> * r * norm f < t\\<close>"], ["proof (prove)\nusing this:\n  \\<tau> * r * \\<parallel>f\\<parallel>\n  < Sup ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)\n  (norm \\<circ> (*\\<^sub>v) f) ` ball x r \\<noteq> {}\n  bdd_above ((norm \\<circ> (*\\<^sub>v) f) ` ball x r)\n\ngoal (1 subgoal):\n 1. \\<exists>t\\<in>(norm \\<circ> (*\\<^sub>v) f) ` ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel> < t", "by (simp add: less_cSup_iff)"], ["proof (state)\nthis:\n  \\<exists>t\\<in>(norm \\<circ> (*\\<^sub>v) f) ` ball x r.\n     \\<tau> * r * \\<parallel>f\\<parallel> < t\n\ngoal (1 subgoal):\n 1. f \\<noteq> 0 \\<Longrightarrow>\n    \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>t\\<in>(norm \\<circ> (*\\<^sub>v) f) ` ball x r.\n     \\<tau> * r * \\<parallel>f\\<parallel> < t\n\ngoal (1 subgoal):\n 1. \\<exists>\\<xi>\\<in>ball x r.\n       \\<tau> * r * \\<parallel>f\\<parallel>\n       \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>", "by (smt comp_def image_iff)"], ["proof (state)\nthis:\n  \\<exists>\\<xi>\\<in>ball x r.\n     \\<tau> * r * \\<parallel>f\\<parallel>\n     \\<le> \\<parallel>f *\\<^sub>v \\<xi>\\<parallel>\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>Banach-Steinhaus theorem\\<close>"], ["", "theorem banach_steinhaus:\n  fixes f::\\<open>'c \\<Rightarrow> ('a::banach \\<Rightarrow>\\<^sub>L 'b::real_normed_vector)\\<close>\n  assumes \\<open>\\<And>x. bounded (range (\\<lambda>n. (f n) *\\<^sub>v x))\\<close>\n  shows  \\<open>bounded (range f)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (range f)", "text\\<open>\n  This is Banach-Steinhaus Theorem.\n\n  Explanation: If a family of bounded operators on a Banach space\n  is pointwise bounded, then it is uniformly bounded.\n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (range f)", "proof(rule classical)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "assume \\<open>\\<not>(bounded (range f))\\<close>"], ["proof (state)\nthis:\n  \\<not> bounded (range f)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have sum_1: \\<open>\\<exists>K. \\<forall>n. sum (\\<lambda>k. inverse (real_of_nat 3^k)) {0..n} \\<le> K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "have \\<open>summable (\\<lambda>n. inverse ((3::real) ^ n))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. inverse (3 ^ n))", "by (simp flip: power_inverse)"], ["proof (state)\nthis:\n  summable (\\<lambda>n. inverse (3 ^ n))\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "hence \\<open>bounded (range (\\<lambda>n. sum (\\<lambda> k. inverse (real 3 ^ k)) {0..<n}))\\<close>"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. inverse (3 ^ n))\n\ngoal (1 subgoal):\n 1. bounded (range (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)))", "using summable_imp_sums_bounded[where f = \"(\\<lambda>n. inverse (real_of_nat 3^n))\"]\n        lessThan_atLeast0"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. inverse (3 ^ n))\n  summable (\\<lambda>n. inverse (real 3 ^ n)) \\<Longrightarrow>\n  bounded (range (\\<lambda>n. \\<Sum>n<n. inverse (real 3 ^ n)))\n  {..<?n} = {0..<?n}\n\ngoal (1 subgoal):\n 1. bounded (range (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)))", "by auto"], ["proof (state)\nthis:\n  bounded (range (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)))\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "hence \\<open>\\<exists>M. \\<forall>h\\<in>(range (\\<lambda>n. sum (\\<lambda> k. inverse (real 3 ^ k)) {0..<n})). norm h \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  bounded (range (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)))\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>h\\<in>range\n                       (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)).\n          norm h \\<le> M", "using bounded_iff"], ["proof (prove)\nusing this:\n  bounded (range (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)))\n  bounded ?S = (\\<exists>a. \\<forall>x\\<in>?S. norm x \\<le> a)\n\ngoal (1 subgoal):\n 1. \\<exists>M.\n       \\<forall>h\\<in>range\n                       (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)).\n          norm h \\<le> M", "by blast"], ["proof (state)\nthis:\n  \\<exists>M.\n     \\<forall>h\\<in>range\n                     (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)).\n        norm h \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "then"], ["proof (chain)\npicking this:\n  \\<exists>M.\n     \\<forall>h\\<in>range\n                     (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)).\n        norm h \\<le> M", "obtain M where \\<open>h\\<in>range (\\<lambda>n. sum (\\<lambda> k. inverse (real 3 ^ k)) {0..<n}) \\<Longrightarrow> norm h \\<le> M\\<close> \n      for h"], ["proof (prove)\nusing this:\n  \\<exists>M.\n     \\<forall>h\\<in>range\n                     (\\<lambda>n. \\<Sum>k = 0..<n. inverse (real 3 ^ k)).\n        norm h \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        (\\<And>h.\n            h \\<in> range\n                     (\\<lambda>n.\n                         \\<Sum>k = 0..<n.\n                            inverse (real 3 ^ k)) \\<Longrightarrow>\n            norm h \\<le> M) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  ?h \\<in> range\n            (\\<lambda>n.\n                \\<Sum>k = 0..<n. inverse (real 3 ^ k)) \\<Longrightarrow>\n  norm ?h \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "have sum_2: \\<open>sum (\\<lambda>k. inverse (real_of_nat 3^k)) {0..n} \\<le> M\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "have  \\<open>norm (sum (\\<lambda> k. inverse (real 3 ^ k)) {0..< Suc n}) \\<le> M\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (\\<Sum>k = 0..<Suc n. inverse (real 3 ^ k)) \\<le> M", "using \\<open>\\<And>h. h\\<in>(range (\\<lambda>n. sum (\\<lambda> k. inverse (real 3 ^ k)) {0..<n})) \\<Longrightarrow> norm h \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  ?h \\<in> range\n            (\\<lambda>n.\n                \\<Sum>k = 0..<n. inverse (real 3 ^ k)) \\<Longrightarrow>\n  norm ?h \\<le> M\n\ngoal (1 subgoal):\n 1. norm (\\<Sum>k = 0..<Suc n. inverse (real 3 ^ k)) \\<le> M", "by blast"], ["proof (state)\nthis:\n  norm (\\<Sum>k = 0..<Suc n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "hence  \\<open>norm (sum (\\<lambda> k. inverse (real 3 ^ k)) {0..n}) \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  norm (\\<Sum>k = 0..<Suc n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. norm (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "by (simp add: atLeastLessThanSuc_atLeastAtMost)"], ["proof (state)\nthis:\n  norm (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "hence  \\<open>(sum (\\<lambda> k. inverse (real 3 ^ k)) {0..n}) \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  norm (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "by blast"], ["proof (state)\nthis:\n  (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>k = 0..?n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "have \\<open>sum (\\<lambda>k. inverse (real_of_nat 3^k)) {0..n} \\<le> M\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "using sum_2"], ["proof (prove)\nusing this:\n  (\\<Sum>k = 0..?n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> M", "by blast"], ["proof (state)\nthis:\n  (\\<Sum>k = 0..?n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>k = 0..?n. inverse (real 3 ^ k)) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "by blast"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>of_rat 2/3 < (1::real)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 < 1", "by auto"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 < 1\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence \\<open>\\<forall>g::'a \\<Rightarrow>\\<^sub>L 'b. \\<forall>x. \\<forall>r. \\<exists>\\<xi>. g \\<noteq> 0 \\<and> r > 0\n               \\<longrightarrow> (\\<xi>\\<in>ball x r \\<and> (of_rat 2/3) * r * norm g \\<le> norm ((*\\<^sub>v) g \\<xi>))\\<close>"], ["proof (prove)\nusing this:\n  real_of_rat 2 / 3 < 1\n\ngoal (1 subgoal):\n 1. \\<forall>g x r.\n       \\<exists>\\<xi>.\n          g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n          \\<xi> \\<in> ball x r \\<and>\n          real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi>)", "using onorm_Sup_on_ball'"], ["proof (prove)\nusing this:\n  real_of_rat 2 / 3 < 1\n  \\<lbrakk>0 < ?r; ?\\<tau> < 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<xi>\\<in>ball ?x ?r.\n                       ?\\<tau> * ?r * norm ?f\n                       \\<le> norm (?f *\\<^sub>v \\<xi>)\n\ngoal (1 subgoal):\n 1. \\<forall>g x r.\n       \\<exists>\\<xi>.\n          g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n          \\<xi> \\<in> ball x r \\<and>\n          real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi>)", "by blast"], ["proof (state)\nthis:\n  \\<forall>g x r.\n     \\<exists>\\<xi>.\n        g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n        \\<xi> \\<in> ball x r \\<and>\n        real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi>)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence \\<open>\\<exists>\\<xi>. \\<forall>g::'a \\<Rightarrow>\\<^sub>L 'b. \\<forall>x. \\<forall>r. g \\<noteq> 0 \\<and> r > 0\n           \\<longrightarrow> ((\\<xi> g x r)\\<in>ball x r \\<and> (of_rat 2/3) * r * norm g \\<le> norm ((*\\<^sub>v) g (\\<xi> g x r)))\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>g x r.\n     \\<exists>\\<xi>.\n        g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n        \\<xi> \\<in> ball x r \\<and>\n        real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi>)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<xi>.\n       \\<forall>g x r.\n          g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n          \\<xi> g x r \\<in> ball x r \\<and>\n          real_of_rat 2 / 3 * r * norm g\n          \\<le> norm (g *\\<^sub>v \\<xi> g x r)", "by metis"], ["proof (state)\nthis:\n  \\<exists>\\<xi>.\n     \\<forall>g x r.\n        g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n        \\<xi> g x r \\<in> ball x r \\<and>\n        real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi> g x r)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<xi>.\n     \\<forall>g x r.\n        g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n        \\<xi> g x r \\<in> ball x r \\<and>\n        real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi> g x r)", "obtain \\<xi> where f1: \\<open>\\<lbrakk>g \\<noteq> 0; r > 0\\<rbrakk> \\<Longrightarrow> \n        \\<xi> g x r \\<in> ball x r \\<and>  (of_rat 2/3) * r * norm g \\<le> norm ((*\\<^sub>v) g (\\<xi> g x r))\\<close>\n    for g::\\<open>'a \\<Rightarrow>\\<^sub>L 'b\\<close> and x and r"], ["proof (prove)\nusing this:\n  \\<exists>\\<xi>.\n     \\<forall>g x r.\n        g \\<noteq> 0 \\<and> 0 < r \\<longrightarrow>\n        \\<xi> g x r \\<in> ball x r \\<and>\n        real_of_rat 2 / 3 * r * norm g \\<le> norm (g *\\<^sub>v \\<xi> g x r)\n\ngoal (1 subgoal):\n 1. (\\<And>\\<xi>.\n        (\\<And>g x r.\n            \\<lbrakk>g \\<noteq> 0; 0 < r\\<rbrakk>\n            \\<Longrightarrow> \\<xi> g x r \\<in> ball x r \\<and>\n                              real_of_rat 2 / 3 * r * norm g\n                              \\<le> norm\n                                     (g *\\<^sub>v\n\\<xi> g x r)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>?g \\<noteq> 0; 0 < ?r\\<rbrakk>\n  \\<Longrightarrow> \\<xi> ?g ?x ?r \\<in> ball ?x ?r \\<and>\n                    real_of_rat 2 / 3 * ?r * norm ?g\n                    \\<le> norm (?g *\\<^sub>v \\<xi> ?g ?x ?r)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>\\<forall>n. \\<exists>k. norm (f k) \\<ge> 4^n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. \\<exists>k. 4 ^ n \\<le> norm (f k)", "using \\<open>\\<not>(bounded (range f))\\<close>"], ["proof (prove)\nusing this:\n  \\<not> bounded (range f)\n\ngoal (1 subgoal):\n 1. \\<forall>n. \\<exists>k. 4 ^ n \\<le> norm (f k)", "by (metis (mono_tags, hide_lams) boundedI image_iff linear)"], ["proof (state)\nthis:\n  \\<forall>n. \\<exists>k. 4 ^ n \\<le> norm (f k)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence  \\<open>\\<exists>k. \\<forall>n. norm (f (k n)) \\<ge> 4^n\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n. \\<exists>k. 4 ^ n \\<le> norm (f k)\n\ngoal (1 subgoal):\n 1. \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm (f (k n))", "by metis"], ["proof (state)\nthis:\n  \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm (f (k n))\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence  \\<open>\\<exists>k. \\<forall>n. norm ((f \\<circ> k) n) \\<ge> 4^n\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm (f (k n))\n\ngoal (1 subgoal):\n 1. \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm ((f \\<circ> k) n)", "by simp"], ["proof (state)\nthis:\n  \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm ((f \\<circ> k) n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "then"], ["proof (chain)\npicking this:\n  \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm ((f \\<circ> k) n)", "obtain k where \\<open>norm ((f \\<circ> k) n) \\<ge> 4^n\\<close> for n"], ["proof (prove)\nusing this:\n  \\<exists>k. \\<forall>n. 4 ^ n \\<le> norm ((f \\<circ> k) n)\n\ngoal (1 subgoal):\n 1. (\\<And>k.\n        (\\<And>n. 4 ^ n \\<le> norm ((f \\<circ> k) n)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  4 ^ ?n \\<le> norm ((f \\<circ> k) ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "define T where \\<open>T = f \\<circ> k\\<close>"], ["proof (state)\nthis:\n  T = f \\<circ> k\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>T n \\<in> range f\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. T n \\<in> range f", "unfolding T_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (f \\<circ> k) n \\<in> range f", "by simp"], ["proof (state)\nthis:\n  T ?n \\<in> range f\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>norm (T n) \\<ge> of_nat (4^n)\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (4 ^ n) \\<le> norm (T n)", "unfolding T_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (4 ^ n) \\<le> norm ((f \\<circ> k) n)", "using \\<open>\\<And> n. norm ((f \\<circ> k) n) \\<ge> 4^n\\<close>"], ["proof (prove)\nusing this:\n  4 ^ ?n \\<le> norm ((f \\<circ> k) ?n)\n\ngoal (1 subgoal):\n 1. real (4 ^ n) \\<le> norm ((f \\<circ> k) n)", "by auto"], ["proof (state)\nthis:\n  real (4 ^ ?n) \\<le> norm (T ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence \\<open>T n \\<noteq> 0\\<close> for n"], ["proof (prove)\nusing this:\n  real (4 ^ ?n) \\<le> norm (T ?n)\n\ngoal (1 subgoal):\n 1. T n \\<noteq> 0", "by (smt T_def \\<open>\\<And>n. 4 ^ n \\<le> norm ((f \\<circ> k) n)\\<close> norm_zero power_not_zero zero_le_power)"], ["proof (state)\nthis:\n  T ?n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>inverse (of_nat 3^n) > (0::real)\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < inverse (real 3 ^ n)", "by auto"], ["proof (state)\nthis:\n  0 < inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "define y::\\<open>nat \\<Rightarrow> 'a\\<close> where \\<open>y = rec_nat 0 (\\<lambda>n x. \\<xi> (T n) x (inverse (of_nat 3^n)))\\<close>"], ["proof (state)\nthis:\n  y = rec_nat (0::'a) (\\<lambda>n x. \\<xi> (T n) x (inverse (real 3 ^ n)))\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>y (Suc n) \\<in> ball (y n) (inverse (of_nat 3^n))\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. y (Suc n) \\<in> ball (y n) (inverse (real 3 ^ n))", "using f1 \\<open>\\<And> n. T n \\<noteq> 0\\<close> \\<open>\\<And> n. inverse (of_nat 3^n) > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>?g \\<noteq> 0; 0 < ?r\\<rbrakk>\n  \\<Longrightarrow> \\<xi> ?g ?x ?r \\<in> ball ?x ?r \\<and>\n                    real_of_rat 2 / 3 * ?r * norm ?g\n                    \\<le> norm (?g *\\<^sub>v \\<xi> ?g ?x ?r)\n  T ?n \\<noteq> 0\n  0 < inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. y (Suc n) \\<in> ball (y n) (inverse (real 3 ^ n))", "unfolding y_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?g \\<noteq> 0; 0 < ?r\\<rbrakk>\n  \\<Longrightarrow> \\<xi> ?g ?x ?r \\<in> ball ?x ?r \\<and>\n                    real_of_rat 2 / 3 * ?r * norm ?g\n                    \\<le> norm (?g *\\<^sub>v \\<xi> ?g ?x ?r)\n  T ?n \\<noteq> 0\n  0 < inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. rec_nat (0::'a) (\\<lambda>n x. \\<xi> (T n) x (inverse (real 3 ^ n)))\n     (Suc n)\n    \\<in> ball\n           (rec_nat (0::'a)\n             (\\<lambda>n x. \\<xi> (T n) x (inverse (real 3 ^ n))) n)\n           (inverse (real 3 ^ n))", "by auto"], ["proof (state)\nthis:\n  y (Suc ?n) \\<in> ball (y ?n) (inverse (real 3 ^ ?n))\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence \\<open>norm (y (Suc n) - y n) \\<le> inverse (of_nat 3^n)\\<close> for n"], ["proof (prove)\nusing this:\n  y (Suc ?n) \\<in> ball (y ?n) (inverse (real 3 ^ ?n))\n\ngoal (1 subgoal):\n 1. norm (y (Suc n) - y n) \\<le> inverse (real 3 ^ n)", "unfolding ball_def"], ["proof (prove)\nusing this:\n  y (Suc ?n) \\<in> {ya. dist (y ?n) ya < inverse (real 3 ^ ?n)}\n\ngoal (1 subgoal):\n 1. norm (y (Suc n) - y n) \\<le> inverse (real 3 ^ n)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>n. dist (y n) (y (Suc n)) < inverse (3 ^ n)) \\<Longrightarrow>\n    norm (y (Suc n) - y n) \\<le> inverse (3 ^ n)", "using dist_norm"], ["proof (prove)\nusing this:\n  dist ?x ?y = norm (?x - ?y)\n\ngoal (1 subgoal):\n 1. (\\<And>n. dist (y n) (y (Suc n)) < inverse (3 ^ n)) \\<Longrightarrow>\n    norm (y (Suc n) - y n) \\<le> inverse (3 ^ n)", "by (smt norm_minus_commute)"], ["proof (state)\nthis:\n  norm (y (Suc ?n) - y ?n) \\<le> inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "moreover"], ["proof (state)\nthis:\n  norm (y (Suc ?n) - y ?n) \\<le> inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>\\<exists>K. \\<forall>n. sum (\\<lambda>k. inverse (real_of_nat 3^k)) {0..n} \\<le> K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "using sum_1"], ["proof (prove)\nusing this:\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K", "by blast"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "moreover"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>Cauchy y\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. Cauchy y", "using convergent_series_Cauchy[where a = \"\\<lambda>n. inverse (of_nat 3^n)\" and \\<phi> = y] dist_norm"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<exists>M.\n              \\<forall>n. (\\<Sum>n = 0..n. inverse (real 3 ^ n)) \\<le> M;\n   \\<And>n. dist (y (Suc n)) (y n) \\<le> inverse (real 3 ^ n)\\<rbrakk>\n  \\<Longrightarrow> Cauchy y\n  dist ?x ?y = norm (?x - ?y)\n\ngoal (1 subgoal):\n 1. Cauchy y", "by (metis calculation(1) calculation(2))"], ["proof (state)\nthis:\n  Cauchy y\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "hence \\<open>\\<exists> x. y \\<longlonglongrightarrow> x\\<close>"], ["proof (prove)\nusing this:\n  Cauchy y\n\ngoal (1 subgoal):\n 1. \\<exists>x. y \\<longlonglongrightarrow> x", "by (simp add: convergent_eq_Cauchy)"], ["proof (state)\nthis:\n  \\<exists>x. y \\<longlonglongrightarrow> x\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "then"], ["proof (chain)\npicking this:\n  \\<exists>x. y \\<longlonglongrightarrow> x", "obtain x where \\<open>y \\<longlonglongrightarrow> x\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>x. y \\<longlonglongrightarrow> x\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        y \\<longlonglongrightarrow> x \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  y \\<longlonglongrightarrow> x\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have norm_2: \\<open>norm (x - y (Suc n)) \\<le> (inverse (of_nat 2))*(inverse (of_nat 3^n))\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "have \\<open>inverse (real_of_nat 3) < 1\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 3) < 1", "by simp"], ["proof (state)\nthis:\n  inverse (real 3) < 1\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "moreover"], ["proof (state)\nthis:\n  inverse (real 3) < 1\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "have \\<open>y 0 = 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. y 0 = (0::'a)", "using y_def"], ["proof (prove)\nusing this:\n  y = rec_nat (0::'a) (\\<lambda>n x. \\<xi> (T n) x (inverse (real 3 ^ n)))\n\ngoal (1 subgoal):\n 1. y 0 = (0::'a)", "by auto"], ["proof (state)\nthis:\n  y 0 = (0::'a)\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "ultimately"], ["proof (chain)\npicking this:\n  inverse (real 3) < 1\n  y 0 = (0::'a)", "have \\<open>norm (x - y (Suc n)) \n    \\<le> (inverse (of_nat 3)) * inverse (1 - (inverse (of_nat 3))) * ((inverse (of_nat 3)) ^ n)\\<close>"], ["proof (prove)\nusing this:\n  inverse (real 3) < 1\n  y 0 = (0::'a)\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n))\n    \\<le> inverse (real 3) * inverse (1 - inverse (real 3)) *\n          inverse (real 3) ^ n", "using bound_Cauchy_to_lim[where c = \"inverse (of_nat 3)\" and y = y and x = x]\n        power_inverse semiring_norm(77)  \\<open>y \\<longlonglongrightarrow> x\\<close>\n        \\<open>\\<And> n. norm (y (Suc n) - y n) \\<le> inverse (of_nat 3^n)\\<close>"], ["proof (prove)\nusing this:\n  inverse (real 3) < 1\n  y 0 = (0::'a)\n  \\<lbrakk>y \\<longlonglongrightarrow> x;\n   \\<And>n. norm (y (Suc n) - y n) \\<le> inverse (real 3) ^ n;\n   y 0 = (0::'a); inverse (real 3) < 1\\<rbrakk>\n  \\<Longrightarrow> norm (x - y (Suc ?n))\n                    \\<le> inverse (real 3) / (1 - inverse (real 3)) *\n                          inverse (real 3) ^ ?n\n  inverse ?a ^ ?n = inverse (?a ^ ?n)\n  (num.One < num.Bit1 ?n) = True\n  y \\<longlonglongrightarrow> x\n  norm (y (Suc ?n) - y ?n) \\<le> inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n))\n    \\<le> inverse (real 3) * inverse (1 - inverse (real 3)) *\n          inverse (real 3) ^ n", "by (metis divide_inverse)"], ["proof (state)\nthis:\n  norm (x - y (Suc n))\n  \\<le> inverse (real 3) * inverse (1 - inverse (real 3)) *\n        inverse (real 3) ^ n\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "moreover"], ["proof (state)\nthis:\n  norm (x - y (Suc n))\n  \\<le> inverse (real 3) * inverse (1 - inverse (real 3)) *\n        inverse (real 3) ^ n\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "have \\<open>inverse (real_of_nat 3) * inverse (1 - (inverse (of_nat 3)))\n                   = inverse (of_nat 2)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 3) * inverse (1 - inverse (real 3)) = inverse (real 2)", "by auto"], ["proof (state)\nthis:\n  inverse (real 3) * inverse (1 - inverse (real 3)) = inverse (real 2)\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "ultimately"], ["proof (chain)\npicking this:\n  norm (x - y (Suc n))\n  \\<le> inverse (real 3) * inverse (1 - inverse (real 3)) *\n        inverse (real 3) ^ n\n  inverse (real 3) * inverse (1 - inverse (real 3)) = inverse (real 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (x - y (Suc n))\n  \\<le> inverse (real 3) * inverse (1 - inverse (real 3)) *\n        inverse (real 3) ^ n\n  inverse (real 3) * inverse (1 - inverse (real 3)) = inverse (real 2)\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "by (metis power_inverse)"], ["proof (state)\nthis:\n  norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (x - y (Suc ?n)) \\<le> inverse (real 2) * inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>norm (x - y (Suc n)) \\<le> (inverse (of_nat 2))*(inverse (of_nat 3^n))\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "using norm_2"], ["proof (prove)\nusing this:\n  norm (x - y (Suc ?n)) \\<le> inverse (real 2) * inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "by blast"], ["proof (state)\nthis:\n  norm (x - y (Suc ?n)) \\<le> inverse (real 2) * inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>\\<exists> M. \\<forall> n. norm ((*\\<^sub>v) (T n) x) \\<le> M\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (T n *\\<^sub>v x) \\<le> M", "unfolding T_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm ((f \\<circ> k) n *\\<^sub>v x) \\<le> M", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f (k n) *\\<^sub>v x) \\<le> M", "by (metis \\<open>\\<And>x. bounded (range (\\<lambda>n. (*\\<^sub>v) (f n) x))\\<close> bounded_iff rangeI)"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>n. norm (T n *\\<^sub>v x) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "then"], ["proof (chain)\npicking this:\n  \\<exists>M. \\<forall>n. norm (T n *\\<^sub>v x) \\<le> M", "obtain M where \\<open>norm ((*\\<^sub>v) (T n) x) \\<le> M\\<close> for n"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>n. norm (T n *\\<^sub>v x) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<And>M.\n        (\\<And>n. norm (T n *\\<^sub>v x) \\<le> M) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  norm (T ?n *\\<^sub>v x) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have norm_1: \\<open>norm (T n) * norm (y (Suc n) - x) + norm ((*\\<^sub>v) (T n) x)\n       \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) + norm ((*\\<^sub>v) (T n) x)\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "have \\<open>norm (y (Suc n) - x) \\<le> (inverse (of_nat 2))*(inverse (of_nat 3^n))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (y (Suc n) - x) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "using \\<open>norm (x - y (Suc n)) \\<le> (inverse (of_nat 2))*(inverse (of_nat 3^n))\\<close>"], ["proof (prove)\nusing this:\n  norm (x - y (Suc n)) \\<le> inverse (real 2) * inverse (real 3 ^ n)\n\ngoal (1 subgoal):\n 1. norm (y (Suc n) - x) \\<le> inverse (real 2) * inverse (real 3 ^ n)", "by (simp add: norm_minus_commute)"], ["proof (state)\nthis:\n  norm (y (Suc n) - x) \\<le> inverse (real 2) * inverse (real 3 ^ n)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "moreover"], ["proof (state)\nthis:\n  norm (y (Suc n) - x) \\<le> inverse (real 2) * inverse (real 3 ^ n)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "have \\<open>norm (T n) \\<ge> 0\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> norm (T n)", "by auto"], ["proof (state)\nthis:\n  0 \\<le> norm (T n)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "ultimately"], ["proof (chain)\npicking this:\n  norm (y (Suc n) - x) \\<le> inverse (real 2) * inverse (real 3 ^ n)\n  0 \\<le> norm (T n)", "have \\<open>norm (T n) * norm (y (Suc n) - x) \n                     \\<le> (inverse (of_nat 2))*(inverse (of_nat 3^n))*norm (T n)\\<close>"], ["proof (prove)\nusing this:\n  norm (y (Suc n) - x) \\<le> inverse (real 2) * inverse (real 3 ^ n)\n  0 \\<le> norm (T n)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n)", "by (simp add: \\<open>\\<And>n. T n \\<noteq> 0\\<close>)"], ["proof (state)\nthis:\n  norm (T n) * norm (y (Suc n) - x)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  norm (T n) * norm (y (Suc n) - x)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "by simp"], ["proof (state)\nthis:\n  norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n        norm (T n *\\<^sub>v x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  norm (T ?n) * norm (y (Suc ?n) - x) + norm (T ?n *\\<^sub>v x)\n  \\<le> inverse (real 2) * inverse (real 3 ^ ?n) * norm (T ?n) +\n        norm (T ?n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have inverse_2: \\<open>(inverse (of_nat 6)) * inverse (real 3 ^ n) * norm (T n) \n                  \\<le> norm ((*\\<^sub>v) (T n) x)\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>(of_rat 2/3)*(inverse (of_nat 3^n))*norm (T n) \\<le> norm ((*\\<^sub>v) (T n) (y (Suc n)))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v y (Suc n))", "using f1 \\<open>\\<And> n. T n \\<noteq> 0\\<close> \\<open>\\<And> n. inverse (of_nat 3^n) > 0\\<close>"], ["proof (prove)\nusing this:\n  \\<lbrakk>?g \\<noteq> 0; 0 < ?r\\<rbrakk>\n  \\<Longrightarrow> \\<xi> ?g ?x ?r \\<in> ball ?x ?r \\<and>\n                    real_of_rat 2 / 3 * ?r * norm ?g\n                    \\<le> norm (?g *\\<^sub>v \\<xi> ?g ?x ?r)\n  T ?n \\<noteq> 0\n  0 < inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v y (Suc n))", "unfolding y_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>?g \\<noteq> 0; 0 < ?r\\<rbrakk>\n  \\<Longrightarrow> \\<xi> ?g ?x ?r \\<in> ball ?x ?r \\<and>\n                    real_of_rat 2 / 3 * ?r * norm ?g\n                    \\<le> norm (?g *\\<^sub>v \\<xi> ?g ?x ?r)\n  T ?n \\<noteq> 0\n  0 < inverse (real 3 ^ ?n)\n\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm\n           (T n *\\<^sub>v\n            rec_nat (0::'a)\n             (\\<lambda>n x. \\<xi> (T n) x (inverse (real 3 ^ n))) (Suc n))", "by auto"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v y (Suc n))\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "also"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v y (Suc n))\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>\\<dots> = norm ((*\\<^sub>v) (T n) ((y (Suc n) - x) + x))\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (T n *\\<^sub>v y (Suc n)) =\n    norm (T n *\\<^sub>v (y (Suc n) - x + x))", "by auto"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v y (Suc n)) = norm (T n *\\<^sub>v (y (Suc n) - x + x))\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "also"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v y (Suc n)) = norm (T n *\\<^sub>v (y (Suc n) - x + x))\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>\\<dots> = norm ((*\\<^sub>v) (T n) (y (Suc n) - x) + (*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (T n *\\<^sub>v (y (Suc n) - x + x)) =\n    norm (T n *\\<^sub>v (y (Suc n) - x) + T n *\\<^sub>v x)", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T n y x.\n       pred_fun top bounded_linear T \\<Longrightarrow>\n       norm (T n (y (Suc n) - x + x)) = norm (T n (y (Suc n) - x) + T n x)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T n y x.\n       \\<forall>x. bounded_linear (T x) \\<Longrightarrow>\n       norm (T n (y (Suc n))) = norm (T n (y (Suc n) - x) + T n x)", "by (metis diff_add_cancel linear_simps(1))"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v (y (Suc n) - x + x)) =\n  norm (T n *\\<^sub>v (y (Suc n) - x) + T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "also"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v (y (Suc n) - x + x)) =\n  norm (T n *\\<^sub>v (y (Suc n) - x) + T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>\\<dots> \\<le> norm ((*\\<^sub>v) (T n) (y (Suc n) - x)) + norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (T n *\\<^sub>v (y (Suc n) - x) + T n *\\<^sub>v x)\n    \\<le> norm (T n *\\<^sub>v (y (Suc n) - x)) + norm (T n *\\<^sub>v x)", "by (simp add: norm_triangle_ineq)"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v (y (Suc n) - x) + T n *\\<^sub>v x)\n  \\<le> norm (T n *\\<^sub>v (y (Suc n) - x)) + norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "also"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v (y (Suc n) - x) + T n *\\<^sub>v x)\n  \\<le> norm (T n *\\<^sub>v (y (Suc n) - x)) + norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>\\<dots> \\<le> norm (T n) * norm (y (Suc n) - x) + norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (T n *\\<^sub>v (y (Suc n) - x)) + norm (T n *\\<^sub>v x)\n    \\<le> norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T n y x.\n       pred_fun top bounded_linear T \\<Longrightarrow>\n       norm (T n (y (Suc n) - x)) + norm (T n x)\n       \\<le> onorm (T n) * norm (y (Suc n) - x) + norm (T n x)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>T n y x.\n       \\<forall>x. bounded_linear (T x) \\<Longrightarrow>\n       norm (T n (y (Suc n) - x)) \\<le> onorm (T n) * norm (y (Suc n) - x)", "using onorm"], ["proof (prove)\nusing this:\n  bounded_linear ?f \\<Longrightarrow> norm (?f ?x) \\<le> onorm ?f * norm ?x\n\ngoal (1 subgoal):\n 1. \\<And>T n y x.\n       \\<forall>x. bounded_linear (T x) \\<Longrightarrow>\n       norm (T n (y (Suc n) - x)) \\<le> onorm (T n) * norm (y (Suc n) - x)", "by auto"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v (y (Suc n) - x)) + norm (T n *\\<^sub>v x)\n  \\<le> norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "also"], ["proof (state)\nthis:\n  norm (T n *\\<^sub>v (y (Suc n) - x)) + norm (T n *\\<^sub>v x)\n  \\<le> norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>\\<dots> \\<le> (inverse (of_nat 2))*(inverse (of_nat 3^n))*norm (T n) \n                + norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "using norm_1"], ["proof (prove)\nusing this:\n  norm (T ?n) * norm (y (Suc ?n) - x) + norm (T ?n *\\<^sub>v x)\n  \\<le> inverse (real 2) * inverse (real 3 ^ ?n) * norm (T ?n) +\n        norm (T ?n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "by blast"], ["proof (state)\nthis:\n  norm (T n) * norm (y (Suc n) - x) + norm (T n *\\<^sub>v x)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n        norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "finally"], ["proof (chain)\npicking this:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n        norm (T n *\\<^sub>v x)", "have \\<open>(of_rat 2/3) * inverse (real 3 ^ n) * norm (T n)\n                \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) \n                + norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\nusing this:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n        norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n    \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n          norm (T n *\\<^sub>v x)", "by blast"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n        norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "hence \\<open>(of_rat 2/3) * inverse (real 3 ^ n) * norm (T n) \n             - inverse (real 2) * inverse (real 3 ^ n) * norm (T n) \\<le> norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\nusing this:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n)\n  \\<le> inverse (real 2) * inverse (real 3 ^ n) * norm (T n) +\n        norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n    inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "by linarith"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "moreover"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "have \\<open>(of_rat 2/3) * inverse (real 3 ^ n) * norm (T n) \n             - inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n             = (inverse (of_nat 6)) * inverse (real 3 ^ n) * norm (T n)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n    inverse (real 2) * inverse (real 3 ^ n) * norm (T n) =\n    inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "by fastforce"], ["proof (state)\nthis:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n) =\n  inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v x)\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n) =\n  inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "show \\<open>(inverse (of_nat 6)) * inverse (real 3 ^ n) * norm (T n) \\<le> norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\nusing this:\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v x)\n  real_of_rat 2 / 3 * inverse (real 3 ^ n) * norm (T n) -\n  inverse (real 2) * inverse (real 3 ^ n) * norm (T n) =\n  inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "by linarith"], ["proof (state)\nthis:\n  inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inverse (real 6) * inverse (real 3 ^ ?n) * norm (T ?n)\n  \\<le> norm (T ?n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have inverse_3: \\<open>(inverse (of_nat 6)) * (of_rat (4/3)^n) \n                    \\<le> (inverse (of_nat 6)) * inverse (real 3 ^ n) * norm (T n)\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "have \\<open>of_rat (4/3)^n = inverse (real 3 ^ n) * (of_nat 4^n)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_rat (4 / 3) ^ n = inverse (real 3 ^ n) * real 4 ^ n", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_rat (4 / 3) ^ n = inverse (3 ^ n) * 4 ^ n", "by (metis divide_inverse_commute of_rat_divide power_divide of_rat_numeral_eq)"], ["proof (state)\nthis:\n  real_of_rat (4 / 3) ^ n = inverse (real 3 ^ n) * real 4 ^ n\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "also"], ["proof (state)\nthis:\n  real_of_rat (4 / 3) ^ n = inverse (real 3 ^ n) * real 4 ^ n\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "have \\<open>\\<dots> \\<le>  inverse (real 3 ^ n) * norm (T n)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 3 ^ n) * real 4 ^ n\n    \\<le> inverse (real 3 ^ n) * norm (T n)", "using \\<open>\\<And>n. norm (T n) \\<ge> of_nat (4^n)\\<close>"], ["proof (prove)\nusing this:\n  real (4 ^ ?n) \\<le> norm (T ?n)\n\ngoal (1 subgoal):\n 1. inverse (real 3 ^ n) * real 4 ^ n\n    \\<le> inverse (real 3 ^ n) * norm (T n)", "by simp"], ["proof (state)\nthis:\n  inverse (real 3 ^ n) * real 4 ^ n \\<le> inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "finally"], ["proof (chain)\npicking this:\n  real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)", "have \\<open>of_rat (4/3)^n \\<le> inverse (real 3 ^ n) * norm (T n)\\<close>"], ["proof (prove)\nusing this:\n  real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)", "by blast"], ["proof (state)\nthis:\n  real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "moreover"], ["proof (state)\nthis:\n  real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "have \\<open>inverse (of_nat 6) > (0::real)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < inverse (real 6)", "by auto"], ["proof (state)\nthis:\n  0 < inverse (real 6)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)\n  0 < inverse (real 6)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_rat (4 / 3) ^ n \\<le> inverse (real 3 ^ n) * norm (T n)\n  0 < inverse (real 6)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "by auto"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n\n  \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n\n  \\<le> inverse (real 6) * inverse (real 3 ^ ?n) * norm (T ?n)\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have inverse_1: \\<open>(inverse (of_nat 6)) * (of_rat (4/3)^n) \\<le> M\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "have \\<open>(inverse (of_nat 6)) * (of_rat (4/3)^n) \n          \\<le> (inverse (of_nat 6)) * inverse (real 3 ^ n) * norm (T n)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "using inverse_3"], ["proof (prove)\nusing this:\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n\n  \\<le> inverse (real 6) * inverse (real 3 ^ ?n) * norm (T ?n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n\n    \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)", "by blast"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n\n  \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "also"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n\n  \\<le> inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "have \\<open>\\<dots> \\<le> norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "using inverse_2"], ["proof (prove)\nusing this:\n  inverse (real 6) * inverse (real 3 ^ ?n) * norm (T ?n)\n  \\<le> norm (T ?n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n    \\<le> norm (T n *\\<^sub>v x)", "by blast"], ["proof (state)\nthis:\n  inverse (real 6) * inverse (real 3 ^ n) * norm (T n)\n  \\<le> norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "finally"], ["proof (chain)\npicking this:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> norm (T n *\\<^sub>v x)", "have \\<open>(inverse (of_nat 6)) * (of_rat (4/3)^n) \\<le> norm ((*\\<^sub>v) (T n) x)\\<close>"], ["proof (prove)\nusing this:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> norm (T n *\\<^sub>v x)", "by auto"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "thus ?thesis"], ["proof (prove)\nusing this:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> norm (T n *\\<^sub>v x)\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "using \\<open>\\<And> n. norm ((*\\<^sub>v) (T n) x) \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> norm (T n *\\<^sub>v x)\n  norm (T ?n *\\<^sub>v x) \\<le> M\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "by smt"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n \\<le> M\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>\\<exists>n. M < (inverse (of_nat 6)) * (of_rat (4/3)^n)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>n. M < inverse (real 6) * real_of_rat (4 / 3) ^ n", "using Real.real_arch_pow"], ["proof (prove)\nusing this:\n  1 < ?x \\<Longrightarrow> \\<exists>n. ?y < ?x ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>n. M < inverse (real 6) * real_of_rat (4 / 3) ^ n", "by auto"], ["proof (state)\nthis:\n  \\<exists>n. M < inverse (real 6) * real_of_rat (4 / 3) ^ n\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "moreover"], ["proof (state)\nthis:\n  \\<exists>n. M < inverse (real 6) * real_of_rat (4 / 3) ^ n\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "have \\<open>(inverse (of_nat 6)) * (of_rat (4/3)^n) \\<le> M\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "using inverse_1"], ["proof (prove)\nusing this:\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n \\<le> M\n\ngoal (1 subgoal):\n 1. inverse (real 6) * real_of_rat (4 / 3) ^ n \\<le> M", "by blast"], ["proof (state)\nthis:\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n \\<le> M\n\ngoal (1 subgoal):\n 1. \\<not> bounded (range f) \\<Longrightarrow> bounded (range f)", "ultimately"], ["proof (chain)\npicking this:\n  norm (y (Suc ?n) - y ?n) \\<le> inverse (real 3 ^ ?n)\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n  \\<exists>n. M < inverse (real 6) * real_of_rat (4 / 3) ^ n\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n \\<le> M", "show ?thesis"], ["proof (prove)\nusing this:\n  norm (y (Suc ?n) - y ?n) \\<le> inverse (real 3 ^ ?n)\n  \\<exists>K. \\<forall>n. (\\<Sum>k = 0..n. inverse (real 3 ^ k)) \\<le> K\n  \\<exists>n. M < inverse (real 6) * real_of_rat (4 / 3) ^ n\n  inverse (real 6) * real_of_rat (4 / 3) ^ ?n \\<le> M\n\ngoal (1 subgoal):\n 1. bounded (range f)", "by smt"], ["proof (state)\nthis:\n  bounded (range f)\n\ngoal:\nNo subgoals!", "qed"], ["", "subsection \\<open>A consequence of Banach-Steinhaus theorem\\<close>"], ["", "corollary bounded_linear_limit_bounded_linear:\n  fixes f::\\<open>nat \\<Rightarrow> ('a::banach \\<Rightarrow>\\<^sub>L 'b::real_normed_vector)\\<close>\n  assumes \\<open>\\<And>x. convergent (\\<lambda>n. (f n) *\\<^sub>v x)\\<close>\n  shows  \\<open>\\<exists>g. (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "text\\<open>\n  Explanation: If a sequence of bounded operators on a Banach space converges\n  pointwise, then the limit is also a bounded operator.\n\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have \\<open>\\<exists>l. (\\<lambda>n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> l\\<close> for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>l. (\\<lambda>n. f n *\\<^sub>v x) \\<longlonglongrightarrow> l", "by (simp add:  \\<open>\\<And>x. convergent (\\<lambda>n. (*\\<^sub>v) (f n) x)\\<close> convergentD)"], ["proof (state)\nthis:\n  \\<exists>l. (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> l\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "hence \\<open>\\<exists>F. (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>l. (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> l\n\ngoal (1 subgoal):\n 1. \\<exists>F.\n       (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F", "unfolding pointwise_convergent_to_def"], ["proof (prove)\nusing this:\n  \\<exists>l. (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> l\n\ngoal (1 subgoal):\n 1. \\<exists>F.\n       \\<forall>t.\n          (\\<lambda>n. f n *\\<^sub>v t) \\<longlonglongrightarrow> F t", "by metis"], ["proof (state)\nthis:\n  \\<exists>F.\n     (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "obtain F where \\<open>(\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (\\<lambda>n. (*\\<^sub>v) (f n))\n        \\<midarrow>pointwise\\<rightarrow> F \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using \\<open>\\<exists>F. (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>F.\n     (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal (1 subgoal):\n 1. (\\<And>F.\n        (\\<lambda>n. (*\\<^sub>v) (f n))\n        \\<midarrow>pointwise\\<rightarrow> F \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have \\<open>\\<And>x. (\\<lambda> n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> F x\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. (\\<lambda>n. f n *\\<^sub>v x) \\<longlonglongrightarrow> F x", "using \\<open>(\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\nusing this:\n  (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal (1 subgoal):\n 1. \\<And>x. (\\<lambda>n. f n *\\<^sub>v x) \\<longlonglongrightarrow> F x", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x f F.\n       \\<lbrakk>pred_fun top bounded_linear f;\n        f \\<midarrow>pointwise\\<rightarrow> F\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n. f n x) \\<longlonglongrightarrow> F x", "by (simp add: pointwise_convergent_to_def)"], ["proof (state)\nthis:\n  (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> F ?x\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have \\<open>bounded (range f)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded (range f)", "using \\<open>\\<And>x. convergent (\\<lambda>n. (*\\<^sub>v) (f n) x)\\<close> banach_steinhaus\n      \\<open>\\<And>x. \\<exists>l. (\\<lambda>n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> l\\<close> convergent_imp_bounded"], ["proof (prove)\nusing this:\n  convergent (\\<lambda>n. f n *\\<^sub>v ?x)\n  (\\<And>x.\n      bounded (range (\\<lambda>n. ?f n *\\<^sub>v x))) \\<Longrightarrow>\n  bounded (range ?f)\n  \\<exists>l. (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> l\n  ?S \\<longlonglongrightarrow> ?l \\<Longrightarrow> bounded (range ?S)\n\ngoal (1 subgoal):\n 1. bounded (range f)", "by blast"], ["proof (state)\nthis:\n  bounded (range f)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have norm_f_n: \\<open>\\<exists> M. \\<forall> n. norm (f n) \\<le> M\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n) \\<le> M", "unfolding bounded_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n) \\<le> M", "by (meson UNIV_I \\<open>bounded (range f)\\<close> bounded_iff image_eqI)"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have \\<open>isCont (\\<lambda> t::'b. norm t) y\\<close> for y::'b"], ["proof (prove)\ngoal (1 subgoal):\n 1. isCont norm y", "using Limits.isCont_norm"], ["proof (prove)\nusing this:\n  isCont ?f ?a \\<Longrightarrow> isCont (\\<lambda>x. norm (?f x)) ?a\n\ngoal (1 subgoal):\n 1. isCont norm y", "by simp"], ["proof (state)\nthis:\n  isCont norm ?y\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "hence \\<open>(\\<lambda> n. norm ((*\\<^sub>v) (f n) x)) \\<longlonglongrightarrow> (norm (F x))\\<close> for x"], ["proof (prove)\nusing this:\n  isCont norm ?y\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. norm (f n *\\<^sub>v x))\n    \\<longlonglongrightarrow> norm (F x)", "using \\<open>\\<And> x::'a. (\\<lambda> n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> F x\\<close>"], ["proof (prove)\nusing this:\n  isCont norm ?y\n  (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> F ?x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. norm (f n *\\<^sub>v x))\n    \\<longlonglongrightarrow> norm (F x)", "by (simp add: tendsto_norm)"], ["proof (state)\nthis:\n  (\\<lambda>n. norm (f n *\\<^sub>v ?x))\n  \\<longlonglongrightarrow> norm (F ?x)\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "hence norm_f_n_x: \\<open>\\<exists> M. \\<forall> n. norm ((*\\<^sub>v) (f n) x) \\<le> M\\<close> for x"], ["proof (prove)\nusing this:\n  (\\<lambda>n. norm (f n *\\<^sub>v ?x))\n  \\<longlonglongrightarrow> norm (F ?x)\n\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v x) \\<le> M", "using Elementary_Metric_Spaces.convergent_imp_bounded"], ["proof (prove)\nusing this:\n  (\\<lambda>n. norm (f n *\\<^sub>v ?x))\n  \\<longlonglongrightarrow> norm (F ?x)\n  ?S \\<longlonglongrightarrow> ?l \\<Longrightarrow> bounded (range ?S)\n\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v x) \\<le> M", "by (metis UNIV_I \\<open>\\<And> x::'a. (\\<lambda> n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> F x\\<close> bounded_iff image_eqI)"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v ?x) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have norm_f: \\<open>\\<exists>K. \\<forall>n. \\<forall>x. norm ((*\\<^sub>v) (f n) x) \\<le> norm x * K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "have \\<open>\\<exists> M. \\<forall> n. norm ((*\\<^sub>v) (f n) x) \\<le> M\\<close> for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v x) \\<le> M", "using norm_f_n_x  \\<open>\\<And>x. (\\<lambda>n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> F x\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v ?x) \\<le> M\n  (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> F ?x\n\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v x) \\<le> M", "by blast"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v ?x) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "hence \\<open>\\<exists> M. \\<forall> n. norm (f n) \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v ?x) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n) \\<le> M", "using norm_f_n"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>n. norm (f n *\\<^sub>v ?x) \\<le> M\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>M. \\<forall>n. norm (f n) \\<le> M", "by simp"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "then"], ["proof (chain)\npicking this:\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M", "obtain M::real where \\<open>\\<exists> M. \\<forall> n. norm (f n) \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M\n\ngoal (1 subgoal):\n 1. (\\<exists>M. \\<forall>n. norm (f n) \\<le> M \\<Longrightarrow>\n     thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "have \\<open>\\<forall> n. \\<forall>x. norm ((*\\<^sub>v) (f n) x) \\<le> norm x * norm (f n)\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * norm (f n)", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f.\n       pred_fun top bounded_linear f \\<Longrightarrow>\n       \\<forall>n x. norm (f n x) \\<le> norm x * onorm (f n)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f n x.\n       \\<forall>x. bounded_linear (f x) \\<Longrightarrow>\n       norm (f n x) \\<le> norm x * onorm (f n)", "by (metis mult.commute onorm)"], ["proof (state)\nthis:\n  \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * norm (f n)\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "thus  ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * norm (f n)\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "using \\<open>\\<exists> M. \\<forall> n. norm (f n) \\<le> M\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * norm (f n)\n  \\<exists>M. \\<forall>n. norm (f n) \\<le> M\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "by (metis (no_types, hide_lams) dual_order.trans norm_eq_zero order_refl \n          mult_le_cancel_iff2 vector_space_over_itself.scale_zero_left zero_less_norm_iff)"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have norm_F_x: \\<open>\\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K", "have \"\\<exists>K. \\<forall>n. \\<forall>x. norm ((*\\<^sub>v) (f n) x) \\<le> norm x * K\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "using norm_f \\<open>\\<And>x. (\\<lambda>n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> F x\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K\n  (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> F ?x\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K", "by auto"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K", "using  \\<open>\\<And> x::'a. (\\<lambda> n. (*\\<^sub>v) (f n)  x) \\<longlonglongrightarrow> F x\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>K. \\<forall>n x. norm (f n *\\<^sub>v x) \\<le> norm x * K\n  (\\<lambda>n. f n *\\<^sub>v ?x) \\<longlonglongrightarrow> F ?x\n\ngoal (1 subgoal):\n 1. \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f F.\n       \\<lbrakk>pred_fun top bounded_linear f;\n        \\<exists>K. \\<forall>n x. norm (f n x) \\<le> norm x * K;\n        \\<And>x. (\\<lambda>n. f n x) \\<longlonglongrightarrow> F x\\<rbrakk>\n       \\<Longrightarrow> \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K", "by (metis Lim_bounded tendsto_norm)"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have \\<open>linear F\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. linear F", "proof(rule linear_limit_linear)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>n. linear (?f n)\n 2. ?f \\<midarrow>pointwise\\<rightarrow> F", "show \\<open>linear ((*\\<^sub>v) (f n))\\<close> for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. linear ((*\\<^sub>v) (f n))", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f n. pred_fun top bounded_linear f \\<Longrightarrow> linear (f n)", "apply auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>f n.\n       \\<forall>x. bounded_linear (f x) \\<Longrightarrow> linear (f n)", "by (simp add: bounded_linear.linear)"], ["proof (state)\nthis:\n  linear ((*\\<^sub>v) (f ?n))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (*\\<^sub>v) (f (?n6 n)))\n    \\<midarrow>pointwise\\<rightarrow> F", "show \\<open>f \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. (*\\<^sub>v) (f x)) \\<midarrow>pointwise\\<rightarrow> F", "using \\<open>(\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\nusing this:\n  (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. (*\\<^sub>v) (f x)) \\<midarrow>pointwise\\<rightarrow> F", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. (*\\<^sub>v) (f x)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  linear F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "moreover"], ["proof (state)\nthis:\n  linear F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "have \\<open>bounded_linear_axioms F\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. bounded_linear_axioms F", "using norm_F_x"], ["proof (prove)\nusing this:\n  \\<exists>K. \\<forall>x. norm (F x) \\<le> norm x * K\n\ngoal (1 subgoal):\n 1. bounded_linear_axioms F", "by (simp add: \\<open>\\<And>x. (\\<lambda>n. (*\\<^sub>v) (f n) x) \\<longlonglongrightarrow> F x\\<close> bounded_linear_axioms_def)"], ["proof (state)\nthis:\n  bounded_linear_axioms F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "ultimately"], ["proof (chain)\npicking this:\n  linear F\n  bounded_linear_axioms F", "have \\<open>bounded_linear F\\<close>"], ["proof (prove)\nusing this:\n  linear F\n  bounded_linear_axioms F\n\ngoal (1 subgoal):\n 1. bounded_linear F", "unfolding bounded_linear_def"], ["proof (prove)\nusing this:\n  linear F\n  bounded_linear_axioms F\n\ngoal (1 subgoal):\n 1. linear F \\<and> bounded_linear_axioms F", "by blast"], ["proof (state)\nthis:\n  bounded_linear F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "hence \\<open>\\<exists>g. (*\\<^sub>v) g = F\\<close>"], ["proof (prove)\nusing this:\n  bounded_linear F\n\ngoal (1 subgoal):\n 1. \\<exists>g. (*\\<^sub>v) g = F", "using bounded_linear_Blinfun_apply"], ["proof (prove)\nusing this:\n  bounded_linear F\n  bounded_linear ?f \\<Longrightarrow> (*\\<^sub>v) (Blinfun ?f) = ?f\n\ngoal (1 subgoal):\n 1. \\<exists>g. (*\\<^sub>v) g = F", "by auto"], ["proof (state)\nthis:\n  \\<exists>g. (*\\<^sub>v) g = F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>g. (*\\<^sub>v) g = F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "using \\<open>(\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\\<close>"], ["proof (prove)\nusing this:\n  \\<exists>g. (*\\<^sub>v) g = F\n  (\\<lambda>n. (*\\<^sub>v) (f n)) \\<midarrow>pointwise\\<rightarrow> F\n\ngoal (1 subgoal):\n 1. \\<exists>g.\n       (\\<lambda>n. (*\\<^sub>v) (f n))\n       \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g", "apply transfer"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>F f.\n       \\<lbrakk>\\<exists>g\\<in>Collect bounded_linear. g = F;\n        pred_fun top bounded_linear f;\n        f \\<midarrow>pointwise\\<rightarrow> F\\<rbrakk>\n       \\<Longrightarrow> Bex (Collect bounded_linear)\n                          (pointwise_convergent_to f)", "by auto"], ["proof (state)\nthis:\n  \\<exists>g.\n     (\\<lambda>n. (*\\<^sub>v) (f n))\n     \\<midarrow>pointwise\\<rightarrow> (*\\<^sub>v) g\n\ngoal:\nNo subgoals!", "qed"], ["", "end"]]}