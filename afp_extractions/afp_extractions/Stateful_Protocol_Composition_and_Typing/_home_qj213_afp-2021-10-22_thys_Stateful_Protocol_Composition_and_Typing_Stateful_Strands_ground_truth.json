{"file_name": "/home/qj213/afp-2021-10-22/thys/Stateful_Protocol_Composition_and_Typing/Stateful_Strands.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Stateful_Protocol_Composition_and_Typing", "problem_names": ["lemma trms_list\\<^sub>s\\<^sub>s\\<^sub>t_is_trms\\<^sub>s\\<^sub>s\\<^sub>t: \"trms\\<^sub>s\\<^sub>s\\<^sub>t S = set (trms_list\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma setops_list\\<^sub>s\\<^sub>s\\<^sub>t_is_setops\\<^sub>s\\<^sub>s\\<^sub>t: \"setops\\<^sub>s\\<^sub>s\\<^sub>t S = set (setops_list\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p: \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a = set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\"", "lemma fv_list\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t: \"fv\\<^sub>s\\<^sub>s\\<^sub>t S = set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (vars\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (fv\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x))\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (bvars\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma subst_sst_nil[simp]: \"[] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = []\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]: \"db\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I> = []\"", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]: \"ik\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\"", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"ik\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> ik\\<^sub>s\\<^sub>s\\<^sub>t B\"", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_subst: \"ik\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) = ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_set_is_dbupd\\<^sub>s\\<^sub>s\\<^sub>t: \"set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) = dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\" (is \"?A = ?B\")", "lemma dbupd\\<^sub>s\\<^sub>s\\<^sub>t_no_upd:\n  assumes \"\\<forall>a \\<in> set A. \\<not>is_Insert a \\<and> \\<not>is_Delete a\"\n  shows \"dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_no_upd:\n  assumes \"\\<forall>a \\<in> set A. \\<not>is_Insert a \\<and> \\<not>is_Delete a\"\n  shows \"db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_no_upd_append:\n  assumes \"\\<forall>b \\<in> set B. \\<not>is_Insert b \\<and> \\<not>is_Delete b\"\n  shows \"db'\\<^sub>s\\<^sub>s\\<^sub>t A = db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_append:\n  \"db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) I D = db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_in_cases:\n  assumes \"(t,s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\"\n  shows \"(t,s) \\<in> set D \\<or> (\\<exists>t' s'. insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and> t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_in_cases':\n  assumes \"(t,s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\"\n    and \"(t,s) \\<notin> set D\"\n  shows \"\\<exists>B C t' s'. A = B@insert\\<langle>t',s'\\<rangle>#C \\<and> t = t' \\<cdot> I \\<and> s = s' \\<cdot> I \\<and>\n                     (\\<forall>t'' s''. delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow> t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\"", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_filter:\n  \"db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = db'\\<^sub>s\\<^sub>s\\<^sub>t (filter is_Update A) I D\"", "lemma subst_sst_cons: \"a#A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)#(A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"", "lemma subst_sst_snoc: \"A@[a] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)@[a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>]\"", "lemma subst_sst_append[simp]: \"A@B \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)@(B \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"", "lemma sst_vars_append_subset:\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\" \"bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t B \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\" \"bvars\\<^sub>s\\<^sub>s\\<^sub>t B \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\"", "lemma sst_vars_disj_cons[simp]: \"fv\\<^sub>s\\<^sub>s\\<^sub>t (a#A) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = {} \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t A = {}\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset[simp]: \"fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a#A)\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases[simp]:\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) - set X\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_cases[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) = fv t\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) = fv t\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union> set X\" (is ?A)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,s)] \\<or>\\<notin>: []\\<rangle>) = fv t \\<union> fv s \\<union> set X\" (is ?B)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,s)]\\<rangle>) = fv t \\<union> fv s \\<union> set X\" (is ?C)", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> set X\" (is ?A)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union> fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union> set X\" (is ?B)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union> fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union> set X\" (is ?C)", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a#A)\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) = bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_subst: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) = bvars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_set_cases[simp]:\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>)) = set X\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegChecks: \"\\<not>is_NegChecks a \\<Longrightarrow> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a = []\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_NegChecks: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t A = bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks A)\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"vars\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = vars\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t B\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_Nil[simp]: \"vars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_Cons: \"vars\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_Cons: \"fv\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_Cons: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_Cons'[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>a: t \\<doteq> s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>a: t \\<doteq> s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>a: t \\<in> s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>a: t \\<in> s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p:\n  fixes x::\"('a,'b) stateful_strand_step\"\n  shows \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t_bvars\\<^sub>s\\<^sub>s\\<^sub>t:\n  fixes S::\"('a,'b) stateful_strand\"\n  shows \"vars\\<^sub>s\\<^sub>s\\<^sub>t S = fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegCheck[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = set X \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegCheck[simp]:\n  \"bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = X\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>)) = {}\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegCheck[simp]:\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G - set X\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>t != s\\<rangle>) = fv t \\<union> fv s\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>t not in s\\<rangle>) = fv t \\<union> fv s\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"fv\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t B\"", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t B\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\"\n  shows \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow> Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A)\"", "lemma var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p:\n  assumes \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\"\n  shows \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\"", "lemma var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t: \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma var_trms\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t: \"Var x \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_trms\\<^sub>s\\<^sub>s\\<^sub>t_subset: \"ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma var_subterm_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t: \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma var_subterm_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t:\n  assumes \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A)\"\n  shows \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma fv_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A)\"\n  shows \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma fv_trms\\<^sub>s\\<^sub>s\\<^sub>t_subset:\n  \"fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma fv_ik_subset_fv_sst'[simp]: \"fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"", "lemma fv_ik_subset_vars_sst'[simp]: \"fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\"", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_var_is_fv: \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases':\n  assumes x: \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  shows \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\"", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_subst_cases:\n  assumes \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  shows \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma subset_subst_pairs_diff_exists:\n  fixes \\<I>::\"('a,'b) subst\" and D D'::\"('a,'b) dbstate\"\n  shows \"\\<exists>Di. Di \\<subseteq> D \\<and> Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> = (D \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>) - D'\"", "lemma subset_subst_pairs_diff_exists':\n  fixes \\<I>::\"('a,'b) subst\" and D::\"('a,'b) dbstate\"\n  assumes \"finite D\"\n  shows \"\\<exists>Di. Di \\<subseteq> D \\<and> Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and> d \\<cdot>\\<^sub>p \\<I> \\<notin> (D - Di) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\"", "lemma stateful_strand_step_subst_inI[intro]:\n  \"send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow> receive\\<langle>t \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> (s \\<cdot> \\<theta>)\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"insert\\<langle>t, s\\<rangle> \\<in> set A \\<Longrightarrow> insert\\<langle>t \\<cdot> \\<theta>, s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"delete\\<langle>t, s\\<rangle> \\<in> set A \\<Longrightarrow> delete\\<langle>t \\<cdot> \\<theta>, s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>c: (t \\<cdot> \\<theta>) \\<in> (s \\<cdot> \\<theta>)\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<in> set A \n    \\<Longrightarrow> \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<or>\\<notin>: (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>)\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"", "lemma stateful_strand_step_cases_subst:\n  \"is_Send a = is_Send (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Receive a = is_Receive (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Equality a = is_Equality (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Insert a = is_Insert (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Delete a = is_Delete (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_InSet a = is_InSet (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_NegChecks a = is_NegChecks (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Assignment a = is_Assignment (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Check a = is_Check (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Update a = is_Update (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"", "lemma stateful_strand_step_subst_inv_cases:\n  \"send\\<langle>t\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t'. t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set S\"\n  \"receive\\<langle>t\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t'. t = t' \\<cdot> \\<sigma> \\<and> receive\\<langle>t'\\<rangle> \\<in> set S\"\n  \"\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S\"\n  \"insert\\<langle>t,s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> insert\\<langle>t',s'\\<rangle> \\<in> set S\"\n  \"delete\\<langle>t,s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> delete\\<langle>t',s'\\<rangle> \\<in> set S\"\n  \"\\<langle>c: t \\<in> s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S\"\n  \"\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'. F = F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<sigma> \\<and> G = G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle> \\<in> set S\"", "lemma stateful_strand_step_fv_subset_cases:\n  \"send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"\\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<in> set S \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G - set X \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]:\n  \"trms\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_mono:\n  \"set M \\<subseteq> set N \\<Longrightarrow> trms\\<^sub>s\\<^sub>s\\<^sub>t M \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t N\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_in:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  shows \"\\<exists>a \\<in> set S. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_cons: \"trms\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"trms\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t B\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst:\n  assumes \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter> subst_domain \\<theta> = {}\"\n  shows \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst':\n  assumes \"\\<not>is_NegChecks a\"\n  shows \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst'':\n  fixes t::\"('a,'b) term\" and \\<delta>::\"('a,'b) subst\"\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\"\n  shows \"\\<exists>s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b. t = s \\<cdot> rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst''':\n  fixes t::\"('a,'b) term\" and \\<delta> \\<theta>::\"('a,'b) subst\"\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"\n  shows \"\\<exists>s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b. t = s \\<cdot> rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta> \\<circ>\\<^sub>s \\<theta>\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\"\n  shows \"trms\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_subst_cons:\n  \"trms\\<^sub>s\\<^sub>s\\<^sub>t (a#A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"", "lemma (in intruder_model) wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst:\n  assumes \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\"\n  shows \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_fv_vars\\<^sub>s\\<^sub>s\\<^sub>t_subset: \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow> fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_fv_subst_subset:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\" \"subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"fv (t \\<cdot> \\<theta>) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_fv_subst_subset':\n  assumes \"t \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\" \"fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\" \"fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"fv (t \\<cdot> \\<theta>) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_funs_term_cases:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\" \"f \\<in> funs_term t\"\n  shows \"(\\<exists>u \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s. f \\<in> funs_term u) \\<or> (\\<exists>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s. f \\<in> funs_term (\\<theta> x))\"", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_funs_term_cases:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\" \"f \\<in> funs_term t\"\n  shows \"(\\<exists>u \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S. f \\<in> funs_term u) \\<or> (\\<exists>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S. f \\<in> funs_term (\\<theta> x))\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t T\"\n    and \"bvars\\<^sub>s\\<^sub>s\\<^sub>t T \\<inter> subst_domain \\<theta> = {}\"\n  shows \"\\<theta> x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (T \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>))\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_fv_subset:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\" \"x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\" \"fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"fv (\\<theta> x) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"", "lemma (in intruder_model) wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s_trms\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\"\n  shows \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_obtain_var:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"\n  shows \"\\<exists>y \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_subset_range_vars_if_subset_domain:\n  assumes \"fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> subst_domain \\<sigma>\"\n  shows \"fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<subseteq> range_vars \\<sigma>\"", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_in_fv_trms\\<^sub>s\\<^sub>s\\<^sub>t: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\"", "lemma stateful_strand_step_subst_comp:\n  assumes \"range_vars \\<delta> \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) = {}\"\n  shows \"x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<theta> = (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>\"", "lemma stateful_strand_subst_comp:\n  assumes \"range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> = (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>\"", "lemma subst_apply_bvars_disj_NegChecks:\n  assumes \"set X \\<inter> subst_domain \\<theta> = {}\"\n  shows \"NegChecks X F G \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = NegChecks X (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\"", "lemma subst_apply_NegChecks_no_bvars[simp]:\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<or>\\<notin>: (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\\<rangle>\"\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: F'\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\\<rangle>\"\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<or>\\<notin>: []\\<rangle>\"\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: ([(t \\<cdot> \\<theta>,s \\<cdot> \\<theta>)])\\<rangle>\" (is ?A)\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: [(t,s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: ([(t \\<cdot> \\<theta>,s \\<cdot> \\<theta>)]) \\<or>\\<notin>: []\\<rangle>\" (is ?B)", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_mono:\n  \"set M \\<subseteq> set N \\<Longrightarrow> setops\\<^sub>s\\<^sub>s\\<^sub>t M \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t N\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]: \"setops\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_cons[simp]: \"setops\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> setops\\<^sub>s\\<^sub>s\\<^sub>t A\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset[simp]: \"setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t (a#A)\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_append: \"setops\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> setops\\<^sub>s\\<^sub>s\\<^sub>t B\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_member_iff:\n  \"(t,s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<longleftrightarrow>\n    (x = Insert t s \\<or> x = Delete t s \\<or> (\\<exists>ac. x = InSet ac t s) \\<or>\n     (\\<exists>X F F'. x = NegChecks X F F' \\<and> (t,s) \\<in> set F'))\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_member_iff:\n  \"(t,s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<longleftrightarrow>\n    (Insert t s \\<in> set A \\<or> Delete t s \\<in> set A \\<or> (\\<exists>ac. InSet ac t s \\<in> set A) \\<or>\n     (\\<exists>X F F'. NegChecks X F F' \\<in> set A \\<and> (t,s) \\<in> set F'))\"\n  (is \"?P \\<longleftrightarrow> ?Q\")", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst:\n  assumes \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter> subst_domain \\<theta> = {}\"\n  shows \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst':\n  assumes \"\\<not>is_NegChecks a\"\n  shows \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst'':\n  fixes t::\"('a,'b) term \\<times> ('a,'b) term\" and \\<delta>::\"('a,'b) subst\"\n  assumes t: \"t \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\"\n  shows \"\\<exists>s \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b. t = s \\<cdot>\\<^sub>p rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\"\n  shows \"setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_subst':\n  fixes p::\"('a,'b) term \\<times> ('a,'b) term\" and \\<delta>::\"('a,'b) subst\"\n  assumes \"p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"\n  shows \"\\<exists>s \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t S. \\<exists>X. set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and> p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\"", "lemmas strand_sem_stateful_induct =\n  strand_sem_stateful.induct[case_names Nil ConsSnd ConsRcv ConsEq\n                                        ConsIns ConsDel ConsIn ConsNegChecks]", "lemma stateful_strand_sem_NegChecks_no_bvars:\n  \"\\<lbrakk>M; D; [\\<langle>t not in s\\<rangle>]\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow> (t \\<cdot> \\<I>, s \\<cdot> \\<I>) \\<notin> D\"\n  \"\\<lbrakk>M; D; [\\<langle>t != s\\<rangle>]\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow> t \\<cdot> \\<I> \\<noteq> s \\<cdot> \\<I>\"", "lemma strand_sem_ik_mono_stateful:\n  \"\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow> \\<lbrakk>M \\<union> M'; D; A\\<rbrakk>\\<^sub>s \\<I>\"", "lemma strand_sem_append_stateful:\n  \"\\<lbrakk>M; D; A@B\\<rbrakk>\\<^sub>s \\<I> \\<longleftrightarrow> \\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and> \\<lbrakk>M \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D; B\\<rbrakk>\\<^sub>s \\<I>\"\n  (is \"?P \\<longleftrightarrow> ?Q \\<and> ?R\")", "lemma negchecks_model_db_subset:\n  fixes F F'::\"(('a,'b) term \\<times> ('a,'b) term) list\"\n  assumes \"D' \\<subseteq> D\"\n  and \"negchecks_model \\<I> D X F F'\"\n  shows \"negchecks_model \\<I> D' X F F'\"", "lemma negchecks_model_db_supset:\n  fixes F F'::\"(('a,'b) term \\<times> ('a,'b) term) list\"\n  assumes \"D' \\<subseteq> D\"\n    and \"\\<forall>f \\<in> set F'. \\<forall>\\<delta>. subst_domain \\<delta> = set X \\<and> ground (subst_range \\<delta>) \\<longrightarrow> f \\<cdot>\\<^sub>p (\\<delta> \\<circ>\\<^sub>s \\<I>) \\<notin> D - D'\"\n    and \"negchecks_model \\<I> D' X F F'\"\n  shows \"negchecks_model \\<I> D X F F'\"", "lemma negchecks_model_subst:\n  fixes F F'::\"(('a,'b) term \\<times> ('a,'b) term) list\"\n  assumes \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\"\n  shows \"negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' \\<longleftrightarrow> negchecks_model \\<theta> D X (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>) (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\"", "lemma strand_sem_subst_stateful:\n  fixes \\<delta>::\"('fun,'var) subst\"\n  assumes \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<longleftrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s \\<theta>\"", "lemma wfvarsocc\\<^sub>s\\<^sub>s\\<^sub>t_subset_wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t[simp]:\n  \"wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\"", "lemma wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_append: \"wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (S@S') = wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S'\"", "lemma wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_union[simp]:\n  \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (S@T) = wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t T\"", "lemma wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_singleton:\n  \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [s] = wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_prefix[dest]: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S') \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>tI[intro]: \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>tI'[intro]:\n  assumes \"\\<Union>((\\<lambda>x. case x of\n            Receive t \\<Rightarrow> fv t\n          | Equality Assign _ t' \\<Rightarrow> fv t'\n          | Insert t t' \\<Rightarrow> fv t \\<union> fv t'\n          | _ \\<Rightarrow> {}) ` set S) \\<subseteq> V\"\n  shows \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append_exec: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S') \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append:\n  \"wf'\\<^sub>s\\<^sub>s\\<^sub>t X S \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (X \\<union> Y) (S@T)\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append_suffix:\n  \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S')\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append_suffix':\n  assumes \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\"\n    and \"\\<Union>((\\<lambda>x. case x of\n            Receive t \\<Rightarrow> fv t\n          | Equality Assign _ t' \\<Rightarrow> fv t'\n          | Insert t t' \\<Rightarrow> fv t \\<union> fv t'\n          | _ \\<Rightarrow> {}) ` set S') \\<subseteq> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\"\n  shows \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S')\"", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_subst_apply:\n  \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], "translations": [["", "lemma trms_list\\<^sub>s\\<^sub>s\\<^sub>t_is_trms\\<^sub>s\\<^sub>s\\<^sub>t: \"trms\\<^sub>s\\<^sub>s\\<^sub>t S = set (trms_list\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t S =\n    set (trms_list\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding trms\\<^sub>s\\<^sub>t_def trms_list\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t S =\n    set (remdups (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    set (remdups\n          (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p [])))\n 2. \\<And>a S.\n       trms\\<^sub>s\\<^sub>s\\<^sub>t S =\n       set (remdups\n             (concat\n               (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 S))) \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n       set (remdups\n             (concat\n               (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a # S))))", "case (Cons x S)"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t S =\n  set (remdups (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n\ngoal (2 subgoals):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    set (remdups\n          (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p [])))\n 2. \\<And>a S.\n       trms\\<^sub>s\\<^sub>s\\<^sub>t S =\n       set (remdups\n             (concat\n               (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 S))) \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n       set (remdups\n             (concat\n               (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a # S))))", "thus ?case"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t S =\n  set (remdups (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n    set (remdups\n          (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))", "by (cases x) auto"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  set (remdups\n        (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    set (remdups\n          (concat (map trms_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p [])))", "qed simp"], ["", "lemma setops_list\\<^sub>s\\<^sub>s\\<^sub>t_is_setops\\<^sub>s\\<^sub>s\\<^sub>t: \"setops\\<^sub>s\\<^sub>s\\<^sub>t S = set (setops_list\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t S =\n    set (setops_list\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding setops\\<^sub>s\\<^sub>s\\<^sub>t_def setops_list\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S) =\n    set (remdups\n          (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set []) =\n    set (remdups\n          (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p [])))\n 2. \\<And>a S.\n       \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S) =\n       set (remdups\n             (concat\n               (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 S))) \\<Longrightarrow>\n       \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (a # S)) =\n       set (remdups\n             (concat\n               (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a # S))))", "case (Cons x S)"], ["proof (state)\nthis:\n  \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S) =\n  set (remdups (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n\ngoal (2 subgoals):\n 1. \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set []) =\n    set (remdups\n          (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p [])))\n 2. \\<And>a S.\n       \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S) =\n       set (remdups\n             (concat\n               (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 S))) \\<Longrightarrow>\n       \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (a # S)) =\n       set (remdups\n             (concat\n               (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a # S))))", "thus ?case"], ["proof (prove)\nusing this:\n  \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S) =\n  set (remdups (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n\ngoal (1 subgoal):\n 1. \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (x # S)) =\n    set (remdups\n          (concat\n            (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))", "by (cases x) auto"], ["proof (state)\nthis:\n  \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (x # S)) =\n  set (remdups\n        (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n\ngoal (1 subgoal):\n 1. \\<Union> (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set []) =\n    set (remdups\n          (concat (map setops_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p [])))", "qed simp"], ["", "lemma fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p: \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a = set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n    set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n    set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "using fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_append[of F G] fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_append[of F G]\n          fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_is_fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s[of \"F@G\"]"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F @ G) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F @ G) =\n  fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F @\n  fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F @ G) =\n  set (fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F @ G))\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n    set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "by auto"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n  set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a =\n       set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "qed (simp_all add: fv_list\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_is_fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s fv_list_is_fv)"], ["", "lemma fv_list\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t: \"fv\\<^sub>s\\<^sub>s\\<^sub>t S = set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t S = set (fv_list\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding fv\\<^sub>s\\<^sub>s\\<^sub>t_def fv_list\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)) =\n    set (remdups (concat (map fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))", "by (induct S) (simp_all add: fv_list\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p)"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "by (cases x) auto"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (trms\\<^sub>s\\<^sub>s\\<^sub>t S)", "using trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite"], ["proof (prove)\nusing this:\n  finite (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x)\n\ngoal (1 subgoal):\n 1. finite (trms\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding trms\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  finite (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x)\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S))", "by (induct S) auto"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "by (cases x) auto"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (vars\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (vars\\<^sub>s\\<^sub>s\\<^sub>t S)", "using vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite"], ["proof (prove)\nusing this:\n  finite (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x)\n\ngoal (1 subgoal):\n 1. finite (vars\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding vars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  finite (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x)\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (set (map vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))", "by (induct S) auto"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "by (cases x) auto"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (fv\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (fv\\<^sub>s\\<^sub>s\\<^sub>t S)", "using fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite"], ["proof (prove)\nusing this:\n  finite (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x)\n\ngoal (1 subgoal):\n 1. finite (fv\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding fv\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  finite (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x)\n\ngoal (1 subgoal):\n 1. finite (\\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))", "by (induct S) auto"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite[simp]: \"finite (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x))", "by (rule finite_set)"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_finite[simp]: \"finite (bvars\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite (bvars\\<^sub>s\\<^sub>s\\<^sub>t S)", "using bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_finite"], ["proof (prove)\nusing this:\n  finite (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x))\n\ngoal (1 subgoal):\n 1. finite (bvars\\<^sub>s\\<^sub>s\\<^sub>t S)", "unfolding bvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  finite (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?x))\n\ngoal (1 subgoal):\n 1. finite\n     (\\<Union>\n       (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p) S)))", "by (induct S) auto"], ["", "lemma subst_sst_nil[simp]: \"[] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = []", "by (simp add: subst_apply_stateful_strand_def)"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]: \"db\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I> = []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. db\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I> = []", "by (simp add: db\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]: \"ik\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t [] = {}", "by (simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"ik\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> ik\\<^sub>s\\<^sub>s\\<^sub>t B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n    ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> ik\\<^sub>s\\<^sub>s\\<^sub>t B", "by (auto simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_subst: \"ik\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) = ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    ik\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>\n 2. \\<And>a A.\n       ik\\<^sub>s\\<^sub>s\\<^sub>t\n        (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n       ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<delta> \\<Longrightarrow>\n       ik\\<^sub>s\\<^sub>s\\<^sub>t\n        (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n       ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<delta>", "case (Cons a A)"], ["proof (state)\nthis:\n  ik\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n  ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>\n\ngoal (2 subgoals):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    ik\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>\n 2. \\<And>a A.\n       ik\\<^sub>s\\<^sub>s\\<^sub>t\n        (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n       ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<delta> \\<Longrightarrow>\n       ik\\<^sub>s\\<^sub>s\\<^sub>t\n        (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n       ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<delta>", "thus ?case"], ["proof (prove)\nusing this:\n  ik\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n  ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>\n\ngoal (1 subgoal):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>", "by (cases a) (auto simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  ik\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n  ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<delta>\n\ngoal (1 subgoal):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    ik\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>", "qed simp"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_set_is_dbupd\\<^sub>s\\<^sub>s\\<^sub>t: \"set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) = dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\" (is \"?A = ?B\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) =\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n    \\<subseteq> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n 2. dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n    \\<subseteq> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "show \"?A \\<subseteq> ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n    \\<subseteq> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (x, y)\n       \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n       (x, y) \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)", "fix t s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (x, y)\n       \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n       (x, y) \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)", "show \"(t,s) \\<in> ?A \\<Longrightarrow> (t,s) \\<in> ?B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n    (t, s) \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)", "by (induct rule: db'\\<^sub>s\\<^sub>s\\<^sub>t.induct) auto"], ["proof (state)\nthis:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  (t, s) \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n  \\<subseteq> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n\ngoal (1 subgoal):\n 1. dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n    \\<subseteq> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "show \"?B \\<subseteq> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n    \\<subseteq> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (x, y)\n       \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D) \\<Longrightarrow>\n       (x, y) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "fix t s"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       (x, y)\n       \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D) \\<Longrightarrow>\n       (x, y) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "show \"(t,s) \\<in> ?B \\<Longrightarrow> (t,s) \\<in> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t, s) \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D) \\<Longrightarrow>\n    (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "by (induct arbitrary: D rule: dbupd\\<^sub>s\\<^sub>s\\<^sub>t.induct) auto"], ["proof (state)\nthis:\n  (t, s) \\<in> dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D) \\<Longrightarrow>\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I (set D)\n  \\<subseteq> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma dbupd\\<^sub>s\\<^sub>s\\<^sub>t_no_upd:\n  assumes \"\\<forall>a \\<in> set A. \\<not>is_Insert a \\<and> \\<not>is_Delete a\"\n  shows \"dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set A. \\<not> is_Insert a \\<and> \\<not> is_Delete a\n\ngoal (1 subgoal):\n 1. dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>a\\<in>set [].\n       \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] I D = D\n 2. \\<And>a A.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   \\<not> is_Insert a \\<and>\n                   \\<not> is_Delete a \\<Longrightarrow>\n                dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D;\n        \\<forall>a\\<in>set (a # A).\n           \\<not> is_Insert a \\<and> \\<not> is_Delete a\\<rbrakk>\n       \\<Longrightarrow> dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D", "case (Cons a A)"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set A.\n     \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\n  \\<forall>a\\<in>set (a # A). \\<not> is_Insert a \\<and> \\<not> is_Delete a\n\ngoal (2 subgoals):\n 1. \\<forall>a\\<in>set [].\n       \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] I D = D\n 2. \\<And>a A.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   \\<not> is_Insert a \\<and>\n                   \\<not> is_Delete a \\<Longrightarrow>\n                dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D;\n        \\<forall>a\\<in>set (a # A).\n           \\<not> is_Insert a \\<and> \\<not> is_Delete a\\<rbrakk>\n       \\<Longrightarrow> dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set A.\n     \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\n  \\<forall>a\\<in>set (a # A). \\<not> is_Insert a \\<and> \\<not> is_Delete a\n\ngoal (1 subgoal):\n 1. dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D", "by (cases a) auto"], ["proof (state)\nthis:\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set [].\n       \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] I D = D", "qed simp"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_no_upd:\n  assumes \"\\<forall>a \\<in> set A. \\<not>is_Insert a \\<and> \\<not>is_Delete a\"\n  shows \"db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set A. \\<not> is_Insert a \\<and> \\<not> is_Delete a\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>a\\<in>set [].\n       \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n    db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D = D\n 2. \\<And>a A.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   \\<not> is_Insert a \\<and>\n                   \\<not> is_Delete a \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D;\n        \\<forall>a\\<in>set (a # A).\n           \\<not> is_Insert a \\<and> \\<not> is_Delete a\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D", "case (Cons a A)"], ["proof (state)\nthis:\n  \\<forall>a\\<in>set A.\n     \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n  db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\n  \\<forall>a\\<in>set (a # A). \\<not> is_Insert a \\<and> \\<not> is_Delete a\n\ngoal (2 subgoals):\n 1. \\<forall>a\\<in>set [].\n       \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n    db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D = D\n 2. \\<And>a A.\n       \\<lbrakk>\\<forall>a\\<in>set A.\n                   \\<not> is_Insert a \\<and>\n                   \\<not> is_Delete a \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D;\n        \\<forall>a\\<in>set (a # A).\n           \\<not> is_Insert a \\<and> \\<not> is_Delete a\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>a\\<in>set A.\n     \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n  db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = D\n  \\<forall>a\\<in>set (a # A). \\<not> is_Insert a \\<and> \\<not> is_Delete a\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D", "by (cases a) auto"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D = D\n\ngoal (1 subgoal):\n 1. \\<forall>a\\<in>set [].\n       \\<not> is_Insert a \\<and> \\<not> is_Delete a \\<Longrightarrow>\n    db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D = D", "qed simp"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_no_upd_append:\n  assumes \"\\<forall>b \\<in> set B. \\<not>is_Insert b \\<and> \\<not>is_Delete b\"\n  shows \"db'\\<^sub>s\\<^sub>s\\<^sub>t A = db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t A = db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B)", "using assms"], ["proof (prove)\nusing this:\n  \\<forall>b\\<in>set B. \\<not> is_Insert b \\<and> \\<not> is_Delete b\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t A = db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B)", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>b\\<in>set B.\n       \\<not> is_Insert b \\<and> \\<not> is_Delete b \\<Longrightarrow>\n    db'\\<^sub>s\\<^sub>s\\<^sub>t [] = db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B)\n 2. \\<And>a A.\n       \\<lbrakk>\\<forall>b\\<in>set B.\n                   \\<not> is_Insert b \\<and>\n                   \\<not> is_Delete b \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A =\n                db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B);\n        \\<forall>b\\<in>set B.\n           \\<not> is_Insert b \\<and> \\<not> is_Delete b\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n                         db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)", "case Nil"], ["proof (state)\nthis:\n  \\<forall>b\\<in>set B. \\<not> is_Insert b \\<and> \\<not> is_Delete b\n\ngoal (2 subgoals):\n 1. \\<forall>b\\<in>set B.\n       \\<not> is_Insert b \\<and> \\<not> is_Delete b \\<Longrightarrow>\n    db'\\<^sub>s\\<^sub>s\\<^sub>t [] = db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B)\n 2. \\<And>a A.\n       \\<lbrakk>\\<forall>b\\<in>set B.\n                   \\<not> is_Insert b \\<and>\n                   \\<not> is_Delete b \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A =\n                db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B);\n        \\<forall>b\\<in>set B.\n           \\<not> is_Insert b \\<and> \\<not> is_Delete b\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n                         db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>b\\<in>set B. \\<not> is_Insert b \\<and> \\<not> is_Delete b\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t [] = db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B)", "by (simp add: db\\<^sub>s\\<^sub>s\\<^sub>t_no_upd)"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [] = db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B)\n\ngoal (1 subgoal):\n 1. \\<And>a A.\n       \\<lbrakk>\\<forall>b\\<in>set B.\n                   \\<not> is_Insert b \\<and>\n                   \\<not> is_Delete b \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A =\n                db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B);\n        \\<forall>b\\<in>set B.\n           \\<not> is_Insert b \\<and> \\<not> is_Delete b\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n                         db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a A.\n       \\<lbrakk>\\<forall>b\\<in>set B.\n                   \\<not> is_Insert b \\<and>\n                   \\<not> is_Delete b \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A =\n                db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B);\n        \\<forall>b\\<in>set B.\n           \\<not> is_Insert b \\<and> \\<not> is_Delete b\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n                         db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)", "case (Cons a A)"], ["proof (state)\nthis:\n  \\<forall>b\\<in>set B.\n     \\<not> is_Insert b \\<and> \\<not> is_Delete b \\<Longrightarrow>\n  db'\\<^sub>s\\<^sub>s\\<^sub>t A = db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B)\n  \\<forall>b\\<in>set B. \\<not> is_Insert b \\<and> \\<not> is_Delete b\n\ngoal (1 subgoal):\n 1. \\<And>a A.\n       \\<lbrakk>\\<forall>b\\<in>set B.\n                   \\<not> is_Insert b \\<and>\n                   \\<not> is_Delete b \\<Longrightarrow>\n                db'\\<^sub>s\\<^sub>s\\<^sub>t A =\n                db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B);\n        \\<forall>b\\<in>set B.\n           \\<not> is_Insert b \\<and> \\<not> is_Delete b\\<rbrakk>\n       \\<Longrightarrow> db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n                         db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>b\\<in>set B.\n     \\<not> is_Insert b \\<and> \\<not> is_Delete b \\<Longrightarrow>\n  db'\\<^sub>s\\<^sub>s\\<^sub>t A = db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B)\n  \\<forall>b\\<in>set B. \\<not> is_Insert b \\<and> \\<not> is_Delete b\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)", "by (cases a) simp_all"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_append:\n  \"db'\\<^sub>s\\<^sub>s\\<^sub>t (A@B) I D = db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) I D =\n    db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "proof (induction A arbitrary: D)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>D.\n       db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B) I D =\n       db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n 2. \\<And>a A D.\n       (\\<And>D.\n           db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) I D =\n           db'\\<^sub>s\\<^sub>s\\<^sub>t B I\n            (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)) \\<Longrightarrow>\n       db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) I D =\n       db'\\<^sub>s\\<^sub>s\\<^sub>t B I\n        (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)", "case (Cons a A)"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) I ?D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I ?D)\n\ngoal (2 subgoals):\n 1. \\<And>D.\n       db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B) I D =\n       db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)\n 2. \\<And>a A D.\n       (\\<And>D.\n           db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) I D =\n           db'\\<^sub>s\\<^sub>s\\<^sub>t B I\n            (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)) \\<Longrightarrow>\n       db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) I D =\n       db'\\<^sub>s\\<^sub>s\\<^sub>t B I\n        (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)", "thus ?case"], ["proof (prove)\nusing this:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) I ?D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I ?D)\n\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) I D =\n    db'\\<^sub>s\\<^sub>s\\<^sub>t B I\n     (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)", "by (cases a) auto"], ["proof (state)\nthis:\n  db'\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) I D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)\n\ngoal (1 subgoal):\n 1. \\<And>D.\n       db'\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B) I D =\n       db'\\<^sub>s\\<^sub>s\\<^sub>t B I (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D)", "qed simp"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_in_cases:\n  assumes \"(t,s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\"\n  shows \"(t,s) \\<in> set D \\<or> (\\<exists>t' s'. insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and> t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t, s) \\<in> set D \\<or>\n    (\\<exists>t' s'.\n        insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and>\n        t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)", "using assms"], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (1 subgoal):\n 1. (t, s) \\<in> set D \\<or>\n    (\\<exists>t' s'.\n        insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and>\n        t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)", "proof (induction A arbitrary: D)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>D.\n       (t, s)\n       \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n       (t, s) \\<in> set D \\<or>\n       (\\<exists>t' s'.\n           insert\\<langle>t',s'\\<rangle> \\<in> set [] \\<and>\n           t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\n 2. \\<And>a A D.\n       \\<lbrakk>\\<And>D.\n                   (t, s)\n                   \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                               D) \\<Longrightarrow>\n                   (t, s) \\<in> set D \\<or>\n                   (\\<exists>t' s'.\n                       insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and>\n                       t = t' \\<cdot> I \\<and> s = s' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)\\<rbrakk>\n       \\<Longrightarrow> (t, s) \\<in> set D \\<or>\n                         (\\<exists>t' s'.\n                             insert\\<langle>t',s'\\<rangle>\n                             \\<in> set (a # A) \\<and>\n                             t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)", "case (Cons a A)"], ["proof (state)\nthis:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I ?D) \\<Longrightarrow>\n  (t, s) \\<in> set ?D \\<or>\n  (\\<exists>t' s'.\n      insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and>\n      t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)\n\ngoal (2 subgoals):\n 1. \\<And>D.\n       (t, s)\n       \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n       (t, s) \\<in> set D \\<or>\n       (\\<exists>t' s'.\n           insert\\<langle>t',s'\\<rangle> \\<in> set [] \\<and>\n           t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\n 2. \\<And>a A D.\n       \\<lbrakk>\\<And>D.\n                   (t, s)\n                   \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                               D) \\<Longrightarrow>\n                   (t, s) \\<in> set D \\<or>\n                   (\\<exists>t' s'.\n                       insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and>\n                       t = t' \\<cdot> I \\<and> s = s' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)\\<rbrakk>\n       \\<Longrightarrow> (t, s) \\<in> set D \\<or>\n                         (\\<exists>t' s'.\n                             insert\\<langle>t',s'\\<rangle>\n                             \\<in> set (a # A) \\<and>\n                             t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)", "thus ?case"], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I ?D) \\<Longrightarrow>\n  (t, s) \\<in> set ?D \\<or>\n  (\\<exists>t' s'.\n      insert\\<langle>t',s'\\<rangle> \\<in> set A \\<and>\n      t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (a # A) I D)\n\ngoal (1 subgoal):\n 1. (t, s) \\<in> set D \\<or>\n    (\\<exists>t' s'.\n        insert\\<langle>t',s'\\<rangle> \\<in> set (a # A) \\<and>\n        t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)", "by (cases a) fastforce+"], ["proof (state)\nthis:\n  (t, s) \\<in> set D \\<or>\n  (\\<exists>t' s'.\n      insert\\<langle>t',s'\\<rangle> \\<in> set (a # A) \\<and>\n      t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)\n\ngoal (1 subgoal):\n 1. \\<And>D.\n       (t, s)\n       \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n       (t, s) \\<in> set D \\<or>\n       (\\<exists>t' s'.\n           insert\\<langle>t',s'\\<rangle> \\<in> set [] \\<and>\n           t = t' \\<cdot> I \\<and> s = s' \\<cdot> I)", "qed simp"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_in_cases':\n  assumes \"(t,s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\"\n    and \"(t,s) \\<notin> set D\"\n  shows \"\\<exists>B C t' s'. A = B@insert\\<langle>t',s'\\<rangle>#C \\<and> t = t' \\<cdot> I \\<and> s = s' \\<cdot> I \\<and>\n                     (\\<forall>t'' s''. delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow> t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "using assms(1)"], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "proof (induction A rule: List.rev_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n    \\<exists>B C t' s'.\n       [] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x xs.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t xs I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   xs = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s)\n        \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (xs @ [x]) I D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            xs @ [x] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "case (snoc a A)"], ["proof (state)\nthis:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D)\n\ngoal (2 subgoals):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n    \\<exists>B C t' s'.\n       [] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x xs.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t xs I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   xs = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s)\n        \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (xs @ [x]) I D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            xs @ [x] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "note * = snoc db\\<^sub>s\\<^sub>s\\<^sub>t_append[of A \"[a]\" I D]"], ["proof (state)\nthis:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D)\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (2 subgoals):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n    \\<exists>B C t' s'.\n       [] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x xs.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t xs I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   xs = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s)\n        \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (xs @ [x]) I D)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            xs @ [x] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "thus ?case"], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D)\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x41 x42.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "case (Insert t' s')"], ["proof (state)\nthis:\n  a = insert\\<langle>t',s'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x41 x42.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = insert\\<langle>t',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "using *"], ["proof (prove)\nusing this:\n  a = insert\\<langle>t',s'\\<rangle>\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D)\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "by (cases \"(t,s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\") force+"], ["proof (state)\nthis:\n  \\<exists>B C t' s'.\n     A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "case (Delete t' s')"], ["proof (state)\nthis:\n  a = delete\\<langle>t',s'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "hence **: \"t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\""], ["proof (prove)\nusing this:\n  a = delete\\<langle>t',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I", "using *"], ["proof (prove)\nusing this:\n  a = delete\\<langle>t',s'\\<rangle>\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D)\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (1 subgoal):\n 1. t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I", "by simp"], ["proof (state)\nthis:\n  t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "have \"(t,s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "using * Delete"], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D)\n  db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n  db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n  a = delete\\<langle>t',s'\\<rangle>\n\ngoal (1 subgoal):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "by force"], ["proof (state)\nthis:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "then"], ["proof (chain)\npicking this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)", "obtain B C u v where B:\n        \"A = B@insert\\<langle>u,v\\<rangle>#C\" \"t = u \\<cdot> I\" \"s = v \\<cdot> I\"\n        \"\\<forall>t' s'. delete\\<langle>t',s'\\<rangle> \\<in> set C \\<longrightarrow> t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\""], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n\ngoal (1 subgoal):\n 1. (\\<And>B u v C.\n        \\<lbrakk>A = B @ insert\\<langle>u,v\\<rangle> # C; t = u \\<cdot> I;\n         s = v \\<cdot> I;\n         \\<forall>t' s'.\n            delete\\<langle>t',s'\\<rangle> \\<in> set C \\<longrightarrow>\n            t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using snoc.IH"], ["proof (prove)\nusing this:\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D)\n  (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D) \\<Longrightarrow>\n  \\<exists>B C t' s'.\n     A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n\ngoal (1 subgoal):\n 1. (\\<And>B u v C.\n        \\<lbrakk>A = B @ insert\\<langle>u,v\\<rangle> # C; t = u \\<cdot> I;\n         s = v \\<cdot> I;\n         \\<forall>t' s'.\n            delete\\<langle>t',s'\\<rangle> \\<in> set C \\<longrightarrow>\n            t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  A = B @ insert\\<langle>u,v\\<rangle> # C\n  t = u \\<cdot> I\n  s = v \\<cdot> I\n  \\<forall>t' s'.\n     delete\\<langle>t',s'\\<rangle> \\<in> set C \\<longrightarrow>\n     t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "have \"A@[a] = B@insert\\<langle>u,v\\<rangle>#(C@[a])\"\n         \"\\<forall>t' s'. delete\\<langle>t',s'\\<rangle> \\<in> set (C@[a]) \\<longrightarrow> t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A @ [a] = B @ insert\\<langle>u,v\\<rangle> # C @ [a] &&&\n    \\<forall>t' s'.\n       delete\\<langle>t',s'\\<rangle> \\<in> set (C @ [a]) \\<longrightarrow>\n       t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I", "using B(1,4) Delete **"], ["proof (prove)\nusing this:\n  A = B @ insert\\<langle>u,v\\<rangle> # C\n  \\<forall>t' s'.\n     delete\\<langle>t',s'\\<rangle> \\<in> set C \\<longrightarrow>\n     t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n  a = delete\\<langle>t',s'\\<rangle>\n  t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n\ngoal (1 subgoal):\n 1. A @ [a] = B @ insert\\<langle>u,v\\<rangle> # C @ [a] &&&\n    \\<forall>t' s'.\n       delete\\<langle>t',s'\\<rangle> \\<in> set (C @ [a]) \\<longrightarrow>\n       t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I", "by auto"], ["proof (state)\nthis:\n  A @ [a] = B @ insert\\<langle>u,v\\<rangle> # C @ [a]\n  \\<forall>t' s'.\n     delete\\<langle>t',s'\\<rangle> \\<in> set (C @ [a]) \\<longrightarrow>\n     t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "thus ?thesis"], ["proof (prove)\nusing this:\n  A @ [a] = B @ insert\\<langle>u,v\\<rangle> # C @ [a]\n  \\<forall>t' s'.\n     delete\\<langle>t',s'\\<rangle> \\<in> set (C @ [a]) \\<longrightarrow>\n     t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "using B(2,3)"], ["proof (prove)\nusing this:\n  A @ [a] = B @ insert\\<langle>u,v\\<rangle> # C @ [a]\n  \\<forall>t' s'.\n     delete\\<langle>t',s'\\<rangle> \\<in> set (C @ [a]) \\<longrightarrow>\n     t \\<noteq> t' \\<cdot> I \\<or> s \\<noteq> s' \\<cdot> I\n  t = u \\<cdot> I\n  s = v \\<cdot> I\n\ngoal (1 subgoal):\n 1. \\<exists>B C t' s'.\n       A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "by blast"], ["proof (state)\nthis:\n  \\<exists>B C t' s'.\n     A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n\ngoal (5 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 2. \\<And>x2.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>(t, s)\n                \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t A I\n                            D) \\<Longrightarrow>\n                \\<exists>B C t' s'.\n                   A = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                   t = t' \\<cdot> I \\<and>\n                   s = s' \\<cdot> I \\<and>\n                   (\\<forall>t'' s''.\n                       delete\\<langle>t'',s''\\<rangle>\n                       \\<in> set C \\<longrightarrow>\n                       t \\<noteq> t'' \\<cdot> I \\<or>\n                       s \\<noteq> s'' \\<cdot> I);\n        (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D);\n        db'\\<^sub>s\\<^sub>s\\<^sub>t (A @ [a]) I D =\n        db'\\<^sub>s\\<^sub>s\\<^sub>t [a] I\n         (db'\\<^sub>s\\<^sub>s\\<^sub>t A I D);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>B C t' s'.\n                            A @ [a] =\n                            B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n                            t = t' \\<cdot> I \\<and>\n                            s = s' \\<cdot> I \\<and>\n                            (\\<forall>t'' s''.\n                                delete\\<langle>t'',s''\\<rangle>\n                                \\<in> set C \\<longrightarrow>\n                                t \\<noteq> t'' \\<cdot> I \\<or>\n                                s \\<noteq> s'' \\<cdot> I)", "qed force+"], ["proof (state)\nthis:\n  \\<exists>B C t' s'.\n     A @ [a] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n     t = t' \\<cdot> I \\<and>\n     s = s' \\<cdot> I \\<and>\n     (\\<forall>t'' s''.\n         delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n         t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)\n\ngoal (1 subgoal):\n 1. (t, s) \\<in> set (db'\\<^sub>s\\<^sub>s\\<^sub>t [] I D) \\<Longrightarrow>\n    \\<exists>B C t' s'.\n       [] = B @ insert\\<langle>t',s'\\<rangle> # C \\<and>\n       t = t' \\<cdot> I \\<and>\n       s = s' \\<cdot> I \\<and>\n       (\\<forall>t'' s''.\n           delete\\<langle>t'',s''\\<rangle> \\<in> set C \\<longrightarrow>\n           t \\<noteq> t'' \\<cdot> I \\<or> s \\<noteq> s'' \\<cdot> I)", "qed (simp add: assms(2))"], ["", "lemma db\\<^sub>s\\<^sub>s\\<^sub>t_filter:\n  \"db'\\<^sub>s\\<^sub>s\\<^sub>t A I D = db'\\<^sub>s\\<^sub>s\\<^sub>t (filter is_Update A) I D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. db'\\<^sub>s\\<^sub>s\\<^sub>t A I D =\n    db'\\<^sub>s\\<^sub>s\\<^sub>t (filter is_Update A) I D", "by (induct A I D rule: db'\\<^sub>s\\<^sub>s\\<^sub>t.induct) simp_all"], ["", "lemma subst_sst_cons: \"a#A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)#(A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n    (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n    (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by (simp add: subst_apply_stateful_strand_def)"], ["", "lemma subst_sst_snoc: \"A@[a] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)@[a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A @ [a] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n    (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) @\n    [a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>]", "by (simp add: subst_apply_stateful_strand_def)"], ["", "lemma subst_sst_append[simp]: \"A@B \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> = (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)@(B \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A @ B \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n    (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) @\n    (B \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by (simp add: subst_apply_stateful_strand_def)"], ["", "lemma sst_vars_append_subset:\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\" \"bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t B \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\" \"bvars\\<^sub>s\\<^sub>s\\<^sub>t B \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (A@B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (fv\\<^sub>s\\<^sub>s\\<^sub>t A\n     \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) &&&\n     bvars\\<^sub>s\\<^sub>s\\<^sub>t A\n     \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (A @ B)) &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t B\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) &&&\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t B\n    \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (A @ B)", "by auto"], ["", "lemma sst_vars_disj_cons[simp]: \"fv\\<^sub>s\\<^sub>s\\<^sub>t (a#A) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = {} \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t A = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<inter>\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    {} \\<Longrightarrow>\n    fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t A =\n    {}", "unfolding fv\\<^sub>s\\<^sub>s\\<^sub>t_def bvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a # A))) \\<inter>\n    \\<Union>\n     (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p)\n            (a # A))) =\n    {} \\<Longrightarrow>\n    \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p A)) \\<inter>\n    \\<Union>\n     (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p) A)) =\n    {}", "by auto"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset[simp]: \"fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a#A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t A\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by auto"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases[simp]:\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) - set X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) &&&\n     fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) &&&\n     fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)) &&&\n    (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>) &&&\n     fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)) &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>) &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) -\n    set X", "by simp_all"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_cases[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) = fv t\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) = fv t\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle>) = fv t \\<union> fv s\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union> set X\" (is ?A)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,s)] \\<or>\\<notin>: []\\<rangle>) = fv t \\<union> fv s \\<union> set X\" (is ?B)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,s)]\\<rangle>) = fv t \\<union> fv s \\<union> set X\" (is ?C)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n      fv t &&&\n      vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) =\n      fv t) &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<langle>c: t \\<doteq> s\\<rangle> =\n     fv t \\<union> fv s &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) =\n     fv t \\<union> fv s) &&&\n    (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) =\n     fv t \\<union> fv s &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>c: t \\<in> s\\<rangle> =\n     fv t \\<union> fv s) &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n    set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: [(t, s)] \\<or>\\<notin>: []\\<rangle> =\n    fv t \\<union> fv s \\<union> set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t, s)]\\<rangle> =\n    fv t \\<union> fv s \\<union> set X", "proof"], ["proof (state)\ngoal (10 subgoals):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>)\n    \\<subseteq> fv t\n 2. fv t\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (send\\<langle>t\\<rangle>)\n 3. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) = fv t\n 4. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>c: t \\<doteq> s\\<rangle> =\n    fv t \\<union> fv s\n 5. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) =\n    fv t \\<union> fv s\n 6. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) =\n    fv t \\<union> fv s\n 7. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>c: t \\<in> s\\<rangle> =\n    fv t \\<union> fv s\n 8. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n    set X\n 9. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: [(t, s)] \\<or>\\<notin>: []\\<rangle> =\n    fv t \\<union> fv s \\<union> set X\n 10. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,\n                      s)]\\<rangle> =\n     fv t \\<union> fv s \\<union> set X", "show ?A ?B ?C"], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n    set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: [(t, s)] \\<or>\\<notin>: []\\<rangle> =\n    fv t \\<union> fv s \\<union> set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t, s)]\\<rangle> =\n    fv t \\<union> fv s \\<union> set X", "by auto"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n  set X\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<forall>X\\<langle>\\<or>\\<noteq>: [(t, s)] \\<or>\\<notin>: []\\<rangle> =\n  fv t \\<union> fv s \\<union> set X\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t, s)]\\<rangle> =\n  fv t \\<union> fv s \\<union> set X\n\ngoal (7 subgoals):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>)\n    \\<subseteq> fv t\n 2. fv t\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (send\\<langle>t\\<rangle>)\n 3. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) = fv t\n 4. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>c: t \\<doteq> s\\<rangle> =\n    fv t \\<union> fv s\n 5. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) =\n    fv t \\<union> fv s\n 6. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) =\n    fv t \\<union> fv s\n 7. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>c: t \\<in> s\\<rangle> =\n    fv t \\<union> fv s", "qed simp_all"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> set X\" (is ?A)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union> fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union> set X\" (is ?B)\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union> fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union> set X\" (is ?C)"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<theta>) =\n      fv (t \\<cdot> \\<theta>) &&&\n      vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<theta>) =\n      fv (t \\<cdot> \\<theta>)) &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>) &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)) &&&\n    (vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>) &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)) &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,\n    s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,\n                      s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    set X", "proof"], ["proof (state)\ngoal (10 subgoals):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>)\n    \\<subseteq> fv (t \\<cdot> \\<theta>)\n 2. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                  \\<theta>)\n 3. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>)\n 4. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 5. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 6. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 7. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 8. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    set X\n 9. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,\n    s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    set X\n 10. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,\n                       s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>) =\n     fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n     fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n     set X", "show ?A ?B ?C"], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<theta>) \\<union>\n    set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,\n    s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    set X &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,\n                      s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n    set X", "by auto"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  set X\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: [(t,\n  s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n  fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n  set X\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,\n                    s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (t \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n  fv (s \\<cdot> rm_vars (set X) \\<theta>) \\<union>\n  set X\n\ngoal (7 subgoals):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>)\n    \\<subseteq> fv (t \\<cdot> \\<theta>)\n 2. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                  \\<theta>)\n 3. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>)\n 4. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 5. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 6. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)\n 7. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<theta>) =\n    fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>)", "qed simp_all"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a#A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t A\n    \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by auto"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) = bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "by (cases a) auto"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_subst: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) = bvars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t A", "using bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst[of _ \\<delta>]"], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (?a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a\n\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t A", "by (induct A) (simp_all add: subst_apply_stateful_strand_def)"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_set_cases[simp]:\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<doteq> s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>c: t \\<in> s\\<rangle>)) = {}\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>)) = set X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>)) =\n     {} &&&\n     set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (receive\\<langle>t\\<rangle>)) =\n     {} &&&\n     set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           \\<langle>c: t \\<doteq> s\\<rangle>) =\n     {}) &&&\n    (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (insert\\<langle>t,s\\<rangle>)) =\n     {} &&&\n     set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (delete\\<langle>t,s\\<rangle>)) =\n     {}) &&&\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n          \\<langle>c: t \\<in> s\\<rangle>) =\n    {} &&&\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n          \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) =\n    set X", "by simp_all"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegChecks: \"\\<not>is_NegChecks a \\<Longrightarrow> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a = []\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks a \\<Longrightarrow>\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a = []", "by (cases a) simp_all"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_NegChecks: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t A = bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t A =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks A)", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks [])\n 2. \\<And>a A.\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t A =\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t\n        (filter is_NegChecks A) \\<Longrightarrow>\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks (a # A))", "case (Cons a A)"], ["proof (state)\nthis:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t A =\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks A)\n\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks [])\n 2. \\<And>a A.\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t A =\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t\n        (filter is_NegChecks A) \\<Longrightarrow>\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks (a # A))", "thus ?case"], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t A =\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks A)\n\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks (a # A))", "by (cases a) fastforce+"], ["proof (state)\nthis:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks (a # A))\n\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (filter is_NegChecks [])", "qed simp"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"vars\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = vars\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n    vars\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t B", "by (simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_Nil[simp]: \"vars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}", "by (simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_Cons: \"vars\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n    vars\\<^sub>s\\<^sub>s\\<^sub>t A", "by (simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_Cons: \"fv\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n    fv\\<^sub>s\\<^sub>s\\<^sub>t A", "unfolding fv\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a # A))) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n    \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p A))", "by simp"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_Cons: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union>\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t A", "unfolding bvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\n     (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p)\n            (a # A))) =\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union>\n    \\<Union>\n     (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p) A))", "by auto"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_Cons'[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>t\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>a: t \\<doteq> s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>a: t \\<doteq> s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>t,s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>a: t \\<in> s\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>a: t \\<in> s\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\"\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>#A) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (vars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # A) =\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) \\<union>\n     vars\\<^sub>s\\<^sub>s\\<^sub>t A &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # A) =\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (receive\\<langle>t\\<rangle>) \\<union>\n     vars\\<^sub>s\\<^sub>s\\<^sub>t A &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>a: t \\<doteq> s\\<rangle> # A) =\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<langle>a: t \\<doteq> s\\<rangle> \\<union>\n     vars\\<^sub>s\\<^sub>s\\<^sub>t A) &&&\n    (vars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # A) =\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (insert\\<langle>t,s\\<rangle>) \\<union>\n     vars\\<^sub>s\\<^sub>s\\<^sub>t A &&&\n     vars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # A) =\n     vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      (delete\\<langle>t,s\\<rangle>) \\<union>\n     vars\\<^sub>s\\<^sub>s\\<^sub>t A) &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>a: t \\<in> s\\<rangle> # A) =\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<langle>a: t \\<in> s\\<rangle> \\<union>\n    vars\\<^sub>s\\<^sub>s\\<^sub>t A &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\n     (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> # A) =\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<union>\n    vars\\<^sub>s\\<^sub>s\\<^sub>t A", "by (simp_all add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p:\n  fixes x::\"('a,'b) stateful_strand_step\"\n  shows \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 7. \\<And>x71 x72 x73.\n       x =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 7. \\<And>x71 x72 x73.\n       x =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "by (induct F) force+"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n       set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "qed simp_all"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t_bvars\\<^sub>s\\<^sub>s\\<^sub>t:\n  fixes S::\"('a,'b) stateful_strand\"\n  shows \"vars\\<^sub>s\\<^sub>s\\<^sub>t S = fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t S =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t S", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a S.\n       vars\\<^sub>s\\<^sub>s\\<^sub>t S =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<union>\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "case (Cons x S)"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a S.\n       vars\\<^sub>s\\<^sub>s\\<^sub>t S =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n       vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n       fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<union>\n       bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<union>\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "using vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p[of x]"], ["proof (prove)\nusing this:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<union>\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "by (auto simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<union>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t []", "qed simp"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegCheck[simp]:\n  \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = set X \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n    set X \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "by (simp_all add: sup_commute sup_left_commute vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p)"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegCheck[simp]:\n  \"bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = X\"\n  \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>)) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n    X &&&\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n          \\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) =\n    {}", "by simp_all"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegCheck[simp]:\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G - set X\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>) = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>t != s\\<rangle>) = fv t \\<union> fv s\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>t not in s\\<rangle>) = fv t \\<union> fv s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n     fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n     fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n     set X &&&\n     fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n      \\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n     fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n     fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t != s\\<rangle> =\n    fv t \\<union> fv s &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t not in s\\<rangle> =\n    fv t \\<union> fv s", "by simp_all"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"fv\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t B", "by simp"], ["", "lemma bvars\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"bvars\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n    bvars\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> bvars\\<^sub>s\\<^sub>s\\<^sub>t B", "by auto"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\"\n  shows \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "using assms var_is_subterm"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n  ?x \\<in> fv ?t \\<Longrightarrow> Var ?x \\<sqsubseteq> ?t\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "case (NegChecks X F F')"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "hence \"x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F' - set X\""], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F' -\n            set X", "using assms"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F' -\n            set X", "by simp"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F' -\n          set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F' -\n          set X\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "using NegChecks var_is_subterm"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F' -\n          set X\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n  ?x \\<in> fv ?t \\<Longrightarrow> Var ?x \\<sqsubseteq> ?t\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "by fastforce"], ["proof (state)\nthis:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. x \\<in> fv t \\<Longrightarrow> Var x \\<sqsubseteq> t;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "qed force+"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow> Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t A", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a A.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n                Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t A;\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "case (Cons a A)"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t A\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a A.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n                Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t A;\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\\<rbrakk>\n       \\<Longrightarrow> Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "thus ?case"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t A\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "using fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t A\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n  ?x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a \\<Longrightarrow>\n  Var ?x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by (cases \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\") auto"], ["proof (state)\nthis:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t []", "qed simp"], ["", "lemma var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p:\n  assumes \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\"\n  shows \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "using assms vars_iff_subtermeq"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n  (?x \\<in> fv ?t) = (Var ?x \\<sqsubseteq> ?t)\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "case (NegChecks X F F')"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "hence \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F')\""], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F'", "using assms"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F'", "by simp"], ["proof (state)\nthis:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F'\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "thus ?thesis"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F'\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "using NegChecks vars_iff_subtermeq"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F'\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n  (?x \\<in> fv ?t) = (Var ?x \\<sqsubseteq> ?t)\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "by force"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 2. \\<And>x2.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 4. \\<And>x41 x42.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 5. \\<And>x51 x52.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        \\<And>x t. (x \\<in> fv t) = (Var x \\<sqsubseteq> t);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "qed force+"], ["", "lemma var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t: \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a A.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n                x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A;\n        Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n        trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "case (Cons a A)"], ["proof (state)\nthis:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (2 subgoals):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a A.\n       \\<lbrakk>Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n                x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A;\n        Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n        trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "proof (cases \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n 2. Var x\n    \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "case True"], ["proof (state)\nthis:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (2 subgoals):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n 2. Var x\n    \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "thus ?thesis"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "using Cons.IH"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t A\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by (simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (1 subgoal):\n 1. Var x\n    \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. Var x\n    \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "case False"], ["proof (state)\nthis:\n  Var x\n  \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A)\n\ngoal (1 subgoal):\n 1. Var x\n    \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "thus ?thesis"], ["proof (prove)\nusing this:\n  Var x\n  \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A)\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "using Cons.prems var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_is_vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p"], ["proof (prove)\nusing this:\n  Var x\n  \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t A)\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n  Var ?x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a \\<Longrightarrow>\n  ?x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by (fastforce simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t []", "qed simp"], ["", "lemma var_trms\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t: \"Var x \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Var x \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A", "by (meson var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t UN_I term.order_refl)"], ["", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_trms\\<^sub>s\\<^sub>s\\<^sub>t_subset: \"ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t A", "by (force simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma var_subterm_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t: \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A", "using var_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t_is_vars\\<^sub>s\\<^sub>s\\<^sub>t ik\\<^sub>s\\<^sub>s\\<^sub>t_trms\\<^sub>s\\<^sub>s\\<^sub>t_subset"], ["proof (prove)\nusing this:\n  Var ?x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t ?A \\<Longrightarrow>\n  ?x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t ?A\n  ik\\<^sub>s\\<^sub>s\\<^sub>t ?A \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t ?A\n\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t A", "by fast"], ["", "lemma var_subterm_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t:\n  assumes \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A)\"\n  shows \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "obtain t where t: \"Receive t \\<in> set A\" \"Var x \\<sqsubseteq> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>receive\\<langle>t\\<rangle> \\<in> set A;\n         Var x \\<sqsubseteq> t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t ik\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>receive\\<langle>t\\<rangle> \\<in> set A;\n         Var x \\<sqsubseteq> t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "unfolding ik\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  {t. receive\\<langle>t\\<rangle> \\<in> set A}\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        \\<lbrakk>receive\\<langle>t\\<rangle> \\<in> set A;\n         Var x \\<sqsubseteq> t\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set A\n  Var x \\<sqsubseteq> t\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "hence \"fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle> \\<in> set A\n  Var x \\<sqsubseteq> t\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "unfolding fv\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle> \\<in> set A\n  Var x \\<sqsubseteq> t\n\ngoal (1 subgoal):\n 1. fv t\n    \\<subseteq> \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p A))", "by force"], ["proof (state)\nthis:\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "using t(2)"], ["proof (prove)\nusing this:\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t A\n  Var x \\<sqsubseteq> t\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "by (meson contra_subsetD subterm_is_var)"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma fv_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A)\"\n  shows \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "using var_subterm_ik\\<^sub>s\\<^sub>s\\<^sub>t_is_fv\\<^sub>s\\<^sub>s\\<^sub>t assms var_is_subterm"], ["proof (prove)\nusing this:\n  Var ?x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  ik\\<^sub>s\\<^sub>s\\<^sub>t ?A \\<Longrightarrow>\n  ?x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t ?A\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A)\n  ?x \\<in> fv ?t \\<Longrightarrow> Var ?x \\<sqsubseteq> ?t\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "by fastforce"], ["", "lemma fv_trms\\<^sub>s\\<^sub>s\\<^sub>t_subset:\n  \"fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t S\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)", "proof (induction S)"], ["proof (state)\ngoal (4 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 4. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "case (Cons x S)"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n\ngoal (4 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 4. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "have *: \"fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x#S)) = fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\"\n          \"fv\\<^sub>s\\<^sub>s\\<^sub>t (x#S) = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t S\" \"vars\\<^sub>s\\<^sub>s\\<^sub>t (x#S) = vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> vars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) =\n    fv\\<^sub>s\\<^sub>e\\<^sub>t\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union>\n    fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S) &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n    fv\\<^sub>s\\<^sub>s\\<^sub>t S &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n    vars\\<^sub>s\\<^sub>s\\<^sub>t S", "unfolding trms\\<^sub>s\\<^sub>s\\<^sub>t_def fv\\<^sub>s\\<^sub>s\\<^sub>t_def vars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t\n     (\\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (x # S))) =\n    fv\\<^sub>s\\<^sub>e\\<^sub>t\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union>\n    fv\\<^sub>s\\<^sub>e\\<^sub>t\n     (\\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S)) &&&\n    \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))) =\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n    \\<Union> (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)) &&&\n    \\<Union> (set (map vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))) =\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n    \\<Union> (set (map vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))", "by auto"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union>\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (4 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 4. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "{"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union>\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (4 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 4. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 4. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "using Cons.IH(1)"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "hence \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x = trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\"\n            \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x = fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union> set X\""], ["proof (prove)\nusing this:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G &&&\n    vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n    set X", "by (simp, meson vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_cases(7))"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n  set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "hence \"fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\""], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n  set X\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x", "using fv_trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_is_fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s[of F] fv_trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_is_fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s[of G]"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n  set X\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x", "by auto"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "using Cons.IH(1) *(1,3)"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union>\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "by blast"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)", "qed auto"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n\ngoal (3 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "}"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n\ngoal (3 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "{"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n\ngoal (3 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 3. \\<And>a S.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n                \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S;\n        fv\\<^sub>s\\<^sub>s\\<^sub>t S\n        \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                     (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "using Cons.IH(2)"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "hence \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x = trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\"\n            \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x = (fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) - set X\""], ["proof (prove)\nusing this:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G &&&\n    fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X", "by auto"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "hence \"fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\""], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "using fv_trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_is_fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s[of F] fv_trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_is_fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s[of G]"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)", "by auto"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "using Cons.IH(2) *(1,2)"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) \\<union>\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S) =\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<union> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "by blast"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 2. \\<And>x2.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 4. \\<And>x41 x42.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 5. \\<And>x51 x52.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>fv\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                             (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n(trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))", "qed auto"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n\ngoal (2 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])", "}"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t (x # S)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n\ngoal (2 subgoals):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. fv\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])", "qed simp_all"], ["", "lemma fv_ik_subset_fv_sst'[simp]: \"fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S", "unfolding ik\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t {t. receive\\<langle>t\\<rangle> \\<in> set S}\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S", "by (induct S) auto"], ["", "lemma fv_ik_subset_vars_sst'[simp]: \"fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S", "using fv_ik_subset_fv_sst' fv_trms\\<^sub>s\\<^sub>s\\<^sub>t_subset"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t ?S)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t ?S\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t ?S)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t ?S\n  fv\\<^sub>s\\<^sub>s\\<^sub>t ?S\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t ?S)\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t S)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t S", "by fast"], ["", "lemma ik\\<^sub>s\\<^sub>s\\<^sub>t_var_is_fv: \"Var x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (ik\\<^sub>s\\<^sub>s\\<^sub>t A) \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t A", "by (meson fv_ik_subset_fv_sst'[of A] fv_subset_subterms subsetCE term.set_intros(3))"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases':\n  assumes x: \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  shows \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "using x vars_term_subst[of _ \\<theta>] vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_cases(1,2,3,4,5,6) vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(1,2)[of _ \\<theta>]\n      vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(3,6)[of _ _ _ \\<theta>] vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(4,5)[of _ _ \\<theta>]"], ["proof (prove)\nusing this:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  fv (?t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv ?t)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>?t\\<rangle>) = fv ?t\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>?t\\<rangle>) = fv ?t\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<langle>?c: ?t \\<doteq> ?s\\<rangle> =\n  fv ?t \\<union> fv ?s\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>?t,?s\\<rangle>) =\n  fv ?t \\<union> fv ?s\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>?t,?s\\<rangle>) =\n  fv ?t \\<union> fv ?s\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>?c: ?t \\<in> ?s\\<rangle> =\n  fv ?t \\<union> fv ?s\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (send\\<langle>?t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (?t \\<cdot> \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (receive\\<langle>?t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (?t \\<cdot> \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<langle>?c: ?t \\<doteq> ?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (?t \\<cdot> \\<theta>) \\<union> fv (?s \\<cdot> \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<langle>?c: ?t \\<in> ?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (?t \\<cdot> \\<theta>) \\<union> fv (?s \\<cdot> \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (insert\\<langle>?t,?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (?t \\<cdot> \\<theta>) \\<union> fv (?s \\<cdot> \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (delete\\<langle>?t,?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv (?t \\<cdot> \\<theta>) \\<union> fv (?s \\<cdot> \\<theta>)\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "proof (cases s)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "let ?\\<theta>' = \"rm_vars (set X) \\<theta>\""], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "have \"x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?\\<theta>') \\<or> x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?\\<theta>') \\<or> x \\<in> set X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>) \\<or>\n    x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>) \\<or>\n    x \\<in> set X", "using vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(7)[of X F G \\<theta>] x NegChecks"], ["proof (prove)\nusing this:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  set X\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>) \\<or>\n    x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>) \\<or>\n    x \\<in> set X", "by simp"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  x \\<in> set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "hence \"x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<theta>' ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<theta>' ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or> x \\<in> set X\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  x \\<in> set X\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (rm_vars (set X) \\<theta> `\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (rm_vars (set X) \\<theta> `\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n    x \\<in> set X", "using fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_subst[of _ ?\\<theta>']"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  x \\<in> set X\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t\n   (rm_vars (set X) \\<theta> `\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (rm_vars (set X) \\<theta> `\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (rm_vars (set X) \\<theta> `\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n    x \\<in> set X", "by blast"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (rm_vars (set X) \\<theta> `\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (rm_vars (set X) \\<theta> `\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n  x \\<in> set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "hence \"x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or> x \\<in> set X\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (rm_vars (set X) \\<theta> `\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (rm_vars (set X) \\<theta> `\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n  x \\<in> set X\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n    x \\<in> set X", "using rm_vars_fv\\<^sub>s\\<^sub>e\\<^sub>t_subst"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (rm_vars (set X) \\<theta> `\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (rm_vars (set X) \\<theta> `\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n  x \\<in> set X\n  ?x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n            (rm_vars ?X ?\\<theta> ` ?Y) \\<Longrightarrow>\n  ?x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<theta> ` ?Y) \\<or> ?x \\<in> ?X\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n    x \\<in> set X", "by fast"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n  x \\<in> set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n  x \\<in> set X\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "using NegChecks vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_cases(7)[of X F G]"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G) \\<or>\n  x \\<in> set X\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<union>\n  set X\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "by auto"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        \\<And>t. fv (t \\<cdot> \\<theta>) = \\<Union> (fv ` \\<theta> ` fv t);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle>) =\n           fv t;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<doteq> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle>) =\n           fv t \\<union> fv s;\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<langle>c: t \\<in> s\\<rangle> =\n           fv t \\<union> fv s;\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (send\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>t.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (receive\\<langle>t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<doteq> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>c t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>c: t \\<in> s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        \\<And>t s.\n           vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (delete\\<langle>t,s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             \\<theta>) =\n           fv (t \\<cdot> \\<theta>) \\<union> fv (s \\<cdot> \\<theta>);\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                                  s \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "qed simp_all"], ["", "lemma vars\\<^sub>s\\<^sub>s\\<^sub>t_subst_cases:\n  assumes \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  shows \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S)", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S)", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t [])\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<theta>) \\<Longrightarrow>\n                x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n                x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                         (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "case (Cons s S)"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S)\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (2 subgoals):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t [])\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<theta>) \\<Longrightarrow>\n                x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n                x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                         (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<or>\n                         x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (\\<theta> `\n                                   vars\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "thus ?case"], ["proof (prove)\nusing this:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S)\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "proof (cases \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<notin> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "case False"], ["proof (state)\nthis:\n  x \\<notin> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<notin> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "note * = subst_sst_cons[of s S \\<theta>] vars\\<^sub>s\\<^sub>s\\<^sub>t_Cons[of \"s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>\" \"S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>\"] vars\\<^sub>s\\<^sub>s\\<^sub>t_Cons[of s S]"], ["proof (state)\nthis:\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\n   ((s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<notin> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "have **: \"x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "using Cons.prems False *"], ["proof (prove)\nusing this:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  x \\<notin> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\n   ((s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "by simp"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<notin> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "using vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases'[OF **] *"], ["proof (prove)\nusing this:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\n   ((s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s \\<union>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "by auto"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t S \\<or>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n                      x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (\\<theta> `\n                                vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "qed (auto simp add: vars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) \\<or>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n\ngoal (1 subgoal):\n 1. x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n    x \\<in> vars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<or>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (\\<theta> ` vars\\<^sub>s\\<^sub>s\\<^sub>t [])", "qed simp"], ["", "lemma subset_subst_pairs_diff_exists:\n  fixes \\<I>::\"('a,'b) subst\" and D D'::\"('a,'b) dbstate\"\n  shows \"\\<exists>Di. Di \\<subseteq> D \\<and> Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> = (D \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>) - D'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> =\n       (D \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>) - D'", "by (metis (no_types, lifting) Diff_subset subset_image_iff)"], ["", "lemma subset_subst_pairs_diff_exists':\n  fixes \\<I>::\"('a,'b) subst\" and D::\"('a,'b) dbstate\"\n  assumes \"finite D\"\n  shows \"\\<exists>Di. Di \\<subseteq> D \\<and> Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and> d \\<cdot>\\<^sub>p \\<I> \\<notin> (D - Di) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>", "using assms"], ["proof (prove)\nusing this:\n  finite D\n\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>", "proof (induction D rule: finite_induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>Di\\<subseteq>{}.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> {} - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<exists>Di\\<subseteq>F.\n           Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n           \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n           d \\<cdot>\\<^sub>p \\<I>\n           \\<notin> F - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                    \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Di\\<subseteq>insert x F.\n                            Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n                            \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n                            d \\<cdot>\\<^sub>p \\<I>\n                            \\<notin> insert x F -\n                                     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                                     \\<I>", "case (insert d' D)"], ["proof (state)\nthis:\n  finite D\n  d' \\<notin> D\n  \\<exists>Di\\<subseteq>D.\n     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n     \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n     d \\<cdot>\\<^sub>p \\<I>\n     \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (2 subgoals):\n 1. \\<exists>Di\\<subseteq>{}.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> {} - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<exists>Di\\<subseteq>F.\n           Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n           \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n           d \\<cdot>\\<^sub>p \\<I>\n           \\<notin> F - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                    \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Di\\<subseteq>insert x F.\n                            Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n                            \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n                            d \\<cdot>\\<^sub>p \\<I>\n                            \\<notin> insert x F -\n                                     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                                     \\<I>", "then"], ["proof (chain)\npicking this:\n  finite D\n  d' \\<notin> D\n  \\<exists>Di\\<subseteq>D.\n     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n     \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n     d \\<cdot>\\<^sub>p \\<I>\n     \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>", "obtain Di where IH: \"Di \\<subseteq> D\" \"Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\" \"d \\<cdot>\\<^sub>p \\<I> \\<notin> (D - Di) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\""], ["proof (prove)\nusing this:\n  finite D\n  d' \\<notin> D\n  \\<exists>Di\\<subseteq>D.\n     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n     \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n     d \\<cdot>\\<^sub>p \\<I>\n     \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. (\\<And>Di.\n        \\<lbrakk>Di \\<subseteq> D;\n         Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n         \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>};\n         d \\<cdot>\\<^sub>p \\<I>\n         \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  Di \\<subseteq> D\n  Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (2 subgoals):\n 1. \\<exists>Di\\<subseteq>{}.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> {} - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<exists>Di\\<subseteq>F.\n           Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n           \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n           d \\<cdot>\\<^sub>p \\<I>\n           \\<notin> F - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                    \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<exists>Di\\<subseteq>insert x F.\n                            Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n                            \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n                            d \\<cdot>\\<^sub>p \\<I>\n                            \\<notin> insert x F -\n                                     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                                     \\<I>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "proof (cases \"d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I>\")"], ["proof (state)\ngoal (2 subgoals):\n 1. d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>\n 2. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "case True"], ["proof (state)\nthis:\n  d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I>\n\ngoal (2 subgoals):\n 1. d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>\n 2. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "hence \"insert d' Di \\<subseteq> insert d' D\" \"insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\"\n          \"d \\<cdot>\\<^sub>p \\<I> \\<notin> (insert d' D - insert d' Di) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\""], ["proof (prove)\nusing this:\n  d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I>\n\ngoal (1 subgoal):\n 1. insert d' Di \\<subseteq> insert d' D &&&\n    insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n    \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} &&&\n    d \\<cdot>\\<^sub>p \\<I>\n    \\<notin> insert d' D -\n             insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>", "using IH"], ["proof (prove)\nusing this:\n  d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I>\n  Di \\<subseteq> D\n  Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. insert d' Di \\<subseteq> insert d' D &&&\n    insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n    \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} &&&\n    d \\<cdot>\\<^sub>p \\<I>\n    \\<notin> insert d' D -\n             insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>", "by auto"], ["proof (state)\nthis:\n  insert d' Di \\<subseteq> insert d' D\n  insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> insert d' D -\n           insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n           \\<I>\n\ngoal (2 subgoals):\n 1. d' \\<cdot>\\<^sub>p \\<I> = d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>\n 2. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "thus ?thesis"], ["proof (prove)\nusing this:\n  insert d' Di \\<subseteq> insert d' D\n  insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> insert d' D -\n           insert d' Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n           \\<I>\n\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "by metis"], ["proof (state)\nthis:\n  \\<exists>Di\\<subseteq>insert d' D.\n     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n     \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n     d \\<cdot>\\<^sub>p \\<I>\n     \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "case False"], ["proof (state)\nthis:\n  d' \\<cdot>\\<^sub>p \\<I> \\<noteq> d \\<cdot>\\<^sub>p \\<I>\n\ngoal (1 subgoal):\n 1. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "hence \"Di \\<subseteq> insert d' D\" \"Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I> \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\"\n          \"d \\<cdot>\\<^sub>p \\<I> \\<notin> (insert d' D - Di) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\""], ["proof (prove)\nusing this:\n  d' \\<cdot>\\<^sub>p \\<I> \\<noteq> d \\<cdot>\\<^sub>p \\<I>\n\ngoal (1 subgoal):\n 1. Di \\<subseteq> insert d' D &&&\n    Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n    \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} &&&\n    d \\<cdot>\\<^sub>p \\<I>\n    \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>", "using IH"], ["proof (prove)\nusing this:\n  d' \\<cdot>\\<^sub>p \\<I> \\<noteq> d \\<cdot>\\<^sub>p \\<I>\n  Di \\<subseteq> D\n  Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. Di \\<subseteq> insert d' D &&&\n    Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n    \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} &&&\n    d \\<cdot>\\<^sub>p \\<I>\n    \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>", "by auto"], ["proof (state)\nthis:\n  Di \\<subseteq> insert d' D\n  Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. d' \\<cdot>\\<^sub>p \\<I> \\<noteq>\n    d \\<cdot>\\<^sub>p \\<I> \\<Longrightarrow>\n    \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "thus ?thesis"], ["proof (prove)\nusing this:\n  Di \\<subseteq> insert d' D\n  Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n  \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>}\n  d \\<cdot>\\<^sub>p \\<I>\n  \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>insert d' D.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<I>", "by metis"], ["proof (state)\nthis:\n  \\<exists>Di\\<subseteq>insert d' D.\n     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n     \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n     d \\<cdot>\\<^sub>p \\<I>\n     \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>Di\\<subseteq>insert d' D.\n     Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n     \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n     d \\<cdot>\\<^sub>p \\<I>\n     \\<notin> insert d' D - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n\ngoal (1 subgoal):\n 1. \\<exists>Di\\<subseteq>{}.\n       Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>\n       \\<subseteq> {d \\<cdot>\\<^sub>p \\<I>} \\<and>\n       d \\<cdot>\\<^sub>p \\<I>\n       \\<notin> {} - Di \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<I>", "qed simp"], ["", "lemma stateful_strand_step_subst_inI[intro]:\n  \"send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow> receive\\<langle>t \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> (s \\<cdot> \\<theta>)\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"insert\\<langle>t, s\\<rangle> \\<in> set A \\<Longrightarrow> insert\\<langle>t \\<cdot> \\<theta>, s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"delete\\<langle>t, s\\<rangle> \\<in> set A \\<Longrightarrow> delete\\<langle>t \\<cdot> \\<theta>, s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>c: (t \\<cdot> \\<theta>) \\<in> (s \\<cdot> \\<theta>)\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<in> set A \n    \\<Longrightarrow> \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<or>\\<notin>: (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>)\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\"\n  \"\\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow> \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle> \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (((send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n       send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n       \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) &&&\n      (receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n       receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n       \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>))) &&&\n     (\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n      \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n      \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) &&&\n     (insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n      insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n      \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>))) &&&\n    ((delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n      delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n      \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) &&&\n     (\\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n      \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n      \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>))) &&&\n    (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n     \\<in> set A \\<Longrightarrow>\n     \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X)\n   \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<theta>\\<rangle>\n     \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) &&&\n    (\\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n     \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n     \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) &&&\n    (\\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n     \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n     \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>))", "proof (induction A)"], ["proof (state)\ngoal (18 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         send\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 18 subgoals...", "case (Cons a A)"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n  send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n  receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n  insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n  delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set A \\<Longrightarrow>\n  \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                     rm_vars (set X)\n\\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                         rm_vars (set X) \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (18 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         send\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 18 subgoals...", "note * = subst_sst_cons[of a A \\<theta>]"], ["proof (state)\nthis:\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (18 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         send\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 18 subgoals...", "{"], ["proof (state)\nthis:\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (18 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         send\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 18 subgoals...", "case 1"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set (a # A)\n\ngoal (18 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         send\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 18 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  send\\<langle>t\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(1) *"], ["proof (prove)\nusing this:\n  send\\<langle>t\\<rangle> \\<in> set (a # A)\n  send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n  send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (17 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 17 subgoals...", "}"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (17 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 17 subgoals...", "{"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (17 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 17 subgoals...", "case 2"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set (a # A)\n\ngoal (17 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 17 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(2) *"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle> \\<in> set (a # A)\n  receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n  receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (16 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 16 subgoals...", "}"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (16 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 16 subgoals...", "{"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (16 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 16 subgoals...", "case 3"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\n\ngoal (16 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 16 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(3) *"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A)\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (15 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> insert\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 15 subgoals...", "}"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (15 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> insert\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 15 subgoals...", "{"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (15 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> insert\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 15 subgoals...", "case 4"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\n\ngoal (15 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> insert\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 15 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(4) *"], ["proof (prove)\nusing this:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # A)\n  insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n  insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> delete\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 14 subgoals...", "}"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> delete\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 14 subgoals...", "{"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> delete\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 14 subgoals...", "case 5"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> delete\\<langle>t \\<cdot>\n   \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(5) *"], ["proof (prove)\nusing this:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # A)\n  delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n  delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 13 subgoals...", "}"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 13 subgoals...", "{"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 13 subgoals...", "case 6"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>c: (t \\<cdot>\n \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(6) *"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A)\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                       rm_vars (set X)\n                        \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 12 subgoals...", "}"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                       rm_vars (set X)\n                        \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 12 subgoals...", "{"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                       rm_vars (set X)\n                        \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 12 subgoals...", "case 7"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # A)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                       rm_vars (set X)\n                        \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(7) *"], ["proof (prove)\nusing this:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # A)\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set A \\<Longrightarrow>\n  \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                     rm_vars (set X)\n\\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                         rm_vars (set X) \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                     rm_vars (set X)\n\\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                         rm_vars (set X) \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 11 subgoals...", "}"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # A) \\<Longrightarrow>\n  \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                     rm_vars (set X)\n\\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                         rm_vars (set X) \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 11 subgoals...", "{"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # A) \\<Longrightarrow>\n  \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                     rm_vars (set X)\n\\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                         rm_vars (set X) \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 11 subgoals...", "case 8"], ["proof (state)\nthis:\n  \\<langle>t != s\\<rangle> \\<in> set (a # A)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>t != s\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(8) *"], ["proof (prove)\nusing this:\n  \\<langle>t != s\\<rangle> \\<in> set (a # A)\n  \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> not in s \\<cdot>\n             \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)", "}"], ["proof (state)\nthis:\n  \\<langle>t != s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> not in s \\<cdot>\n             \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)", "{"], ["proof (state)\nthis:\n  \\<langle>t != s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> not in s \\<cdot>\n             \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)", "case 9"], ["proof (state)\nthis:\n  \\<langle>t not in s\\<rangle> \\<in> set (a # A)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 10. \\<And>a A.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n                 send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n                 \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         receive\\<langle>t\\<rangle> \\<in> set A \\<Longrightarrow>\n         receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot>\n                      \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         insert\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         delete\\<langle>t,s\\<rangle> \\<in> set A \\<Longrightarrow>\n         delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set A \\<Longrightarrow>\n         \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X)\n       \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                rm_vars (set X) \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t != s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n         \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n         \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n         \\<langle>t not in s\\<rangle> \\<in> set (a # A)\\<rbrakk>\n        \\<Longrightarrow> \\<langle>t \\<cdot>\n                                   \\<theta> not in s \\<cdot>\n             \\<theta>\\<rangle>\n                          \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                     \\<theta>)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>t not in s\\<rangle> \\<in> set (a # A)\n\ngoal (1 subgoal):\n 1. \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH(9) *"], ["proof (prove)\nusing this:\n  \\<langle>t not in s\\<rangle> \\<in> set (a # A)\n  \\<langle>t not in s\\<rangle> \\<in> set A \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "}"], ["proof (state)\nthis:\n  \\<langle>t not in s\\<rangle> \\<in> set (a # A) \\<Longrightarrow>\n  \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n  \\<in> set (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    send\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    receive\\<langle>t \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<doteq> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    insert\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    delete\\<langle>t \\<cdot> \\<theta>,s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>c: (t \\<cdot> \\<theta>) \\<in> s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n rm_vars (set X)\n  \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           rm_vars (set X) \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 8. \\<langle>t != s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 9. \\<langle>t not in s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "qed simp_all"], ["", "lemma stateful_strand_step_cases_subst:\n  \"is_Send a = is_Send (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Receive a = is_Receive (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Equality a = is_Equality (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Insert a = is_Insert (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Delete a = is_Delete (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_InSet a = is_InSet (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_NegChecks a = is_NegChecks (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Assignment a = is_Assignment (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Check a = is_Check (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\"\n  \"is_Update a = is_Update (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((stateful_strand_step.is_Send a =\n      stateful_strand_step.is_Send\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) &&&\n      stateful_strand_step.is_Receive a =\n      stateful_strand_step.is_Receive\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)) &&&\n     stateful_strand_step.is_Equality a =\n     stateful_strand_step.is_Equality\n      (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) &&&\n     is_Insert a =\n     is_Insert (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) &&&\n     is_Delete a =\n     is_Delete (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)) &&&\n    (is_InSet a =\n     is_InSet (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) &&&\n     is_NegChecks a =\n     is_NegChecks (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)) &&&\n    is_Assignment a =\n    is_Assignment (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) &&&\n    is_Check a =\n    is_Check (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) &&&\n    is_Update a =\n    is_Update (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "by (cases a; simp_all)+"], ["", "lemma stateful_strand_step_subst_inv_cases:\n  \"send\\<langle>t\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t'. t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set S\"\n  \"receive\\<langle>t\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t'. t = t' \\<cdot> \\<sigma> \\<and> receive\\<langle>t'\\<rangle> \\<in> set S\"\n  \"\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S\"\n  \"insert\\<langle>t,s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> insert\\<langle>t',s'\\<rangle> \\<in> set S\"\n  \"delete\\<langle>t,s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> delete\\<langle>t',s'\\<rangle> \\<in> set S\"\n  \"\\<langle>c: t \\<in> s\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow> \\<exists>t' s'. t = t' \\<cdot> \\<sigma> \\<and> s = s' \\<cdot> \\<sigma> \\<and> \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S\"\n  \"\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'. F = F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<sigma> \\<and> G = G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle> \\<in> set S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((send\\<langle>t\\<rangle>\n      \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<sigma>) \\<Longrightarrow>\n      \\<exists>t'.\n         t = t' \\<cdot> \\<sigma> \\<and>\n         send\\<langle>t'\\<rangle> \\<in> set S) &&&\n     (receive\\<langle>t\\<rangle>\n      \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<sigma>) \\<Longrightarrow>\n      \\<exists>t'.\n         t = t' \\<cdot> \\<sigma> \\<and>\n         receive\\<langle>t'\\<rangle> \\<in> set S) &&&\n     (\\<langle>c: t \\<doteq> s\\<rangle>\n      \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<sigma>) \\<Longrightarrow>\n      \\<exists>t' s'.\n         t = t' \\<cdot> \\<sigma> \\<and>\n         s = s' \\<cdot> \\<sigma> \\<and>\n         \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S)) &&&\n    ((insert\\<langle>t,s\\<rangle>\n      \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<sigma>) \\<Longrightarrow>\n      \\<exists>t' s'.\n         t = t' \\<cdot> \\<sigma> \\<and>\n         s = s' \\<cdot> \\<sigma> \\<and>\n         insert\\<langle>t',s'\\<rangle> \\<in> set S) &&&\n     (delete\\<langle>t,s\\<rangle>\n      \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<sigma>) \\<Longrightarrow>\n      \\<exists>t' s'.\n         t = t' \\<cdot> \\<sigma> \\<and>\n         s = s' \\<cdot> \\<sigma> \\<and>\n         delete\\<langle>t',s'\\<rangle> \\<in> set S)) &&&\n    (\\<langle>c: t \\<in> s\\<rangle>\n     \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<sigma>) \\<Longrightarrow>\n     \\<exists>t' s'.\n        t = t' \\<cdot> \\<sigma> \\<and>\n        s = s' \\<cdot> \\<sigma> \\<and>\n        \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S) &&&\n    (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n     \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<sigma>) \\<Longrightarrow>\n     \\<exists>F' G'.\n        F =\n        F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n        rm_vars (set X) \\<sigma> \\<and>\n        G =\n        G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n        rm_vars (set X) \\<sigma> \\<and>\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n        \\<in> set S)", "proof (induction S)"], ["proof (state)\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        send\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            send\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<doteq> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 14 subgoals...", "case (Cons a S)"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set S\n  receive\\<langle>t\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and> receive\\<langle>t'\\<rangle> \\<in> set S\n  \\<langle>c: t \\<doteq> s\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S\n  insert\\<langle>t,s\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     insert\\<langle>t',s'\\<rangle> \\<in> set S\n  delete\\<langle>t,s\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     delete\\<langle>t',s'\\<rangle> \\<in> set S\n  \\<langle>c: t \\<in> s\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>F' G'.\n     F =\n     F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X) \\<sigma> \\<and>\n     G =\n     G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X) \\<sigma> \\<and>\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n     \\<in> set S\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        send\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            send\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<doteq> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 14 subgoals...", "have *: \"x \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\"\n    when \"x \\<in> set (a#S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\" \"x \\<noteq> a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\" for x"], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)", "using that"], ["proof (prove)\nusing this:\n  x \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  x \\<noteq> a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\n\ngoal (1 subgoal):\n 1. x \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)", "by (simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   ?x \\<noteq> a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> ?x \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<sigma>)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        send\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            send\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<doteq> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 14 subgoals...", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?x \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   ?x \\<noteq> a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> ?x \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<sigma>)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        send\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            send\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<doteq> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 14 subgoals...", "case 1"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        send\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            send\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<doteq> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  send\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       send\\<langle>t'\\<rangle> \\<in> set (a # S)", "using Cons.IH(1)[OF *]"], ["proof (prove)\nusing this:\n  send\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>send\\<langle>t\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   send\\<langle>t\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t'.\n                       t = t' \\<cdot> \\<sigma> \\<and>\n                       send\\<langle>t'\\<rangle> \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       send\\<langle>t'\\<rangle> \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     send\\<langle>t'\\<rangle> \\<in> set (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 13 subgoals...", "}"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     send\\<langle>t'\\<rangle> \\<in> set (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 13 subgoals...", "{"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     send\\<langle>t'\\<rangle> \\<in> set (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 13 subgoals...", "case 2"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set (a # S)", "using Cons.IH(2)[OF *]"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>receive\\<langle>t\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   receive\\<langle>t\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t'.\n                       t = t' \\<cdot> \\<sigma> \\<and>\n                       receive\\<langle>t'\\<rangle> \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 12 subgoals...", "}"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 12 subgoals...", "{"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     receive\\<langle>t'\\<rangle> \\<in> set (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 12 subgoals...", "case 3"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<doteq> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<doteq> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set (a # S)", "using Cons.IH(3)[OF *]"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<doteq> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>\\<langle>c: t \\<doteq> s\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   \\<langle>c: t \\<doteq> s\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t' s'.\n                       t = t' \\<cdot> \\<sigma> \\<and>\n                       s = s' \\<cdot> \\<sigma> \\<and>\n                       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<in> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 11 subgoals...", "}"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<in> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 11 subgoals...", "{"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<in> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 11 subgoals...", "case 4"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>t' s'.\n                             t = t' \\<cdot> \\<sigma> \\<and>\n                             s = s' \\<cdot> \\<sigma> \\<and>\n                             \\<langle>c: t' \\<in> s'\\<rangle>\n                             \\<in> set (a # S)\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  insert\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)", "using Cons.IH(4)[OF *]"], ["proof (prove)\nusing this:\n  insert\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>insert\\<langle>t,s\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   insert\\<langle>t,s\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t' s'.\n                       t = t' \\<cdot> \\<sigma> \\<and>\n                       s = s' \\<cdot> \\<sigma> \\<and>\n                       insert\\<langle>t',s'\\<rangle> \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>F' G'.\n                             F =\n                             F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             G =\n                             G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                             \\<in> set (a # S)", "}"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>F' G'.\n                             F =\n                             F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             G =\n                             G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                             \\<in> set (a # S)", "{"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     insert\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>F' G'.\n                             F =\n                             F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             G =\n                             G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                             \\<in> set (a # S)", "case 5"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle>\n                 \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<sigma>) \\<Longrightarrow>\n                 \\<exists>t'.\n                    t = t' \\<cdot> \\<sigma> \\<and>\n                    send\\<langle>t'\\<rangle> \\<in> set S;\n         receive\\<langle>t\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            receive\\<langle>t'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<doteq> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n         insert\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            insert\\<langle>t',s'\\<rangle> \\<in> set S;\n         delete\\<langle>t,s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            delete\\<langle>t',s'\\<rangle> \\<in> set S;\n         \\<langle>c: t \\<in> s\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>t' s'.\n            t = t' \\<cdot> \\<sigma> \\<and>\n            s = s' \\<cdot> \\<sigma> \\<and>\n            \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                    \\<sigma>) \\<Longrightarrow>\n         \\<exists>F' G'.\n            F =\n            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            G =\n            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<sigma> \\<and>\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n            \\<in> set S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n        \\<Longrightarrow> \\<exists>F' G'.\n                             F =\n                             F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             G =\n                             G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                             rm_vars (set X) \\<sigma> \\<and>\n                             \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                             \\<in> set (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  delete\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)", "using Cons.IH(5)[OF *]"], ["proof (prove)\nusing this:\n  delete\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>delete\\<langle>t,s\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   delete\\<langle>t,s\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t' s'.\n                       t = t' \\<cdot> \\<sigma> \\<and>\n                       s = s' \\<cdot> \\<sigma> \\<and>\n                       delete\\<langle>t',s'\\<rangle> \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "}"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "{"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     delete\\<langle>t',s'\\<rangle> \\<in> set (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "case 6"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>t' s'.\n                            t = t' \\<cdot> \\<sigma> \\<and>\n                            s = s' \\<cdot> \\<sigma> \\<and>\n                            \\<langle>c: t' \\<in> s'\\<rangle>\n                            \\<in> set (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<in> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set (a # S)", "using Cons.IH(6)[OF *]"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<in> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>\\<langle>c: t \\<in> s\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   \\<langle>c: t \\<in> s\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>t' s'.\n                       t = t' \\<cdot> \\<sigma> \\<and>\n                       s = s' \\<cdot> \\<sigma> \\<and>\n                       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "}"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "{"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>t' s'.\n     t = t' \\<cdot> \\<sigma> \\<and>\n     s = s' \\<cdot> \\<sigma> \\<and>\n     \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "case 7"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle>\n                \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<sigma>) \\<Longrightarrow>\n                \\<exists>t'.\n                   t = t' \\<cdot> \\<sigma> \\<and>\n                   send\\<langle>t'\\<rangle> \\<in> set S;\n        receive\\<langle>t\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           receive\\<langle>t'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<doteq> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set S;\n        insert\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           insert\\<langle>t',s'\\<rangle> \\<in> set S;\n        delete\\<langle>t,s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           delete\\<langle>t',s'\\<rangle> \\<in> set S;\n        \\<langle>c: t \\<in> s\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>t' s'.\n           t = t' \\<cdot> \\<sigma> \\<and>\n           s = s' \\<cdot> \\<sigma> \\<and>\n           \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<sigma>) \\<Longrightarrow>\n        \\<exists>F' G'.\n           F =\n           F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           G =\n           G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           rm_vars (set X) \\<sigma> \\<and>\n           \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n           \\<in> set S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>F' G'.\n                            F =\n                            F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            G =\n                            G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            rm_vars (set X) \\<sigma> \\<and>\n                            \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                            \\<in> set (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n\ngoal (1 subgoal):\n 1. \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set (a # S)", "using Cons.IH(7)[OF *]"], ["proof (prove)\nusing this:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n  \\<lbrakk>\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n           \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>);\n   \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<noteq>\n   a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<sigma>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>F' G'.\n                       F =\n                       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                       rm_vars (set X) \\<sigma> \\<and>\n                       G =\n                       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                       rm_vars (set X) \\<sigma> \\<and>\n                       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n                       \\<in> set S\n\ngoal (1 subgoal):\n 1. \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set (a # S)", "by (cases a) auto"], ["proof (state)\nthis:\n  \\<exists>F' G'.\n     F =\n     F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X) \\<sigma> \\<and>\n     G =\n     G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X) \\<sigma> \\<and>\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n     \\<in> set (a # S)\n\ngoal (7 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []", "}"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n             \\<sigma>) \\<Longrightarrow>\n  \\<exists>F' G'.\n     F =\n     F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X) \\<sigma> \\<and>\n     G =\n     G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X) \\<sigma> \\<and>\n     \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n     \\<in> set (a # S)\n\ngoal (7 subgoals):\n 1. send\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and> send\\<langle>t'\\<rangle> \\<in> set []\n 2. receive\\<langle>t\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       receive\\<langle>t'\\<rangle> \\<in> set []\n 3. \\<langle>c: t \\<doteq> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<doteq> s'\\<rangle> \\<in> set []\n 4. insert\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       insert\\<langle>t',s'\\<rangle> \\<in> set []\n 5. delete\\<langle>t,s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       delete\\<langle>t',s'\\<rangle> \\<in> set []\n 6. \\<langle>c: t \\<in> s\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>t' s'.\n       t = t' \\<cdot> \\<sigma> \\<and>\n       s = s' \\<cdot> \\<sigma> \\<and>\n       \\<langle>c: t' \\<in> s'\\<rangle> \\<in> set []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n               \\<sigma>) \\<Longrightarrow>\n    \\<exists>F' G'.\n       F =\n       F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       G =\n       G' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set X) \\<sigma> \\<and>\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F' \\<or>\\<notin>: G'\\<rangle>\n       \\<in> set []", "qed simp_all"], ["", "lemma stateful_strand_step_fv_subset_cases:\n  \"send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"\\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow> fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  \"\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<in> set S \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G - set X \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n      fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S) &&&\n     (receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n      fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S) &&&\n     (\\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n      fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S)) &&&\n    ((insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n      fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S) &&&\n     (delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n      fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S)) &&&\n    (\\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n     fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S) &&&\n    (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n     \\<in> set S \\<Longrightarrow>\n     fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n     fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n     set X\n     \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S)", "proof (induction S)"], ["proof (state)\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        send\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 14 subgoals...", "case (Cons a S)"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set S \\<Longrightarrow>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        send\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 14 subgoals...", "{"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set S \\<Longrightarrow>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        send\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 14 subgoals...", "case 1"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set (a # S)\n\ngoal (14 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        send\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 14 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  send\\<langle>t\\<rangle> \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(1)"], ["proof (prove)\nusing this:\n  send\\<langle>t\\<rangle> \\<in> set (a # S)\n  send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by auto"], ["proof (state)\nthis:\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 13 subgoals...", "}"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 13 subgoals...", "{"], ["proof (state)\nthis:\n  send\\<langle>t\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 13 subgoals...", "case 2"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set (a # S)\n\ngoal (13 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 13 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle> \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(2)"], ["proof (prove)\nusing this:\n  receive\\<langle>t\\<rangle> \\<in> set (a # S)\n  receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by auto"], ["proof (state)\nthis:\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 12 subgoals...", "}"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 12 subgoals...", "{"], ["proof (state)\nthis:\n  receive\\<langle>t\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 12 subgoals...", "case 3"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\n\ngoal (12 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 12 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(3)"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S)\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by auto"], ["proof (state)\nthis:\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 11 subgoals...", "}"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 11 subgoals...", "{"], ["proof (state)\nthis:\n  \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 11 subgoals...", "case 4"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\n\ngoal (11 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv t \\<union> fv s\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\nA total of 11 subgoals...", "thus ?case"], ["proof (prove)\nusing this:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(4)"], ["proof (prove)\nusing this:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # S)\n  insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by auto"], ["proof (state)\nthis:\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           F \\<union>\n                          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                          set X\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "}"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           F \\<union>\n                          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                          set X\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "{"], ["proof (state)\nthis:\n  insert\\<langle>t,s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           F \\<union>\n                          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                          set X\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "case 5"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\n\ngoal (10 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 10. \\<And>a S.\n        \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                 fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n         fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set S \\<Longrightarrow>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n         set X\n         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n         \\<in> set (a # S)\\<rbrakk>\n        \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                           F \\<union>\n                          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                          set X\n                          \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(5)"], ["proof (prove)\nusing this:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # S)\n  delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by auto"], ["proof (state)\nthis:\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "}"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "{"], ["proof (state)\nthis:\n  delete\\<langle>t,s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "case 6"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\n\ngoal (9 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv t \\<union> fv s\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n 9. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(6)"], ["proof (prove)\nusing this:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S)\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by auto"], ["proof (state)\nthis:\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "}"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "{"], ["proof (state)\nthis:\n  \\<langle>c: t \\<in> s\\<rangle> \\<in> set (a # S) \\<Longrightarrow>\n  fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "case 7"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S)\n\ngoal (8 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 8. \\<And>a S.\n       \\<lbrakk>send\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n                fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        receive\\<langle>t\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        insert\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        delete\\<langle>t,s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<langle>c: t \\<in> s\\<rangle> \\<in> set S \\<Longrightarrow>\n        fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set S \\<Longrightarrow>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n        fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n        set X\n        \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n        \\<in> set (a # S)\\<rbrakk>\n       \\<Longrightarrow> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n                         set X\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S)\n\ngoal (1 subgoal):\n 1. fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "using Cons.IH(7)"], ["proof (prove)\nusing this:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S)\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set S \\<Longrightarrow>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "by fastforce"], ["proof (state)\nthis:\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (7 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []", "}"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  \\<in> set (a # S) \\<Longrightarrow>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n  set X\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n\ngoal (7 subgoals):\n 1. send\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. receive\\<langle>t\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 3. \\<langle>c: t \\<doteq> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 4. insert\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 5. delete\\<langle>t,s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 6. \\<langle>c: t \\<in> s\\<rangle> \\<in> set [] \\<Longrightarrow>\n    fv t \\<union> fv s \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []\n 7. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n    \\<in> set [] \\<Longrightarrow>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G -\n    set X\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t []", "qed simp_all"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]:\n  \"trms\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t [] = {}", "unfolding trms\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set []) = {}", "by simp"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_mono:\n  \"set M \\<subseteq> set N \\<Longrightarrow> trms\\<^sub>s\\<^sub>s\\<^sub>t M \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set M \\<subseteq> set N \\<Longrightarrow>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t M\n    \\<subseteq> trms\\<^sub>s\\<^sub>s\\<^sub>t N", "by auto"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_in:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\"\n  shows \"\\<exists>a \\<in> set S. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>a\\<in>set S. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. \\<exists>a\\<in>set S. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "unfolding trms\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  t \\<in> \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set S)\n\ngoal (1 subgoal):\n 1. \\<exists>a\\<in>set S. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a", "by simp"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_cons: \"trms\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t A", "unfolding trms\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (a # A)) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n    \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set A)", "by force"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_append[simp]: \"trms\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t B", "unfolding trms\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set (A @ B)) =\n    \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set A) \\<union>\n    \\<Union> (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ` set B)", "by force"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst:\n  assumes \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter> subst_domain \\<theta> = {}\"\n  shows \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "hence \"rm_vars (set X) \\<theta> = \\<theta>\""], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "using assms rm_vars_apply'[of \\<theta> \"set X\"]"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n  subst_domain \\<theta> =\n  {}\n  subst_domain \\<theta> \\<inter> set X = {} \\<Longrightarrow>\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "by auto"], ["proof (state)\nthis:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "hence \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<union> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\"\n        \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta> = (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>) \\<union> (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>)\""], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) &&&\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta> =\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<theta>) \\<union>\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<theta>)", "using NegChecks image_Un"], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<theta> = \\<theta>\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  ?f ` (?A \\<union> ?B) = ?f ` ?A \\<union> ?f ` ?B\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) &&&\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta> =\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<theta>) \\<union>\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<theta>)", "by simp_all"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta> =\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<theta>) \\<union>\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<theta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta> =\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<theta>) \\<union>\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<theta>)\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by (metis trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_subst)"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "qed simp_all"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst':\n  assumes \"\\<not>is_NegChecks a\"\n  shows \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  \\<not> is_NegChecks a\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by (cases a) simp_all"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst'':\n  fixes t::\"('a,'b) term\" and \\<delta>::\"('a,'b) subst\"\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\"\n  shows \"\\<exists>s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b. t = s \\<cdot> rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "proof (cases \"is_NegChecks b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "case True"], ["proof (state)\nthis:\n  is_NegChecks b\n\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "then"], ["proof (chain)\npicking this:\n  is_NegChecks b", "obtain X F G where *: \"b = NegChecks X F G\""], ["proof (prove)\nusing this:\n  is_NegChecks b\n\ngoal (1 subgoal):\n 1. (\\<And>X F G.\n        b =\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases b) moura+"], ["proof (state)\nthis:\n  b = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  b = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "using assms trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_subst[of _ \"rm_vars (set X) \\<delta>\"]"], ["proof (prove)\nusing this:\n  b = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (?a \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   ?a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set X) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "by auto"], ["proof (state)\nthis:\n  \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n     t =\n     s \\<cdot>\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "case False"], ["proof (state)\nthis:\n  \\<not> is_NegChecks b\n\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "hence \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\""], ["proof (prove)\nusing this:\n  \\<not> is_NegChecks b\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "using trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst' bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegChecks"], ["proof (prove)\nusing this:\n  \\<not> is_NegChecks b\n  \\<not> is_NegChecks ?a \\<Longrightarrow>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (?a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?\\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  ?\\<theta>\n  \\<not> is_NegChecks ?a \\<Longrightarrow>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a = []\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "by fastforce"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "using assms"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "by fast"], ["proof (state)\nthis:\n  \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n     t =\n     s \\<cdot>\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst''':\n  fixes t::\"('a,'b) term\" and \\<delta> \\<theta>::\"('a,'b) subst\"\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\"\n  shows \"\\<exists>s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b. t = s \\<cdot> rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta> \\<circ>\\<^sub>s \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b))\n        \\<delta> \\<circ>\\<^sub>s\n       \\<theta>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b))\n        \\<delta> \\<circ>\\<^sub>s\n       \\<theta>", "obtain s where s: \"s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\" \"t = s \\<cdot> \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                           \\<delta>);\n         t = s \\<cdot> \\<theta>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            \\<delta>) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n          \\<theta>\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<lbrakk>s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                           \\<delta>);\n         t = s \\<cdot> \\<theta>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by moura"], ["proof (state)\nthis:\n  s \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n  t = s \\<cdot> \\<theta>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b))\n        \\<delta> \\<circ>\\<^sub>s\n       \\<theta>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b))\n        \\<delta> \\<circ>\\<^sub>s\n       \\<theta>", "using trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst''[OF s(1)] s(2)"], ["proof (prove)\nusing this:\n  \\<exists>sa\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n     s =\n     sa \\<cdot>\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n  t = s \\<cdot> \\<theta>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b))\n        \\<delta> \\<circ>\\<^sub>s\n       \\<theta>", "by auto"], ["proof (state)\nthis:\n  \\<exists>s\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n     t =\n     s \\<cdot>\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b))\n      \\<delta> \\<circ>\\<^sub>s\n     \\<theta>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\"\n  shows \"trms\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<theta>;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                         \\<theta>", "case (Cons a S)"], ["proof (state)\nthis:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> =\n  {} \\<Longrightarrow>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter> subst_domain \\<theta> = {}\n\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<theta>;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                         \\<theta>", "hence IH: \"trms\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\" and *: \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter> subst_domain \\<theta> = {}\""], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> =\n  {} \\<Longrightarrow>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter> subst_domain \\<theta> = {}\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta> &&&\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n    subst_domain \\<theta> =\n    {}", "by auto"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n  subst_domain \\<theta> =\n  {}\n\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<theta>;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                         \\<theta>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "using trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst[OF *] IH"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by (auto simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>", "qed simp"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_subst_cons:\n  \"trms\\<^sub>s\\<^sub>s\\<^sub>t (a#A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) = trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "using subst_sst_cons[of a A \\<delta>] trms\\<^sub>s\\<^sub>s\\<^sub>t_cons[of a A] trms\\<^sub>s\\<^sub>s\\<^sub>t_append"], ["proof (prove)\nusing this:\n  a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n  (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t A\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (?A @ ?B) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t ?A \\<union> trms\\<^sub>s\\<^sub>s\\<^sub>t ?B\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union>\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by simp"], ["", "lemma (in intruder_model) wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst:\n  assumes \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\"\n  shows \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))", "using assms"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "hence *: \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n              (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<delta>)) \\<union> (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<delta>))\""], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<delta>) \\<union>\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      rm_vars (set X) \\<delta>)", "by simp"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>) \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "have \"trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta> = (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>) \\<union> (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta> =\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<delta>) \\<union>\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<delta>)", "using NegChecks image_Un"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  ?f ` (?A \\<union> ?B) = ?f ` ?A \\<union> ?f ` ?B\n\ngoal (1 subgoal):\n 1. trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta> =\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<delta>) \\<union>\n    (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n      G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<delta>)", "by simp"], ["proof (state)\nthis:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<delta> =\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<delta>) \\<union>\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<delta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "hence \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\" \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<delta> =\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<delta>) \\<union>\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) &&&\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>)", "using * assms"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<delta> =\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<delta>) \\<union>\n  (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n   \\<delta>)\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>) \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) &&&\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>)", "by auto"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "hence \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t rm_vars (set X) \\<delta>)\"\n        \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t rm_vars (set X) \\<delta>)\""], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      rm_vars (set X) \\<delta>) &&&\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      rm_vars (set X) \\<delta>)", "using wf_trms_subst_rm_vars[of \\<delta> \"trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F\" \"set X\"]\n          wf_trms_subst_rm_vars[of \\<delta> \"trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\" \"set X\"]"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>) \\<Longrightarrow>\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>) \\<Longrightarrow>\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      rm_vars (set X) \\<delta>) &&&\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      rm_vars (set X) \\<delta>)", "by fast+"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))", "using * trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_subst[of _ \"rm_vars (set X) \\<delta>\"]"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     F \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     G \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set X) \\<delta>)\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>) \\<union>\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>)\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (?a \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<delta>) =\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   ?a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set X) \\<delta>\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))", "by auto"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 2. \\<And>x2.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 4. \\<And>x41 x42.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 5. \\<And>x51 x52.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                   a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                            (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                             \\<delta>))", "qed auto"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_fv_vars\\<^sub>s\\<^sub>s\\<^sub>t_subset: \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow> fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n    fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a A.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n                fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A;\n        t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\\<rbrakk>\n       \\<Longrightarrow> fv t\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "case (Cons a A)"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a A.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n                fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A;\n        t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\\<rbrakk>\n       \\<Longrightarrow> fv t\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "thus ?case"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<Longrightarrow>\n  fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t A\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by (cases a) auto"], ["proof (state)\nthis:\n  fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (a # A)\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    fv t \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t []", "qed simp"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_fv_subst_subset:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\" \"subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"fv (t \\<cdot> \\<theta>) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n  subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t [];\n     subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n     {}\\<rbrakk>\n    \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                      \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 subst_domain \\<theta> \\<inter>\n                 bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                                  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        subst_domain \\<theta> \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case (Cons s S)"], ["proof (state)\nthis:\n  \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n   subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n  subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t [];\n     subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n     {}\\<rbrakk>\n    \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                      \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 subst_domain \\<theta> \\<inter>\n                 bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                                  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        subst_domain \\<theta> \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "proof (cases \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case True"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "hence \"fv (t \\<cdot> \\<theta>) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\""], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH Cons.prems"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n   subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n  subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using subst_sst_cons[of s S \\<theta>]"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "unfolding vars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> \\<Union>\n               (set (map vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)))\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> \\<Union>\n                 (set (map vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                        (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)))", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n               (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case False"], ["proof (state)\nthis:\n  t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "hence *: \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\" \"subst_domain \\<theta> \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {}\""], ["proof (prove)\nusing this:\n  t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s &&&\n    subst_domain \\<theta> \\<inter>\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n    {}", "using Cons.prems"], ["proof (prove)\nusing this:\n  t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n  subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s &&&\n    subst_domain \\<theta> \\<inter>\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n    {}", "by auto"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n  subst_domain \\<theta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n\ngoal (1 subgoal):\n 1. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "hence \"fv (t \\<cdot> \\<theta>) \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\""], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n  subst_domain \\<theta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "proof (cases s)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "hence **: \"t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or> t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\""], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n    t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "using *(1)"], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n    t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "by auto"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have ***: \"rm_vars (set X) \\<theta> = \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "using *(2) NegChecks rm_vars_apply'"], ["proof (prove)\nusing this:\n  subst_domain \\<theta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  subst_domain ?\\<delta> \\<inter> ?vs = {} \\<Longrightarrow>\n  rm_vars ?vs ?\\<delta> = ?\\<delta>\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "by auto"], ["proof (state)\nthis:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have \"fv (t \\<cdot> \\<theta>) \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>) \\<union>\n                fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>)", "using ** *** trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_fv_subst_subset[of t _ \\<theta>]"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  rm_vars (set X) \\<theta> = \\<theta>\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F \\<Longrightarrow>\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>) \\<union>\n                fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "using *(2)"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n  subst_domain \\<theta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "using NegChecks vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(7)[of X F G \\<theta>]"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n  subst_domain \\<theta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  set X\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "by blast"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        subst_domain \\<theta> \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n        {};\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "qed auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using subst_sst_cons[of s S \\<theta>]"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "unfolding vars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> \\<Union>\n                 (set (map vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                        (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)))", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n               (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n               (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t [];\n     subst_domain \\<theta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n     {}\\<rbrakk>\n    \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                      \\<subseteq> vars\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "qed simp"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_fv_subst_subset':\n  assumes \"t \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\" \"fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\" \"fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"fv (t \\<cdot> \\<theta>) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using assms"], ["proof (prove)\nusing this:\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t S\n  fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\n  fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n             trms\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {};\n     fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n     {}\\<rbrakk>\n    \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {};\n                 fv (t \\<cdot> \\<theta>) \\<inter>\n                 bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n        trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n        fv (t \\<cdot> \\<theta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case (Cons s S)"], ["proof (state)\nthis:\n  \\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n           trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n   fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {};\n   fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n  fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n  fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n             trms\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {};\n     fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n     {}\\<rbrakk>\n    \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n                         trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {};\n                 fv (t \\<cdot> \\<theta>) \\<inter>\n                 bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n        trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n        fv (t \\<cdot> \\<theta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "proof (cases \"t \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case True"], ["proof (state)\nthis:\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "hence \"fv (t \\<cdot> \\<theta>) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\""], ["proof (prove)\nusing this:\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using Cons.IH Cons.prems"], ["proof (prove)\nusing this:\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n           trms\\<^sub>s\\<^sub>s\\<^sub>t S;\n   fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {};\n   fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n  fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n  fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  {}\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (2 subgoals):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n 2. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using subst_sst_cons[of s S \\<theta>]"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "unfolding vars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case False"], ["proof (state)\nthis:\n  t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "hence 0: \"t \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\" \"fv t \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {}\"\n             \"fv (t \\<cdot> \\<theta>) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {}\""], ["proof (prove)\nusing this:\n  t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n\ngoal (1 subgoal):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s &&&\n    fv t \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {} &&&\n    fv (t \\<cdot> \\<theta>) \\<inter>\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n    {}", "using Cons.prems"], ["proof (prove)\nusing this:\n  t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n              (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n  fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n  fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  {}\n\ngoal (1 subgoal):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s &&&\n    fv t \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {} &&&\n    fv (t \\<cdot> \\<theta>) \\<inter>\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n    {}", "by auto"], ["proof (state)\nthis:\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n  fv t \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {}\n  fv (t \\<cdot> \\<theta>) \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "note 1 = UN_Un UN_insert fv\\<^sub>s\\<^sub>e\\<^sub>t.simps subst_apply_fv_subset subst_apply_fv_unfold\n             subst_apply_term_empty sup_bot.comm_neutral fv_subterms_set fv_subset[OF 0(1)]"], ["proof (state)\nthis:\n  \\<Union> (?M ` (?A \\<union> ?B)) =\n  \\<Union> (?M ` ?A) \\<union> \\<Union> (?M ` ?B)\n  \\<Union> (?B ` insert ?a ?A) = ?B ?a \\<union> \\<Union> (?B ` ?A)\n  fv\\<^sub>s\\<^sub>e\\<^sub>t ?M = \\<Union> (fv ` ?M)\n  fv ?t \\<subseteq> ?V \\<Longrightarrow>\n  fv (?t \\<cdot> ?\\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V)\n  fv (?t \\<cdot> ?\\<delta>) = fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` fv ?t)\n  ?t \\<cdot> Var = ?t\n  sup ?a bot = ?a\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (subterms\\<^sub>s\\<^sub>e\\<^sub>t ?M) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t ?M\n  fv t\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t\n               (subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s))\n\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "note 2 = subst_apply_fv_union"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V) \\<union>\n  fv (?t \\<cdot> ?\\<delta>) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` (?V \\<union> fv ?t))\n\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "have \"fv (t \\<cdot> \\<theta>) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "proof (cases s)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "hence 3: \"t \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F) \\<or> t \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G)\""], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n    t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "using 0(1)"], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n\ngoal (1 subgoal):\n 1. t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n    t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "by auto"], ["proof (state)\nthis:\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have \"t \\<cdot> rm_vars (set X) \\<theta> = t \\<cdot> \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<cdot> rm_vars (set X) \\<theta> = t \\<cdot> \\<theta>", "using 0(2) NegChecks rm_vars_ident[of t]"], ["proof (prove)\nusing this:\n  fv t \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {}\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  fv t \\<inter> ?vs = {} \\<Longrightarrow>\n  t \\<cdot> rm_vars ?vs ?\\<theta> = t \\<cdot> ?\\<theta>\n\ngoal (1 subgoal):\n 1. t \\<cdot> rm_vars (set X) \\<theta> = t \\<cdot> \\<theta>", "by auto"], ["proof (state)\nthis:\n  t \\<cdot> rm_vars (set X) \\<theta> = t \\<cdot> \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "hence \"fv (t \\<cdot> \\<theta>) \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>)\""], ["proof (prove)\nusing this:\n  t \\<cdot> rm_vars (set X) \\<theta> = t \\<cdot> \\<theta>\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>) \\<union>\n                fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>)", "using 3 trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_fv_subst_subset'[of t _ \"rm_vars (set X) \\<theta>\"]"], ["proof (prove)\nusing this:\n  t \\<cdot> rm_vars (set X) \\<theta> = t \\<cdot> \\<theta>\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F \\<Longrightarrow>\n  fv (t \\<cdot> rm_vars (set X) \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>) \\<union>\n                fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>)", "by fastforce"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "using 0(2,3) NegChecks fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(7)[of X F G \\<theta>]"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n  fv t \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) = {}\n  fv (t \\<cdot> \\<theta>) \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {}\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>) -\n  set X\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       fv (t \\<cdot> \\<theta>)\n       \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "qed (metis (no_types, lifting) 1 trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps(1) fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(1),\n         metis (no_types, lifting) 1 trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps(2) fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(2),\n         metis (no_types, lifting) 1 2 trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps(3) fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(3),\n         metis (no_types, lifting) 1 2 trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps(4) fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(4),\n         metis (no_types, lifting) 1 2 trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps(5) fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(5),\n         metis (no_types, lifting) 1 2 trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps(6) fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases(6))"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. t \\<notin> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n                (trms\\<^sub>s\\<^sub>s\\<^sub>t S) \\<Longrightarrow>\n    fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using subst_sst_cons[of s S \\<theta>]"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "unfolding fv\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (t \\<cdot> \\<theta>)\n    \\<subseteq> \\<Union>\n                 (set (map fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                        (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)))", "by auto"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  fv (t \\<cdot> \\<theta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n             trms\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv t \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {};\n     fv (t \\<cdot> \\<theta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n     {}\\<rbrakk>\n    \\<Longrightarrow> fv (t \\<cdot> \\<theta>)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "qed simp"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_funs_term_cases:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\" \"f \\<in> funs_term t\"\n  shows \"(\\<exists>u \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s. f \\<in> funs_term u) \\<or> (\\<exists>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s. f \\<in> funs_term (\\<theta> x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "using assms"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  f \\<in> funs_term t\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "proof (cases s)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))", "hence \"t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>) \\<or> t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>)\""], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>) \\<or>\n    t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>)", "using assms(1)"], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>) \\<or>\n    t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<theta>)", "by auto"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))", "hence \"(\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F. f \\<in> funs_term u) \\<or> (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F. f \\<in> funs_term (rm_vars (set X) \\<theta> x)) \\<or>\n         (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G. f \\<in> funs_term u) \\<or> (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G. f \\<in> funs_term (rm_vars (set X) \\<theta> x))\""], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>)\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n        f \\<in> funs_term (rm_vars (set X) \\<theta> x)) \\<or>\n    (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n        f \\<in> funs_term (rm_vars (set X) \\<theta> x))", "using trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_funs_term_cases[OF _ assms(2), of _ \"rm_vars (set X) \\<theta>\"]"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<or>\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>)\n  t \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<theta>) \\<Longrightarrow>\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x))\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n        f \\<in> funs_term (rm_vars (set X) \\<theta> x)) \\<or>\n    (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n        f \\<in> funs_term (rm_vars (set X) \\<theta> x))", "by meson"], ["proof (state)\nthis:\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x)) \\<or>\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x))\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))", "hence \"(\\<exists>u \\<in> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G. f \\<in> funs_term u) \\<or>\n         (\\<exists>x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G. f \\<in> funs_term (rm_vars (set X) \\<theta> x))\""], ["proof (prove)\nusing this:\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x)) \\<or>\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x))\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                    trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                    fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n        f \\<in> funs_term (rm_vars (set X) \\<theta> x))", "by blast"], ["proof (state)\nthis:\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x))\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (\\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                  trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n      f \\<in> funs_term (rm_vars (set X) \\<theta> x))\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term u \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))\n 2. \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term (rm_vars (set X) \\<theta> x) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "assume \"\\<exists>x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G. f \\<in> funs_term (rm_vars (set X) \\<theta> x)\""], ["proof (state)\nthis:\n  \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                 fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n     f \\<in> funs_term (rm_vars (set X) \\<theta> x)\n\ngoal (2 subgoals):\n 1. \\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term u \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))\n 2. \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term (rm_vars (set X) \\<theta> x) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "then"], ["proof (chain)\npicking this:\n  \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                 fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n     f \\<in> funs_term (rm_vars (set X) \\<theta> x)", "obtain x where x: \"x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\" \"f \\<in> funs_term (rm_vars (set X) \\<theta> x)\""], ["proof (prove)\nusing this:\n  \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                 fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n     f \\<in> funs_term (rm_vars (set X) \\<theta> x)\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          F \\<union>\n                         fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G;\n         f \\<in> funs_term (rm_vars (set X) \\<theta> x)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  f \\<in> funs_term (rm_vars (set X) \\<theta> x)\n\ngoal (2 subgoals):\n 1. \\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term u \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))\n 2. \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term (rm_vars (set X) \\<theta> x) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "hence \"x \\<notin> set X\" \"rm_vars (set X) \\<theta> x = \\<theta> x\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  f \\<in> funs_term (rm_vars (set X) \\<theta> x)\n\ngoal (1 subgoal):\n 1. x \\<notin> set X &&& rm_vars (set X) \\<theta> x = \\<theta> x", "by auto"], ["proof (state)\nthis:\n  x \\<notin> set X\n  rm_vars (set X) \\<theta> x = \\<theta> x\n\ngoal (2 subgoals):\n 1. \\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term u \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))\n 2. \\<exists>x\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term (rm_vars (set X) \\<theta> x) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<notin> set X\n  rm_vars (set X) \\<theta> x = \\<theta> x\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "using x"], ["proof (prove)\nusing this:\n  x \\<notin> set X\n  rm_vars (set X) \\<theta> x = \\<theta> x\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  f \\<in> funs_term (rm_vars (set X) \\<theta> x)\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "by (auto simp add: assms NegChecks)"], ["proof (state)\nthis:\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n      f \\<in> funs_term (\\<theta> x))\n\ngoal (1 subgoal):\n 1. \\<exists>u\\<in>trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n                   trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G.\n       f \\<in> funs_term u \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n        f \\<in> funs_term (\\<theta> x))", "qed (auto simp add: assms NegChecks)"], ["proof (state)\nthis:\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n      f \\<in> funs_term (\\<theta> x))\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 2. \\<And>x2.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 4. \\<And>x41 x42.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 5. \\<And>x51 x52.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t; s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                         (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                          \\<theta>);\n        f \\<in> funs_term t;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    s.\n                             f \\<in> funs_term (\\<theta> x))", "qed (use assms funs_term_subst[of _ \\<theta>] in auto)"], ["", "lemma trms\\<^sub>s\\<^sub>s\\<^sub>t_funs_term_cases:\n  assumes \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\" \"f \\<in> funs_term t\"\n  shows \"(\\<exists>u \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t S. f \\<in> funs_term u) \\<or> (\\<exists>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S. f \\<in> funs_term (\\<theta> x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n        f \\<in> funs_term (\\<theta> x))", "using assms(1)"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n        f \\<in> funs_term (\\<theta> x))", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t [].\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t [].\n        f \\<in> funs_term (\\<theta> x))\n 2. \\<And>a S.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<theta>) \\<Longrightarrow>\n                (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                    f \\<in> funs_term u) \\<or>\n                (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                    f \\<in> funs_term (\\<theta> x));\n        t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\n    (a # S).\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n                             f \\<in> funs_term (\\<theta> x))", "case (Cons s S)"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S. f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n      f \\<in> funs_term (\\<theta> x))\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (2 subgoals):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t [].\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t [].\n        f \\<in> funs_term (\\<theta> x))\n 2. \\<And>a S.\n       \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<theta>) \\<Longrightarrow>\n                (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                    f \\<in> funs_term u) \\<or>\n                (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                    f \\<in> funs_term (\\<theta> x));\n        t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n       \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\n    (a # S).\n                             f \\<in> funs_term u) \\<or>\n                         (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n                             f \\<in> funs_term (\\<theta> x))", "thus ?case"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S. f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n      f \\<in> funs_term (\\<theta> x))\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n        f \\<in> funs_term (\\<theta> x))", "proof (cases \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))\n 2. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))", "case False"], ["proof (state)\nthis:\n  t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))\n 2. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))", "hence \"t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\""], ["proof (prove)\nusing this:\n  t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "using Cons.prems(1) subst_sst_cons[of s S \\<theta>] trms\\<^sub>s\\<^sub>s\\<^sub>t_cons"], ["proof (prove)\nusing this:\n  t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (?a # ?A) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a \\<union>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t ?A\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "by auto"], ["proof (state)\nthis:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))\n 2. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<notin> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))", "thus ?thesis"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n        f \\<in> funs_term (\\<theta> x))", "using trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_funs_term_cases[OF _ assms(2)]"], ["proof (prove)\nusing this:\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n  t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (?s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            ?\\<theta>) \\<Longrightarrow>\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?s.\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?s.\n      f \\<in> funs_term (?\\<theta> x))\n\ngoal (1 subgoal):\n 1. (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n        f \\<in> funs_term (\\<theta> x))", "by fastforce"], ["proof (state)\nthis:\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n      f \\<in> funs_term (\\<theta> x))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<theta>) \\<Longrightarrow>\n             (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term u) \\<or>\n             (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                 f \\<in> funs_term (\\<theta> x));\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term u) \\<or>\n                      (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                          f \\<in> funs_term (\\<theta> x))", "qed auto"], ["proof (state)\nthis:\n  (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n      f \\<in> funs_term u) \\<or>\n  (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n      f \\<in> funs_term (\\<theta> x))\n\ngoal (1 subgoal):\n 1. t \\<in> trms\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) \\<Longrightarrow>\n    (\\<exists>u\\<in>trms\\<^sub>s\\<^sub>s\\<^sub>t [].\n        f \\<in> funs_term u) \\<or>\n    (\\<exists>x\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t [].\n        f \\<in> funs_term (\\<theta> x))", "qed simp"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t T\"\n    and \"bvars\\<^sub>s\\<^sub>s\\<^sub>t T \\<inter> subst_domain \\<theta> = {}\"\n  shows \"\\<theta> x \\<in> subterms\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (T \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<theta> x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (T \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using trms\\<^sub>s\\<^sub>s\\<^sub>t_subst[OF assms(2)] subterms_subst_subset'[of \\<theta> \"trms\\<^sub>s\\<^sub>s\\<^sub>t T\"]\n      fv\\<^sub>s\\<^sub>s\\<^sub>t_is_subterm_trms\\<^sub>s\\<^sub>s\\<^sub>t[OF assms(1)]"], ["proof (prove)\nusing this:\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (T \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t T \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n  subterms\\<^sub>s\\<^sub>e\\<^sub>t\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t T) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n  \\<subseteq> subterms\\<^sub>s\\<^sub>e\\<^sub>t\n               (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                 T \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                \\<theta>)\n  Var x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t trms\\<^sub>s\\<^sub>s\\<^sub>t T\n\ngoal (1 subgoal):\n 1. \\<theta> x \\<sqsubseteq>\\<^sub>s\\<^sub>e\\<^sub>t\n    trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (T \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (metis (no_types, lifting) image_iff subset_iff subst_apply_term.simps(1))"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_fv_subset:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\" \"x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\" \"fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"fv (\\<theta> x) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n  fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (\\<theta> x)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "case (Cons a S)"], ["proof (state)\nthis:\n  \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n   x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n   fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\\<rbrakk>\n  \\<Longrightarrow> fv (\\<theta> x)\n                    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (\\<theta> x)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "note 1 = fv_subst_subset[of _ _ \\<theta>]"], ["proof (state)\nthis:\n  ?x \\<in> fv ?t \\<Longrightarrow>\n  fv (\\<theta> ?x) \\<subseteq> fv (?t \\<cdot> \\<theta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (\\<theta> x)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "note 2 = subst_apply_fv_union subst_apply_fv_unfold[of _ \\<theta>] fv_subset image_eqI"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V) \\<union>\n  fv (?t \\<cdot> ?\\<delta>) =\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` (?V \\<union> fv ?t))\n  fv (?t \\<cdot> \\<theta>) = fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<theta> ` fv ?t)\n  ?t \\<in> ?M \\<Longrightarrow>\n  fv ?t \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t ?M\n  \\<lbrakk>?b = ?f ?x; ?x \\<in> ?A\\<rbrakk>\n  \\<Longrightarrow> ?b \\<in> ?f ` ?A\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (\\<theta> x)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "note 3 = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst_cases"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (send\\<langle>?t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv (?t \\<cdot> ?\\<theta>)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (receive\\<langle>?t\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv (?t \\<cdot> ?\\<theta>)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<langle>?c: ?t \\<doteq> ?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv (?t \\<cdot> ?\\<theta>) \\<union> fv (?s \\<cdot> ?\\<theta>)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (insert\\<langle>?t,?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv (?t \\<cdot> ?\\<theta>) \\<union> fv (?s \\<cdot> ?\\<theta>)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (delete\\<langle>?t,?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv (?t \\<cdot> ?\\<theta>) \\<union> fv (?s \\<cdot> ?\\<theta>)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<langle>?c: ?t \\<in> ?s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv (?t \\<cdot> ?\\<theta>) \\<union> fv (?s \\<cdot> ?\\<theta>)\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (\\<forall>?X\\<langle>\\<or>\\<noteq>: ?F \\<or>\\<notin>: ?G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    ?\\<theta>) =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set ?X) ?\\<theta>) \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   (?G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set ?X) ?\\<theta>) -\n  set ?X\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (\\<theta> x)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "note 4 = fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p.simps"], ["proof (state)\nthis:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (send\\<langle>?t\\<rangle>) = fv ?t\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (receive\\<langle>?t\\<rangle>) = fv ?t\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<langle>?uu: ?t \\<doteq> ?t'\\<rangle> =\n  fv ?t \\<union> fv ?t'\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>?t,?t'\\<rangle>) =\n  fv ?t \\<union> fv ?t'\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (delete\\<langle>?t,?t'\\<rangle>) =\n  fv ?t \\<union> fv ?t'\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>?uv: ?t \\<in> ?t'\\<rangle> =\n  fv ?t \\<union> fv ?t'\n  fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<forall>?X\\<langle>\\<or>\\<noteq>: ?F \\<or>\\<notin>: ?F'\\<rangle> =\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F \\<union>\n  fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F' -\n  set ?X\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<And>a S.\n       \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n                 fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                 {}\\<rbrakk>\n                \\<Longrightarrow> fv (\\<theta> x)\n                                  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n        fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n(a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "from Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n   x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n   fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\\<rbrakk>\n  \\<Longrightarrow> fv (\\<theta> x)\n                    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {}", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n   x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n   fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\\<rbrakk>\n  \\<Longrightarrow> fv (\\<theta> x)\n                    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                  \\<theta>)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {}\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "proof (cases \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "case False"], ["proof (state)\nthis:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "hence 5: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\" \" fv (\\<theta> x) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) = {}\" \"x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\""], ["proof (prove)\nusing this:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a &&&\n    fv (\\<theta> x) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n    {} &&&\n    x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "using Cons.prems"], ["proof (prove)\nusing this:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n  fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {}\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a &&&\n    fv (\\<theta> x) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n    {} &&&\n    x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)", "by auto"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n  fv (\\<theta> x) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n  {}\n  x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "hence \"fv (\\<theta> x) \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n  fv (\\<theta> x) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n  {}\n  x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "let ?\\<delta> = \"rm_vars (set X) \\<theta>\""], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have *: \"x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "using NegChecks 5(1)"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n            fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "by auto"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have **: \"fv (\\<theta> x) \\<inter> set X = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (\\<theta> x) \\<inter> set X = {}", "using NegChecks 5(2)"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  fv (\\<theta> x) \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n  {}\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x) \\<inter> set X = {}", "by simp"], ["proof (state)\nthis:\n  fv (\\<theta> x) \\<inter> set X = {}\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have ***: \"\\<theta> x = ?\\<delta> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<theta> x = rm_vars (set X) \\<theta> x", "using NegChecks 5(3)"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)\n\ngoal (1 subgoal):\n 1. \\<theta> x = rm_vars (set X) \\<theta> x", "by auto"], ["proof (state)\nthis:\n  \\<theta> x = rm_vars (set X) \\<theta> x\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "have \"fv (\\<theta> x) \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?\\<delta>) \\<union> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?\\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>) \\<union>\n                fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>)", "using fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_subst_fv_subset[of x _ ?\\<delta>] * ***"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F \\<Longrightarrow>\n  fv (rm_vars (set X) \\<theta> x)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<union>\n          fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  \\<theta> x = rm_vars (set X) \\<theta> x\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>) \\<union>\n                fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                 (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                  rm_vars (set X) \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "using NegChecks **"], ["proof (prove)\nusing this:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>) \\<union>\n              fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n               (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                rm_vars (set X) \\<theta>)\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  fv (\\<theta> x) \\<inter> set X = {}\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                 (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "by auto"], ["proof (state)\nthis:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a;\n        fv (\\<theta> x) \\<inter>\n        set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n        {};\n        x \\<notin> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a);\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> fv (\\<theta> x)\n                         \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n(a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)", "qed (metis (full_types) 1 5(1) 3(1) 4(1), metis (full_types) 1 5(1) 3(2) 4(2),\n         metis (full_types) 2 5(1) 3(3) 4(3), metis (full_types) 2 5(1) 3(4) 4(4),\n         metis (full_types) 2 5(1) 3(5) 4(5), metis (full_types) 2 5(1) 3(6) 4(6))"], ["proof (state)\nthis:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)\n 2. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "thus ?thesis"], ["proof (prove)\nusing this:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n               (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>)\n\ngoal (1 subgoal):\n 1. fv (\\<theta> x)\n    \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)", "by (auto simp add: subst_sst_cons[of a S \\<theta>])"], ["proof (state)\nthis:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S;\n              x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t S;\n              fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n              {}\\<rbrakk>\n             \\<Longrightarrow> fv (\\<theta> x)\n                               \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S);\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) = {};\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "qed (auto simp add: subst_sst_cons[of a S \\<theta>])"], ["proof (state)\nthis:\n  fv (\\<theta> x)\n  \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n               (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [];\n     x \\<notin> bvars\\<^sub>s\\<^sub>s\\<^sub>t [];\n     fv (\\<theta> x) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\\<rbrakk>\n    \\<Longrightarrow> fv (\\<theta> x)\n                      \\<subseteq> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                                   ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                    \\<theta>)", "qed simp"], ["", "lemma (in intruder_model) wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s_trms\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\"\n  shows \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))", "using assms"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) \\<Longrightarrow>\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n 2. \\<And>a A.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>) \\<Longrightarrow>\n                wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>));\n        wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n         (trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n          \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                            (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                             \\<delta>))", "case (Cons a A)"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>) \\<Longrightarrow>\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (2 subgoals):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) \\<Longrightarrow>\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n 2. \\<And>a A.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>) \\<Longrightarrow>\n                wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>));\n        wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n         (trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n          \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                            (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                             \\<delta>))", "hence IH: \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\" and *: \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>) \\<Longrightarrow>\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)) &&&\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>)", "by auto"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<delta>)\n\ngoal (2 subgoals):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) \\<Longrightarrow>\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n 2. \\<And>a A.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>) \\<Longrightarrow>\n                wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>));\n        wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n         (trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n          \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                            (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                             \\<delta>))", "have \"wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))", "by (rule wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s_trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst[OF *])"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\n\ngoal (2 subgoals):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) \\<Longrightarrow>\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n 2. \\<And>a A.\n       \\<lbrakk>wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<delta>) \\<Longrightarrow>\n                wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                 (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                   (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>));\n        wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n         (trms\\<^sub>s\\<^sub>s\\<^sub>t\n           (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n          \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n                          (trms\\<^sub>s\\<^sub>s\\<^sub>t\n                            (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                             \\<delta>))", "thus ?case"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))", "using IH trms\\<^sub>s\\<^sub>s\\<^sub>t_subst_cons[of a A \\<delta>]"], ["proof (prove)\nusing this:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>))\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) =\n  trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union>\n  trms\\<^sub>s\\<^sub>s\\<^sub>t (A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))", "by blast"], ["proof (state)\nthis:\n  wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n   (trms\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))\n\ngoal (1 subgoal):\n 1. wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n      \\<delta>) \\<Longrightarrow>\n    wf\\<^sub>t\\<^sub>r\\<^sub>m\\<^sub>s\n     (trms\\<^sub>s\\<^sub>s\\<^sub>t\n       ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>))", "qed simp"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_obtain_var:\n  assumes \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"\n  shows \"\\<exists>y \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)", "using assms"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t []. x \\<in> fv (\\<delta> y)\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   x \\<in> fv (\\<delta> y);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n                            x \\<in> fv (\\<delta> y)", "case (Cons s S)"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t []. x \\<in> fv (\\<delta> y)\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   x \\<in> fv (\\<delta> y);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n                            x \\<in> fv (\\<delta> y)", "hence \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow> \\<exists>y \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)", "using bvars\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset[of S s]"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n  \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)", "by blast"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\n\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t []. x \\<in> fv (\\<delta> y)\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   x \\<in> fv (\\<delta> y);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n                            x \\<in> fv (\\<delta> y)", "thus ?case"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. x \\<in> fv (\\<delta> y)\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n       x \\<in> fv (\\<delta> y)", "proof (cases \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)", "case False"], ["proof (state)\nthis:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)", "hence *: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\""], ["proof (prove)\nusing this:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)", "using Cons.prems(1) subst_sst_cons[of s S \\<delta>]"], ["proof (prove)\nusing this:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n           (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)", "by fastforce"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)", "have \"\\<exists>y \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s. x \\<in> fv (\\<delta> y)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n       x \\<in> fv (\\<delta> y)", "proof (cases s)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)", "hence \"x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<delta>) \\<or> x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<delta>)\"\n          and **: \"x \\<notin> set X\""], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<delta>) \\<or>\n    x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<delta>) &&&\n    x \\<notin> set X", "using *"], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<delta>) \\<or>\n    x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n              rm_vars (set X) \\<delta>) &&&\n    x \\<notin> set X", "by simp_all"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>)\n  x \\<notin> set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)", "then"], ["proof (chain)\npicking this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>)\n  x \\<notin> set X", "obtain y where y: \"y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or> y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\" \"x \\<in> fv ((rm_vars (set X) \\<delta>) y)\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>)\n  x \\<notin> set X\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n                 y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G;\n         x \\<in> fv (rm_vars (set X) \\<delta> y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_subst_obtain_var[of _ _ \"rm_vars (set X) \\<delta>\"]"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>) \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n           (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            rm_vars (set X) \\<delta>)\n  x \\<notin> set X\n  ?x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n            (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n             rm_vars (set X) \\<delta>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F.\n     ?x \\<in> fv (rm_vars (set X) \\<delta> y)\n\ngoal (1 subgoal):\n 1. (\\<And>y.\n        \\<lbrakk>y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n                 y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G;\n         x \\<in> fv (rm_vars (set X) \\<delta> y)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  x \\<in> fv (rm_vars (set X) \\<delta> y)\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)", "have \"y \\<notin> set X\""], ["proof (prove)\ngoal (1 subgoal):\n 1. y \\<notin> set X", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<in> set X \\<Longrightarrow> False", "assume y_in: \"y \\<in> set X\""], ["proof (state)\nthis:\n  y \\<in> set X\n\ngoal (1 subgoal):\n 1. y \\<in> set X \\<Longrightarrow> False", "hence \"(rm_vars (set X) \\<delta>) y = Var y\""], ["proof (prove)\nusing this:\n  y \\<in> set X\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<delta> y = Var y", "by auto"], ["proof (state)\nthis:\n  rm_vars (set X) \\<delta> y = Var y\n\ngoal (1 subgoal):\n 1. y \\<in> set X \\<Longrightarrow> False", "hence \"x = y\""], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<delta> y = Var y\n\ngoal (1 subgoal):\n 1. x = y", "using y(2)"], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<delta> y = Var y\n  x \\<in> fv (rm_vars (set X) \\<delta> y)\n\ngoal (1 subgoal):\n 1. x = y", "by simp"], ["proof (state)\nthis:\n  x = y\n\ngoal (1 subgoal):\n 1. y \\<in> set X \\<Longrightarrow> False", "thus False"], ["proof (prove)\nusing this:\n  x = y\n\ngoal (1 subgoal):\n 1. False", "using ** y_in"], ["proof (prove)\nusing this:\n  x = y\n  x \\<notin> set X\n  y \\<in> set X\n\ngoal (1 subgoal):\n 1. False", "by metis"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  y \\<notin> set X\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 7. \\<And>x71 x72 x73.\n       s =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)", "thus ?thesis"], ["proof (prove)\nusing this:\n  y \\<notin> set X\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n       x \\<in> fv (\\<delta> y)", "using NegChecks y"], ["proof (prove)\nusing this:\n  y \\<notin> set X\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  y \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  x \\<in> fv (rm_vars (set X) \\<delta> y)\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n       x \\<in> fv (\\<delta> y)", "by auto"], ["proof (state)\nthis:\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n     x \\<in> fv (\\<delta> y)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       s = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 2. \\<And>x2.\n       s = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 3. \\<And>x31 x32 x33.\n       s = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 4. \\<And>x41 x42.\n       s = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 5. \\<And>x51 x52.\n       s = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)\n 6. \\<And>x61 x62 x63.\n       s = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n          x \\<in> fv (\\<delta> y)", "qed (use * fv_subst_obtain_var in force)+"], ["proof (state)\nthis:\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n     x \\<in> fv (\\<delta> y)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s.\n     x \\<in> fv (\\<delta> y)\n\ngoal (1 subgoal):\n 1. \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n       x \\<in> fv (\\<delta> y)", "by auto"], ["proof (state)\nthis:\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S). x \\<in> fv (\\<delta> y)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n                      (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                       \\<delta>) \\<Longrightarrow>\n             \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S.\n                x \\<in> fv (\\<delta> y);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n              (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n    \\<Longrightarrow> \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S).\n                         x \\<in> fv (\\<delta> y)", "qed auto"], ["proof (state)\nthis:\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S). x \\<in> fv (\\<delta> y)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t []. x \\<in> fv (\\<delta> y)", "qed simp"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_subset_range_vars_if_subset_domain:\n  assumes \"fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> subst_domain \\<sigma>\"\n  shows \"fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<subseteq> range_vars \\<sigma>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n    \\<subseteq> range_vars \\<sigma>", "using assms fv\\<^sub>s\\<^sub>s\\<^sub>t_subst_obtain_var[of _ S \\<sigma>] subst_dom_vars_in_subst[of _ \\<sigma>] subst_fv_imgI[of \\<sigma>]"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> subst_domain \\<sigma>\n  ?x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\n            (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>) \\<Longrightarrow>\n  \\<exists>y\\<in>fv\\<^sub>s\\<^sub>s\\<^sub>t S. ?x \\<in> fv (\\<sigma> y)\n  ?v \\<in> subst_domain \\<sigma> \\<Longrightarrow>\n  \\<sigma> ?v \\<noteq> Var ?v\n  \\<sigma> ?v \\<noteq> Var ?v \\<Longrightarrow>\n  fv (\\<sigma> ?v) \\<subseteq> range_vars \\<sigma>\n\ngoal (1 subgoal):\n 1. fv\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<sigma>)\n    \\<subseteq> range_vars \\<sigma>", "by (metis (no_types) in_mono subsetI)"], ["", "lemma fv\\<^sub>s\\<^sub>s\\<^sub>t_in_fv_trms\\<^sub>s\\<^sub>s\\<^sub>t: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n                x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                         (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "case (Cons s S)"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n\ngoal (2 subgoals):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])\n 2. \\<And>a S.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n                x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                         (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n        x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t (a # S))", "thus ?case"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t S)\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "proof (cases \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "case False"], ["proof (state)\nthis:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "hence *: \"x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\""], ["proof (prove)\nusing this:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s", "using Cons.prems"], ["proof (prove)\nusing this:\n  x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s", "by simp"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "hence \"x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\""], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "proof (cases s)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "hence \"x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or> x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\""], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n    x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "using *"], ["proof (prove)\nusing this:\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n    x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G", "by simp_all"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "using * fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s_in_fv_trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s[of x] NegChecks"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s F \\<or>\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s G\n  x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\n  x \\<in> fv\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F \\<Longrightarrow>\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (trms\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?F)\n  s = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "by auto"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 2. \\<And>x2.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 4. \\<And>x41 x42.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 5. \\<And>x51 x52.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s;\n        s = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                                  (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)", "qed auto"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n\ngoal (2 subgoals):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n 2. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<notin> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "thus ?thesis"], ["proof (prove)\nusing this:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n           (trms\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s)\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n             (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "by simp"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S \\<Longrightarrow>\n             x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                      (trms\\<^sub>s\\<^sub>s\\<^sub>t S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t (s # S);\n     x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t S\\<rbrakk>\n    \\<Longrightarrow> x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t\n                               (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))", "qed simp"], ["proof (state)\nthis:\n  x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t (s # S))\n\ngoal (1 subgoal):\n 1. x \\<in> fv\\<^sub>s\\<^sub>s\\<^sub>t [] \\<Longrightarrow>\n    x \\<in> fv\\<^sub>s\\<^sub>e\\<^sub>t (trms\\<^sub>s\\<^sub>s\\<^sub>t [])", "qed simp"], ["", "lemma stateful_strand_step_subst_comp:\n  assumes \"range_vars \\<delta> \\<inter> set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) = {}\"\n  shows \"x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<theta> = (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       x =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       x =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>", "hence *: \"range_vars \\<delta> \\<inter> set X = {}\""], ["proof (prove)\nusing this:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. range_vars \\<delta> \\<inter> set X = {}", "using assms"], ["proof (prove)\nusing this:\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  range_vars \\<delta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) =\n  {}\n\ngoal (1 subgoal):\n 1. range_vars \\<delta> \\<inter> set X = {}", "by simp"], ["proof (state)\nthis:\n  range_vars \\<delta> \\<inter> set X = {}\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       x =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>", "have \"H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s \\<theta>) = (H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set X) \\<theta>\" for H"], ["proof (prove)\ngoal (1 subgoal):\n 1. H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n    (H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X)\n      \\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>", "using pairs_subst_comp rm_vars_comp[OF *]"], ["proof (prove)\nusing this:\n  ?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  ?\\<delta> \\<circ>\\<^sub>s ?\\<theta> =\n  (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   ?\\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  ?\\<theta>\n  ?t \\<cdot> rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s ?\\<theta>) =\n  ?t \\<cdot>\n  rm_vars (set X) \\<delta> \\<circ>\\<^sub>s rm_vars (set X) ?\\<theta>\n\ngoal (1 subgoal):\n 1. H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n    (H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n     rm_vars (set X)\n      \\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n    rm_vars (set X) \\<theta>", "by (induct H) (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  ?H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  (?H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   rm_vars (set X) \\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X) \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       x =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  ?H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  (?H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   rm_vars (set X) \\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X) \\<theta>\n\ngoal (1 subgoal):\n 1. x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>", "using NegChecks"], ["proof (prove)\nusing this:\n  ?H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X) (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  (?H \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   rm_vars (set X) \\<delta>) \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  rm_vars (set X) \\<theta>\n  x = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>", "by simp"], ["proof (state)\nthis:\n  x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       x = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 2. \\<And>x2.\n       x = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       x = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 4. \\<And>x41 x42.\n       x = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 5. \\<And>x51 x52.\n       x = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       x = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<delta> \\<circ>\\<^sub>s \\<theta> =\n       (x \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n       \\<theta>", "qed simp_all"], ["", "lemma stateful_strand_subst_comp:\n  assumes \"range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> = (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\n\ngoal (1 subgoal):\n 1. S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    {} \\<Longrightarrow>\n    [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>range_vars \\<delta> \\<inter>\n                bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                {} \\<Longrightarrow>\n                S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<theta>;\n        range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                         (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<theta>", "case (Cons s S)"], ["proof (state)\nthis:\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  {} \\<Longrightarrow>\n  S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n\ngoal (2 subgoals):\n 1. range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    {} \\<Longrightarrow>\n    [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>range_vars \\<delta> \\<inter>\n                bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                {} \\<Longrightarrow>\n                S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<theta>;\n        range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                         (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<theta>", "hence IH: \"S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> = (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>\""], ["proof (prove)\nusing this:\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  {} \\<Longrightarrow>\n  S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n\ngoal (1 subgoal):\n 1. S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "using Cons"], ["proof (prove)\nusing this:\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  {} \\<Longrightarrow>\n  S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  {} \\<Longrightarrow>\n  S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n\ngoal (1 subgoal):\n 1. S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "by auto"], ["proof (state)\nthis:\n  S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n\ngoal (2 subgoals):\n 1. range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    {} \\<Longrightarrow>\n    [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>range_vars \\<delta> \\<inter>\n                bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                {} \\<Longrightarrow>\n                S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<theta>;\n        range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                         (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<theta>", "have \"s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<theta> = (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>", "using Cons.prems stateful_strand_step_subst_comp[of \\<delta> s \\<theta>]"], ["proof (prove)\nusing this:\n  range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) = {}\n  range_vars \\<delta> \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {} \\<Longrightarrow>\n  s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta>\n\ngoal (1 subgoal):\n 1. s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>", "unfolding range_vars_alt_def"], ["proof (prove)\nusing this:\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (subst_range \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (s # S) =\n  {}\n  fv\\<^sub>s\\<^sub>e\\<^sub>t (subst_range \\<delta>) \\<inter>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s) =\n  {} \\<Longrightarrow>\n  s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta>\n\ngoal (1 subgoal):\n 1. s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta>", "by auto"], ["proof (state)\nthis:\n  s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta>\n\ngoal (2 subgoals):\n 1. range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    {} \\<Longrightarrow>\n    [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>\n 2. \\<And>a S.\n       \\<lbrakk>range_vars \\<delta> \\<inter>\n                bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                {} \\<Longrightarrow>\n                S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                \\<theta>;\n        range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta> \\<circ>\\<^sub>s \\<theta> =\n                         (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<theta>", "thus ?case"], ["proof (prove)\nusing this:\n  s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta>\n\ngoal (1 subgoal):\n 1. s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "using IH"], ["proof (prove)\nusing this:\n  s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (s \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta>\n  S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "by (simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  (s # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n   \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. range_vars \\<delta> \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n    {} \\<Longrightarrow>\n    [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> \\<circ>\\<^sub>s \\<theta> =\n    ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>) \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<theta>", "qed simp"], ["", "lemma subst_apply_bvars_disj_NegChecks:\n  assumes \"set X \\<inter> subst_domain \\<theta> = {}\"\n  shows \"NegChecks X F G \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = NegChecks X (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          \\<theta>\\<rangle>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          \\<theta>\\<rangle>", "have \"rm_vars (set X) \\<theta> = \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "using assms rm_vars_apply'[of \\<theta> \"set X\"]"], ["proof (prove)\nusing this:\n  set X \\<inter> subst_domain \\<theta> = {}\n  subst_domain \\<theta> \\<inter> set X = {} \\<Longrightarrow>\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "by auto"], ["proof (state)\nthis:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          \\<theta>\\<rangle>", "thus ?thesis"], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                          \\<theta>\\<rangle>", "by simp"], ["proof (state)\nthis:\n  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n  \\<theta> =\n  \\<forall>X\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                                     \\<theta>) \\<or>\\<notin>: G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                        \\<theta>\\<rangle>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma subst_apply_NegChecks_no_bvars[simp]:\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<or>\\<notin>: (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\\<rangle>\"\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: F'\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\\<rangle>\"\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) \\<or>\\<notin>: []\\<rangle>\"\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: [(t,s)]\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: ([(t \\<cdot> \\<theta>,s \\<cdot> \\<theta>)])\\<rangle>\" (is ?A)\n  \"\\<forall>[]\\<langle>\\<or>\\<noteq>: [(t,s)] \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta> = \\<forall>[]\\<langle>\\<or>\\<noteq>: ([(t \\<cdot> \\<theta>,s \\<cdot> \\<theta>)]) \\<or>\\<notin>: []\\<rangle>\" (is ?B)"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<theta> =\n     \\<forall>[]\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n   \\<theta>) \\<or>\\<notin>: F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                            \\<theta>\\<rangle> &&&\n     \\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: F'\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     \\<theta> =\n     \\<forall>[]\\<langle>\\<or>\\<noteq>: [] \\<or>\\<notin>: F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                    \\<theta>\\<rangle>) &&&\n    \\<forall>[]\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: []\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<forall>[]\\<langle>\\<or>\\<noteq>: (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n  \\<theta>) \\<or>\\<notin>: []\\<rangle> &&&\n    \\<langle>t not in s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<langle>t \\<cdot> \\<theta> not in s \\<cdot> \\<theta>\\<rangle> &&&\n    \\<langle>t != s\\<rangle> \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n    \\<theta> =\n    \\<langle>t \\<cdot> \\<theta> != s \\<cdot> \\<theta>\\<rangle>", "by simp_all"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_mono:\n  \"set M \\<subseteq> set N \\<Longrightarrow> setops\\<^sub>s\\<^sub>s\\<^sub>t M \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. set M \\<subseteq> set N \\<Longrightarrow>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t M\n    \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t N", "by (auto simp add: setops\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_nil[simp]: \"setops\\<^sub>s\\<^sub>s\\<^sub>t [] = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t [] = {}", "by (simp add: setops\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_cons[simp]: \"setops\\<^sub>s\\<^sub>s\\<^sub>t (a#A) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union> setops\\<^sub>s\\<^sub>s\\<^sub>t A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t A", "by (simp add: setops\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_cons_subset[simp]: \"setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t (a#A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t A\n    \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "using setops\\<^sub>s\\<^sub>s\\<^sub>t_cons[of a A]"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t A\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t A\n    \\<subseteq> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)", "by blast"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_append: \"setops\\<^sub>s\\<^sub>s\\<^sub>t (A@B) = setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> setops\\<^sub>s\\<^sub>s\\<^sub>t B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t B", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t B\n 2. \\<And>a A.\n       setops\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t B \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<union>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t B", "case (Cons a A)"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> setops\\<^sub>s\\<^sub>s\\<^sub>t B\n\ngoal (2 subgoals):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t B\n 2. \\<And>a A.\n       setops\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t B \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<union>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t B", "thus ?case"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (A @ B) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<union> setops\\<^sub>s\\<^sub>s\\<^sub>t B\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<union>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t B", "by (cases a) (auto simp add: setops\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t ((a # A) @ B) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t B\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t ([] @ B) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t B", "qed (simp add: setops\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_member_iff:\n  \"(t,s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x \\<longleftrightarrow>\n    (x = Insert t s \\<or> x = Delete t s \\<or> (\\<exists>ac. x = InSet ac t s) \\<or>\n     (\\<exists>X F F'. x = NegChecks X F F' \\<and> (t,s) \\<in> set F'))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p x) =\n    (x = insert\\<langle>t,s\\<rangle> \\<or>\n     x = delete\\<langle>t,s\\<rangle> \\<or>\n     (\\<exists>ac. x = \\<langle>ac: t \\<in> s\\<rangle>) \\<or>\n     (\\<exists>X F F'.\n         x =\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> \\<and>\n         (t, s) \\<in> set F'))", "by (cases x) auto"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_member_iff:\n  \"(t,s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A \\<longleftrightarrow>\n    (Insert t s \\<in> set A \\<or> Delete t s \\<in> set A \\<or> (\\<exists>ac. InSet ac t s \\<in> set A) \\<or>\n     (\\<exists>X F F'. NegChecks X F F' \\<in> set A \\<and> (t,s) \\<in> set F'))\"\n  (is \"?P \\<longleftrightarrow> ?Q\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set A \\<and>\n         (t, s) \\<in> set F'))", "proof (induction A)"], ["proof (state)\ngoal (2 subgoals):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t []) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set [] \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set [] \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set []) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set [] \\<and>\n         (t, s) \\<in> set F'))\n 2. \\<And>a A.\n       ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n       (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n        delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n        (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n        (\\<exists>X F F'.\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n            \\<in> set A \\<and>\n            (t, s) \\<in> set F')) \\<Longrightarrow>\n       ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n       (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n        (\\<exists>ac.\n            \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n        (\\<exists>X F F'.\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n            \\<in> set (a # A) \\<and>\n            (t, s) \\<in> set F'))", "case (Cons a A)"], ["proof (state)\nthis:\n  ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n  (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n   delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n   (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n   (\\<exists>X F F'.\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n       \\<in> set A \\<and>\n       (t, s) \\<in> set F'))\n\ngoal (2 subgoals):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t []) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set [] \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set [] \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set []) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set [] \\<and>\n         (t, s) \\<in> set F'))\n 2. \\<And>a A.\n       ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n       (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n        delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n        (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n        (\\<exists>X F F'.\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n            \\<in> set A \\<and>\n            (t, s) \\<in> set F')) \\<Longrightarrow>\n       ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n       (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n        delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n        (\\<exists>ac.\n            \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n        (\\<exists>X F F'.\n            \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n            \\<in> set (a # A) \\<and>\n            (t, s) \\<in> set F'))", "thus ?case"], ["proof (prove)\nusing this:\n  ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n  (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n   delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n   (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n   (\\<exists>X F F'.\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n       \\<in> set A \\<and>\n       (t, s) \\<in> set F'))\n\ngoal (1 subgoal):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set (a # A) \\<and>\n         (t, s) \\<in> set F'))", "proof (cases \"(t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n             (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              (\\<exists>ac.\n                  \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n              (\\<exists>X F F'.\n                  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                  \\<in> set A \\<and>\n                  (t, s) \\<in> set F'));\n     (t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\\<rbrakk>\n    \\<Longrightarrow> ((t, s)\n                       \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n                      (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       (\\<exists>ac.\n                           \\<langle>ac: t \\<in> s\\<rangle>\n                           \\<in> set (a # A)) \\<or>\n                       (\\<exists>X F F'.\n                           \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                           \\<in> set (a # A) \\<and>\n                           (t, s) \\<in> set F'))\n 2. \\<lbrakk>((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n             (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              (\\<exists>ac.\n                  \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n              (\\<exists>X F F'.\n                  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                  \\<in> set A \\<and>\n                  (t, s) \\<in> set F'));\n     (t, s) \\<notin> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\\<rbrakk>\n    \\<Longrightarrow> ((t, s)\n                       \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n                      (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       (\\<exists>ac.\n                           \\<langle>ac: t \\<in> s\\<rangle>\n                           \\<in> set (a # A)) \\<or>\n                       (\\<exists>X F F'.\n                           \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                           \\<in> set (a # A) \\<and>\n                           (t, s) \\<in> set F'))", "case True"], ["proof (state)\nthis:\n  (t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (2 subgoals):\n 1. \\<lbrakk>((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n             (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              (\\<exists>ac.\n                  \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n              (\\<exists>X F F'.\n                  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                  \\<in> set A \\<and>\n                  (t, s) \\<in> set F'));\n     (t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\\<rbrakk>\n    \\<Longrightarrow> ((t, s)\n                       \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n                      (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       (\\<exists>ac.\n                           \\<langle>ac: t \\<in> s\\<rangle>\n                           \\<in> set (a # A)) \\<or>\n                       (\\<exists>X F F'.\n                           \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                           \\<in> set (a # A) \\<and>\n                           (t, s) \\<in> set F'))\n 2. \\<lbrakk>((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n             (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              (\\<exists>ac.\n                  \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n              (\\<exists>X F F'.\n                  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                  \\<in> set A \\<and>\n                  (t, s) \\<in> set F'));\n     (t, s) \\<notin> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\\<rbrakk>\n    \\<Longrightarrow> ((t, s)\n                       \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n                      (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       (\\<exists>ac.\n                           \\<langle>ac: t \\<in> s\\<rangle>\n                           \\<in> set (a # A)) \\<or>\n                       (\\<exists>X F F'.\n                           \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                           \\<in> set (a # A) \\<and>\n                           (t, s) \\<in> set F'))", "thus ?thesis"], ["proof (prove)\nusing this:\n  (t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n\ngoal (1 subgoal):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set (a # A) \\<and>\n         (t, s) \\<in> set F'))", "using setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_member_iff[of t s a]"], ["proof (prove)\nusing this:\n  (t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\n  ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) =\n  (a = insert\\<langle>t,s\\<rangle> \\<or>\n   a = delete\\<langle>t,s\\<rangle> \\<or>\n   (\\<exists>ac. a = \\<langle>ac: t \\<in> s\\<rangle>) \\<or>\n   (\\<exists>X F F'.\n       a =\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> \\<and>\n       (t, s) \\<in> set F'))\n\ngoal (1 subgoal):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set (a # A) \\<and>\n         (t, s) \\<in> set F'))", "by auto"], ["proof (state)\nthis:\n  ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n  (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n   delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n   (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n   (\\<exists>X F F'.\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n       \\<in> set (a # A) \\<and>\n       (t, s) \\<in> set F'))\n\ngoal (1 subgoal):\n 1. \\<lbrakk>((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t A) =\n             (insert\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              delete\\<langle>t,s\\<rangle> \\<in> set A \\<or>\n              (\\<exists>ac.\n                  \\<langle>ac: t \\<in> s\\<rangle> \\<in> set A) \\<or>\n              (\\<exists>X F F'.\n                  \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                  \\<in> set A \\<and>\n                  (t, s) \\<in> set F'));\n     (t, s) \\<notin> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a\\<rbrakk>\n    \\<Longrightarrow> ((t, s)\n                       \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n                      (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n                       (\\<exists>ac.\n                           \\<langle>ac: t \\<in> s\\<rangle>\n                           \\<in> set (a # A)) \\<or>\n                       (\\<exists>X F F'.\n                           \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n                           \\<in> set (a # A) \\<and>\n                           (t, s) \\<in> set F'))", "qed auto"], ["proof (state)\nthis:\n  ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (a # A)) =\n  (insert\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n   delete\\<langle>t,s\\<rangle> \\<in> set (a # A) \\<or>\n   (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set (a # A)) \\<or>\n   (\\<exists>X F F'.\n       \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n       \\<in> set (a # A) \\<and>\n       (t, s) \\<in> set F'))\n\ngoal (1 subgoal):\n 1. ((t, s) \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t []) =\n    (insert\\<langle>t,s\\<rangle> \\<in> set [] \\<or>\n     delete\\<langle>t,s\\<rangle> \\<in> set [] \\<or>\n     (\\<exists>ac. \\<langle>ac: t \\<in> s\\<rangle> \\<in> set []) \\<or>\n     (\\<exists>X F F'.\n         \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle>\n         \\<in> set [] \\<and>\n         (t, s) \\<in> set F'))", "qed simp"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst:\n  assumes \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter> subst_domain \\<theta> = {}\"\n  shows \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "case (NegChecks X F G)"], ["proof (state)\nthis:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "hence \"rm_vars (set X) \\<theta> = \\<theta>\""], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "using assms rm_vars_apply'[of \\<theta> \"set X\"]"], ["proof (prove)\nusing this:\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n  subst_domain \\<theta> =\n  {}\n  subst_domain \\<theta> \\<inter> set X = {} \\<Longrightarrow>\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<theta> = \\<theta>", "by auto"], ["proof (state)\nthis:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "hence \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\"\n        \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta> = set G \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<theta> = \\<theta>\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) &&&\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta> =\n    set G \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>", "using NegChecks image_Un"], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<theta> = \\<theta>\n  a = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n  ?f ` (?A \\<union> ?B) = ?f ` ?A \\<union> ?f ` ?B\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>) &&&\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta> =\n    set G \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>", "by simp_all"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta> =\n  set G \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 7. \\<And>x71 x72 x73.\n       a =\n       \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<theta>)\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta> =\n  set G \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by (simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       a = send\\<langle>x1\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 2. \\<And>x2.\n       a = receive\\<langle>x2\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 3. \\<And>x31 x32 x33.\n       a = \\<langle>x31: x32 \\<doteq> x33\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 4. \\<And>x41 x42.\n       a = insert\\<langle>x41,x42\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 5. \\<And>x51 x52.\n       a = delete\\<langle>x51,x52\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>\n 6. \\<And>x61 x62 x63.\n       a = \\<langle>x61: x62 \\<in> x63\\<rangle> \\<Longrightarrow>\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n       setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n        a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n       \\<theta>", "qed simp_all"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst':\n  assumes \"\\<not>is_NegChecks a\"\n  shows \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  \\<not> is_NegChecks a\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by (cases a) auto"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst'':\n  fixes t::\"('a,'b) term \\<times> ('a,'b) term\" and \\<delta>::\"('a,'b) subst\"\n  assumes t: \"t \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\"\n  shows \"\\<exists>s \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b. t = s \\<cdot>\\<^sub>p rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "proof (cases \"is_NegChecks b\")"], ["proof (state)\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "case True"], ["proof (state)\nthis:\n  is_NegChecks b\n\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "then"], ["proof (chain)\npicking this:\n  is_NegChecks b", "obtain X F G where b: \"b = NegChecks X F G\""], ["proof (prove)\nusing this:\n  is_NegChecks b\n\ngoal (1 subgoal):\n 1. (\\<And>X F G.\n        b =\n        \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle> \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (cases b) moura+"], ["proof (state)\nthis:\n  b = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "hence \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b = set G\" \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) = set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>)\""], ["proof (prove)\nusing this:\n  b = \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: G\\<rangle>\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b = set G &&&\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n         rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>)", "by simp_all"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b = set G\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>)\n\ngoal (2 subgoals):\n 1. is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n 2. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b = set G\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "using t subst_apply_pairs_pset_subst[of G]"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b = set G\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>)\n  t \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n  set (G \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s ?\\<theta>) =\n  set G \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t ?\\<theta>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "by blast"], ["proof (state)\nthis:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n     t =\n     s \\<cdot>\\<^sub>p\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "case False"], ["proof (state)\nthis:\n  \\<not> is_NegChecks b\n\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "hence \"setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\""], ["proof (prove)\nusing this:\n  \\<not> is_NegChecks b\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     b \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "using setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst' bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_NegChecks"], ["proof (prove)\nusing this:\n  \\<not> is_NegChecks b\n  \\<not> is_NegChecks ?a \\<Longrightarrow>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (?a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?\\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   ?a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  ?\\<theta>\n  \\<not> is_NegChecks ?a \\<Longrightarrow>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p ?a = []\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n     b \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "by fastforce"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   b \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<not> is_NegChecks b \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "thus ?thesis"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   b \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "using t"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   b \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n  t \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (b \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n       t =\n       s \\<cdot>\\<^sub>p\n       rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>", "by blast"], ["proof (state)\nthis:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b.\n     t =\n     s \\<cdot>\\<^sub>p\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p b)) \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_subst:\n  assumes \"bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\"\n  shows \"setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    (\\<lambda>(t, t'). (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n    setops\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                (\\<lambda>(t, t').\n                    (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                setops\\<^sub>s\\<^sub>s\\<^sub>t S;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         (\\<lambda>(t, t').\n                             (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                         setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "case (Cons a S)"], ["proof (state)\nthis:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> =\n  {} \\<Longrightarrow>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter> subst_domain \\<theta> = {}\n\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    (\\<lambda>(t, t'). (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n    setops\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                (\\<lambda>(t, t').\n                    (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                setops\\<^sub>s\\<^sub>s\\<^sub>t S;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         (\\<lambda>(t, t').\n                             (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                         setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "have \"bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\" and *: \"set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter> subst_domain \\<theta> = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {} &&&\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n    subst_domain \\<theta> =\n    {}", "using Cons.prems"], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter> subst_domain \\<theta> = {}\n\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {} &&&\n    set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n    subst_domain \\<theta> =\n    {}", "by auto"], ["proof (state)\nthis:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n  subst_domain \\<theta> =\n  {}\n\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    (\\<lambda>(t, t'). (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n    setops\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                (\\<lambda>(t, t').\n                    (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                setops\\<^sub>s\\<^sub>s\\<^sub>t S;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         (\\<lambda>(t, t').\n                             (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                         setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "hence IH: \"setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) = setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t \\<theta>\""], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n  subst_domain \\<theta> =\n  {}\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "using Cons.IH"], ["proof (prove)\nusing this:\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> = {}\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<inter>\n  subst_domain \\<theta> =\n  {}\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter> subst_domain \\<theta> =\n  {} \\<Longrightarrow>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by auto"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (2 subgoals):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    (\\<lambda>(t, t'). (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n    setops\\<^sub>s\\<^sub>s\\<^sub>t []\n 2. \\<And>a S.\n       \\<lbrakk>bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<inter>\n                subst_domain \\<theta> =\n                {} \\<Longrightarrow>\n                setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                (\\<lambda>(t, t').\n                    (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                setops\\<^sub>s\\<^sub>s\\<^sub>t S;\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<inter>\n        subst_domain \\<theta> =\n        {}\\<rbrakk>\n       \\<Longrightarrow> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                          (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n                         (\\<lambda>(t, t').\n                             (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n                         setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S)", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # S) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "using setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst[OF *] IH"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # S) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "unfolding setops\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   a \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n  \\<Union>\n   (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p `\n    set (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) =\n  \\<Union>\n   (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p `\n    set S) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. \\<Union>\n     (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p `\n      set (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>)) =\n    \\<Union>\n     (setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p `\n      set (a # S)) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n    \\<theta>", "by (auto simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S) \\<cdot>\\<^sub>p\\<^sub>s\\<^sub>e\\<^sub>t\n  \\<theta>\n\ngoal (1 subgoal):\n 1. bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<inter> subst_domain \\<theta> =\n    {} \\<Longrightarrow>\n    setops\\<^sub>s\\<^sub>s\\<^sub>t\n     ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<theta>) =\n    (\\<lambda>(t, t'). (t \\<cdot> \\<theta>, t' \\<cdot> \\<theta>)) `\n    setops\\<^sub>s\\<^sub>s\\<^sub>t []", "qed (simp add: setops\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma setops\\<^sub>s\\<^sub>s\\<^sub>t_subst':\n  fixes p::\"('a,'b) term \\<times> ('a,'b) term\" and \\<delta>::\"('a,'b) subst\"\n  assumes \"p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\"\n  shows \"\\<exists>s \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t S. \\<exists>X. set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and> p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "using assms"], ["proof (prove)\nusing this:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t [].\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. \\<And>a S.\n       \\<lbrakk>p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   \\<exists>X.\n                      set X\n                      \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n                      p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>;\n        p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S).\n                            \\<exists>X.\n                               set X\n                               \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t\n      (a # S) \\<and>\n                               p =\n                               s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "case (Cons a S)"], ["proof (state)\nthis:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n     \\<exists>X.\n        set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n        p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t [].\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. \\<And>a S.\n       \\<lbrakk>p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   \\<exists>X.\n                      set X\n                      \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n                      p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>;\n        p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S).\n                            \\<exists>X.\n                               set X\n                               \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t\n      (a # S) \\<and>\n                               p =\n                               s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "note 0 = setops\\<^sub>s\\<^sub>s\\<^sub>t_cons[of a S] bvars\\<^sub>s\\<^sub>s\\<^sub>t_Cons[of a S]"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t [].\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. \\<And>a S.\n       \\<lbrakk>p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   \\<exists>X.\n                      set X\n                      \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n                      p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>;\n        p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S).\n                            \\<exists>X.\n                               set X\n                               \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t\n      (a # S) \\<and>\n                               p =\n                               s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "note 1 = setops\\<^sub>s\\<^sub>s\\<^sub>t_cons[of \"a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>\" \"S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\"] subst_sst_cons[of a S \\<delta>]"], ["proof (state)\nthis:\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   ((a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t [].\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. \\<And>a S.\n       \\<lbrakk>p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   \\<exists>X.\n                      set X\n                      \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n                      p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>;\n        p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S).\n                            \\<exists>X.\n                               set X\n                               \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t\n      (a # S) \\<and>\n                               p =\n                               s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "have \"p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<or> p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<or>\n    p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)", "using Cons.prems 1"], ["proof (prove)\nusing this:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   ((a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n   (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n  (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n  (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<or>\n    p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)", "by auto"], ["proof (state)\nthis:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<or>\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t [].\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. \\<And>a S.\n       \\<lbrakk>p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                         (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                          \\<delta>) \\<Longrightarrow>\n                \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n                   \\<exists>X.\n                      set X\n                      \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n                      p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>;\n        p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n                 (a # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\\<rbrakk>\n       \\<Longrightarrow> \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\n   (a # S).\n                            \\<exists>X.\n                               set X\n                               \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t\n      (a # S) \\<and>\n                               p =\n                               s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "thus ?case"], ["proof (prove)\nusing this:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<or>\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n              \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "assume *: \"p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\""], ["proof (state)\nthis:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n           (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>)\n\ngoal (2 subgoals):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n 2. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n             (a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n              \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "using setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p_subst''[OF *] 0"], ["proof (prove)\nusing this:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a.\n     p =\n     s \\<cdot>\\<^sub>p\n     rm_vars (set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a)) \\<delta>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "by blast"], ["proof (state)\nthis:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n     \\<exists>X.\n        set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n        p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n\ngoal (1 subgoal):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "assume *: \"p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (state)\nthis:\n  p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n           (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "using Cons.IH[OF *] 0"], ["proof (prove)\nusing this:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t S.\n     \\<exists>X.\n        set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<and>\n        p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n  setops\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a \\<union>\n  setops\\<^sub>s\\<^sub>s\\<^sub>t S\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) =\n  set (bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p a) \\<union>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "by blast"], ["proof (state)\nthis:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n     \\<exists>X.\n        set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n        p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t (a # S).\n     \\<exists>X.\n        set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S) \\<and>\n        p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>\n\ngoal (1 subgoal):\n 1. p \\<in> setops\\<^sub>s\\<^sub>s\\<^sub>t\n             ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) \\<Longrightarrow>\n    \\<exists>s\\<in>setops\\<^sub>s\\<^sub>s\\<^sub>t [].\n       \\<exists>X.\n          set X \\<subseteq> bvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<and>\n          p = s \\<cdot>\\<^sub>p rm_vars (set X) \\<delta>", "qed simp"], ["", "subsection \\<open>Stateful Constraint Semantics\\<close>"], ["", "context intruder_model\nbegin"], ["", "definition negchecks_model where\n  \"negchecks_model (\\<I>::('a,'b) subst) (D::('a,'b) dbstate) X F G \\<equiv>\n      (\\<forall>\\<delta>. subst_domain \\<delta> = set X \\<and> ground (subst_range \\<delta>) \\<longrightarrow> \n              (list_ex (\\<lambda>f. fst f \\<cdot> (\\<delta> \\<circ>\\<^sub>s \\<I>) \\<noteq> snd f \\<cdot> (\\<delta> \\<circ>\\<^sub>s \\<I>)) F \\<or>\n               list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p (\\<delta> \\<circ>\\<^sub>s \\<I>) \\<notin> D) G))\""], ["", "fun strand_sem_stateful::\n  \"('fun,'var) terms \\<Rightarrow> ('fun,'var) dbstate \\<Rightarrow> ('fun,'var) stateful_strand \\<Rightarrow> ('fun,'var) subst \\<Rightarrow> bool\"\n  (\"\\<lbrakk>_; _; _\\<rbrakk>\\<^sub>s\")\nwhere\n  \"\\<lbrakk>M; D; []\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. True)\"\n| \"\\<lbrakk>M; D; Send t#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. M \\<turnstile> t \\<cdot> \\<I> \\<and> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s \\<I>)\"\n| \"\\<lbrakk>M; D; Receive t#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. \\<lbrakk>insert (t \\<cdot> \\<I>) M; D; S\\<rbrakk>\\<^sub>s \\<I>)\"\n| \"\\<lbrakk>M; D; Equality _ t t'#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. t \\<cdot> \\<I> = t' \\<cdot> \\<I> \\<and> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s \\<I>)\"\n| \"\\<lbrakk>M; D; Insert t s#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. \\<lbrakk>M; insert ((t,s) \\<cdot>\\<^sub>p \\<I>) D; S\\<rbrakk>\\<^sub>s \\<I>)\"\n| \"\\<lbrakk>M; D; Delete t s#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. \\<lbrakk>M; D - {(t,s) \\<cdot>\\<^sub>p \\<I>}; S\\<rbrakk>\\<^sub>s \\<I>)\"\n| \"\\<lbrakk>M; D; InSet _ t s#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. (t,s) \\<cdot>\\<^sub>p \\<I> \\<in> D \\<and> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s \\<I>)\"\n| \"\\<lbrakk>M; D; NegChecks X F F'#S\\<rbrakk>\\<^sub>s = (\\<lambda>\\<I>. negchecks_model \\<I> D X F F' \\<and> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s \\<I>)\""], ["", "lemmas strand_sem_stateful_induct =\n  strand_sem_stateful.induct[case_names Nil ConsSnd ConsRcv ConsEq\n                                        ConsIns ConsDel ConsIn ConsNegChecks]"], ["", "abbreviation constr_sem_stateful (infix \"\\<Turnstile>\\<^sub>s\" 91) where \"\\<I> \\<Turnstile>\\<^sub>s A \\<equiv> \\<lbrakk>{}; {}; A\\<rbrakk>\\<^sub>s \\<I>\""], ["", "lemma stateful_strand_sem_NegChecks_no_bvars:\n  \"\\<lbrakk>M; D; [\\<langle>t not in s\\<rangle>]\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow> (t \\<cdot> \\<I>, s \\<cdot> \\<I>) \\<notin> D\"\n  \"\\<lbrakk>M; D; [\\<langle>t != s\\<rangle>]\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow> t \\<cdot> \\<I> \\<noteq> s \\<cdot> \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>M; D; [\\<langle>t not in s\\<rangle>]\\<rbrakk>\\<^sub>s\n      \\<I> \\<Longrightarrow>\n     (t \\<cdot> \\<I>, s \\<cdot> \\<I>) \\<notin> D) &&&\n    (\\<lbrakk>M; D; [\\<langle>t != s\\<rangle>]\\<rbrakk>\\<^sub>s\n      \\<I> \\<Longrightarrow>\n     t \\<cdot> \\<I> \\<noteq> s \\<cdot> \\<I>)", "by (simp_all add: negchecks_model_def empty_dom_iff_empty_subst)"], ["", "lemma strand_sem_ik_mono_stateful:\n  \"\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow> \\<lbrakk>M \\<union> M'; D; A\\<rbrakk>\\<^sub>s \\<I>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n    \\<lbrakk>M \\<union> M'; D; A\\<rbrakk>\\<^sub>s \\<I>", "using ideduct_mono"], ["proof (prove)\nusing this:\n  \\<lbrakk>?M \\<turnstile> ?t; ?M \\<subseteq> ?M'\\<rbrakk>\n  \\<Longrightarrow> ?M' \\<turnstile> ?t\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n    \\<lbrakk>M \\<union> M'; D; A\\<rbrakk>\\<^sub>s \\<I>", "by (induct A arbitrary: M M' D rule: strand_sem_stateful.induct) force+"], ["", "lemma strand_sem_append_stateful:\n  \"\\<lbrakk>M; D; A@B\\<rbrakk>\\<^sub>s \\<I> \\<longleftrightarrow> \\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and> \\<lbrakk>M \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D; B\\<rbrakk>\\<^sub>s \\<I>\"\n  (is \"?P \\<longleftrightarrow> ?Q \\<and> ?R\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n    (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n    (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>)", "have 1: \"?P \\<Longrightarrow> ?Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n    \\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>", "by (induct A rule: strand_sem_stateful.induct) auto"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n  \\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n    (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>)", "have 2: \"?P \\<Longrightarrow> ?R\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n    \\<lbrakk>M \\<union>\n             (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                      D; B\\<rbrakk>\\<^sub>s\n     \\<I>", "proof (induction A arbitrary: M D B)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M D B.\n       \\<lbrakk>M; D; [] @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n       \\<lbrakk>M \\<union>\n                (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                  [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                 \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I>\n                         D; B\\<rbrakk>\\<^sub>s\n        \\<I>\n 2. \\<And>a A M D B.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>", "case (Cons a A)"], ["proof (state)\nthis:\n  \\<lbrakk>?M2; ?D2; A @ ?B2\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n  \\<lbrakk>?M2 \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                    ?D2; ?B2\\<rbrakk>\\<^sub>s\n   \\<I>\n  \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n\ngoal (2 subgoals):\n 1. \\<And>M D B.\n       \\<lbrakk>M; D; [] @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n       \\<lbrakk>M \\<union>\n                (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                  [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                 \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I>\n                         D; B\\<rbrakk>\\<^sub>s\n        \\<I>\n 2. \\<And>a A M D B.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?M2; ?D2; A @ ?B2\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n  \\<lbrakk>?M2 \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                    ?D2; ?B2\\<rbrakk>\\<^sub>s\n   \\<I>\n  \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M \\<union>\n             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n               (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                      D; B\\<rbrakk>\\<^sub>s\n     \\<I>", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>", "case (Receive t)"], ["proof (state)\nthis:\n  a = receive\\<langle>t\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>", "have \"insert (t \\<cdot> \\<I>) (M \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) = M \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t (a#A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\"\n           \"dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D = dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a#A) \\<I> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (t \\<cdot> \\<I>)\n     (M \\<union>\n      (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n    M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<I>) &&&\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D", "using Receive"], ["proof (prove)\nusing this:\n  a = receive\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. insert (t \\<cdot> \\<I>)\n     (M \\<union>\n      (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n    M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<I>) &&&\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D", "by (auto simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  insert (t \\<cdot> \\<I>)\n   (M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n  M \\<union>\n  (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>", "thus ?thesis"], ["proof (prove)\nusing this:\n  insert (t \\<cdot> \\<I>)\n   (M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n  M \\<union>\n  (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M \\<union>\n             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n               (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                      D; B\\<rbrakk>\\<^sub>s\n     \\<I>", "using Cons Receive"], ["proof (prove)\nusing this:\n  insert (t \\<cdot> \\<I>)\n   (M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n  M \\<union>\n  (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D\n  \\<lbrakk>?M2; ?D2; A @ ?B2\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n  \\<lbrakk>?M2 \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                    ?D2; ?B2\\<rbrakk>\\<^sub>s\n   \\<I>\n  \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n  a = receive\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M \\<union>\n             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n               (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                      D; B\\<rbrakk>\\<^sub>s\n     \\<I>", "by force"], ["proof (state)\nthis:\n  \\<lbrakk>M \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t\n             (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                    D; B\\<rbrakk>\\<^sub>s\n   \\<I>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D B.\n                   \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n                    \\<I> \\<Longrightarrow>\n                   \\<lbrakk>M \\<union>\n                            (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                              A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                                     D; B\\<rbrakk>\\<^sub>s\n                    \\<I>;\n        \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M \\<union>\n                                  (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                                   \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t\n     (a # A) \\<I> D; B\\<rbrakk>\\<^sub>s\n                          \\<I>", "qed (auto simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  \\<lbrakk>M \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t\n             (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                    D; B\\<rbrakk>\\<^sub>s\n   \\<I>\n\ngoal (1 subgoal):\n 1. \\<And>M D B.\n       \\<lbrakk>M; D; [] @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n       \\<lbrakk>M \\<union>\n                (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                  [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                 \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I>\n                         D; B\\<rbrakk>\\<^sub>s\n        \\<I>", "qed (simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> \\<Longrightarrow>\n  \\<lbrakk>M \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                    D; B\\<rbrakk>\\<^sub>s\n   \\<I>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n    (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>)", "have 3: \"?Q \\<Longrightarrow> ?R \\<Longrightarrow> ?P\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>\\<rbrakk>\n    \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I>", "proof (induction A arbitrary: M D)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>M D.\n       \\<lbrakk>\\<lbrakk>M; D; []\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; [] @ B\\<rbrakk>\\<^sub>s \\<I>\n 2. \\<And>a A M D.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "case (Cons a A)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; A\\<rbrakk>\\<^sub>s \\<I>;\n   \\<lbrakk>?M2 \\<union>\n            (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                     ?D2; B\\<rbrakk>\\<^sub>s\n    \\<I>\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; A @ B\\<rbrakk>\\<^sub>s \\<I>\n  \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>\n  \\<lbrakk>M \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t\n             (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                    D; B\\<rbrakk>\\<^sub>s\n   \\<I>\n\ngoal (2 subgoals):\n 1. \\<And>M D.\n       \\<lbrakk>\\<lbrakk>M; D; []\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; [] @ B\\<rbrakk>\\<^sub>s \\<I>\n 2. \\<And>a A M D.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; A\\<rbrakk>\\<^sub>s \\<I>;\n   \\<lbrakk>?M2 \\<union>\n            (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                     ?D2; B\\<rbrakk>\\<^sub>s\n    \\<I>\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; A @ B\\<rbrakk>\\<^sub>s \\<I>\n  \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>\n  \\<lbrakk>M \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t\n             (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                    D; B\\<rbrakk>\\<^sub>s\n   \\<I>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "proof (cases a)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "case (Receive t)"], ["proof (state)\nthis:\n  a = receive\\<langle>t\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "have \"insert (t \\<cdot> \\<I>) (M \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) = M \\<union> (ik\\<^sub>s\\<^sub>s\\<^sub>t (a#A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\"\n           \"dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D = dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a#A) \\<I> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. insert (t \\<cdot> \\<I>)\n     (M \\<union>\n      (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n    M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<I>) &&&\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D", "using Receive"], ["proof (prove)\nusing this:\n  a = receive\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. insert (t \\<cdot> \\<I>)\n     (M \\<union>\n      (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n    M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n     \\<I>) &&&\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n    dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D", "by (auto simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  insert (t \\<cdot> \\<I>)\n   (M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n  M \\<union>\n  (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "thus ?thesis"], ["proof (prove)\nusing this:\n  insert (t \\<cdot> \\<I>)\n   (M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n  M \\<union>\n  (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "using Cons Receive"], ["proof (prove)\nusing this:\n  insert (t \\<cdot> \\<I>)\n   (M \\<union>\n    (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)) =\n  M \\<union>\n  (ik\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t \\<I>)\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I> D =\n  dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I> D\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; A\\<rbrakk>\\<^sub>s \\<I>;\n   \\<lbrakk>?M2 \\<union>\n            (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                     ?D2; B\\<rbrakk>\\<^sub>s\n    \\<I>\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; A @ B\\<rbrakk>\\<^sub>s \\<I>\n  \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>\n  \\<lbrakk>M \\<union>\n           (ik\\<^sub>s\\<^sub>s\\<^sub>t\n             (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n            \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                    D; B\\<rbrakk>\\<^sub>s\n   \\<I>\n  a = receive\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "by simp"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>M D.\n                   \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n                    \\<lbrakk>M \\<union>\n                             (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                               A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                              \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\nD; B\\<rbrakk>\\<^sub>s\n                     \\<I>\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s\n\\<I>;\n        \\<lbrakk>M; D; a # A\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   (a # A) \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t (a # A) \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>;\n        a =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>", "qed (auto simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; (a # A) @ B\\<rbrakk>\\<^sub>s \\<I>\n\ngoal (1 subgoal):\n 1. \\<And>M D.\n       \\<lbrakk>\\<lbrakk>M; D; []\\<rbrakk>\\<^sub>s \\<I>;\n        \\<lbrakk>M \\<union>\n                 (ik\\<^sub>s\\<^sub>s\\<^sub>t\n                   [] \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n                  \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t [] \\<I>\n                          D; B\\<rbrakk>\\<^sub>s\n         \\<I>\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>M; D; [] @ B\\<rbrakk>\\<^sub>s \\<I>", "qed (simp add: ik\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I>;\n   \\<lbrakk>M \\<union>\n            (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                     D; B\\<rbrakk>\\<^sub>s\n    \\<I>\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n    (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n    (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n     \\<lbrakk>M \\<union>\n              (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n               \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                       D; B\\<rbrakk>\\<^sub>s\n      \\<I>)", "by (metis 1 2 3)"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; A @ B\\<rbrakk>\\<^sub>s \\<I> =\n  (\\<lbrakk>M; D; A\\<rbrakk>\\<^sub>s \\<I> \\<and>\n   \\<lbrakk>M \\<union>\n            (ik\\<^sub>s\\<^sub>s\\<^sub>t A \\<cdot>\\<^sub>s\\<^sub>e\\<^sub>t\n             \\<I>); dbupd\\<^sub>s\\<^sub>s\\<^sub>t A \\<I>\n                     D; B\\<rbrakk>\\<^sub>s\n    \\<I>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma negchecks_model_db_subset:\n  fixes F F'::\"(('a,'b) term \\<times> ('a,'b) term) list\"\n  assumes \"D' \\<subseteq> D\"\n  and \"negchecks_model \\<I> D X F F'\"\n  shows \"negchecks_model \\<I> D' X F F'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D' X F F'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D' X F F'", "have \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D') F'\"\n    when \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D) F'\"\n    for \\<delta>::\"('a,'b) subst\""], ["proof (prove)\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D')\n     F'", "using Bex_set[of F' \"\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D'\"]\n          Bex_set[of F' \"\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D\"]\n          that assms(1)"], ["proof (prove)\nusing this:\n  (\\<exists>f\\<in>set F'.\n      f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D') =\n  list_ex\n   (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D')\n   F'\n  (\\<exists>f\\<in>set F'.\n      f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D) =\n  list_ex\n   (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D)\n   F'\n  list_ex\n   (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D)\n   F'\n  D' \\<subseteq> D\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D')\n     F'", "by blast"], ["proof (state)\nthis:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I> \\<notin> D)\n   F' \\<Longrightarrow>\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I> \\<notin> D')\n   F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D' X F F'", "thus ?thesis"], ["proof (prove)\nusing this:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I> \\<notin> D)\n   F' \\<Longrightarrow>\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I> \\<notin> D')\n   F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D' X F F'", "using assms(2)"], ["proof (prove)\nusing this:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I> \\<notin> D)\n   F' \\<Longrightarrow>\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I> \\<notin> D')\n   F'\n  negchecks_model \\<I> D X F F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D' X F F'", "by (auto simp add: negchecks_model_def)"], ["proof (state)\nthis:\n  negchecks_model \\<I> D' X F F'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma negchecks_model_db_supset:\n  fixes F F'::\"(('a,'b) term \\<times> ('a,'b) term) list\"\n  assumes \"D' \\<subseteq> D\"\n    and \"\\<forall>f \\<in> set F'. \\<forall>\\<delta>. subst_domain \\<delta> = set X \\<and> ground (subst_range \\<delta>) \\<longrightarrow> f \\<cdot>\\<^sub>p (\\<delta> \\<circ>\\<^sub>s \\<I>) \\<notin> D - D'\"\n    and \"negchecks_model \\<I> D' X F F'\"\n  shows \"negchecks_model \\<I> D X F F'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D X F F'", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D X F F'", "have \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D) F'\"\n    when \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D') F'\" \"subst_domain \\<delta> = set X \\<and> ground (subst_range \\<delta>)\"\n    for \\<delta>::\"('a,'b) subst\""], ["proof (prove)\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D)\n     F'", "using Bex_set[of F' \"\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D'\"]\n          Bex_set[of F' \"\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D\"]\n          that assms(1,2)"], ["proof (prove)\nusing this:\n  (\\<exists>f\\<in>set F'.\n      f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D') =\n  list_ex\n   (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D')\n   F'\n  (\\<exists>f\\<in>set F'.\n      f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D) =\n  list_ex\n   (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D)\n   F'\n  list_ex\n   (\\<lambda>f. f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D')\n   F'\n  subst_domain \\<delta> = set X \\<and> ground (subst_range \\<delta>)\n  D' \\<subseteq> D\n  \\<forall>f\\<in>set F'.\n     \\<forall>\\<delta>.\n        subst_domain \\<delta> = set X \\<and>\n        ground (subst_range \\<delta>) \\<longrightarrow>\n        f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D - D'\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p \\<delta> \\<circ>\\<^sub>s \\<I> \\<notin> D)\n     F'", "by blast"], ["proof (state)\nthis:\n  \\<lbrakk>list_ex\n            (\\<lambda>f.\n                f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I>\n                \\<notin> D')\n            F';\n   subst_domain ?\\<delta>2 = set X \\<and>\n   ground (subst_range ?\\<delta>2)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I>\n                         \\<notin> D)\n                     F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D X F F'", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>list_ex\n            (\\<lambda>f.\n                f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I>\n                \\<notin> D')\n            F';\n   subst_domain ?\\<delta>2 = set X \\<and>\n   ground (subst_range ?\\<delta>2)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I>\n                         \\<notin> D)\n                     F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D X F F'", "using assms(3)"], ["proof (prove)\nusing this:\n  \\<lbrakk>list_ex\n            (\\<lambda>f.\n                f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I>\n                \\<notin> D')\n            F';\n   subst_domain ?\\<delta>2 = set X \\<and>\n   ground (subst_range ?\\<delta>2)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p ?\\<delta>2 \\<circ>\\<^sub>s \\<I>\n                         \\<notin> D)\n                     F'\n  negchecks_model \\<I> D' X F F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<I> D X F F'", "by (auto simp add: negchecks_model_def)"], ["proof (state)\nthis:\n  negchecks_model \\<I> D X F F'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma negchecks_model_subst:\n  fixes F F'::\"(('a,'b) term \\<times> ('a,'b) term) list\"\n  assumes \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\"\n  shows \"negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' \\<longleftrightarrow> negchecks_model \\<theta> D X (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>) (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have 0: \"\\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) = \\<delta> \\<circ>\\<^sub>s (\\<sigma> \\<circ>\\<^sub>s \\<theta>)\"\n    when \\<sigma>: \"subst_domain \\<sigma> = set X\" \"ground (subst_range \\<sigma>)\" for \\<sigma>"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n    \\<delta> \\<circ>\\<^sub>s (\\<sigma> \\<circ>\\<^sub>s \\<theta>)", "by (metis (no_types, lifting) \\<sigma> subst_compose_assoc assms(1) inf_sup_aci(1)\n            subst_comp_eq_if_disjoint_vars sup_inf_absorb range_vars_alt_def)"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>2 = set X;\n   ground (subst_range ?\\<sigma>2)\\<rbrakk>\n  \\<Longrightarrow> ?\\<sigma>2 \\<circ>\\<^sub>s\n                    (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n                    \\<delta> \\<circ>\\<^sub>s\n                    (?\\<sigma>2 \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>2 = set X;\n   ground (subst_range ?\\<sigma>2)\\<rbrakk>\n  \\<Longrightarrow> ?\\<sigma>2 \\<circ>\\<^sub>s\n                    (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n                    \\<delta> \\<circ>\\<^sub>s\n                    (?\\<sigma>2 \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "fix \\<sigma>::\"('a,'b) subst\" and t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "assume \\<sigma>: \"subst_domain \\<sigma> = set X\" \"ground (subst_range \\<sigma>)\"\n        and *: \"list_ex (\\<lambda>f. fst f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)) \\<noteq> snd f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))) F\""], ["proof (state)\nthis:\n  subst_domain \\<sigma> = set X\n  ground (subst_range \\<sigma>)\n  list_ex\n   (\\<lambda>f.\n       fst f \\<cdot>\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n       snd f \\<cdot>\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n   F\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "obtain f where f: \"f \\<in> set F\" \"fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq> snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set F;\n         fst f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n         snd f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using *"], ["proof (prove)\nusing this:\n  list_ex\n   (\\<lambda>f.\n       fst f \\<cdot>\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n       snd f \\<cdot>\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n   F\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set F;\n         fst f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n         snd f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (induct F) auto"], ["proof (state)\nthis:\n  f \\<in> set F\n  fst f \\<cdot>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "hence \"(fst f \\<cdot> \\<delta>) \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq> (snd f \\<cdot> \\<delta>) \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\""], ["proof (prove)\nusing this:\n  f \\<in> set F\n  fst f \\<cdot>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. fst f \\<cdot> \\<delta> \\<cdot>\n    \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n    snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>", "using 0[OF \\<sigma>]"], ["proof (prove)\nusing this:\n  f \\<in> set F\n  fst f \\<cdot>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  \\<delta> \\<circ>\\<^sub>s (\\<sigma> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. fst f \\<cdot> \\<delta> \\<cdot>\n    \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n    snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>", "by simp"], ["proof (state)\nthis:\n  fst f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "moreover"], ["proof (state)\nthis:\n  fst f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have \"(fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>) \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>)\n    \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using f(1)"], ["proof (prove)\nusing this:\n  f \\<in> set F\n\ngoal (1 subgoal):\n 1. (fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>)\n    \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "by (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  (fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>)\n  \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "ultimately"], ["proof (chain)\npicking this:\n  fst f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  (fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>)\n  \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have \"list_ex (\\<lambda>f. fst f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s \\<theta>) \\<noteq> snd f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s \\<theta>)) (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\nusing this:\n  fst f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  (fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>)\n  \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n         snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>)\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using f(1) Bex_set"], ["proof (prove)\nusing this:\n  fst f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<delta> \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  (fst f \\<cdot> \\<delta>, snd f \\<cdot> \\<delta>)\n  \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  f \\<in> set F\n  Bex (set ?xs) ?P = list_ex ?P ?xs\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n         snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>)\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "by fastforce"], ["proof (state)\nthis:\n  list_ex\n   (\\<lambda>f.\n       fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n       snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>)\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "fix \\<sigma>::\"('a,'b) subst\" and t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "assume \\<sigma>: \"subst_domain \\<sigma> = set X\" \"ground (subst_range \\<sigma>)\"\n        and *: \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<notin> D) F'\""], ["proof (state)\nthis:\n  subst_domain \\<sigma> = set X\n  ground (subst_range \\<sigma>)\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n       \\<notin> D)\n   F'\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "obtain f where f: \"f \\<in> set F'\" \"f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<notin> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set F';\n         f \\<cdot>\\<^sub>p\n         \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n         \\<notin> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using *"], ["proof (prove)\nusing this:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n       \\<notin> D)\n   F'\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set F';\n         f \\<cdot>\\<^sub>p\n         \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n         \\<notin> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (induct F') auto"], ["proof (state)\nthis:\n  f \\<in> set F'\n  f \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<notin> D\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "hence \"f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D\""], ["proof (prove)\nusing this:\n  f \\<in> set F'\n  f \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<notin> D\n\ngoal (1 subgoal):\n 1. f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n    \\<sigma> \\<circ>\\<^sub>s \\<theta>\n    \\<notin> D", "using 0[OF \\<sigma>]"], ["proof (prove)\nusing this:\n  f \\<in> set F'\n  f \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<notin> D\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  \\<delta> \\<circ>\\<^sub>s (\\<sigma> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n    \\<sigma> \\<circ>\\<^sub>s \\<theta>\n    \\<notin> D", "by (metis subst_pair_compose)"], ["proof (state)\nthis:\n  f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  \\<notin> D\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "moreover"], ["proof (state)\nthis:\n  f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  \\<notin> D\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have \"f \\<cdot>\\<^sub>p \\<delta> \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<cdot>\\<^sub>p \\<delta>\n    \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using f(1)"], ["proof (prove)\nusing this:\n  f \\<in> set F'\n\ngoal (1 subgoal):\n 1. f \\<cdot>\\<^sub>p \\<delta>\n    \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "by (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  f \\<cdot>\\<^sub>p \\<delta>\n  \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "ultimately"], ["proof (chain)\npicking this:\n  f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  \\<notin> D\n  f \\<cdot>\\<^sub>p \\<delta>\n  \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D) (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\nusing this:\n  f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  \\<notin> D\n  f \\<cdot>\\<^sub>p \\<delta>\n  \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using f(1) Bex_set"], ["proof (prove)\nusing this:\n  f \\<cdot>\\<^sub>p \\<delta> \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  \\<notin> D\n  f \\<cdot>\\<^sub>p \\<delta>\n  \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  f \\<in> set F'\n  Bex (set ?xs) ?P = list_ex ?P ?xs\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "by fastforce"], ["proof (state)\nthis:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "fix \\<sigma>::\"('a,'b) subst\" and t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "assume \\<sigma>: \"subst_domain \\<sigma> = set X\" \"ground (subst_range \\<sigma>)\"\n        and *: \"list_ex (\\<lambda>f. fst f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s \\<theta>) \\<noteq> snd f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s \\<theta>)) (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (state)\nthis:\n  subst_domain \\<sigma> = set X\n  ground (subst_range \\<sigma>)\n  list_ex\n   (\\<lambda>f.\n       fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n       snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>)\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "obtain f where f: \"f \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\" \"fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq> snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                              \\<delta>);\n         fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n         snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using *"], ["proof (prove)\nusing this:\n  list_ex\n   (\\<lambda>f.\n       fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n       snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>)\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                              \\<delta>);\n         fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n         snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (induct F) (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  f \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "then"], ["proof (chain)\npicking this:\n  f \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>", "obtain g where g: \"g \\<in> set F\" \"f = g \\<cdot>\\<^sub>p \\<delta>\""], ["proof (prove)\nusing this:\n  f \\<in> set (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>g \\<in> set F; f = g \\<cdot>\\<^sub>p \\<delta>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  g \\<in> set F\n  f = g \\<cdot>\\<^sub>p \\<delta>\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have \"fst g \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq> snd g \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. fst g \\<cdot>\n    \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n    snd g \\<cdot>\n    \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "using f(2) g 0[OF \\<sigma>]"], ["proof (prove)\nusing this:\n  fst f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<noteq>\n  snd f \\<cdot> \\<sigma> \\<circ>\\<^sub>s \\<theta>\n  g \\<in> set F\n  f = g \\<cdot>\\<^sub>p \\<delta>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  \\<delta> \\<circ>\\<^sub>s (\\<sigma> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. fst g \\<cdot>\n    \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n    snd g \\<cdot>\n    \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "by (simp add: prod.case_eq_if)"], ["proof (state)\nthis:\n  fst g \\<cdot>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n  snd g \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "hence \"list_ex (\\<lambda>f. fst f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)) \\<noteq> snd f \\<cdot> (\\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))) F\""], ["proof (prove)\nusing this:\n  fst g \\<cdot>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n  snd g \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         fst f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n         snd f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n     F", "using g Bex_set"], ["proof (prove)\nusing this:\n  fst g \\<cdot>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n  snd g \\<cdot> \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  g \\<in> set F\n  f = g \\<cdot>\\<^sub>p \\<delta>\n  Bex (set ?xs) ?P = list_ex ?P ?xs\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         fst f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n         snd f \\<cdot>\n         \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n     F", "by fastforce"], ["proof (state)\nthis:\n  list_ex\n   (\\<lambda>f.\n       fst f \\<cdot>\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n       snd f \\<cdot>\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n   F\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "{"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "fix \\<sigma>::\"('a,'b) subst\" and t t'"], ["proof (state)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "assume \\<sigma>: \"subst_domain \\<sigma> = set X\" \"ground (subst_range \\<sigma>)\"\n        and *: \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p (\\<sigma> \\<circ>\\<^sub>s \\<theta>) \\<notin> D) (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (state)\nthis:\n  subst_domain \\<sigma> = set X\n  ground (subst_range \\<sigma>)\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "obtain f where f: \"f \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\" \"f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                              \\<delta>);\n         f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta>\n         \\<notin> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using *"], ["proof (prove)\nusing this:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>f \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                              \\<delta>);\n         f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta>\n         \\<notin> D\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (induct F') (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  f \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "then"], ["proof (chain)\npicking this:\n  f \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D", "obtain g where g: \"g \\<in> set F'\" \"f = g \\<cdot>\\<^sub>p \\<delta>\""], ["proof (prove)\nusing this:\n  f \\<in> set (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D\n\ngoal (1 subgoal):\n 1. (\\<And>g.\n        \\<lbrakk>g \\<in> set F'; f = g \\<cdot>\\<^sub>p \\<delta>\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (auto simp add: subst_apply_pairs_def)"], ["proof (state)\nthis:\n  g \\<in> set F'\n  f = g \\<cdot>\\<^sub>p \\<delta>\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "have \"g \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<notin> D\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<cdot>\\<^sub>p\n    \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n    \\<notin> D", "using f(2) g 0[OF \\<sigma>]"], ["proof (prove)\nusing this:\n  f \\<cdot>\\<^sub>p \\<sigma> \\<circ>\\<^sub>s \\<theta> \\<notin> D\n  g \\<in> set F'\n  f = g \\<cdot>\\<^sub>p \\<delta>\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n  \\<delta> \\<circ>\\<^sub>s (\\<sigma> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. g \\<cdot>\\<^sub>p\n    \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n    \\<notin> D", "by (simp add: prod.case_eq_if)"], ["proof (state)\nthis:\n  g \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<notin> D\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "hence \"list_ex (\\<lambda>f. f \\<cdot>\\<^sub>p (\\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)) \\<notin> D) F'\""], ["proof (prove)\nusing this:\n  g \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<notin> D\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p\n         \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n         \\<notin> D)\n     F'", "using g Bex_set"], ["proof (prove)\nusing this:\n  g \\<cdot>\\<^sub>p\n  \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<notin> D\n  g \\<in> set F'\n  f = g \\<cdot>\\<^sub>p \\<delta>\n  Bex (set ?xs) ?P = list_ex ?P ?xs\n\ngoal (1 subgoal):\n 1. list_ex\n     (\\<lambda>f.\n         f \\<cdot>\\<^sub>p\n         \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n         \\<notin> D)\n     F'", "by fastforce"], ["proof (state)\nthis:\n  list_ex\n   (\\<lambda>f.\n       f \\<cdot>\\<^sub>p\n       \\<sigma> \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n       \\<notin> D)\n   F'\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n    (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n                         \\<notin> D)\n                     F'\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n    (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n                         \\<notin> D)\n                     F'", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n    (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n                         \\<notin> D)\n                     F'\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using assms"], ["proof (prove)\nusing this:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n    (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n                         \\<notin> D)\n                     F'\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n    negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "unfolding negchecks_model_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s\n        (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n        snd f \\<cdot>\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n    F\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n                         snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n                     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p\n        ?\\<sigma>4 \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n        \\<notin> D)\n    F'\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>\n                         \\<notin> D)\n                     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s\n                      \\<delta>)\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        fst f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<noteq>\n        snd f \\<cdot> ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta>)\n    (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         fst f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n                         snd f \\<cdot>\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n                     F\n  \\<lbrakk>subst_domain ?\\<sigma>4 = set X; ground (subst_range ?\\<sigma>4);\n   list_ex\n    (\\<lambda>f.\n        f \\<cdot>\\<^sub>p ?\\<sigma>4 \\<circ>\\<^sub>s \\<theta> \\<notin> D)\n    (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\\<rbrakk>\n  \\<Longrightarrow> list_ex\n                     (\\<lambda>f.\n                         f \\<cdot>\\<^sub>p\n                         ?\\<sigma>4 \\<circ>\\<^sub>s\n                         (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n                         \\<notin> D)\n                     F'\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\n\ngoal (1 subgoal):\n 1. (\\<forall>\\<delta>'.\n        subst_domain \\<delta>' = set X \\<and>\n        ground (subst_range \\<delta>') \\<longrightarrow>\n        list_ex\n         (\\<lambda>f.\n             fst f \\<cdot>\n             \\<delta>' \\<circ>\\<^sub>s\n             (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<noteq>\n             snd f \\<cdot>\n             \\<delta>' \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>))\n         F \\<or>\n        list_ex\n         (\\<lambda>f.\n             f \\<cdot>\\<^sub>p\n             \\<delta>' \\<circ>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n             \\<notin> D)\n         F') =\n    (\\<forall>\\<delta>'.\n        subst_domain \\<delta>' = set X \\<and>\n        ground (subst_range \\<delta>') \\<longrightarrow>\n        list_ex\n         (\\<lambda>f.\n             fst f \\<cdot> \\<delta>' \\<circ>\\<^sub>s \\<theta> \\<noteq>\n             snd f \\<cdot> \\<delta>' \\<circ>\\<^sub>s \\<theta>)\n         (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>) \\<or>\n        list_ex\n         (\\<lambda>f.\n             f \\<cdot>\\<^sub>p \\<delta>' \\<circ>\\<^sub>s \\<theta>\n             \\<notin> D)\n         (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>))", "by blast"], ["proof (state)\nthis:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F' =\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma strand_sem_subst_stateful:\n  fixes \\<delta>::\"('fun,'var) subst\"\n  assumes \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> bvars\\<^sub>s\\<^sub>s\\<^sub>t S = {}\"\n  shows \"\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<longleftrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) =\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>\n 2. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "note [simp] = subst_sst_cons[of _ _ \\<delta>] subst_subst_compose[of _ \\<delta> \\<theta>]"], ["proof (state)\nthis:\n  ?a # ?A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta> =\n  (?a \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<delta>) #\n  (?A \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  ?t \\<cdot> \\<delta> \\<circ>\\<^sub>s \\<theta> =\n  ?t \\<cdot> \\<delta> \\<cdot> \\<theta>\n\ngoal (2 subgoals):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>\n 2. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "have \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> (subst_domain \\<gamma> \\<union> range_vars \\<gamma>) = {}\"\n    when \\<delta>: \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\"\n      and \\<gamma>: \"subst_domain \\<gamma> = set X\" \"ground (subst_range \\<gamma>)\"\n    for X and \\<gamma>::\"('fun,'var) subst\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n    (subst_domain \\<gamma> \\<union> range_vars \\<gamma>) =\n    {}", "using \\<delta> \\<gamma>"], ["proof (prove)\nusing this:\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\n  subst_domain \\<gamma> = set X\n  ground (subst_range \\<gamma>)\n\ngoal (1 subgoal):\n 1. (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n    (subst_domain \\<gamma> \\<union> range_vars \\<gamma>) =\n    {}", "unfolding range_vars_alt_def"], ["proof (prove)\nusing this:\n  (subst_domain \\<delta> \\<union>\n   fv\\<^sub>s\\<^sub>e\\<^sub>t (subst_range \\<delta>)) \\<inter>\n  set X =\n  {}\n  subst_domain \\<gamma> = set X\n  ground (subst_range \\<gamma>)\n\ngoal (1 subgoal):\n 1. (subst_domain \\<delta> \\<union>\n     fv\\<^sub>s\\<^sub>e\\<^sub>t (subst_range \\<delta>)) \\<inter>\n    (subst_domain \\<gamma> \\<union>\n     fv\\<^sub>s\\<^sub>e\\<^sub>t (subst_range \\<gamma>)) =\n    {}", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n           set ?X2 =\n           {};\n   subst_domain ?\\<gamma>2 = set ?X2;\n   ground (subst_range ?\\<gamma>2)\\<rbrakk>\n  \\<Longrightarrow> (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    (subst_domain ?\\<gamma>2 \\<union>\n                     range_vars ?\\<gamma>2) =\n                    {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>\n 2. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "hence 0: \"\\<gamma> \\<circ>\\<^sub>s \\<delta> = \\<delta> \\<circ>\\<^sub>s \\<gamma>\"\n    when \\<delta>: \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\"\n      and \\<gamma>: \"subst_domain \\<gamma> = set X\" \"ground (subst_range \\<gamma>)\"\n    for \\<gamma> X"], ["proof (prove)\nusing this:\n  \\<lbrakk>(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n           set ?X2 =\n           {};\n   subst_domain ?\\<gamma>2 = set ?X2;\n   ground (subst_range ?\\<gamma>2)\\<rbrakk>\n  \\<Longrightarrow> (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    (subst_domain ?\\<gamma>2 \\<union>\n                     range_vars ?\\<gamma>2) =\n                    {}\n\ngoal (1 subgoal):\n 1. \\<gamma> \\<circ>\\<^sub>s \\<delta> = \\<delta> \\<circ>\\<^sub>s \\<gamma>", "by (metis \\<delta> \\<gamma> subst_comp_eq_if_disjoint_vars)"], ["proof (state)\nthis:\n  \\<lbrakk>(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n           set ?X2 =\n           {};\n   subst_domain ?\\<gamma>2 = set ?X2;\n   ground (subst_range ?\\<gamma>2)\\<rbrakk>\n  \\<Longrightarrow> ?\\<gamma>2 \\<circ>\\<^sub>s \\<delta> =\n                    \\<delta> \\<circ>\\<^sub>s ?\\<gamma>2\n\ngoal (2 subgoals):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>\n 2. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "show \"\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s \\<theta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>", "using assms"], ["proof (prove)\nusing this:\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n    \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>", "proof (induction S arbitrary: M D rule: strand_sem_stateful_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "case (ConsNegChecks M D X F F' S)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n            (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n \\<delta>\\<rbrakk>\\<^sub>s\n                     \\<theta>\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S\\<rbrakk>\\<^sub>s\n   (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "hence *: \"\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s \\<theta>\" and **: \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n            (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n \\<delta>\\<rbrakk>\\<^sub>s\n                     \\<theta>\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S\\<rbrakk>\\<^sub>s\n   (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> &&&\n    (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}", "unfolding bvars\\<^sub>s\\<^sub>s\\<^sub>t_def negchecks_model_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n            (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   \\<Union>\n    (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p) S)) =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n \\<delta>\\<rbrakk>\\<^sub>s\n                     \\<theta>\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S\\<rbrakk>\\<^sub>s\n   (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  \\<Union>\n   (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p)\n          (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n           S))) =\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> &&&\n    (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}", "by (force, auto)"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "have \"negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'", "using ConsNegChecks"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n            (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n \\<delta>\\<rbrakk>\\<^sub>s\n                     \\<theta>\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S\\<rbrakk>\\<^sub>s\n   (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'", "by auto"], ["proof (state)\nthis:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "hence \"negchecks_model \\<theta> D X (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>) (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\nusing this:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\n\ngoal (1 subgoal):\n 1. negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using 0[OF **] negchecks_model_subst[OF **]"], ["proof (prove)\nusing this:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\n  \\<lbrakk>subst_domain ?\\<gamma>2 = set X;\n   ground (subst_range ?\\<gamma>2)\\<rbrakk>\n  \\<Longrightarrow> ?\\<gamma>2 \\<circ>\\<^sub>s \\<delta> =\n                    \\<delta> \\<circ>\\<^sub>s ?\\<gamma>2\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s ?\\<theta>) ?D X ?F ?F' =\n  negchecks_model ?\\<theta> ?D X\n   (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (?F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "by blast"], ["proof (state)\nthis:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "moreover"], ["proof (state)\nthis:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "have \"rm_vars (set X) \\<delta> = \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<delta> = \\<delta>", "using ConsNegChecks.prems(2)"], ["proof (prove)\nusing this:\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<delta> = \\<delta>", "by force"], ["proof (state)\nthis:\n  rm_vars (set X) \\<delta> = \\<delta>\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "ultimately"], ["proof (chain)\npicking this:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  rm_vars (set X) \\<delta> = \\<delta>", "show ?case"], ["proof (prove)\nusing this:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  rm_vars (set X) \\<delta> = \\<delta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                   S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>", "using *"], ["proof (prove)\nusing this:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  rm_vars (set X) \\<delta> = \\<delta>\n  \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                   S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta>", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n\ngoal (7 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                 (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> # S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n                             (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n              \\<delta>\\<rbrakk>\\<^sub>s\n\\<theta>;\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S\\<rbrakk>\\<^sub>s\n         (\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>\\<rbrakk>\\<^sub>s\n                          \\<theta>", "qed simp_all"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n   (\\<delta> \\<circ>\\<^sub>s \\<theta>) \\<Longrightarrow>\n  \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "show \"\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s \\<theta> \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "using assms"], ["proof (prove)\nusing this:\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                   \\<delta>\\<rbrakk>\\<^sub>s\n     \\<theta> \\<Longrightarrow>\n    \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "proof (induction S arbitrary: M D rule: strand_sem_stateful_induct)"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "case (ConsNegChecks M D X F F' S)"], ["proof (state)\nthis:\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                              \\<delta>\\<rbrakk>\\<^sub>s\n            \\<theta>;\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n                     (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "have \\<delta>: \"rm_vars (set X) \\<delta> = \\<delta>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<delta> = \\<delta>", "using ConsNegChecks.prems(2)"], ["proof (prove)\nusing this:\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (1 subgoal):\n 1. rm_vars (set X) \\<delta> = \\<delta>", "by force"], ["proof (state)\nthis:\n  rm_vars (set X) \\<delta> = \\<delta>\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "hence *: \"\\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\" and **: \"(subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\""], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<delta> = \\<delta>\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) &&&\n    (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}", "using ConsNegChecks"], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<delta> = \\<delta>\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                              \\<delta>\\<rbrakk>\\<^sub>s\n            \\<theta>;\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n                     (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  bvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> # S) =\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) &&&\n    (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}", "unfolding bvars\\<^sub>s\\<^sub>s\\<^sub>t_def negchecks_model_def"], ["proof (prove)\nusing this:\n  rm_vars (set X) \\<delta> = \\<delta>\n  \\<lbrakk>\\<lbrakk>?M2; ?D2; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                              \\<delta>\\<rbrakk>\\<^sub>s\n            \\<theta>;\n   (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n   \\<Union>\n    (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p) S)) =\n   {}\\<rbrakk>\n  \\<Longrightarrow> \\<lbrakk>?M2; ?D2; S\\<rbrakk>\\<^sub>s\n                     (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n  \\<Union>\n   (set (map (set \\<circ> bvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p)\n          (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n           S))) =\n  {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>) &&&\n    (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n  (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter> set X = {}\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "have \"negchecks_model \\<theta> D X (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>) (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "using ConsNegChecks.prems(1) \\<delta>"], ["proof (prove)\nusing this:\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                 \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta>\n  rm_vars (set X) \\<delta> = \\<delta>\n\ngoal (1 subgoal):\n 1. negchecks_model \\<theta> D X\n     (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n     (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)", "by (auto simp add: subst_compose_assoc negchecks_model_def)"], ["proof (state)\nthis:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "hence \"negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\""], ["proof (prove)\nusing this:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'", "using 0[OF **] negchecks_model_subst[OF **]"], ["proof (prove)\nusing this:\n  negchecks_model \\<theta> D X\n   (F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n  \\<lbrakk>subst_domain ?\\<gamma>2 = set X;\n   ground (subst_range ?\\<gamma>2)\\<rbrakk>\n  \\<Longrightarrow> ?\\<gamma>2 \\<circ>\\<^sub>s \\<delta> =\n                    \\<delta> \\<circ>\\<^sub>s ?\\<gamma>2\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s ?\\<theta>) ?D X ?F ?F' =\n  negchecks_model ?\\<theta> ?D X\n   (?F \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n   (?F' \\<cdot>\\<^sub>p\\<^sub>a\\<^sub>i\\<^sub>r\\<^sub>s \\<delta>)\n\ngoal (1 subgoal):\n 1. negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'", "by blast"], ["proof (state)\nthis:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\n\ngoal (8 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 8. \\<And>M D X F F' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n          S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "thus ?case"], ["proof (prove)\nusing this:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                   S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "using *"], ["proof (prove)\nusing this:\n  negchecks_model (\\<delta> \\<circ>\\<^sub>s \\<theta>) D X F F'\n  \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (1 subgoal):\n 1. \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                   S\\<rbrakk>\\<^sub>s\n     (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; \\<forall>X\\<langle>\\<or>\\<noteq>: F \\<or>\\<notin>: F'\\<rangle> #\n                 S\\<rbrakk>\\<^sub>s\n   (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal (7 subgoals):\n 1. \\<And>M D Ma Da.\n       \\<lbrakk>\\<lbrakk>Ma; Da; [] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                                 \\<delta>\\<rbrakk>\\<^sub>s\n                 \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t [] =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; []\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 2. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (send\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; send\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 3. \\<And>M D t S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (receive\\<langle>t\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; receive\\<langle>t\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 4. \\<And>M D uu_ t t' S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uu_: t \\<doteq> t'\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uu_: t \\<doteq> t'\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 5. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; insert\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 6. \\<And>M D t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t (delete\\<langle>t,s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; delete\\<langle>t,s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n 7. \\<And>M D uv_ t s S Ma Da.\n       \\<lbrakk>\\<And>x M D.\n                   \\<lbrakk>\\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n     \\<delta>\\<rbrakk>\\<^sub>s\n                             \\<theta>;\n                    (subst_domain \\<delta> \\<union>\n                     range_vars \\<delta>) \\<inter>\n                    bvars\\<^sub>s\\<^sub>s\\<^sub>t S =\n                    {}\\<rbrakk>\n                   \\<Longrightarrow> \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s\n(\\<delta> \\<circ>\\<^sub>s \\<theta>);\n        \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n                         S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                         \\<delta>\\<rbrakk>\\<^sub>s\n         \\<theta>;\n        (subst_domain \\<delta> \\<union> range_vars \\<delta>) \\<inter>\n        bvars\\<^sub>s\\<^sub>s\\<^sub>t\n         (\\<langle>uv_: t \\<in> s\\<rangle> # S) =\n        {}\\<rbrakk>\n       \\<Longrightarrow> \\<lbrakk>Ma; Da; \\<langle>uv_: t \\<in> s\\<rangle> #\n    S\\<rbrakk>\\<^sub>s\n                          (\\<delta> \\<circ>\\<^sub>s \\<theta>)", "qed simp_all"], ["proof (state)\nthis:\n  \\<lbrakk>M; D; S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>\\<rbrakk>\\<^sub>s\n   \\<theta> \\<Longrightarrow>\n  \\<lbrakk>M; D; S\\<rbrakk>\\<^sub>s (\\<delta> \\<circ>\\<^sub>s \\<theta>)\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "subsection \\<open>Well-Formedness Lemmata\\<close>"], ["", "lemma wfvarsocc\\<^sub>s\\<^sub>s\\<^sub>t_subset_wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t[simp]:\n  \"wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "by (induction S)\n   (auto simp add: wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def\n         split: stateful_strand_step.split poscheckvariant.split)"], ["", "lemma wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_append: \"wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (S@S') = wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (S @ S') =\n    wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n    wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S'", "by (simp add: wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_union[simp]:\n  \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (S@T) = wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (S @ T) =\n    wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n    wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t T", "by (simp add: wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_singleton:\n  \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [s] = wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [s] =\n    wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p s", "by (simp add: wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_prefix[dest]: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S') \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V S", "by (induct S rule: wf'\\<^sub>s\\<^sub>s\\<^sub>t.induct) auto"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S", "proof (induction S arbitrary: V)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>V.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t V [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) []\n 2. \\<And>a S V.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (a # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (a # S)", "case (Cons x S)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (2 subgoals):\n 1. \\<And>V.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t V [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) []\n 2. \\<And>a S V.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (a # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case (Send t)"], ["proof (state)\nthis:\n  x = send\\<langle>t\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\""], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S", "using Cons.prems(1) Cons.IH"], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "using Send"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "by (simp add: sup_commute sup_left_commute)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case (Equality a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case Assign"], ["proof (state)\nthis:\n  a = assign\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\" \"fv t' \\<subseteq> V \\<union> W\""], ["proof (prove)\nusing this:\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S &&&\n    fv t' \\<subseteq> V \\<union> W", "using Equality Cons.prems(1) Cons.IH"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S &&&\n    fv t' \\<subseteq> V \\<union> W", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\n  fv t' \\<subseteq> V \\<union> W\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\n  fv t' \\<subseteq> V \\<union> W\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "using Equality Assign"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> W) S\n  fv t' \\<subseteq> V \\<union> W\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "by (simp add: sup_commute sup_left_commute)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case Check"], ["proof (state)\nthis:\n  a = check\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "using Equality Cons"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case (InSet a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case Assign"], ["proof (state)\nthis:\n  a = assign\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> W) S\""], ["proof (prove)\nusing this:\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> W)\n     S", "using InSet Cons.prems(1) Cons.IH"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> W)\n     S", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> W) S\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> W) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "using InSet Assign"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> W) S\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "by (simp add: sup_commute sup_left_commute)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "case Check"], ["proof (state)\nthis:\n  a = check\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "using InSet Cons"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> W) S\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal (4 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n 4. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) S;\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S);\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)", "qed auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) (x # S)\n\ngoal (1 subgoal):\n 1. \\<And>V.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t V [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> W) []", "qed simp"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>tI[intro]: \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V S", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V []\n 2. \\<And>a S.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n        \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (a # S)", "case (Cons x S)"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (2 subgoals):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V []\n 2. \\<And>a S.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (a # S)\n        \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case (Send t)"], ["proof (state)\nthis:\n  x = send\\<langle>t\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\" \"V \\<union> fv t = V\""], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& V \\<union> fv t = V", "using Cons"], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& V \\<union> fv t = V", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  \\<Union>\n   (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S)))\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& V \\<union> fv t = V", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  V \\<union> fv t = V\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  V \\<union> fv t = V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using Send"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  V \\<union> fv t = V\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case (Equality a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case Assign"], ["proof (state)\nthis:\n  a = assign\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\" \"fv t' \\<subseteq> V\""], ["proof (prove)\nusing this:\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t' \\<subseteq> V", "using Equality Cons"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t' \\<subseteq> V", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  \\<Union>\n   (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S)))\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t' \\<subseteq> V", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t' \\<subseteq> V\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t' \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono Equality Assign"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V ?S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> ?W) ?S\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case Check"], ["proof (state)\nthis:\n  a = check\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using Equality Cons"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  \\<Union>\n   (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S)))\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case (InSet a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case Assign"], ["proof (state)\nthis:\n  a = assign\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\" \"fv t \\<union> fv t' \\<subseteq> V\""], ["proof (prove)\nusing this:\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t \\<union> fv t' \\<subseteq> V", "using InSet Cons"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t \\<union> fv t' \\<subseteq> V", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  \\<Union>\n   (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S)))\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t \\<union> fv t' \\<subseteq> V", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<union> fv t' \\<subseteq> V\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<union> fv t' \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono InSet Assign"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V ?S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (?V \\<union> ?W) ?S\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by (simp add: Un_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case Check"], ["proof (state)\nthis:\n  a = check\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using InSet Cons"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  \\<Union>\n   (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S)))\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (4 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x41 x42.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x51 x52.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x71 x72 x73.\n       \\<lbrakk>wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (x # S) \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "qed (simp_all add: wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t []\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V []", "qed (simp add: wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>tI'[intro]:\n  assumes \"\\<Union>((\\<lambda>x. case x of\n            Receive t \\<Rightarrow> fv t\n          | Equality Assign _ t' \\<Rightarrow> fv t'\n          | Insert t t' \\<Rightarrow> fv t \\<union> fv t'\n          | _ \\<Rightarrow> {}) ` set S) \\<subseteq> V\"\n  shows \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S", "using assms"], ["proof (prove)\nusing this:\n  (\\<Union>x\\<in>set S.\n      case x of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S", "proof (induction S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<Union>\n     (case_stateful_strand_step (\\<lambda>term. {}) fv\n       (\\<lambda>poscheckvariant x t'.\n           case poscheckvariant of assign \\<Rightarrow> fv t'\n           | check \\<Rightarrow> {})\n       (\\<lambda>t t'. fv t \\<union> fv t') (\\<lambda>term1 term2. {})\n       (\\<lambda>poscheckvariant term1 term2. {})\n       (\\<lambda>list1 list2 list3. {}) `\n      set [])\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V []\n 2. \\<And>a S.\n       \\<lbrakk>\\<Union>\n                 (case_stateful_strand_step (\\<lambda>term. {}) fv\n                   (\\<lambda>poscheckvariant x t'.\n                       case poscheckvariant of assign \\<Rightarrow> fv t'\n                       | check \\<Rightarrow> {})\n                   (\\<lambda>t t'. fv t \\<union> fv t')\n                   (\\<lambda>term1 term2. {})\n                   (\\<lambda>poscheckvariant term1 term2. {})\n                   (\\<lambda>list1 list2 list3. {}) `\n                  set S)\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        \\<Union>\n         (case_stateful_strand_step (\\<lambda>term. {}) fv\n           (\\<lambda>poscheckvariant x t'.\n               case poscheckvariant of assign \\<Rightarrow> fv t'\n               | check \\<Rightarrow> {})\n           (\\<lambda>t t'. fv t \\<union> fv t') (\\<lambda>term1 term2. {})\n           (\\<lambda>poscheckvariant term1 term2. {})\n           (\\<lambda>list1 list2 list3. {}) `\n          set (a # S))\n        \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (a # S)", "case (Cons x S)"], ["proof (state)\nthis:\n  (\\<Union>a\\<in>set S.\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  (\\<Union>a\\<in>set (x # S).\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V\n\ngoal (2 subgoals):\n 1. \\<Union>\n     (case_stateful_strand_step (\\<lambda>term. {}) fv\n       (\\<lambda>poscheckvariant x t'.\n           case poscheckvariant of assign \\<Rightarrow> fv t'\n           | check \\<Rightarrow> {})\n       (\\<lambda>t t'. fv t \\<union> fv t') (\\<lambda>term1 term2. {})\n       (\\<lambda>poscheckvariant term1 term2. {})\n       (\\<lambda>list1 list2 list3. {}) `\n      set [])\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V []\n 2. \\<And>a S.\n       \\<lbrakk>\\<Union>\n                 (case_stateful_strand_step (\\<lambda>term. {}) fv\n                   (\\<lambda>poscheckvariant x t'.\n                       case poscheckvariant of assign \\<Rightarrow> fv t'\n                       | check \\<Rightarrow> {})\n                   (\\<lambda>t t'. fv t \\<union> fv t')\n                   (\\<lambda>term1 term2. {})\n                   (\\<lambda>poscheckvariant term1 term2. {})\n                   (\\<lambda>list1 list2 list3. {}) `\n                  set S)\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        \\<Union>\n         (case_stateful_strand_step (\\<lambda>term. {}) fv\n           (\\<lambda>poscheckvariant x t'.\n               case poscheckvariant of assign \\<Rightarrow> fv t'\n               | check \\<Rightarrow> {})\n           (\\<lambda>t t'. fv t \\<union> fv t') (\\<lambda>term1 term2. {})\n           (\\<lambda>poscheckvariant term1 term2. {})\n           (\\<lambda>list1 list2 list3. {}) `\n          set (a # S))\n        \\<subseteq> V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (a # S)", "thus ?case"], ["proof (prove)\nusing this:\n  (\\<Union>a\\<in>set S.\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  (\\<Union>a\\<in>set (x # S).\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case (Equality a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x41 x42.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x51 x52.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using Cons"], ["proof (prove)\nusing this:\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  (\\<Union>a\\<in>set S.\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  (\\<Union>a\\<in>set (x # S).\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by (cases a) (auto simp add: wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "case (InSet a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "thus ?thesis"], ["proof (prove)\nusing this:\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "using Cons"], ["proof (prove)\nusing this:\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  (\\<Union>a\\<in>set S.\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  (\\<Union>a\\<in>set (x # S).\n      case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "by (cases a) (auto simp add: wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono Un_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (5 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 2. \\<And>x2.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 3. \\<And>x41 x42.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 4. \\<And>x51 x52.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>(\\<Union>a\\<in>set S.\n                    case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n                    | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        fv t'\n                    | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow>\n                        {}\n                    | insert\\<langle>t,t'\\<rangle> \\<Rightarrow>\n                        fv t \\<union> fv t'\n                    | _ \\<Rightarrow> {})\n                \\<subseteq> V \\<Longrightarrow>\n                wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n        (\\<Union>a\\<in>set (x # S).\n            case a of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n            | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n            | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n            | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n            | _ \\<Rightarrow> {})\n        \\<subseteq> V;\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)", "qed (simp_all add: wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (x # S)\n\ngoal (1 subgoal):\n 1. \\<Union>\n     (case_stateful_strand_step (\\<lambda>term. {}) fv\n       (\\<lambda>poscheckvariant x t'.\n           case poscheckvariant of assign \\<Rightarrow> fv t'\n           | check \\<Rightarrow> {})\n       (\\<lambda>t t'. fv t \\<union> fv t') (\\<lambda>term1 term2. {})\n       (\\<lambda>poscheckvariant term1 term2. {})\n       (\\<lambda>list1 list2 list3. {}) `\n      set [])\n    \\<subseteq> V \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t V []", "qed simp"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append_exec: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S') \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "proof (induction S arbitrary: V)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>V.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S') \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t []) S'\n 2. \\<And>a S V.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((a # S) @ S')\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                          S'", "case (Cons x S V)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n\ngoal (2 subgoals):\n 1. \\<And>V.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S') \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t []) S'\n 2. \\<And>a S V.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((a # S) @ S')\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (a # S))\n                          S'", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "proof (cases x)"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "case (Send t)"], ["proof (state)\nthis:\n  x = send\\<langle>t\\<rangle>\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\""], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "using Cons.prems Cons.IH"], ["proof (prove)\nusing this:\n  x = send\\<langle>t\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (7 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = send\\<langle>x1\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 6. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 7. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "using Send"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "unfolding wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union>\n    \\<Union> (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n   S'\n  x = send\\<langle>t\\<rangle>\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union>\n      \\<Union>\n       (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n     S'", "by (auto simp add: sup_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "case (Equality a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n\ngoal (6 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x31 x32 x33.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x31: x32 \\<doteq> x33\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 6. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "case Assign"], ["proof (state)\nthis:\n  a = assign\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\""], ["proof (prove)\nusing this:\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "using Equality Cons.prems Cons.IH"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "using Equality Assign"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "unfolding wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union>\n    \\<Union> (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n   S'\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union>\n      \\<Union>\n       (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n     S'", "by (auto simp add: sup_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "case Check"], ["proof (state)\nthis:\n  a = check\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\""], ["proof (prove)\nusing this:\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "using Equality Cons.prems Cons.IH"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "using Equality Check"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "unfolding wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union>\n    \\<Union> (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n   S'\n  x = \\<langle>a: t \\<doteq> t'\\<rangle>\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union>\n      \\<Union>\n       (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n     S'", "by (auto simp add: sup_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "next"], ["proof (state)\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "case (InSet a t t')"], ["proof (state)\nthis:\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n\ngoal (5 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x61 x62 x63.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = \\<langle>x61: x62 \\<in> x63\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 5. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "proof (cases a)"], ["proof (state)\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "case Assign"], ["proof (state)\nthis:\n  a = assign\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\""], ["proof (prove)\nusing this:\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> fv t \\<union> fv t' \\<union>\n      wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S)\n     S'", "using InSet Cons.prems Cons.IH"], ["proof (prove)\nusing this:\n  a = assign\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> fv t \\<union> fv t' \\<union>\n      wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S)\n     S'", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> fv t' \\<union>\n    wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S)\n   S'\n\ngoal (2 subgoals):\n 1. a = assign \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n 2. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> fv t' \\<union>\n    wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S)\n   S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "using InSet Assign"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> fv t' \\<union>\n    wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S)\n   S'\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "unfolding wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> fv t \\<union> fv t' \\<union>\n    \\<Union> (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n   S'\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  a = assign\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union>\n      \\<Union>\n       (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n     S'", "by (auto simp add: sup_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "case Check"], ["proof (state)\nthis:\n  a = check\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\""], ["proof (prove)\nusing this:\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "using InSet Cons.prems Cons.IH"], ["proof (prove)\nusing this:\n  a = check\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V (S @ S') \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (?V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. a = check \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "thus ?thesis"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "using InSet Check"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S'\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'", "unfolding wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union>\n    \\<Union> (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S)))\n   S'\n  x = \\<langle>a: t \\<in> t'\\<rangle>\n  a = check\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (V \\<union>\n      \\<Union>\n       (set (map wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (x # S))))\n     S'", "by (auto simp add: sup_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal (4 subgoals):\n 1. \\<And>x2.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = receive\\<langle>x2\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 2. \\<And>x41 x42.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = insert\\<langle>x41,x42\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 3. \\<And>x51 x52.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x = delete\\<langle>x51,x52\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'\n 4. \\<And>x71 x72 x73.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S') \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S) S';\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((x # S) @ S');\n        x =\n        \\<forall>x71\\<langle>\\<or>\\<noteq>: x72 \\<or>\\<notin>: x73\\<rangle>\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union>\n                           wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S))\n                          S'", "qed (auto simp add: wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t (x # S)) S'\n\ngoal (1 subgoal):\n 1. \\<And>V.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S') \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (V \\<union> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t []) S'", "qed (simp add: wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append:\n  \"wf'\\<^sub>s\\<^sub>s\\<^sub>t X S \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (X \\<union> Y) (S@T)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t X S;\n     wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n    \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (X \\<union> Y) (S @ T)", "proof (induction X S rule: wf'\\<^sub>s\\<^sub>s\\<^sub>t.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y) ([] @ T)\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 3. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((send\\<langle>t\\<rangle> # S) @ T)\n 4. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 5. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 8. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 9. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 10. \\<And>V va_ vb_ vc_ S.\n        \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                 \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (V \\<union> Y) (S @ T);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                           ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                             S) @\n                            T)", "case 1"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V_ []\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (10 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y) ([] @ T)\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 3. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((send\\<langle>t\\<rangle> # S) @ T)\n 4. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 5. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 8. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 9. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 10. \\<And>V va_ vb_ vc_ S.\n        \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                 \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                    (V \\<union> Y) (S @ T);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                           ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                             S) @\n                            T)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V_ []\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V_ \\<union> Y) ([] @ T)", "by (metis wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono Un_commute append_Nil)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V_ \\<union> Y) ([] @ T)\n\ngoal (9 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((send\\<langle>t\\<rangle> # S) @ T)\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((send\\<langle>t\\<rangle> # S) @ T)\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "case 3"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V_ \\<union> fv t_) S_;\n   wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V_ \\<union> fv t_ \\<union> Y) (S_ @ T)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V_ (send\\<langle>t_\\<rangle> # S_)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (9 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((send\\<langle>t\\<rangle> # S) @ T)\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "thus ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V_ \\<union> fv t_) S_;\n   wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V_ \\<union> fv t_ \\<union> Y) (S_ @ T)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V_ (send\\<langle>t_\\<rangle> # S_)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V_ \\<union> Y)\n     ((send\\<langle>t_\\<rangle> # S_) @ T)", "by (metis append_Cons Un_commute Un_assoc wf'\\<^sub>s\\<^sub>s\\<^sub>t.simps(3))"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V_ \\<union> Y)\n   ((send\\<langle>t_\\<rangle> # S_) @ T)\n\ngoal (8 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "case (4 V t t' S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> Y)\n                     (S @ T)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (8 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "hence *: \"fv t' \\<subseteq> V\" and \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> Y) (S @ T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> Y)\n                     (S @ T)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (1 subgoal):\n 1. fv t' \\<subseteq> V &&&\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> Y) (S @ T)", "by simp_all"], ["proof (state)\nthis:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> Y) (S @ T)\n\ngoal (8 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t) (S @ T)\""], ["proof (prove)\nusing this:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> Y) (S @ T)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t) (S @ T)", "by (metis Un_commute Un_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t) (S @ T)\n\ngoal (8 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> Y) (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>t := t'\\<rangle> # S) @ T)\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t) (S @ T)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n     ((\\<langle>t := t'\\<rangle> # S) @ T)", "using *"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t) (S @ T)\n  fv t' \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n     ((\\<langle>t := t'\\<rangle> # S) @ T)", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n   ((\\<langle>t := t'\\<rangle> # S) @ T)\n\ngoal (7 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "case (8 V t t' S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S;\n   wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V \\<union> fv t \\<union> fv t' \\<union> Y) (S @ T)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,t'\\<rangle> # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (7 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> Y) (S @ T)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S;\n   wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V \\<union> fv t \\<union> fv t' \\<union> Y) (S @ T)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,t'\\<rangle> # S)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> Y)\n     (S @ T)", "by simp_all"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> Y)\n   (S @ T)\n\ngoal (7 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t \\<union> fv t') (S @ T)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t' \\<union> Y)\n   (S @ T)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t \\<union> fv t')\n     (S @ T)", "by (metis Un_commute Un_assoc)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t \\<union> fv t')\n   (S @ T)\n\ngoal (7 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s \\<union>\n                                    Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((select\\<langle>t,s\\<rangle> # S) @ T)\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y \\<union> fv t \\<union> fv t')\n   (S @ T)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n     ((select\\<langle>t,t'\\<rangle> # S) @ T)", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n   ((select\\<langle>t,t'\\<rangle> # S) @ T)\n\ngoal (6 subgoals):\n 1. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((receive\\<langle>t\\<rangle> # S) @ T)\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ T)\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((insert\\<langle>t,s\\<rangle> # S) @ T)\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ T)\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ T)\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                                   (S @ T);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Y T\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> Y)\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           T)", "qed auto"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append_suffix:\n  \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n     wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n     \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                 V\\<rbrakk>\n    \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')", "proof (induction V S rule: wf'\\<^sub>s\\<^sub>s\\<^sub>t.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (receive\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((receive\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 4. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 5. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 8. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 9. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 10. \\<And>V va_ vb_ vc_ S.\n        \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                               S \\<union>\n                              V\\<rbrakk>\n                 \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S);\n         wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n         \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                       S) \\<union>\n                     V\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                           ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                             S) @\n                            S')", "case (2 V t S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               V\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (receive\\<langle>t\\<rangle> # S) \\<union>\n              V\n\ngoal (10 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (receive\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((receive\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 4. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 5. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 8. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 9. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 10. \\<And>V va_ vb_ vc_ S.\n        \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                               S \\<union>\n                              V\\<rbrakk>\n                 \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S);\n         wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n         \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                       S) \\<union>\n                     V\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                           ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                             S) @\n                            S')", "hence *: \"fv t \\<subseteq> V\" \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               V\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (receive\\<langle>t\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. fv t \\<subseteq> V &&& wf'\\<^sub>s\\<^sub>s\\<^sub>t V S", "by simp_all"], ["proof (state)\nthis:\n  fv t \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n\ngoal (10 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (receive\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((receive\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 4. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 5. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 8. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 9. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 10. \\<And>V va_ vb_ vc_ S.\n        \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                               S \\<union>\n                              V\\<rbrakk>\n                 \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S);\n         wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n         \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                       S) \\<union>\n                     V\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                           ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                             S) @\n                            S')", "hence \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\""], ["proof (prove)\nusing this:\n  fv t \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V", "using \"2.prems\"(2)"], ["proof (prove)\nusing this:\n  fv t \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (receive\\<langle>t\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  fv t \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S'))\n  \\<subseteq> \\<Union>\n               (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                      (receive\\<langle>t\\<rangle> # S))) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S'))\n    \\<subseteq> \\<Union>\n                 (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                        S)) \\<union>\n                V", "by auto"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n\ngoal (10 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (receive\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((receive\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 4. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 5. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 8. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 9. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 10. \\<And>V va_ vb_ vc_ S.\n        \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                               S \\<union>\n                              V\\<rbrakk>\n                 \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S);\n         wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n         \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                      (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                       S) \\<union>\n                     V\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                           ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                             S) @\n                            S')", "thus ?case"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((receive\\<langle>t\\<rangle> # S) @ S')", "using \"2.IH\" *"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               V\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')\n  fv t \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((receive\\<langle>t\\<rangle> # S) @ S')", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((receive\\<langle>t\\<rangle> # S) @ S')\n\ngoal (9 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "case (3 V t S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t)\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (send\\<langle>t\\<rangle> # S) \\<union>\n              V\n\ngoal (9 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "hence *: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t)\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (send\\<langle>t\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S", "by simp_all"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (9 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "hence \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> (V \\<union> fv t)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                (V \\<union> fv t)", "using \"3.prems\"(2)"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (send\\<langle>t\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                (V \\<union> fv t)", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S'))\n  \\<subseteq> \\<Union>\n               (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                      (send\\<langle>t\\<rangle> # S))) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S'))\n    \\<subseteq> \\<Union>\n                 (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n                        S)) \\<union>\n                (V \\<union> fv t)", "by auto"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t)\n\ngoal (9 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (send\\<langle>t\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((send\\<langle>t\\<rangle> # S) @ S')\n 3. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 4. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 7. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 8. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 9. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "thus ?case"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((send\\<langle>t\\<rangle> # S) @ S')", "using \"3.IH\" *"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t)\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t)\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((send\\<langle>t\\<rangle> # S) @ S')", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((send\\<langle>t\\<rangle> # S) @ S')\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "case (4 V t t' S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t)\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (\\<langle>t := t'\\<rangle> # S) \\<union>\n              V\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "hence *: \"fv t' \\<subseteq> V\" \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t)\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (\\<langle>t := t'\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. fv t' \\<subseteq> V &&& wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S", "by simp_all"], ["proof (state)\nthis:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "moreover"], ["proof (state)\nthis:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "have \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (\\<langle>t := t'\\<rangle>) = fv t \\<union> fv t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t := t'\\<rangle> =\n    fv t \\<union> fv t'", "by simp"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t := t'\\<rangle> =\n  fv t \\<union> fv t'\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "moreover"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t := t'\\<rangle> =\n  fv t \\<union> fv t'\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "have \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>t := t'\\<rangle>#S) = fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n     (\\<langle>t := t'\\<rangle> # S) =\n    fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\n     (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (\\<langle>t := t'\\<rangle> # S))) =\n    fv t \\<union> fv t' \\<union>\n    \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))", "by auto"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>t := t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "ultimately"], ["proof (chain)\npicking this:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t := t'\\<rangle> =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>t := t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "have \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> (V \\<union> fv t)\""], ["proof (prove)\nusing this:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t := t'\\<rangle> =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>t := t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                (V \\<union> fv t)", "using \"4.prems\"(2)"], ["proof (prove)\nusing this:\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p \\<langle>t := t'\\<rangle> =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (\\<langle>t := t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (\\<langle>t := t'\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                (V \\<union> fv t)", "by blast"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t)\n\ngoal (8 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V t t' S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>t := t'\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>t := t'\\<rangle> # S) @ S')\n 3. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 6. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 7. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 8. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "thus ?case"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((\\<langle>t := t'\\<rangle> # S) @ S')", "using \"4.IH\" *"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t)\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t)\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) (S @ S')\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((\\<langle>t := t'\\<rangle> # S) @ S')", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((\\<langle>t := t'\\<rangle> # S) @ S')\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "case (6 V t t' S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               V\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,t'\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (insert\\<langle>t,t'\\<rangle> # S) \\<union>\n              V\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "hence *: \"fv t \\<union> fv t' \\<subseteq> V\" \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               V\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,t'\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (insert\\<langle>t,t'\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. fv t \\<union> fv t' \\<subseteq> V &&& wf'\\<^sub>s\\<^sub>s\\<^sub>t V S", "by simp_all"], ["proof (state)\nthis:\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "moreover"], ["proof (state)\nthis:\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "have \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) = fv t \\<union> fv t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) =\n    fv t \\<union> fv t'", "by simp"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) =\n  fv t \\<union> fv t'\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "moreover"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) =\n  fv t \\<union> fv t'\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "have \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (insert\\<langle>t,t'\\<rangle>#S) = fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n     (insert\\<langle>t,t'\\<rangle> # S) =\n    fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\n     (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (insert\\<langle>t,t'\\<rangle> # S))) =\n    fv t \\<union> fv t' \\<union>\n    \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))", "by auto"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (insert\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "ultimately"], ["proof (chain)\npicking this:\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (insert\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "have \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\""], ["proof (prove)\nusing this:\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (insert\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V", "using \"6.prems\"(2)"], ["proof (prove)\nusing this:\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (insert\\<langle>t,t'\\<rangle>) =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (insert\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (insert\\<langle>t,t'\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V", "by blast"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n\ngoal (7 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (insert\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((insert\\<langle>t,s\\<rangle> # S) @ S')\n 4. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 5. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 6. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 7. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "thus ?case"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((insert\\<langle>t,t'\\<rangle> # S) @ S')", "using \"6.IH\" *"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               V\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((insert\\<langle>t,t'\\<rangle> # S) @ S')", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((insert\\<langle>t,t'\\<rangle> # S) @ S')\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "case (8 V t t' S)"], ["proof (state)\nthis:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t \\<union> fv t')\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V \\<union> fv t \\<union> fv t') (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,t'\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (select\\<langle>t,t'\\<rangle> # S) \\<union>\n              V\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "hence *: \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t \\<union> fv t')\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V \\<union> fv t \\<union> fv t') (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,t'\\<rangle> # S)\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (select\\<langle>t,t'\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S", "by simp_all"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "moreover"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "have \"vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p (select\\<langle>t,t'\\<rangle>) = fv t \\<union> fv t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p select\\<langle>t,t'\\<rangle> =\n    fv t \\<union> fv t'", "by simp"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p select\\<langle>t,t'\\<rangle> =\n  fv t \\<union> fv t'\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "moreover"], ["proof (state)\nthis:\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p select\\<langle>t,t'\\<rangle> =\n  fv t \\<union> fv t'\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "have \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t (select\\<langle>t,t'\\<rangle>#S) = fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n     (select\\<langle>t,t'\\<rangle> # S) =\n    fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "unfolding wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<Union>\n     (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p\n            (select\\<langle>t,t'\\<rangle> # S))) =\n    fv t \\<union> fv t' \\<union>\n    \\<Union> (set (map wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p S))", "by auto"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (select\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "ultimately"], ["proof (chain)\npicking this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p select\\<langle>t,t'\\<rangle> =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (select\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S", "have \"wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S' \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> (V \\<union> fv t \\<union> fv t')\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p select\\<langle>t,t'\\<rangle> =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (select\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                (V \\<union> fv t \\<union> fv t')", "using \"8.prems\"(2)"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n  vars\\<^sub>s\\<^sub>s\\<^sub>t\\<^sub>p select\\<langle>t,t'\\<rangle> =\n  fv t \\<union> fv t'\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n   (select\\<langle>t,t'\\<rangle> # S) =\n  fv t \\<union> fv t' \\<union> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n               (select\\<langle>t,t'\\<rangle> # S) \\<union>\n              V\n\ngoal (1 subgoal):\n 1. wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n    \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n                (V \\<union> fv t \\<union> fv t')", "by blast"], ["proof (state)\nthis:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t \\<union> fv t')\n\ngoal (6 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V t s S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (V \\<union> fv t \\<union> fv s) S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             (V \\<union> fv t \\<union> fv s)\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                                   (V \\<union> fv t \\<union> fv s) (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,s\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (select\\<langle>t,s\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((select\\<langle>t,s\\<rangle> # S) @ S')\n 5. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 6. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "thus ?case"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t \\<union> fv t')\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((select\\<langle>t,t'\\<rangle> # S) @ S')", "using \"8.IH\" *"], ["proof (prove)\nusing this:\n  wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n  \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n              (V \\<union> fv t \\<union> fv t')\n  \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S;\n   wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n   \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S \\<union>\n               (V \\<union> fv t \\<union> fv t')\\<rbrakk>\n  \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (V \\<union> fv t \\<union> fv t') (S @ S')\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((select\\<langle>t,t'\\<rangle> # S) @ S')", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V ((select\\<langle>t,t'\\<rangle> # S) @ S')\n\ngoal (5 subgoals):\n 1. \\<And>V.\n       \\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V [];\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t [] \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V ([] @ S')\n 2. \\<And>V uu_ uv_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uu_ == uv_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uu_ == uv_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uu_ == uv_\\<rangle> # S) @ S')\n 3. \\<And>V uw_ ux_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (delete\\<langle>uw_,ux_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (delete\\<langle>uw_,ux_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((delete\\<langle>uw_,ux_\\<rangle> # S) @ S')\n 4. \\<And>V uy_ uz_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>uy_ in uz_\\<rangle> # S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<langle>uy_ in uz_\\<rangle> # S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<langle>uy_ in uz_\\<rangle> # S) @ S')\n 5. \\<And>V va_ vb_ vc_ S.\n       \\<lbrakk>\\<lbrakk>wf'\\<^sub>s\\<^sub>s\\<^sub>t V S;\n                 wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n                 \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                              S \\<union>\n                             V\\<rbrakk>\n                \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S');\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S);\n        wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t S'\n        \\<subseteq> wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t\n                     (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                      S) \\<union>\n                    V\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t V\n                          ((\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S) @\n                           S')", "qed (simp_all add: wf\\<^sub>s\\<^sub>s\\<^sub>tI wfrestrictedvars\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_append_suffix':\n  assumes \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\"\n    and \"\\<Union>((\\<lambda>x. case x of\n            Receive t \\<Rightarrow> fv t\n          | Equality Assign _ t' \\<Rightarrow> fv t'\n          | Insert t t' \\<Rightarrow> fv t \\<union> fv t'\n          | _ \\<Rightarrow> {}) ` set S') \\<subseteq> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\"\n  shows \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S@S')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')", "using assms"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  (\\<Union>x\\<in>set S'.\n      case x of receive\\<langle>x\\<rangle> \\<Rightarrow> fv x\n      | \\<langle>assign: x \\<doteq> t'\\<rangle> \\<Rightarrow> fv t'\n      | \\<langle>check: x \\<doteq> t'\\<rangle> \\<Rightarrow> {}\n      | insert\\<langle>t,t'\\<rangle> \\<Rightarrow> fv t \\<union> fv t'\n      | _ \\<Rightarrow> {})\n  \\<subseteq> wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t S \\<union> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V (S @ S')", "by (induction V S rule: wf'\\<^sub>s\\<^sub>s\\<^sub>t.induct)\n   (auto simp add: wf\\<^sub>s\\<^sub>s\\<^sub>tI' wf\\<^sub>s\\<^sub>s\\<^sub>t_vars_mono wfvarsoccs\\<^sub>s\\<^sub>s\\<^sub>t_def)"], ["", "lemma wf\\<^sub>s\\<^sub>s\\<^sub>t_subst_apply:\n  \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n    wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "proof (induction S arbitrary: V rule: wf'\\<^sub>s\\<^sub>s\\<^sub>t.induct)"], ["proof (state)\ngoal (10 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (receive\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (receive\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 10. \\<And>V va_ vb_ vc_ S Va.\n        \\<lbrakk>\\<And>V.\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S)\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                           (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                           (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<delta>)", "case (2 V t S)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S)\n\ngoal (10 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (receive\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (receive\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 10. \\<And>V va_ vb_ vc_ S Va.\n        \\<lbrakk>\\<And>V.\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S)\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                           (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                           (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\" \"fv t \\<subseteq> V\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (receive\\<langle>t\\<rangle> # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t \\<subseteq> V", "by simp_all"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<subseteq> V\n\ngoal (10 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (receive\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (receive\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 10. \\<And>V va_ vb_ vc_ S Va.\n        \\<lbrakk>\\<And>V.\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S)\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                           (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                           (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\" \"fv (t \\<cdot> \\<delta>) \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) &&&\n    fv (t \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)", "using \"2.IH\" subst_apply_fv_subset"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv ?t \\<subseteq> ?V \\<Longrightarrow>\n  fv (?t \\<cdot> ?\\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) &&&\n    fv (t \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)", "by simp_all"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (10 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (receive\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (receive\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 10. \\<And>V va_ vb_ vc_ S Va.\n        \\<lbrakk>\\<And>V.\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                    wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n         wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n           S)\\<rbrakk>\n        \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                           (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                           (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                            S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                            \\<delta>)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (receive\\<langle>t\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n      \\<delta>)", "by (simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (receive\\<langle>t\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (9 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "next"], ["proof (state)\ngoal (9 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "case (3 V t S)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S)\n\ngoal (9 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (send\\<langle>t\\<rangle> # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S", "by simp"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (9 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t))) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "using \"3.IH\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by metis"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (9 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union> fv (t \\<cdot> \\<delta>)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n      fv (t \\<cdot> \\<delta>))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by (metis subst_apply_fv_union)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (9 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (send\\<langle>t\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (send\\<langle>t\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 9. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (send\\<langle>t\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by (simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (send\\<langle>t\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (8 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "next"], ["proof (state)\ngoal (8 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "case (4 V t t' S)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S)\n\ngoal (8 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\" \"fv t' \\<subseteq> V\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (\\<langle>t := t'\\<rangle> # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S &&& fv t' \\<subseteq> V", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  fv t' \\<subseteq> V\n\ngoal (8 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t))) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\" and *: \"fv (t' \\<cdot> \\<delta>) \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  fv t' \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) &&&\n    fv (t' \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)", "using \"4.IH\" subst_apply_fv_subset"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t) S\n  fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv ?t \\<subseteq> ?V \\<Longrightarrow>\n  fv (?t \\<cdot> ?\\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) &&&\n    fv (t' \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)", "by force+"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t' \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (8 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union> fv (t \\<cdot> \\<delta>)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t)))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t' \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n      fv (t \\<cdot> \\<delta>))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by (metis subst_apply_fv_union)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (8 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V t t' S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>t := t'\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>t := t'\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 8. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (\\<langle>t := t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n      \\<delta>)", "using *"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t' \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (\\<langle>t := t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n      \\<delta>)", "by (simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (\\<langle>t := t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (7 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "next"], ["proof (state)\ngoal (7 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "case (6 V t t' S)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,t'\\<rangle> # S)\n\ngoal (7 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\" \"fv t \\<union> fv t' \\<subseteq> V\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (insert\\<langle>t,t'\\<rangle> # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t V S &&& fv t \\<union> fv t' \\<subseteq> V", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<union> fv t' \\<subseteq> V\n\ngoal (7 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\" \"fv (t \\<cdot> \\<delta>) \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\" \"fv (t' \\<cdot> \\<delta>) \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<union> fv t' \\<subseteq> V\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) &&&\n    fv (t \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) &&&\n    fv (t' \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)", "using \"6.IH\" subst_apply_fv_subset"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V S\n  fv t \\<union> fv t' \\<subseteq> V\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv ?t \\<subseteq> ?V \\<Longrightarrow>\n  fv (?t \\<cdot> ?\\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>) &&&\n    fv (t \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) &&&\n    fv (t' \\<cdot> \\<delta>)\n    \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)", "by force+"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n  fv (t' \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (7 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (insert\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (insert\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 7. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv (t \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n  fv (t' \\<cdot> \\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (insert\\<langle>t,t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n      \\<delta>)", "by (simp add: sup_assoc subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (insert\\<langle>t,t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>)\n\ngoal (6 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "next"], ["proof (state)\ngoal (6 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "case (8 V t t' S)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,t'\\<rangle> # S)\n\ngoal (6 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t V (select\\<langle>t,t'\\<rangle> # S)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S", "by auto"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n\ngoal (6 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` (V \\<union> fv t \\<union> fv t'))) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t\n       (\\<delta> ` (V \\<union> fv t \\<union> fv t')))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "using \"8.IH\" subst_apply_fv_subset"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (V \\<union> fv t \\<union> fv t') S\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t ?V S \\<Longrightarrow>\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` ?V))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n  fv ?t \\<subseteq> ?V \\<Longrightarrow>\n  fv (?t \\<cdot> ?\\<delta>)\n  \\<subseteq> fv\\<^sub>s\\<^sub>e\\<^sub>t (?\\<delta> ` ?V)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t\n       (\\<delta> ` (V \\<union> fv t \\<union> fv t')))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by force"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t\n     (\\<delta> ` (V \\<union> fv t \\<union> fv t')))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (6 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "hence \"wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union> fv (t \\<cdot> \\<delta>) \\<union> fv (t' \\<cdot> \\<delta>)) (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\""], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t\n     (\\<delta> ` (V \\<union> fv t \\<union> fv t')))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t\n     (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n      fv (t \\<cdot> \\<delta>) \\<union>\n      fv (t' \\<cdot> \\<delta>))\n     (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)", "by (metis subst_apply_fv_union)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>) \\<union>\n    fv (t' \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (6 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V t s S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (select\\<langle>t,s\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (select\\<langle>t,s\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 6. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "thus ?case"], ["proof (prove)\nusing this:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t\n   (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V) \\<union>\n    fv (t \\<cdot> \\<delta>) \\<union>\n    fv (t' \\<cdot> \\<delta>))\n   (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n\ngoal (1 subgoal):\n 1. wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n     (select\\<langle>t,t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n      \\<delta>)", "by (simp add: subst_apply_stateful_strand_def)"], ["proof (state)\nthis:\n  wf'\\<^sub>s\\<^sub>s\\<^sub>t (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n   (select\\<langle>t,t'\\<rangle> # S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n    \\<delta>)\n\ngoal (5 subgoals):\n 1. \\<And>V Va.\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t Va [] \\<Longrightarrow>\n       wf'\\<^sub>s\\<^sub>s\\<^sub>t\n        (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n        ([] \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>)\n 2. \\<And>V uu_ uv_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uu_ == uv_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uu_ == uv_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 3. \\<And>V uw_ ux_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (delete\\<langle>uw_,ux_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (delete\\<langle>uw_,ux_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 4. \\<And>V uy_ uz_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<langle>uy_ in uz_\\<rangle> # S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<langle>uy_ in uz_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)\n 5. \\<And>V va_ vb_ vc_ S Va.\n       \\<lbrakk>\\<And>V.\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t V S \\<Longrightarrow>\n                   wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                    (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` V))\n                    (S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t \\<delta>);\n        wf'\\<^sub>s\\<^sub>s\\<^sub>t Va\n         (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n          S)\\<rbrakk>\n       \\<Longrightarrow> wf'\\<^sub>s\\<^sub>s\\<^sub>t\n                          (fv\\<^sub>s\\<^sub>e\\<^sub>t (\\<delta> ` Va))\n                          (\\<forall>va_\\<langle>\\<or>\\<noteq>: vb_ \\<or>\\<notin>: vc_\\<rangle> #\n                           S \\<cdot>\\<^sub>s\\<^sub>s\\<^sub>t\n                           \\<delta>)", "qed (auto simp add: subst_apply_stateful_strand_def)"], ["", "end"]]}