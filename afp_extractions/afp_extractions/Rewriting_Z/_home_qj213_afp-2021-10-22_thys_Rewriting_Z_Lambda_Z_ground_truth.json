{"file_name": "/home/qj213/afp-2021-10-22/thys/Rewriting_Z/Lambda_Z.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Rewriting_Z", "problem_names": ["lemma fresh_subst:\n  \"atom z \\<sharp> s \\<Longrightarrow> z = y \\<or> atom z \\<sharp> t \\<Longrightarrow> atom z \\<sharp> subst y s t\"", "lemma fresh_subst_id [simp]:\n  \"atom x \\<sharp> t \\<Longrightarrow> subst x s t = t\"", "lemma subst_subst:\n  assumes \"x \\<noteq> y\" and \"atom x \\<sharp> u\"\n  shows \"subst y u (subst x s t) = subst x (subst y u s) (subst y u t)\"", "lemmas Beta_eqvt = Betap.eqvt [to_set]", "lemmas Beta_strong_induct = Betap.strong_induct [to_set]", "lemma app_beta_exhaust [case_names Redex no_Redex]:\n  fixes c :: \"'a :: fs\"\n  assumes \"\\<And>x s'. atom x \\<sharp> c \\<Longrightarrow> s = Abs x s' \\<Longrightarrow> thesis\"\n    and \"(\\<And>t. app_beta s t = App s t) \\<Longrightarrow> thesis\"\n  shows \"thesis\"", "lemma App_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\" and \"u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\"\n  shows \"App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App t v\"", "lemma Abs_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\"\n  shows \"Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* Abs x t\"", "lemma self:\n  \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\"", "lemma fresh_atom_bullet:\n  \"atom (x::name) \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t\\<^sup>\\<bullet>\"", "lemma subst_Beta:\n  assumes \"t \\<rightarrow>\\<^sub>\\<beta> t'\"\n  shows \"subst x s t \\<rightarrow>\\<^sub>\\<beta> subst x s t'\"", "lemma Beta_in_subst:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta> s'\"\n  shows \"subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t\"", "lemma subst_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\" and \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\"\n  shows \"subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t'\"", "lemma Beta_fresh:\n  fixes x :: name\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta> t\" and \"atom x \\<sharp> s\"\n  shows \"atom x \\<sharp> t\"", "lemma Abs_BetaD:\n  assumes \"Abs x s \\<rightarrow>\\<^sub>\\<beta> t\"\n  shows \"\\<exists>u. t = Abs x u \\<and> s \\<rightarrow>\\<^sub>\\<beta> u\"", "lemma Abs_BetaE:\n  assumes \"Abs x s \\<rightarrow>\\<^sub>\\<beta> t\"\n  obtains u where \"t = Abs x u\" and \"s \\<rightarrow>\\<^sub>\\<beta> u\"", "lemma Abs_BetasE:\n  assumes \"Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\"\n  obtains u where \"t = Abs x u\" and \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\"", "lemma bullet_App:\n  \"(App s\\<^sup>\\<bullet> t\\<^sup>\\<bullet>, (App s t)\\<^sup>\\<bullet>) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>=\"", "lemma rhs:\n  \"subst x s\\<^sup>\\<bullet> t\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (subst x s t)\\<^sup>\\<bullet>\"", "lemma Betas_fresh:\n  fixes x :: name\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\" and \"atom x \\<sharp> s\"\n  shows \"atom x \\<sharp> t\"", "lemma Var_BetaD:\n  assumes \"Var x \\<rightarrow>\\<^sub>\\<beta> t\"\n  shows False", "lemma Var_BetasD:\n  assumes \"Var x \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\"\n  shows \"t = Var x\"", "lemma app_beta_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\" and \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\"\n  shows \"app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* app_beta s' t'\"", "lemma lambda_Z:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta> t\"\n  shows \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and> s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\""], "translations": [["", "lemma fresh_subst:\n  \"atom z \\<sharp> s \\<Longrightarrow> z = y \\<or> atom z \\<sharp> t \\<Longrightarrow> atom z \\<sharp> subst y s t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>atom z \\<sharp> s; z = y \\<or> atom z \\<sharp> t\\<rbrakk>\n    \\<Longrightarrow> atom z \\<sharp> subst y s t", "by (nominal_induct t avoiding: z y s rule: term.strong_induct) auto"], ["", "lemma fresh_subst_id [simp]:\n  \"atom x \\<sharp> t \\<Longrightarrow> subst x s t = t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> t \\<Longrightarrow> subst x s t = t", "by (nominal_induct t avoiding: x s rule: term.strong_induct) (auto simp: fresh_at_base)"], ["", "text \\<open>The substitution lemma.\\<close>"], ["", "lemma subst_subst:\n  assumes \"x \\<noteq> y\" and \"atom x \\<sharp> u\"\n  shows \"subst y u (subst x s t) = subst x (subst y u s) (subst y u t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst y u (subst x s t) = subst x (subst y u s) (subst y u t)", "using assms"], ["proof (prove)\nusing this:\n  x \\<noteq> y\n  atom x \\<sharp> u\n\ngoal (1 subgoal):\n 1. subst y u (subst x s t) = subst x (subst y u s) (subst y u t)", "by (nominal_induct t avoiding: x y u s rule: term.strong_induct) (auto simp: fresh_subst)"], ["", "inductive_set Beta (\"{\\<rightarrow>\\<^sub>\\<beta>}\")\nwhere\n  root: \"atom x \\<sharp> t \\<Longrightarrow> (App (Abs x s) t, subst x t s) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\"\n| Appl: \"(s, t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>} \\<Longrightarrow> (App s u, App t u) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\"\n| Appr: \"(s, t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>} \\<Longrightarrow> (App u s, App u t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\"\n| Abs: \"(s, t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>} \\<Longrightarrow> (Abs x s, Abs x t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\""], ["", "abbreviation beta (\"(_/ \\<rightarrow>\\<^sub>\\<beta> _)\" [56, 56] 55)\nwhere\n  \"s \\<rightarrow>\\<^sub>\\<beta> t \\<equiv> (s, t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\""], ["", "equivariance Betap"], ["", "lemmas Beta_eqvt = Betap.eqvt [to_set]"], ["", "nominal_inductive Betap\n  avoids Abs: x\n       | root: x"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<And>x t s.\n         atom x \\<sharp> t \\<Longrightarrow>\n         {atom x} \\<sharp>* (App (Abs x s) t, subst x t s)) &&&\n     (\\<And>x t s. atom x \\<sharp> t \\<Longrightarrow> finite {atom x})) &&&\n    (\\<And>s t x.\n        Betap s t \\<Longrightarrow>\n        {atom x} \\<sharp>* (Abs x s, Abs x t)) &&&\n    (\\<And>s t x. Betap s t \\<Longrightarrow> finite {atom x})", "by (simp_all add: fresh_star_def fresh_subst)"], ["", "lemmas Beta_strong_induct = Betap.strong_induct [to_set]"], ["", "abbreviation betas (infix \"\\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\" 50)\nwhere\n  \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t \\<equiv> (s, t) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>*\""], ["", "nominal_function app_beta :: \"term \\<Rightarrow> term \\<Rightarrow> term\"\nwhere\n  \"atom x \\<sharp> u \\<Longrightarrow> app_beta (Abs x s') u = subst x u s'\"\n| \"app_beta (Var x) u = App (Var x) u\"\n| \"app_beta (App s t) u = App (App s t) u\""], ["proof (prove)\ngoal (9 subgoals):\n 1. eqvt app_beta_graph_aux\n 2. \\<And>x y. app_beta_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>xa u s'.\n                   \\<lbrakk>atom xa \\<sharp> u; x = (Abs xa s', u)\\<rbrakk>\n                   \\<Longrightarrow> P;\n        \\<And>xa u. x = (Var xa, u) \\<Longrightarrow> P;\n        \\<And>s t u. x = (App s t, u) \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>x u s' xa ua s'a.\n       \\<lbrakk>atom x \\<sharp> u; atom xa \\<sharp> ua;\n        (Abs x s', u) = (Abs xa s'a, ua)\\<rbrakk>\n       \\<Longrightarrow> subst x u s' = subst xa ua s'a\n 5. \\<And>x u s' xa ua.\n       \\<lbrakk>atom x \\<sharp> u; (Abs x s', u) = (Var xa, ua)\\<rbrakk>\n       \\<Longrightarrow> subst x u s' = App (Var xa) ua\n 6. \\<And>x u s' s t ua.\n       \\<lbrakk>atom x \\<sharp> u; (Abs x s', u) = (App s t, ua)\\<rbrakk>\n       \\<Longrightarrow> subst x u s' = App (App s t) ua\n 7. \\<And>x u xa ua.\n       (Var x, u) = (Var xa, ua) \\<Longrightarrow>\n       App (Var x) u = App (Var xa) ua\n 8. \\<And>x u s t ua.\n       (Var x, u) = (App s t, ua) \\<Longrightarrow>\n       App (Var x) u = App (App s t) ua\n 9. \\<And>s t u sa ta ua.\n       (App s t, u) = (App sa ta, ua) \\<Longrightarrow>\n       App (App s t) u = App (App sa ta) ua", "by (nf fresh: fresh_subst)"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All app_beta_dom", "by lexicographic_order"], ["", "nominal_function bullet :: \"term \\<Rightarrow> term\" (\"_\\<^sup>\\<bullet>\" [1000] 1000)\nwhere\n  \"(Var x)\\<^sup>\\<bullet> = Var x\"\n| \"(Abs x t)\\<^sup>\\<bullet> = Abs x t\\<^sup>\\<bullet>\"\n| \"(App s t)\\<^sup>\\<bullet> = app_beta s\\<^sup>\\<bullet> t\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (9 subgoals):\n 1. eqvt bullet_graph_aux\n 2. \\<And>x y. bullet_graph x y \\<Longrightarrow> True\n 3. \\<And>P x.\n       \\<lbrakk>\\<And>xa. x = Var xa \\<Longrightarrow> P;\n        \\<And>xa t. x = Abs xa t \\<Longrightarrow> P;\n        \\<And>s t. x = App s t \\<Longrightarrow> P\\<rbrakk>\n       \\<Longrightarrow> P\n 4. \\<And>x xa. Var x = Var xa \\<Longrightarrow> Var x = Var xa\n 5. \\<And>x xa t.\n       \\<lbrakk>eqvt_at bullet_sumC t; True; Var x = Abs xa t\\<rbrakk>\n       \\<Longrightarrow> Var x = Abs xa (bullet_sumC t)\n 6. \\<And>x s t.\n       \\<lbrakk>eqvt_at bullet_sumC s; eqvt_at bullet_sumC t; True; True;\n        Var x = App s t\\<rbrakk>\n       \\<Longrightarrow> Var x = app_beta (bullet_sumC s) (bullet_sumC t)\n 7. \\<And>x t xa ta.\n       \\<lbrakk>eqvt_at bullet_sumC t; eqvt_at bullet_sumC ta; True; True;\n        Abs x t = Abs xa ta\\<rbrakk>\n       \\<Longrightarrow> Abs x (bullet_sumC t) = Abs xa (bullet_sumC ta)\n 8. \\<And>x t s ta.\n       \\<lbrakk>eqvt_at bullet_sumC t; eqvt_at bullet_sumC s;\n        eqvt_at bullet_sumC ta; True; True; True;\n        Abs x t = App s ta\\<rbrakk>\n       \\<Longrightarrow> Abs x (bullet_sumC t) =\n                         app_beta (bullet_sumC s) (bullet_sumC ta)\n 9. \\<And>s t sa ta.\n       \\<lbrakk>eqvt_at bullet_sumC s; eqvt_at bullet_sumC t;\n        eqvt_at bullet_sumC sa; eqvt_at bullet_sumC ta; True; True; True;\n        True; App s t = App sa ta\\<rbrakk>\n       \\<Longrightarrow> app_beta (bullet_sumC s) (bullet_sumC t) =\n                         app_beta (bullet_sumC sa) (bullet_sumC ta)", "by nf"], ["", "nominal_termination (eqvt)"], ["proof (prove)\ngoal (1 subgoal):\n 1. All bullet_dom", "by lexicographic_order"], ["", "lemma app_beta_exhaust [case_names Redex no_Redex]:\n  fixes c :: \"'a :: fs\"\n  assumes \"\\<And>x s'. atom x \\<sharp> c \\<Longrightarrow> s = Abs x s' \\<Longrightarrow> thesis\"\n    and \"(\\<And>t. app_beta s t = App s t) \\<Longrightarrow> thesis\"\n  shows \"thesis\""], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "by (cases s rule: term.strong_exhaust [of _ _ c]) (auto simp: fresh_star_def fresh_Pair intro: assms)"], ["", "lemma App_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\" and \"u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\"\n  shows \"App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App t v\""], ["proof (prove)\ngoal (1 subgoal):\n 1. App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App t v", "using assms(1)"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\n\ngoal (1 subgoal):\n 1. App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App t v", "proof (induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App s v\n 2. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App y v\\<rbrakk>\n       \\<Longrightarrow> App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App z v", "case base"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App s v\n 2. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App y v\\<rbrakk>\n       \\<Longrightarrow> App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App z v", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App s v", "using assms(2)"], ["proof (prove)\nusing this:\n  u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\n\ngoal (1 subgoal):\n 1. App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App s v", "by (induct) (auto intro: Beta.intros rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App s v\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App y v\\<rbrakk>\n       \\<Longrightarrow> App s u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App z v", "qed (auto intro: Beta.intros rtrancl_into_rtrancl)"], ["", "lemma Abs_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\"\n  shows \"Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* Abs x t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* Abs x t", "using assms"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\n\ngoal (1 subgoal):\n 1. Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* Abs x t", "by (induct) (auto intro: Beta.intros rtrancl_into_rtrancl)"], ["", "lemma self:\n  \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>", "proof (nominal_induct t rule: term.strong_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x.\n       Var x \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (Var x)\\<^sup>\\<bullet>\n 2. \\<And>x1a x2.\n       \\<lbrakk>x1a \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* x1a\\<^sup>\\<bullet>;\n        x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* x2\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App x1a x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App x1a x2)\\<^sup>\\<bullet>\n 3. \\<And>x1a x2.\n       x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       x2\\<^sup>\\<bullet> \\<Longrightarrow>\n       Abs x1a x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (Abs x1a x2)\\<^sup>\\<bullet>", "case (App t u)"], ["proof (state)\nthis:\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n  u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x.\n       Var x \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (Var x)\\<^sup>\\<bullet>\n 2. \\<And>x1a x2.\n       \\<lbrakk>x1a \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* x1a\\<^sup>\\<bullet>;\n        x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* x2\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App x1a x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App x1a x2)\\<^sup>\\<bullet>\n 3. \\<And>x1a x2.\n       x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       x2\\<^sup>\\<bullet> \\<Longrightarrow>\n       Abs x1a x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (Abs x1a x2)\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n  u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<^sup>\\<bullet>", "show ?case"], ["proof (prove)\nusing this:\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n  u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App t u)\\<^sup>\\<bullet>", "by (cases \"t\\<^sup>\\<bullet>\" rule: app_beta_exhaust[of \"u\\<^sup>\\<bullet>\"])\n       (auto intro: App_Betas Beta.intros rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App t u)\\<^sup>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       Var x \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (Var x)\\<^sup>\\<bullet>\n 2. \\<And>x1a x2.\n       x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       x2\\<^sup>\\<bullet> \\<Longrightarrow>\n       Abs x1a x2 \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (Abs x1a x2)\\<^sup>\\<bullet>", "qed (auto intro: Abs_Betas)"], ["", "lemma fresh_atom_bullet:\n  \"atom (x::name) \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> t \\<Longrightarrow> atom x \\<sharp> t\\<^sup>\\<bullet>", "proof (nominal_induct t avoiding: x rule: term.strong_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x xa.\n       atom xa \\<sharp> Var x \\<Longrightarrow>\n       atom xa \\<sharp> (Var x)\\<^sup>\\<bullet>\n 2. \\<And>x1a x2 x.\n       \\<lbrakk>\\<And>b.\n                   atom b \\<sharp> x1a \\<Longrightarrow>\n                   atom b \\<sharp> x1a\\<^sup>\\<bullet>;\n        \\<And>b.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           atom b \\<sharp> x2\\<^sup>\\<bullet>;\n        atom x \\<sharp> App x1a x2\\<rbrakk>\n       \\<Longrightarrow> atom x \\<sharp> (App x1a x2)\\<^sup>\\<bullet>\n 3. \\<And>x1a x2 x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        \\<And>b.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           atom b \\<sharp> x2\\<^sup>\\<bullet>;\n        atom x \\<sharp> Abs x1a x2\\<rbrakk>\n       \\<Longrightarrow> atom x \\<sharp> (Abs x1a x2)\\<^sup>\\<bullet>", "case (App t u)"], ["proof (state)\nthis:\n  atom ?b \\<sharp> t \\<Longrightarrow> atom ?b \\<sharp> t\\<^sup>\\<bullet>\n  atom ?b \\<sharp> u \\<Longrightarrow> atom ?b \\<sharp> u\\<^sup>\\<bullet>\n  atom x \\<sharp> App t u\n\ngoal (3 subgoals):\n 1. \\<And>x xa.\n       atom xa \\<sharp> Var x \\<Longrightarrow>\n       atom xa \\<sharp> (Var x)\\<^sup>\\<bullet>\n 2. \\<And>x1a x2 x.\n       \\<lbrakk>\\<And>b.\n                   atom b \\<sharp> x1a \\<Longrightarrow>\n                   atom b \\<sharp> x1a\\<^sup>\\<bullet>;\n        \\<And>b.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           atom b \\<sharp> x2\\<^sup>\\<bullet>;\n        atom x \\<sharp> App x1a x2\\<rbrakk>\n       \\<Longrightarrow> atom x \\<sharp> (App x1a x2)\\<^sup>\\<bullet>\n 3. \\<And>x1a x2 x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        \\<And>b.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           atom b \\<sharp> x2\\<^sup>\\<bullet>;\n        atom x \\<sharp> Abs x1a x2\\<rbrakk>\n       \\<Longrightarrow> atom x \\<sharp> (Abs x1a x2)\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  atom ?b \\<sharp> t \\<Longrightarrow> atom ?b \\<sharp> t\\<^sup>\\<bullet>\n  atom ?b \\<sharp> u \\<Longrightarrow> atom ?b \\<sharp> u\\<^sup>\\<bullet>\n  atom x \\<sharp> App t u", "show ?case"], ["proof (prove)\nusing this:\n  atom ?b \\<sharp> t \\<Longrightarrow> atom ?b \\<sharp> t\\<^sup>\\<bullet>\n  atom ?b \\<sharp> u \\<Longrightarrow> atom ?b \\<sharp> u\\<^sup>\\<bullet>\n  atom x \\<sharp> App t u\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> (App t u)\\<^sup>\\<bullet>", "by (cases \"t\\<^sup>\\<bullet>\" rule: app_beta_exhaust[of \"u\\<^sup>\\<bullet>\"]) (auto intro: fresh_subst)"], ["proof (state)\nthis:\n  atom x \\<sharp> (App t u)\\<^sup>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x xa.\n       atom xa \\<sharp> Var x \\<Longrightarrow>\n       atom xa \\<sharp> (Var x)\\<^sup>\\<bullet>\n 2. \\<And>x1a x2 x.\n       \\<lbrakk>atom x1a \\<sharp> x;\n        \\<And>b.\n           atom b \\<sharp> x2 \\<Longrightarrow>\n           atom b \\<sharp> x2\\<^sup>\\<bullet>;\n        atom x \\<sharp> Abs x1a x2\\<rbrakk>\n       \\<Longrightarrow> atom x \\<sharp> (Abs x1a x2)\\<^sup>\\<bullet>", "qed auto"], ["", "lemma subst_Beta:\n  assumes \"t \\<rightarrow>\\<^sub>\\<beta> t'\"\n  shows \"subst x s t \\<rightarrow>\\<^sub>\\<beta> subst x s t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta> subst x s t'", "using assms"], ["proof (prove)\nusing this:\n  t \\<rightarrow>\\<^sub>\\<beta> t'\n\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta> subst x s t'", "proof (nominal_induct avoiding: x s rule: Beta_strong_induct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x t s xa sa.\n       \\<lbrakk>atom x \\<sharp> xa; atom x \\<sharp> sa;\n        atom x \\<sharp> t\\<rbrakk>\n       \\<Longrightarrow> subst xa sa (App (Abs x s) t)\n                         \\<rightarrow>\\<^sub>\\<beta> subst xa sa\n                (subst x t s)\n 2. \\<And>s t u x sa.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst x sa (App s u)\n                         \\<rightarrow>\\<^sub>\\<beta> subst x sa (App t u)\n 3. \\<And>s t u x sa.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst x sa (App u s)\n                         \\<rightarrow>\\<^sub>\\<beta> subst x sa (App u t)\n 4. \\<And>s t x xa sa.\n       \\<lbrakk>atom x \\<sharp> xa; atom x \\<sharp> sa;\n        s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst xa sa (Abs x s)\n                         \\<rightarrow>\\<^sub>\\<beta> subst xa sa (Abs x t)", "case (root y t u)"], ["proof (state)\nthis:\n  atom y \\<sharp> x\n  atom y \\<sharp> s\n  atom y \\<sharp> t\n\ngoal (4 subgoals):\n 1. \\<And>x t s xa sa.\n       \\<lbrakk>atom x \\<sharp> xa; atom x \\<sharp> sa;\n        atom x \\<sharp> t\\<rbrakk>\n       \\<Longrightarrow> subst xa sa (App (Abs x s) t)\n                         \\<rightarrow>\\<^sub>\\<beta> subst xa sa\n                (subst x t s)\n 2. \\<And>s t u x sa.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst x sa (App s u)\n                         \\<rightarrow>\\<^sub>\\<beta> subst x sa (App t u)\n 3. \\<And>s t u x sa.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst x sa (App u s)\n                         \\<rightarrow>\\<^sub>\\<beta> subst x sa (App u t)\n 4. \\<And>s t x xa sa.\n       \\<lbrakk>atom x \\<sharp> xa; atom x \\<sharp> sa;\n        s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst xa sa (Abs x s)\n                         \\<rightarrow>\\<^sub>\\<beta> subst xa sa (Abs x t)", "then"], ["proof (chain)\npicking this:\n  atom y \\<sharp> x\n  atom y \\<sharp> s\n  atom y \\<sharp> t", "show ?case"], ["proof (prove)\nusing this:\n  atom y \\<sharp> x\n  atom y \\<sharp> s\n  atom y \\<sharp> t\n\ngoal (1 subgoal):\n 1. subst x s (App (Abs y u) t)\n    \\<rightarrow>\\<^sub>\\<beta> subst x s (subst y t u)", "by (auto simp: subst_subst fresh_subst intro: Beta.root)"], ["proof (state)\nthis:\n  subst x s (App (Abs y u) t)\n  \\<rightarrow>\\<^sub>\\<beta> subst x s (subst y t u)\n\ngoal (3 subgoals):\n 1. \\<And>s t u x sa.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst x sa (App s u)\n                         \\<rightarrow>\\<^sub>\\<beta> subst x sa (App t u)\n 2. \\<And>s t u x sa.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst x sa (App u s)\n                         \\<rightarrow>\\<^sub>\\<beta> subst x sa (App u t)\n 3. \\<And>s t x xa sa.\n       \\<lbrakk>atom x \\<sharp> xa; atom x \\<sharp> sa;\n        s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b ba.\n           subst b ba s \\<rightarrow>\\<^sub>\\<beta> subst b ba t\\<rbrakk>\n       \\<Longrightarrow> subst xa sa (Abs x s)\n                         \\<rightarrow>\\<^sub>\\<beta> subst xa sa (Abs x t)", "qed (auto intro: Beta.intros)"], ["", "lemma Beta_in_subst:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta> s'\"\n  shows \"subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t", "using assms"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> s'\n\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t", "by (nominal_induct t avoiding: x s s' rule: term.strong_induct)\n   (auto intro: App_Betas Abs_Betas)"], ["", "lemma subst_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\" and \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\"\n  shows \"subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t'", "using assms(1)"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\n\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s' t'", "proof (induct)"], ["proof (state)\ngoal (2 subgoals):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s t'\n 2. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        subst x y t'\\<rbrakk>\n       \\<Longrightarrow> subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         subst x z t'", "case base"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s t'\n 2. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        subst x y t'\\<rbrakk>\n       \\<Longrightarrow> subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         subst x z t'", "from assms(2)"], ["proof (chain)\npicking this:\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'", "show ?case"], ["proof (prove)\nusing this:\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\n\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s t'", "by (induct) (auto simp: subst_Beta intro: rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x s t'\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        subst x y t'\\<rbrakk>\n       \\<Longrightarrow> subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         subst x z t'", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        subst x y t'\\<rbrakk>\n       \\<Longrightarrow> subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         subst x z t'", "case (step u v)"], ["proof (state)\nthis:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\n  u \\<rightarrow>\\<^sub>\\<beta> v\n  subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x u t'\n\ngoal (1 subgoal):\n 1. \\<And>y z.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* y;\n        y \\<rightarrow>\\<^sub>\\<beta> z;\n        subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        subst x y t'\\<rbrakk>\n       \\<Longrightarrow> subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         subst x z t'", "from Beta_in_subst [OF this(2), of x t'] and this(3)"], ["proof (chain)\npicking this:\n  subst x u t' \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x v t'\n  subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x u t'", "show ?case"], ["proof (prove)\nusing this:\n  subst x u t' \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x v t'\n  subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x u t'\n\ngoal (1 subgoal):\n 1. subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x v t'", "by auto"], ["proof (state)\nthis:\n  subst x s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* subst x v t'\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Beta_fresh:\n  fixes x :: name\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta> t\" and \"atom x \\<sharp> s\"\n  shows \"atom x \\<sharp> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> t", "using assms"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  atom x \\<sharp> s\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> t", "by (nominal_induct rule: Beta_strong_induct) (auto simp: fresh_subst)"], ["", "lemma Abs_BetaD:\n  assumes \"Abs x s \\<rightarrow>\\<^sub>\\<beta> t\"\n  shows \"\\<exists>u. t = Abs x u \\<and> s \\<rightarrow>\\<^sub>\\<beta> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>u. t = Abs x u \\<and> s \\<rightarrow>\\<^sub>\\<beta> u", "using assms"], ["proof (prove)\nusing this:\n  Abs x s \\<rightarrow>\\<^sub>\\<beta> t\n\ngoal (1 subgoal):\n 1. \\<exists>u. t = Abs x u \\<and> s \\<rightarrow>\\<^sub>\\<beta> u", "proof (nominal_induct \"Abs x s\" t avoiding: s rule: Beta_strong_induct)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>s t xa sa.\n       \\<lbrakk>atom xa \\<sharp> sa; s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b.\n           s = Abs x b \\<Longrightarrow>\n           \\<exists>u. t = Abs x u \\<and> b \\<rightarrow>\\<^sub>\\<beta> u;\n        [[atom xa]]lst. s = [[atom x]]lst. sa\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u.\n                            Abs xa t = Abs x u \\<and>\n                            sa \\<rightarrow>\\<^sub>\\<beta> u", "case (Abs u v y)"], ["proof (state)\nthis:\n  atom y \\<sharp> s\n  u \\<rightarrow>\\<^sub>\\<beta> v\n  u = Abs x ?b \\<Longrightarrow>\n  \\<exists>u. v = Abs x u \\<and> ?b \\<rightarrow>\\<^sub>\\<beta> u\n  [[atom y]]lst. u = [[atom x]]lst. s\n\ngoal (1 subgoal):\n 1. \\<And>s t xa sa.\n       \\<lbrakk>atom xa \\<sharp> sa; s \\<rightarrow>\\<^sub>\\<beta> t;\n        \\<And>b.\n           s = Abs x b \\<Longrightarrow>\n           \\<exists>u. t = Abs x u \\<and> b \\<rightarrow>\\<^sub>\\<beta> u;\n        [[atom xa]]lst. s = [[atom x]]lst. sa\\<rbrakk>\n       \\<Longrightarrow> \\<exists>u.\n                            Abs xa t = Abs x u \\<and>\n                            sa \\<rightarrow>\\<^sub>\\<beta> u", "then"], ["proof (chain)\npicking this:\n  atom y \\<sharp> s\n  u \\<rightarrow>\\<^sub>\\<beta> v\n  u = Abs x ?b \\<Longrightarrow>\n  \\<exists>u. v = Abs x u \\<and> ?b \\<rightarrow>\\<^sub>\\<beta> u\n  [[atom y]]lst. u = [[atom x]]lst. s", "show ?case"], ["proof (prove)\nusing this:\n  atom y \\<sharp> s\n  u \\<rightarrow>\\<^sub>\\<beta> v\n  u = Abs x ?b \\<Longrightarrow>\n  \\<exists>u. v = Abs x u \\<and> ?b \\<rightarrow>\\<^sub>\\<beta> u\n  [[atom y]]lst. u = [[atom x]]lst. s\n\ngoal (1 subgoal):\n 1. \\<exists>u. Abs y v = Abs x u \\<and> s \\<rightarrow>\\<^sub>\\<beta> u", "by (auto simp: Abs1_eq_iff Beta_fresh fresh_permute_left intro!: exI [of _ \"(y \\<leftrightarrow> x) \\<bullet> v\"])\n       (metis Abs1_eq_iff(3) Beta_eqvt flip_commute)"], ["proof (state)\nthis:\n  \\<exists>u. Abs y v = Abs x u \\<and> s \\<rightarrow>\\<^sub>\\<beta> u\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma Abs_BetaE:\n  assumes \"Abs x s \\<rightarrow>\\<^sub>\\<beta> t\"\n  obtains u where \"t = Abs x u\" and \"s \\<rightarrow>\\<^sub>\\<beta> u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>t = Abs x u; s \\<rightarrow>\\<^sub>\\<beta> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  Abs x s \\<rightarrow>\\<^sub>\\<beta> t\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>t = Abs x u; s \\<rightarrow>\\<^sub>\\<beta> u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (blast dest: Abs_BetaD)"], ["", "lemma Abs_BetasE:\n  assumes \"Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\"\n  obtains u where \"t = Abs x u\" and \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>t = Abs x u;\n         s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  Abs x s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\n\ngoal (1 subgoal):\n 1. (\\<And>u.\n        \\<lbrakk>t = Abs x u;\n         s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (induct \"Abs x s\" t) (auto elim: Abs_BetaE intro: rtrancl_into_rtrancl)"], ["", "lemma bullet_App:\n  \"(App s\\<^sup>\\<bullet> t\\<^sup>\\<bullet>, (App s t)\\<^sup>\\<bullet>) \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>=\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (App s\\<^sup>\\<bullet> t\\<^sup>\\<bullet>, (App s t)\\<^sup>\\<bullet>)\n    \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>=", "by (cases \"s\\<^sup>\\<bullet>\" rule: term.strong_exhaust[of _ _ \"t\\<^sup>\\<bullet>\"])\n   (auto simp: fresh_star_def intro: Beta.root)"], ["", "lemma rhs:\n  \"subst x s\\<^sup>\\<bullet> t\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (subst x s t)\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     t\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s t)\\<^sup>\\<bullet>", "proof (nominal_induct t avoiding: x s rule: term.strong_induct)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x xa s.\n       subst xa s\\<^sup>\\<bullet>\n        (Var x)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst xa s (Var x))\\<^sup>\\<bullet>\n 2. \\<And>x1a x2 x s.\n       \\<lbrakk>\\<And>b ba.\n                   subst b ba\\<^sup>\\<bullet>\n                    x1a\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                   (subst b ba x1a)\\<^sup>\\<bullet>;\n        \\<And>b ba.\n           subst b ba\\<^sup>\\<bullet>\n            x2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n           (subst b ba x2)\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (App x1a\n                            x2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s (App x1a x2))\\<^sup>\\<bullet>\n 3. \\<And>x1a x2 x s.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> s;\n        \\<And>b ba.\n           subst b ba\\<^sup>\\<bullet>\n            x2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n           (subst b ba x2)\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (Abs x1a\n                            x2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s (Abs x1a x2))\\<^sup>\\<bullet>", "case (App t\\<^sub>1 t\\<^sub>2)"], ["proof (state)\nthis:\n  subst ?b ?ba\\<^sup>\\<bullet>\n   t\\<^sub>1\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst ?b ?ba t\\<^sub>1)\\<^sup>\\<bullet>\n  subst ?b ?ba\\<^sup>\\<bullet>\n   t\\<^sub>2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst ?b ?ba t\\<^sub>2)\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x xa s.\n       subst xa s\\<^sup>\\<bullet>\n        (Var x)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst xa s (Var x))\\<^sup>\\<bullet>\n 2. \\<And>x1a x2 x s.\n       \\<lbrakk>\\<And>b ba.\n                   subst b ba\\<^sup>\\<bullet>\n                    x1a\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                   (subst b ba x1a)\\<^sup>\\<bullet>;\n        \\<And>b ba.\n           subst b ba\\<^sup>\\<bullet>\n            x2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n           (subst b ba x2)\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (App x1a\n                            x2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s (App x1a x2))\\<^sup>\\<bullet>\n 3. \\<And>x1a x2 x s.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> s;\n        \\<And>b ba.\n           subst b ba\\<^sup>\\<bullet>\n            x2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n           (subst b ba x2)\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (Abs x1a\n                            x2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s (Abs x1a x2))\\<^sup>\\<bullet>", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "proof (cases \"t\\<^sub>1\\<^sup>\\<bullet>\" rule: app_beta_exhaust[of \"(x, t\\<^sub>2, s)\"])"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x s'.\n       \\<lbrakk>atom x \\<sharp> (x, t\\<^sub>2, s);\n        t\\<^sub>1\\<^sup>\\<bullet> = Abs x s'\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (App t\\<^sub>1\n                            t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s\n                           (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n 2. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "case (Redex y u)"], ["proof (state)\nthis:\n  atom y \\<sharp> (x, t\\<^sub>2, s)\n  t\\<^sub>1\\<^sup>\\<bullet> = Abs y u\n\ngoal (2 subgoals):\n 1. \\<And>x s'.\n       \\<lbrakk>atom x \\<sharp> (x, t\\<^sub>2, s);\n        t\\<^sub>1\\<^sup>\\<bullet> = Abs x s'\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (App t\\<^sub>1\n                            t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s\n                           (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n 2. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  atom y \\<sharp> (x, t\\<^sub>2, s)\n  t\\<^sub>1\\<^sup>\\<bullet> = Abs y u", "have \"Abs y (subst x s\\<^sup>\\<bullet> u) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\""], ["proof (prove)\nusing this:\n  atom y \\<sharp> (x, t\\<^sub>2, s)\n  t\\<^sub>1\\<^sup>\\<bullet> = Abs y u\n\ngoal (1 subgoal):\n 1. Abs y (subst x s\\<^sup>\\<bullet> u) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s t\\<^sub>1)\\<^sup>\\<bullet>", "using App(1) [of x s]"], ["proof (prove)\nusing this:\n  atom y \\<sharp> (x, t\\<^sub>2, s)\n  t\\<^sub>1\\<^sup>\\<bullet> = Abs y u\n  subst x s\\<^sup>\\<bullet>\n   t\\<^sub>1\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. Abs y (subst x s\\<^sup>\\<bullet> u) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s t\\<^sub>1)\\<^sup>\\<bullet>", "by (simp add: fresh_star_def fresh_atom_bullet)"], ["proof (state)\nthis:\n  Abs y (subst x s\\<^sup>\\<bullet> u) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x s'.\n       \\<lbrakk>atom x \\<sharp> (x, t\\<^sub>2, s);\n        t\\<^sub>1\\<^sup>\\<bullet> = Abs x s'\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (App t\\<^sub>1\n                            t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s\n                           (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n 2. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "with Abs_BetasE"], ["proof (chain)\npicking this:\n  \\<lbrakk>Abs ?x ?s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* ?t;\n   \\<And>u.\n      \\<lbrakk>?t = Abs ?x u;\n       ?s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  Abs y (subst x s\\<^sup>\\<bullet> u) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet>", "obtain v where \"(subst x s t\\<^sub>1)\\<^sup>\\<bullet> = Abs y v\" and \" subst x s\\<^sup>\\<bullet> u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\""], ["proof (prove)\nusing this:\n  \\<lbrakk>Abs ?x ?s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* ?t;\n   \\<And>u.\n      \\<lbrakk>?t = Abs ?x u;\n       ?s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* u\\<rbrakk>\n      \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n  Abs y (subst x s\\<^sup>\\<bullet> u) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. (\\<And>v.\n        \\<lbrakk>(subst x s t\\<^sub>1)\\<^sup>\\<bullet> = Abs y v;\n         subst x s\\<^sup>\\<bullet> u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n         v\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by blast"], ["proof (state)\nthis:\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet> = Abs y v\n  subst x s\\<^sup>\\<bullet> u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\n\ngoal (2 subgoals):\n 1. \\<And>x s'.\n       \\<lbrakk>atom x \\<sharp> (x, t\\<^sub>2, s);\n        t\\<^sub>1\\<^sup>\\<bullet> = Abs x s'\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (App t\\<^sub>1\n                            t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s\n                           (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n 2. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet> = Abs y v\n  subst x s\\<^sup>\\<bullet> u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v", "show ?thesis"], ["proof (prove)\nusing this:\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet> = Abs y v\n  subst x s\\<^sup>\\<bullet> u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\n\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "using subst_subst and subst_Betas and App(2) and Redex"], ["proof (prove)\nusing this:\n  (subst x s t\\<^sub>1)\\<^sup>\\<bullet> = Abs y v\n  subst x s\\<^sup>\\<bullet> u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* v\n  \\<lbrakk>?x \\<noteq> ?y; atom ?x \\<sharp> ?u\\<rbrakk>\n  \\<Longrightarrow> subst ?y ?u (subst ?x ?s ?t) =\n                    subst ?x (subst ?y ?u ?s) (subst ?y ?u ?t)\n  \\<lbrakk>?s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* ?s';\n   ?t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* ?t'\\<rbrakk>\n  \\<Longrightarrow> subst ?x ?s ?t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                    subst ?x ?s' ?t'\n  subst ?b ?ba\\<^sup>\\<bullet>\n   t\\<^sub>2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst ?b ?ba t\\<^sub>2)\\<^sup>\\<bullet>\n  atom y \\<sharp> (x, t\\<^sub>2, s)\n  t\\<^sub>1\\<^sup>\\<bullet> = Abs y u\n\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "by (simp add: fresh_atom_bullet fresh_subst)"], ["proof (state)\nthis:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "case (no_Redex)"], ["proof (state)\nthis:\n  app_beta t\\<^sub>1\\<^sup>\\<bullet> ?t = App t\\<^sub>1\\<^sup>\\<bullet> ?t\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  app_beta t\\<^sub>1\\<^sup>\\<bullet> ?t = App t\\<^sub>1\\<^sup>\\<bullet> ?t", "have \"subst x s\\<^sup>\\<bullet> ((App t\\<^sub>1 t\\<^sub>2)\\<^sup>\\<bullet>) \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App ((subst x s t\\<^sub>1)\\<^sup>\\<bullet>) ((subst x s t\\<^sub>2)\\<^sup>\\<bullet>)\""], ["proof (prove)\nusing this:\n  app_beta t\\<^sub>1\\<^sup>\\<bullet> ?t = App t\\<^sub>1\\<^sup>\\<bullet> ?t\n\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    App (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n     (subst x s t\\<^sub>2)\\<^sup>\\<bullet>", "using App"], ["proof (prove)\nusing this:\n  app_beta t\\<^sub>1\\<^sup>\\<bullet> ?t = App t\\<^sub>1\\<^sup>\\<bullet> ?t\n  subst ?b ?ba\\<^sup>\\<bullet>\n   t\\<^sub>1\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst ?b ?ba t\\<^sub>1)\\<^sup>\\<bullet>\n  subst ?b ?ba\\<^sup>\\<bullet>\n   t\\<^sub>2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst ?b ?ba t\\<^sub>2)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    App (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n     (subst x s t\\<^sub>2)\\<^sup>\\<bullet>", "by (auto intro: App_Betas)"], ["proof (state)\nthis:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n   (subst x s t\\<^sub>2)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. (\\<And>t.\n        app_beta t\\<^sub>1\\<^sup>\\<bullet> t =\n        App t\\<^sub>1\\<^sup>\\<bullet> t) \\<Longrightarrow>\n    subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n   (subst x s t\\<^sub>2)\\<^sup>\\<bullet>", "show ?thesis"], ["proof (prove)\nusing this:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n   (subst x s t\\<^sub>2)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "using bullet_App"], ["proof (prove)\nusing this:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App (subst x s t\\<^sub>1)\\<^sup>\\<bullet>\n   (subst x s t\\<^sub>2)\\<^sup>\\<bullet>\n  (App ?s\\<^sup>\\<bullet> ?t\\<^sup>\\<bullet>, (App ?s ?t)\\<^sup>\\<bullet>)\n  \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>=\n\ngoal (1 subgoal):\n 1. subst x s\\<^sup>\\<bullet>\n     (App t\\<^sub>1\n       t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>", "by (force intro: rtrancl_into_rtrancl)"], ["proof (state)\nthis:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  subst x s\\<^sup>\\<bullet>\n   (App t\\<^sub>1\n     t\\<^sub>2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (subst x s (App t\\<^sub>1 t\\<^sub>2))\\<^sup>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x xa s.\n       subst xa s\\<^sup>\\<bullet>\n        (Var x)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst xa s (Var x))\\<^sup>\\<bullet>\n 2. \\<And>x1a x2 x s.\n       \\<lbrakk>atom x1a \\<sharp> x; atom x1a \\<sharp> s;\n        \\<And>b ba.\n           subst b ba\\<^sup>\\<bullet>\n            x2\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n           (subst b ba x2)\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> subst x s\\<^sup>\\<bullet>\n                          (Abs x1a\n                            x2)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (subst x s (Abs x1a x2))\\<^sup>\\<bullet>", "qed (force dest: fresh_atom_bullet intro: Abs_Betas)+"], ["", "lemma Betas_fresh:\n  fixes x :: name\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\" and \"atom x \\<sharp> s\"\n  shows \"atom x \\<sharp> t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. atom x \\<sharp> t", "using assms"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\n  atom x \\<sharp> s\n\ngoal (1 subgoal):\n 1. atom x \\<sharp> t", "by (induct) (auto dest: Beta_fresh)"], ["", "lemma Var_BetaD:\n  assumes \"Var x \\<rightarrow>\\<^sub>\\<beta> t\"\n  shows False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "using assms"], ["proof (prove)\nusing this:\n  Var x \\<rightarrow>\\<^sub>\\<beta> t\n\ngoal (1 subgoal):\n 1. False", "by (induct \"Var x\" t)"], ["", "lemma Var_BetasD:\n  assumes \"Var x \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\"\n  shows \"t = Var x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t = Var x", "using assms"], ["proof (prove)\nusing this:\n  Var x \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\n\ngoal (1 subgoal):\n 1. t = Var x", "by (induct) (auto dest: Var_BetaD)"], ["", "lemma app_beta_Betas:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\" and \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\"\n  shows \"app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* app_beta s' t'\""], ["proof (prove)\ngoal (1 subgoal):\n 1. app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* app_beta s' t'", "using assms"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\n\ngoal (1 subgoal):\n 1. app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* app_beta s' t'", "proof (cases s rule: term.strong_exhaust [of _ _ t])"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; s = Var x1\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'\n 2. \\<And>x21 x22.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; s = App x21 x22\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'\n 3. \\<And>x31 x32.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; {atom x31} \\<sharp>* t;\n        s = Abs x31 x32\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'", "case (App s\\<^sub>1 s\\<^sub>2)"], ["proof (state)\nthis:\n  s = App s\\<^sub>1 s\\<^sub>2\n\ngoal (3 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; s = Var x1\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'\n 2. \\<And>x21 x22.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; s = App x21 x22\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'\n 3. \\<And>x31 x32.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; {atom x31} \\<sharp>* t;\n        s = Abs x31 x32\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'", "with assms"], ["proof (chain)\npicking this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\n  s = App s\\<^sub>1 s\\<^sub>2", "show ?thesis"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s'\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'\n  s = App s\\<^sub>1 s\\<^sub>2\n\ngoal (1 subgoal):\n 1. app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* app_beta s' t'", "by (cases s' rule: app_beta_exhaust [of t']) (auto intro: root rtrancl_into_rtrancl App_Betas)"], ["proof (state)\nthis:\n  app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* app_beta s' t'\n\ngoal (2 subgoals):\n 1. \\<And>x1.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; s = Var x1\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'\n 2. \\<And>x31 x32.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s';\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t'; {atom x31} \\<sharp>* t;\n        s = Abs x31 x32\\<rbrakk>\n       \\<Longrightarrow> app_beta s t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         app_beta s' t'", "qed (auto simp: fresh_star_def Betas_fresh subst_Betas elim: Abs_BetasE intro: App_Betas dest!: Var_BetasD)"], ["", "lemma lambda_Z:\n  assumes \"s \\<rightarrow>\\<^sub>\\<beta> t\"\n  shows \"t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and> s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n    s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>", "using assms"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n\ngoal (1 subgoal):\n 1. t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n    s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>", "proof (nominal_induct rule: Beta_strong_induct)"], ["proof (state)\ngoal (4 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App s u)\\<^sup>\\<bullet> \\<and>\n                         (App s\n                           u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App t u)\\<^sup>\\<bullet>\n 3. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 4. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "case (Appl s t u)"], ["proof (state)\nthis:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n\ngoal (4 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App s u)\\<^sup>\\<bullet> \\<and>\n                         (App s\n                           u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App t u)\\<^sup>\\<bullet>\n 3. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 4. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>", "have \"App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App s\\<^sup>\\<bullet> u\\<^sup>\\<bullet>\""], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    App s\\<^sup>\\<bullet> u\\<^sup>\\<bullet>", "using self"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n  ?t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* ?t\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    App s\\<^sup>\\<bullet> u\\<^sup>\\<bullet>", "by (auto intro: App_Betas)"], ["proof (state)\nthis:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App s\\<^sup>\\<bullet> u\\<^sup>\\<bullet>\n\ngoal (4 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App s u)\\<^sup>\\<bullet> \\<and>\n                         (App s\n                           u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App t u)\\<^sup>\\<bullet>\n 3. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 4. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "also"], ["proof (state)\nthis:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App s\\<^sup>\\<bullet> u\\<^sup>\\<bullet>\n\ngoal (4 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App s u)\\<^sup>\\<bullet> \\<and>\n                         (App s\n                           u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App t u)\\<^sup>\\<bullet>\n 3. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 4. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "have \"App s\\<^sup>\\<bullet> u\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App s u)\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. App s\\<^sup>\\<bullet>\n     u\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App s u)\\<^sup>\\<bullet>", "using bullet_App"], ["proof (prove)\nusing this:\n  (App ?s\\<^sup>\\<bullet> ?t\\<^sup>\\<bullet>, (App ?s ?t)\\<^sup>\\<bullet>)\n  \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>=\n\ngoal (1 subgoal):\n 1. App s\\<^sup>\\<bullet>\n     u\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App s u)\\<^sup>\\<bullet>", "by force"], ["proof (state)\nthis:\n  App s\\<^sup>\\<bullet>\n   u\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (App s u)\\<^sup>\\<bullet>\n\ngoal (4 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App s u)\\<^sup>\\<bullet> \\<and>\n                         (App s\n                           u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App t u)\\<^sup>\\<bullet>\n 3. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 4. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "finally"], ["proof (chain)\npicking this:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App s u)\\<^sup>\\<bullet>", "show ?case"], ["proof (prove)\nusing this:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App s u)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App s u)\\<^sup>\\<bullet> \\<and>\n    (App s u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App t u)\\<^sup>\\<bullet>", "using Appl"], ["proof (prove)\nusing this:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App s u)\\<^sup>\\<bullet>\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App s u)\\<^sup>\\<bullet> \\<and>\n    (App s u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App t u)\\<^sup>\\<bullet>", "by (auto intro: App_Betas app_beta_Betas)"], ["proof (state)\nthis:\n  App t u \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (App s u)\\<^sup>\\<bullet> \\<and>\n  (App s u)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (App t u)\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 3. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 3. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "case (Appr s t u)"], ["proof (state)\nthis:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 3. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "then"], ["proof (chain)\npicking this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>", "have \"App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* App u\\<^sup>\\<bullet> s\\<^sup>\\<bullet>\""], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    App u\\<^sup>\\<bullet> s\\<^sup>\\<bullet>", "using self"], ["proof (prove)\nusing this:\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n  ?t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* ?t\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    App u\\<^sup>\\<bullet> s\\<^sup>\\<bullet>", "by (auto intro: App_Betas)"], ["proof (state)\nthis:\n  App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App u\\<^sup>\\<bullet> s\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 3. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "also"], ["proof (state)\nthis:\n  App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  App u\\<^sup>\\<bullet> s\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 3. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "have \"App u\\<^sup>\\<bullet> s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App u s)\\<^sup>\\<bullet>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. App u\\<^sup>\\<bullet>\n     s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App u s)\\<^sup>\\<bullet>", "using bullet_App"], ["proof (prove)\nusing this:\n  (App ?s\\<^sup>\\<bullet> ?t\\<^sup>\\<bullet>, (App ?s ?t)\\<^sup>\\<bullet>)\n  \\<in> {\\<rightarrow>\\<^sub>\\<beta>}\\<^sup>=\n\ngoal (1 subgoal):\n 1. App u\\<^sup>\\<bullet>\n     s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App u s)\\<^sup>\\<bullet>", "by force"], ["proof (state)\nthis:\n  App u\\<^sup>\\<bullet>\n   s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (App u s)\\<^sup>\\<bullet>\n\ngoal (3 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t u.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u s)\\<^sup>\\<bullet> \\<and>\n                         (App u\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (App u t)\\<^sup>\\<bullet>\n 3. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "finally"], ["proof (chain)\npicking this:\n  App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App u s)\\<^sup>\\<bullet>", "show ?case"], ["proof (prove)\nusing this:\n  App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App u s)\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App u s)\\<^sup>\\<bullet> \\<and>\n    (App u s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App u t)\\<^sup>\\<bullet>", "using Appr"], ["proof (prove)\nusing this:\n  App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* (App u s)\\<^sup>\\<bullet>\n  s \\<rightarrow>\\<^sub>\\<beta> t\n  t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n  s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* t\\<^sup>\\<bullet>\n\ngoal (1 subgoal):\n 1. App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App u s)\\<^sup>\\<bullet> \\<and>\n    (App u s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n    (App u t)\\<^sup>\\<bullet>", "by (auto intro: App_Betas app_beta_Betas)"], ["proof (state)\nthis:\n  App u t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (App u s)\\<^sup>\\<bullet> \\<and>\n  (App u s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n  (App u t)\\<^sup>\\<bullet>\n\ngoal (2 subgoals):\n 1. \\<And>x t s.\n       atom x \\<sharp> t \\<Longrightarrow>\n       subst x t s \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<and>\n       (App (Abs x s) t)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n       (subst x t s)\\<^sup>\\<bullet>\n 2. \\<And>s t x.\n       \\<lbrakk>s \\<rightarrow>\\<^sub>\\<beta> t;\n        t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>* s\\<^sup>\\<bullet> \\<and>\n        s\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n        t\\<^sup>\\<bullet>\\<rbrakk>\n       \\<Longrightarrow> Abs x t \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x s)\\<^sup>\\<bullet> \\<and>\n                         (Abs x\n                           s)\\<^sup>\\<bullet> \\<rightarrow>\\<^sub>\\<beta>\\<^sup>*\n                         (Abs x t)\\<^sup>\\<bullet>", "qed (auto intro: Abs_Betas subst_Betas rhs simp: self fresh_atom_bullet)"], ["", "interpretation lambda_z: z_property bullet Beta"], ["proof (prove)\ngoal (1 subgoal):\n 1. z_property bullet {\\<rightarrow>\\<^sub>\\<beta>}", "by (standard) (fact lambda_Z)"], ["", "end"]]}