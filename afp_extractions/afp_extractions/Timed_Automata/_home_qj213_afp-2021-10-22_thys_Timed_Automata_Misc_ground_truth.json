{"file_name": "/home/qj213/afp-2021-10-22/thys/Timed_Automata/Misc.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Timed_Automata", "problem_names": ["lemma frac_add_le_preservation:\n  fixes a d :: real and b :: nat\n  assumes \"a < b\" \"d < 1 - frac a\"\n  shows \"a + d < b\"", "lemma lt_lt_1_ccontr:\n  \"(a :: int) < b \\<Longrightarrow> b < a + 1 \\<Longrightarrow> False\"", "lemma int_intv_frac_gt0:\n  \"(a :: int) < b \\<Longrightarrow> b < a + 1 \\<Longrightarrow> frac b > 0\"", "lemma floor_frac_add_preservation:\n  fixes a d :: real\n  assumes \"0 < d\" \"d < 1 - frac a\"\n  shows \"floor a = floor (a + d)\"", "lemma frac_distr:\n  fixes a d :: real\n  assumes \"0 < d\" \"d < 1 - frac a\"\n  shows \"frac (a + d) > 0\" \"frac a + d = frac (a + d)\"", "lemma frac_add_leD:\n  fixes a d :: real\n  assumes \"0 < d\" \"d < 1 - frac a\" \"d < 1 - frac b\" \"frac (a + d) \\<le> frac (b + d)\"\n  shows \"frac a \\<le> frac b\"", "lemma floor_frac_add_preservation':\n  fixes a d :: real\n  assumes \"0 \\<le> d\" \"d < 1 - frac a\"\n  shows \"floor a = floor (a + d)\"", "lemma frac_add_leIFF:\n  fixes a d :: real\n  assumes \"0 \\<le> d\" \"d < 1 - frac a\" \"d < 1 - frac b\"\n  shows \"frac a \\<le> frac b \\<longleftrightarrow> frac (a + d) \\<le> frac (b + d)\"", "lemma nat_intv_frac_gt0:\n  fixes c :: nat fixes x :: real\n  assumes \"c < x\" \"x < real (c + 1)\"\n  shows \"frac x > 0\"", "lemma nat_intv_frac_decomp:\n  fixes c :: nat and d :: real\n  assumes \"c < d\" \"d < c + 1\"\n  shows \"d = c + frac d\"", "lemma nat_intv_not_int:\n  fixes c :: nat\n  assumes \"real c < d\" \"d < c + 1\"\n  shows \"d \\<notin> \\<int>\"", "lemma frac_idempotent: \"frac (frac x) = frac x\"", "lemma frac_nat_add_id: \"frac ((n :: nat) + (r :: real)) = frac r\" \\<comment> \\<open>Found by sledgehammer\\<close>", "lemma floor_nat_add_id: \"0 \\<le> (r :: real) \\<Longrightarrow> r < 1 \\<Longrightarrow> floor (real (n::nat) + r) = n\"", "lemma int_intv_frac_gt_0':\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a \\<le> b \\<Longrightarrow> a \\<noteq> b \\<Longrightarrow> a \\<le> b - 1\"", "lemma int_lt_Suc_le:\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a < b + 1 \\<Longrightarrow> a \\<le> b\"", "lemma int_lt_neq_Suc_lt:\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a < b \\<Longrightarrow> a + 1 \\<noteq> b \\<Longrightarrow> a + 1 < b\"", "lemma int_lt_neq_prev_lt:\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a - 1 < b \\<Longrightarrow> a \\<noteq> b \\<Longrightarrow> a < b\"", "lemma ints_le_add_frac1:\n  fixes a b x :: real\n  assumes \"0 < x\" \"x < 1\" \"a \\<in> \\<int>\" \"b \\<in> \\<int>\" \"a + x \\<le> b\"\n  shows \"a \\<le> b\"", "lemma ints_le_add_frac2:\n  fixes a b x :: real\n  assumes \"0 \\<le> x\" \"x < 1\" \"a \\<in> \\<int>\" \"b \\<in> \\<int>\" \"b \\<le> a + x\"\n  shows \"b \\<le> a\"", "lemma distinct_twice_contradiction:\n  \"xs ! i = x \\<Longrightarrow> xs ! j = x \\<Longrightarrow> i < j \\<Longrightarrow> j < length xs \\<Longrightarrow> \\<not> distinct xs\"", "lemma distinct_nth_unique:\n  \"xs ! i = xs ! j \\<Longrightarrow> i < length xs \\<Longrightarrow> j < length xs \\<Longrightarrow> distinct xs \\<Longrightarrow> i = j\"", "lemma (in linorder) linorder_order_fun:\n  fixes S :: \"'a set\"\n  assumes \"finite S\"\n  obtains f :: \"'a \\<Rightarrow> nat\"\n  where \"(\\<forall> x \\<in> S. \\<forall> y \\<in> S. f x \\<le> f y \\<longleftrightarrow> x \\<le> y)\" and \"range f \\<subseteq> {0..card S - 1}\"", "lemma non_empty_set_has_least':\n  \"S \\<subseteq> T \\<Longrightarrow> S \\<noteq> {} \\<Longrightarrow> \\<exists> x \\<in> S. \\<forall> y \\<in> S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\"", "lemma non_empty_set_has_least'':\n  \"S \\<subseteq> T \\<Longrightarrow> S \\<noteq> {} \\<Longrightarrow> \\<exists>! x \\<in> S. \\<forall> y \\<in> S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\"", "lemma non_empty_set_has_least:\n  \"S \\<subseteq> T \\<Longrightarrow> S \\<noteq> {} \\<Longrightarrow> least S \\<in> S \\<and> (\\<forall> y \\<in> S. least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\"", "lemma f_set:\n  \"S \\<subseteq> T \\<Longrightarrow> n = card S \\<Longrightarrow> set (f S n) = S\"", "lemma f_distinct:\n  \"S \\<subseteq> T \\<Longrightarrow> n = card S \\<Longrightarrow> distinct (f S n)\"", "lemma f_sorted:\n  \"S \\<subseteq> T \\<Longrightarrow> n = card S \\<Longrightarrow> sorted (f S n)\"", "lemma sorted_nth_mono:\n  \"sorted xs \\<Longrightarrow> i < j \\<Longrightarrow> j < length xs \\<Longrightarrow> xs!i \\<prec> xs!j\"", "lemma order_fun:\n  fixes S :: \"'a set\"\n  assumes \"S \\<subseteq> T\"\n  obtains f :: \"'a \\<Rightarrow> nat\" where \"\\<forall> x \\<in> S. \\<forall> y \\<in> S. f x < f y \\<longleftrightarrow> x \\<prec> y\" and \"range f \\<subseteq> {0..card S - 1}\"", "lemma finite_total_preorder_enumeration:\n  fixes X :: \"'a set\"\n  fixes r :: \"'a rel\"\n  assumes fin:   \"finite X\"\n  assumes tot:   \"total_on X r\"\n  assumes refl:  \"refl_on X r\"\n  assumes trans: \"trans r\"\n  obtains f :: \"'a \\<Rightarrow> nat\" where \"\\<forall> x \\<in> X. \\<forall> y \\<in> X. f x \\<le> f y \\<longleftrightarrow> (x, y) \\<in> r\"", "lemma pairwise_finiteI:\n  assumes \"finite {b. \\<exists>a. P a b}\" (is \"finite ?B\")\n  assumes \"finite {a. \\<exists>b. P a b}\"\n  shows \"finite {(a,b). P a b}\" (is \"finite ?C\")", "lemma finite_ex_and1:\n  assumes \"finite {b. \\<exists>a. P a b}\" (is \"finite ?A\")\n  shows \"finite {b. \\<exists>a. P a b \\<and> Q a b}\" (is \"finite ?B\")", "lemma finite_ex_and2:\n  assumes \"finite {b. \\<exists>a. Q a b}\" (is \"finite ?A\")\n  shows \"finite {b. \\<exists>a. P a b \\<and> Q a b}\" (is \"finite ?B\")", "lemma finite_set_of_finite_funs2:\n  fixes A :: \"'a set\" \n    and B :: \"'b set\"\n    and C :: \"'c set\"\n    and d :: \"'c\" \n  assumes \"finite A\"\n    and \"finite B\"\n    and \"finite C\"\n  shows \"finite {f. \\<forall>x. \\<forall>y. (x \\<in> A \\<and> y \\<in> B \\<longrightarrow> f x y \\<in> C) \\<and> (x \\<notin> A \\<longrightarrow> f x y = d) \\<and> (y \\<notin> B \\<longrightarrow> f x y = d)}\"", "lemma upt_last_append: \"a \\<le> b \\<Longrightarrow> [a..<b] @ [b] = [a ..< Suc b]\"", "lemma map_of_zip_dom_to_range:\n  \"a \\<in> set A \\<Longrightarrow> length B = length A \\<Longrightarrow> the (map_of (zip A B) a) \\<in> set B\"", "lemma zip_range_id:\n  \"length A = length B \\<Longrightarrow> snd ` set (zip A B) = set B\"", "lemma map_of_zip_in_range:\n  \"distinct A \\<Longrightarrow> length B = length A \\<Longrightarrow> b \\<in> set B \\<Longrightarrow> \\<exists> a \\<in> set A. the (map_of (zip A B) a) = b\"", "lemma distinct_zip_inj:\n  \"distinct ys \\<Longrightarrow> (a, b) \\<in> set (zip xs ys) \\<Longrightarrow> (c, b) \\<in> set (zip xs ys) \\<Longrightarrow> a = c\"", "lemma map_of_zip_distinct_inj:\n  \"distinct B \\<Longrightarrow> length A = length B \\<Longrightarrow> inj_on (the o map_of (zip A B)) (set A)\"", "lemma nat_not_ge_1D: \"\\<not> Suc 0 \\<le> x \\<Longrightarrow> x = 0\"", "lemma standard_numbering:\n  assumes \"finite A\"\n  obtains v :: \"'a \\<Rightarrow> nat\" and n where \"bij_betw v A {1..n}\"\n  and \"\\<forall> c \\<in> A. v c > 0\"\n  and \"\\<forall> c. c \\<notin> A \\<longrightarrow> v c > n\""], "translations": [["", "lemma frac_add_le_preservation:\n  fixes a d :: real and b :: nat\n  assumes \"a < b\" \"d < 1 - frac a\"\n  shows \"a + d < b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a + d < real b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. a + d < real b", "from assms"], ["proof (chain)\npicking this:\n  a < real b\n  d < 1 - frac a", "have \"a + d < a + 1 - frac a\""], ["proof (prove)\nusing this:\n  a < real b\n  d < 1 - frac a\n\ngoal (1 subgoal):\n 1. a + d < a + 1 - frac a", "by auto"], ["proof (state)\nthis:\n  a + d < a + 1 - frac a\n\ngoal (1 subgoal):\n 1. a + d < real b", "also"], ["proof (state)\nthis:\n  a + d < a + 1 - frac a\n\ngoal (1 subgoal):\n 1. a + d < real b", "have \"\\<dots> = (a - frac a) + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a + 1 - frac a = a - frac a + 1", "by auto"], ["proof (state)\nthis:\n  a + 1 - frac a = a - frac a + 1\n\ngoal (1 subgoal):\n 1. a + d < real b", "also"], ["proof (state)\nthis:\n  a + 1 - frac a = a - frac a + 1\n\ngoal (1 subgoal):\n 1. a + d < real b", "have \"\\<dots> = floor a + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)", "unfolding frac_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a - (a - real_of_int \\<lfloor>a\\<rfloor>) + 1 =\n    real_of_int (\\<lfloor>a\\<rfloor> + 1)", "by auto"], ["proof (state)\nthis:\n  a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. a + d < real b", "also"], ["proof (state)\nthis:\n  a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. a + d < real b", "have \"\\<dots> \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (\\<lfloor>a\\<rfloor> + 1) \\<le> real b", "using \\<open>a < b\\<close>"], ["proof (prove)\nusing this:\n  a < real b\n\ngoal (1 subgoal):\n 1. real_of_int (\\<lfloor>a\\<rfloor> + 1) \\<le> real b", "by (metis floor_less_iff int_less_real_le of_int_1 of_int_add of_int_of_nat_eq)"], ["proof (state)\nthis:\n  real_of_int (\\<lfloor>a\\<rfloor> + 1) \\<le> real b\n\ngoal (1 subgoal):\n 1. a + d < real b", "finally"], ["proof (chain)\npicking this:\n  a + d < real b", "show \"a + d < b\""], ["proof (prove)\nusing this:\n  a + d < real b\n\ngoal (1 subgoal):\n 1. a + d < real b", "."], ["proof (state)\nthis:\n  a + d < real b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma lt_lt_1_ccontr:\n  \"(a :: int) < b \\<Longrightarrow> b < a + 1 \\<Longrightarrow> False\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a < b; b < a + 1\\<rbrakk> \\<Longrightarrow> False", "by auto"], ["", "lemma int_intv_frac_gt0:\n  \"(a :: int) < b \\<Longrightarrow> b < a + 1 \\<Longrightarrow> frac b > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a < b; b < a + 1\\<rbrakk>\n    \\<Longrightarrow> 0 < frac (real_of_int b)", "by auto"], ["", "lemma floor_frac_add_preservation:\n  fixes a d :: real\n  assumes \"0 < d\" \"d < 1 - frac a\"\n  shows \"floor a = floor (a + d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "have \"frac a \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> frac a", "by auto"], ["proof (state)\nthis:\n  0 \\<le> frac a\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "with assms(2)"], ["proof (chain)\npicking this:\n  d < 1 - frac a\n  0 \\<le> frac a", "have \"d < 1\""], ["proof (prove)\nusing this:\n  d < 1 - frac a\n  0 \\<le> frac a\n\ngoal (1 subgoal):\n 1. d < 1", "by linarith"], ["proof (state)\nthis:\n  d < 1\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "from assms"], ["proof (chain)\npicking this:\n  0 < d\n  d < 1 - frac a", "have \"a + d < a + 1 - frac a\""], ["proof (prove)\nusing this:\n  0 < d\n  d < 1 - frac a\n\ngoal (1 subgoal):\n 1. a + d < a + 1 - frac a", "by auto"], ["proof (state)\nthis:\n  a + d < a + 1 - frac a\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "also"], ["proof (state)\nthis:\n  a + d < a + 1 - frac a\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "have \"\\<dots> = (a - frac a) + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a + 1 - frac a = a - frac a + 1", "by auto"], ["proof (state)\nthis:\n  a + 1 - frac a = a - frac a + 1\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "also"], ["proof (state)\nthis:\n  a + 1 - frac a = a - frac a + 1\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "have \"\\<dots> = (floor a) + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)", "unfolding frac_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a - (a - real_of_int \\<lfloor>a\\<rfloor>) + 1 =\n    real_of_int (\\<lfloor>a\\<rfloor> + 1)", "by auto"], ["proof (state)\nthis:\n  a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "finally"], ["proof (chain)\npicking this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)", "have *: \"a + d < floor a + 1\""], ["proof (prove)\nusing this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)", "."], ["proof (state)\nthis:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "have \"floor (a + d) \\<ge> floor a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> \\<le> \\<lfloor>a + d\\<rfloor>", "using \\<open>d > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < d\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> \\<le> \\<lfloor>a + d\\<rfloor>", "by linarith"], ["proof (state)\nthis:\n  \\<lfloor>a\\<rfloor> \\<le> \\<lfloor>a + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "moreover"], ["proof (state)\nthis:\n  \\<lfloor>a\\<rfloor> \\<le> \\<lfloor>a + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "from *"], ["proof (chain)\npicking this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)", "have \"floor (a + d) < floor a + 1\""], ["proof (prove)\nusing this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. \\<lfloor>a + d\\<rfloor> < \\<lfloor>a\\<rfloor> + 1", "by linarith"], ["proof (state)\nthis:\n  \\<lfloor>a + d\\<rfloor> < \\<lfloor>a\\<rfloor> + 1\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "ultimately"], ["proof (chain)\npicking this:\n  \\<lfloor>a\\<rfloor> \\<le> \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>a + d\\<rfloor> < \\<lfloor>a\\<rfloor> + 1", "show \"floor a = floor (a + d)\""], ["proof (prove)\nusing this:\n  \\<lfloor>a\\<rfloor> \\<le> \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>a + d\\<rfloor> < \\<lfloor>a\\<rfloor> + 1\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma frac_distr:\n  fixes a d :: real\n  assumes \"0 < d\" \"d < 1 - frac a\"\n  shows \"frac (a + d) > 0\" \"frac a + d = frac (a + d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < frac (a + d) &&& frac a + d = frac (a + d)", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "have \"frac a \\<ge> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> frac a", "by auto"], ["proof (state)\nthis:\n  0 \\<le> frac a\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "with assms(2)"], ["proof (chain)\npicking this:\n  d < 1 - frac a\n  0 \\<le> frac a", "have \"d < 1\""], ["proof (prove)\nusing this:\n  d < 1 - frac a\n  0 \\<le> frac a\n\ngoal (1 subgoal):\n 1. d < 1", "by linarith"], ["proof (state)\nthis:\n  d < 1\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "from assms"], ["proof (chain)\npicking this:\n  0 < d\n  d < 1 - frac a", "have \"a + d < a + 1 - frac a\""], ["proof (prove)\nusing this:\n  0 < d\n  d < 1 - frac a\n\ngoal (1 subgoal):\n 1. a + d < a + 1 - frac a", "by auto"], ["proof (state)\nthis:\n  a + d < a + 1 - frac a\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "also"], ["proof (state)\nthis:\n  a + d < a + 1 - frac a\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "have \"\\<dots> = (a - frac a) + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a + 1 - frac a = a - frac a + 1", "by auto"], ["proof (state)\nthis:\n  a + 1 - frac a = a - frac a + 1\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "also"], ["proof (state)\nthis:\n  a + 1 - frac a = a - frac a + 1\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "have \"\\<dots> = (floor a) + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)", "unfolding frac_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. a - (a - real_of_int \\<lfloor>a\\<rfloor>) + 1 =\n    real_of_int (\\<lfloor>a\\<rfloor> + 1)", "by auto"], ["proof (state)\nthis:\n  a - frac a + 1 = real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "finally"], ["proof (chain)\npicking this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)", "have *: \"a + d < floor a + 1\""], ["proof (prove)\nusing this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (1 subgoal):\n 1. a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)", "."], ["proof (state)\nthis:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "have **: \"floor a < a + d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<lfloor>a\\<rfloor> < a + d", "using assms(1)"], ["proof (prove)\nusing this:\n  0 < d\n\ngoal (1 subgoal):\n 1. real_of_int \\<lfloor>a\\<rfloor> < a + d", "by linarith"], ["proof (state)\nthis:\n  real_of_int \\<lfloor>a\\<rfloor> < a + d\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "have \"frac (a + d) \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. frac (a + d) \\<noteq> 0", "proof (rule ccontr, auto, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. a + d \\<in> \\<int> \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  a + d \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. a + d \\<in> \\<int> \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  a + d \\<in> \\<int>", "obtain b :: int where \"b = a + d\""], ["proof (prove)\nusing this:\n  a + d \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>b.\n        real_of_int b = a + d \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Ints_cases)"], ["proof (state)\nthis:\n  real_of_int b = a + d\n\ngoal (1 subgoal):\n 1. a + d \\<in> \\<int> \\<Longrightarrow> False", "with * **"], ["proof (chain)\npicking this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n  real_of_int \\<lfloor>a\\<rfloor> < a + d\n  real_of_int b = a + d", "have \"b < floor a + 1\" \"floor a < b\""], ["proof (prove)\nusing this:\n  a + d < real_of_int (\\<lfloor>a\\<rfloor> + 1)\n  real_of_int \\<lfloor>a\\<rfloor> < a + d\n  real_of_int b = a + d\n\ngoal (1 subgoal):\n 1. b < \\<lfloor>a\\<rfloor> + 1 &&& \\<lfloor>a\\<rfloor> < b", "by auto"], ["proof (state)\nthis:\n  b < \\<lfloor>a\\<rfloor> + 1\n  \\<lfloor>a\\<rfloor> < b\n\ngoal (1 subgoal):\n 1. a + d \\<in> \\<int> \\<Longrightarrow> False", "with lt_lt_1_ccontr"], ["proof (chain)\npicking this:\n  \\<lbrakk>?a < ?b; ?b < ?a + 1\\<rbrakk> \\<Longrightarrow> False\n  b < \\<lfloor>a\\<rfloor> + 1\n  \\<lfloor>a\\<rfloor> < b", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?a < ?b; ?b < ?a + 1\\<rbrakk> \\<Longrightarrow> False\n  b < \\<lfloor>a\\<rfloor> + 1\n  \\<lfloor>a\\<rfloor> < b\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  frac (a + d) \\<noteq> 0\n\ngoal (2 subgoals):\n 1. 0 < frac (a + d)\n 2. frac a + d = frac (a + d)", "then"], ["proof (chain)\npicking this:\n  frac (a + d) \\<noteq> 0", "show \"frac (a + d) > 0\""], ["proof (prove)\nusing this:\n  frac (a + d) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 0 < frac (a + d)", "by auto"], ["proof (state)\nthis:\n  0 < frac (a + d)\n\ngoal (1 subgoal):\n 1. frac a + d = frac (a + d)", "from floor_frac_add_preservation assms"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n  0 < d\n  d < 1 - frac a", "have \"floor a = floor (a + d)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n  0 < d\n  d < 1 - frac a\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. frac a + d = frac (a + d)", "then"], ["proof (chain)\npicking this:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "show \"frac a + d = frac (a + d)\""], ["proof (prove)\nusing this:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. frac a + d = frac (a + d)", "unfolding frac_def"], ["proof (prove)\nusing this:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. a - real_of_int \\<lfloor>a\\<rfloor> + d =\n    a + d - real_of_int \\<lfloor>a + d\\<rfloor>", "by force"], ["proof (state)\nthis:\n  frac a + d = frac (a + d)\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma frac_add_leD:\n  fixes a d :: real\n  assumes \"0 < d\" \"d < 1 - frac a\" \"d < 1 - frac b\" \"frac (a + d) \\<le> frac (b + d)\"\n  shows \"frac a \\<le> frac b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. frac a \\<le> frac b", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. frac a \\<le> frac b", "from floor_frac_add_preservation assms"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n  0 < d\n  d < 1 - frac a\n  d < 1 - frac b\n  frac (a + d) \\<le> frac (b + d)", "have\n    \"floor a = floor (a + d)\" \"floor b = floor (b + d)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n  0 < d\n  d < 1 - frac a\n  d < 1 - frac b\n  frac (a + d) \\<le> frac (b + d)\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor> &&&\n    \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. frac a \\<le> frac b", "with assms(4)"], ["proof (chain)\npicking this:\n  frac (a + d) \\<le> frac (b + d)\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>", "show \"frac a \\<le> frac b\""], ["proof (prove)\nusing this:\n  frac (a + d) \\<le> frac (b + d)\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. frac a \\<le> frac b", "unfolding frac_def"], ["proof (prove)\nusing this:\n  a + d - real_of_int \\<lfloor>a + d\\<rfloor>\n  \\<le> b + d - real_of_int \\<lfloor>b + d\\<rfloor>\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. a - real_of_int \\<lfloor>a\\<rfloor>\n    \\<le> b - real_of_int \\<lfloor>b\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  frac a \\<le> frac b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma floor_frac_add_preservation':\n  fixes a d :: real\n  assumes \"0 \\<le> d\" \"d < 1 - frac a\"\n  shows \"floor a = floor (a + d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "using assms floor_frac_add_preservation"], ["proof (prove)\nusing this:\n  0 \\<le> d\n  d < 1 - frac a\n  \\<lbrakk>0 < ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>", "by (cases \"d = 0\") auto"], ["", "lemma frac_add_leIFF:\n  fixes a d :: real\n  assumes \"0 \\<le> d\" \"d < 1 - frac a\" \"d < 1 - frac b\"\n  shows \"frac a \\<le> frac b \\<longleftrightarrow> frac (a + d) \\<le> frac (b + d)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (frac a \\<le> frac b) = (frac (a + d) \\<le> frac (b + d))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (frac a \\<le> frac b) = (frac (a + d) \\<le> frac (b + d))", "from floor_frac_add_preservation' assms"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 \\<le> ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n  0 \\<le> d\n  d < 1 - frac a\n  d < 1 - frac b", "have\n    \"floor a = floor (a + d)\" \"floor b = floor (b + d)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> ?d; ?d < 1 - frac ?a\\<rbrakk>\n  \\<Longrightarrow> \\<lfloor>?a\\<rfloor> = \\<lfloor>?a + ?d\\<rfloor>\n  0 \\<le> d\n  d < 1 - frac a\n  d < 1 - frac b\n\ngoal (1 subgoal):\n 1. \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor> &&&\n    \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>", "by auto"], ["proof (state)\nthis:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. (frac a \\<le> frac b) = (frac (a + d) \\<le> frac (b + d))", "then"], ["proof (chain)\npicking this:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. (frac a \\<le> frac b) = (frac (a + d) \\<le> frac (b + d))", "unfolding frac_def"], ["proof (prove)\nusing this:\n  \\<lfloor>a\\<rfloor> = \\<lfloor>a + d\\<rfloor>\n  \\<lfloor>b\\<rfloor> = \\<lfloor>b + d\\<rfloor>\n\ngoal (1 subgoal):\n 1. (a - real_of_int \\<lfloor>a\\<rfloor>\n     \\<le> b - real_of_int \\<lfloor>b\\<rfloor>) =\n    (a + d - real_of_int \\<lfloor>a + d\\<rfloor>\n     \\<le> b + d - real_of_int \\<lfloor>b + d\\<rfloor>)", "by auto"], ["proof (state)\nthis:\n  (frac a \\<le> frac b) = (frac (a + d) \\<le> frac (b + d))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nat_intv_frac_gt0:\n  fixes c :: nat fixes x :: real\n  assumes \"c < x\" \"x < real (c + 1)\"\n  shows \"frac x > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < frac x", "proof (rule ccontr, auto, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<in> \\<int> \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  x \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. x \\<in> \\<int> \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  x \\<in> \\<int>", "obtain d :: int where d: \"x = d\""], ["proof (prove)\nusing this:\n  x \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>d. x = real_of_int d \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Ints_cases)"], ["proof (state)\nthis:\n  x = real_of_int d\n\ngoal (1 subgoal):\n 1. x \\<in> \\<int> \\<Longrightarrow> False", "with assms"], ["proof (chain)\npicking this:\n  real c < x\n  x < real (c + 1)\n  x = real_of_int d", "have \"c < d\" \"d < int c + 1\""], ["proof (prove)\nusing this:\n  real c < x\n  x < real (c + 1)\n  x = real_of_int d\n\ngoal (1 subgoal):\n 1. int c < d &&& d < int c + 1", "by auto"], ["proof (state)\nthis:\n  int c < d\n  d < int c + 1\n\ngoal (1 subgoal):\n 1. x \\<in> \\<int> \\<Longrightarrow> False", "with int_intv_frac_gt0[OF this] 1 d"], ["proof (chain)\npicking this:\n  0 < frac (real_of_int d)\n  x \\<in> \\<int>\n  x = real_of_int d\n  int c < d\n  d < int c + 1", "show False"], ["proof (prove)\nusing this:\n  0 < frac (real_of_int d)\n  x \\<in> \\<int>\n  x = real_of_int d\n  int c < d\n  d < int c + 1\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nat_intv_frac_decomp:\n  fixes c :: nat and d :: real\n  assumes \"c < d\" \"d < c + 1\"\n  shows \"d = c + frac d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d = real c + frac d", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. d = real c + frac d", "from assms"], ["proof (chain)\npicking this:\n  real c < d\n  d < real (c + 1)", "have \"int c = \\<lfloor>d\\<rfloor>\""], ["proof (prove)\nusing this:\n  real c < d\n  d < real (c + 1)\n\ngoal (1 subgoal):\n 1. int c = \\<lfloor>d\\<rfloor>", "by linarith"], ["proof (state)\nthis:\n  int c = \\<lfloor>d\\<rfloor>\n\ngoal (1 subgoal):\n 1. d = real c + frac d", "thus ?thesis"], ["proof (prove)\nusing this:\n  int c = \\<lfloor>d\\<rfloor>\n\ngoal (1 subgoal):\n 1. d = real c + frac d", "by (simp add: frac_def)"], ["proof (state)\nthis:\n  d = real c + frac d\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nat_intv_not_int:\n  fixes c :: nat\n  assumes \"real c < d\" \"d < c + 1\"\n  shows \"d \\<notin> \\<int>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d \\<notin> \\<int>", "proof (standard, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  d \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  d \\<in> \\<int>", "obtain k :: int where \"d = k\""], ["proof (prove)\nusing this:\n  d \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>k. d = real_of_int k \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using Ints_cases"], ["proof (prove)\nusing this:\n  d \\<in> \\<int>\n  \\<lbrakk>?q \\<in> \\<int>;\n   \\<And>z. ?q = of_int z \\<Longrightarrow> ?thesis\\<rbrakk>\n  \\<Longrightarrow> ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>k. d = real_of_int k \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  d = real_of_int k\n\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  d = real_of_int k", "have \"frac d = 0\""], ["proof (prove)\nusing this:\n  d = real_of_int k\n\ngoal (1 subgoal):\n 1. frac d = 0", "by auto"], ["proof (state)\nthis:\n  frac d = 0\n\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  frac d = 0\n\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "from nat_intv_frac_decomp[OF assms]"], ["proof (chain)\npicking this:\n  d = real c + frac d", "have *: \"d = c + frac d\""], ["proof (prove)\nusing this:\n  d = real c + frac d\n\ngoal (1 subgoal):\n 1. d = real c + frac d", "by auto"], ["proof (state)\nthis:\n  d = real c + frac d\n\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  frac d = 0\n  d = real c + frac d", "have \"d = c\""], ["proof (prove)\nusing this:\n  frac d = 0\n  d = real c + frac d\n\ngoal (1 subgoal):\n 1. d = real c", "by linarith"], ["proof (state)\nthis:\n  d = real c\n\ngoal (1 subgoal):\n 1. d \\<in> \\<int> \\<Longrightarrow> False", "with assms"], ["proof (chain)\npicking this:\n  real c < d\n  d < real (c + 1)\n  d = real c", "show ?case"], ["proof (prove)\nusing this:\n  real c < d\n  d < real (c + 1)\n  d = real c\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma frac_idempotent: \"frac (frac x) = frac x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. frac (frac x) = frac x", "by (simp add: frac_eq frac_lt_1)"], ["", "lemma frac_nat_add_id: \"frac ((n :: nat) + (r :: real)) = frac r\" \\<comment> \\<open>Found by sledgehammer\\<close>"], ["proof (prove)\ngoal (1 subgoal):\n 1. frac (real n + r) = frac r", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. frac (real n + r) = frac r", "have \"\\<And>r. frac (r::real) < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>r. frac r < 1", "by (meson frac_lt_1)"], ["proof (state)\nthis:\n  frac ?r < 1\n\ngoal (1 subgoal):\n 1. frac (real n + r) = frac r", "then"], ["proof (chain)\npicking this:\n  frac ?r < 1", "show ?thesis"], ["proof (prove)\nusing this:\n  frac ?r < 1\n\ngoal (1 subgoal):\n 1. frac (real n + r) = frac r", "by (simp add: floor_add frac_def)"], ["proof (state)\nthis:\n  frac (real n + r) = frac r\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma floor_nat_add_id: \"0 \\<le> (r :: real) \\<Longrightarrow> r < 1 \\<Longrightarrow> floor (real (n::nat) + r) = n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>0 \\<le> r; r < 1\\<rbrakk>\n    \\<Longrightarrow> \\<lfloor>real n + r\\<rfloor> = int n", "by linarith"], ["", "lemma int_intv_frac_gt_0':\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a \\<le> b \\<Longrightarrow> a \\<noteq> b \\<Longrightarrow> a \\<le> b - 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a \\<le> b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b - 1", "proof (goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a \\<le> b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b - 1", "case 1"], ["proof (state)\nthis:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a \\<le> b\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a \\<le> b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b - 1", "then"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a \\<le> b\n  a \\<noteq> b", "have \"a < b\""], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a \\<le> b\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. a < b", "by auto"], ["proof (state)\nthis:\n  a < b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a \\<le> b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b - 1", "from 1(1,2)"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>", "obtain k l :: int where \"a = real_of_int k\" \"b = real_of_int l\""], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>k l.\n        \\<lbrakk>a = real_of_int k; b = real_of_int l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Ints_cases)"], ["proof (state)\nthis:\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a \\<le> b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b - 1", "with \\<open>a < b\\<close>"], ["proof (chain)\npicking this:\n  a < b\n  a = real_of_int k\n  b = real_of_int l", "show ?case"], ["proof (prove)\nusing this:\n  a < b\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. a \\<le> b - 1", "by auto"], ["proof (state)\nthis:\n  a \\<le> b - 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma int_lt_Suc_le:\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a < b + 1 \\<Longrightarrow> a \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b + 1\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b", "proof (goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b + 1\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b", "case 1"], ["proof (state)\nthis:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a < b + 1\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b + 1\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b", "from 1(1,2)"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>", "obtain k l :: int where \"a = real_of_int k\" \"b = real_of_int l\""], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>k l.\n        \\<lbrakk>a = real_of_int k; b = real_of_int l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Ints_cases)"], ["proof (state)\nthis:\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b + 1\\<rbrakk>\n    \\<Longrightarrow> a \\<le> b", "with \\<open>a < b + 1\\<close>"], ["proof (chain)\npicking this:\n  a < b + 1\n  a = real_of_int k\n  b = real_of_int l", "show ?case"], ["proof (prove)\nusing this:\n  a < b + 1\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. a \\<le> b", "by auto"], ["proof (state)\nthis:\n  a \\<le> b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma int_lt_neq_Suc_lt:\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a < b \\<Longrightarrow> a + 1 \\<noteq> b \\<Longrightarrow> a + 1 < b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b;\n     a + 1 \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a + 1 < b", "proof (goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b;\n     a + 1 \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a + 1 < b", "case 1"], ["proof (state)\nthis:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a < b\n  a + 1 \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b;\n     a + 1 \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a + 1 < b", "from 1(1,2)"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>", "obtain k l :: int where \"a = real_of_int k\" \"b = real_of_int l\""], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>k l.\n        \\<lbrakk>a = real_of_int k; b = real_of_int l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Ints_cases)"], ["proof (state)\nthis:\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a < b;\n     a + 1 \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a + 1 < b", "with 1"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a < b\n  a + 1 \\<noteq> b\n  a = real_of_int k\n  b = real_of_int l", "show ?case"], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a < b\n  a + 1 \\<noteq> b\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. a + 1 < b", "by auto"], ["proof (state)\nthis:\n  a + 1 < b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma int_lt_neq_prev_lt:\n  \"(a :: real) \\<in> \\<int> \\<Longrightarrow> (b :: real) \\<in> \\<int> \\<Longrightarrow> a - 1 < b \\<Longrightarrow> a \\<noteq> b \\<Longrightarrow> a < b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a - 1 < b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a < b", "proof (goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a - 1 < b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a < b", "case 1"], ["proof (state)\nthis:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a - 1 < b\n  a \\<noteq> b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a - 1 < b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a < b", "from 1(1,2)"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>", "obtain k l :: int where \"a = real_of_int k\" \"b = real_of_int l\""], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. (\\<And>k l.\n        \\<lbrakk>a = real_of_int k; b = real_of_int l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis Ints_cases)"], ["proof (state)\nthis:\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> \\<int>; b \\<in> \\<int>; a - 1 < b;\n     a \\<noteq> b\\<rbrakk>\n    \\<Longrightarrow> a < b", "with 1"], ["proof (chain)\npicking this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a - 1 < b\n  a \\<noteq> b\n  a = real_of_int k\n  b = real_of_int l", "show ?case"], ["proof (prove)\nusing this:\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a - 1 < b\n  a \\<noteq> b\n  a = real_of_int k\n  b = real_of_int l\n\ngoal (1 subgoal):\n 1. a < b", "by auto"], ["proof (state)\nthis:\n  a < b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma ints_le_add_frac1:\n  fixes a b x :: real\n  assumes \"0 < x\" \"x < 1\" \"a \\<in> \\<int>\" \"b \\<in> \\<int>\" \"a + x \\<le> b\"\n  shows \"a \\<le> b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<le> b", "using assms"], ["proof (prove)\nusing this:\n  0 < x\n  x < 1\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  a + x \\<le> b\n\ngoal (1 subgoal):\n 1. a \\<le> b", "by auto"], ["", "lemma ints_le_add_frac2:\n  fixes a b x :: real\n  assumes \"0 \\<le> x\" \"x < 1\" \"a \\<in> \\<int>\" \"b \\<in> \\<int>\" \"b \\<le> a + x\"\n  shows \"b \\<le> a\""], ["proof (prove)\ngoal (1 subgoal):\n 1. b \\<le> a", "using assms"], ["proof (prove)\nusing this:\n  0 \\<le> x\n  x < 1\n  a \\<in> \\<int>\n  b \\<in> \\<int>\n  b \\<le> a + x\n\ngoal (1 subgoal):\n 1. b \\<le> a", "by (metis add.commute add_le_cancel_left add_mono_thms_linordered_semiring(1) int_lt_Suc_le leD le_less_linear)"], ["", "section \\<open>Ordering Fractions\\<close>"], ["", "lemma distinct_twice_contradiction:\n  \"xs ! i = x \\<Longrightarrow> xs ! j = x \\<Longrightarrow> i < j \\<Longrightarrow> j < length xs \\<Longrightarrow> \\<not> distinct xs\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xs ! i = x; xs ! j = x; i < j; j < length xs\\<rbrakk>\n    \\<Longrightarrow> \\<not> distinct xs", "proof (rule ccontr, simp, induction xs arbitrary: i j)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>[] ! i = x; [] ! j = x; i < j; j < length [];\n        distinct []\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>xs ! i = x; xs ! j = x; i < j; j < length xs;\n                    distinct xs\\<rbrakk>\n                   \\<Longrightarrow> False;\n        (a # xs) ! i = x; (a # xs) ! j = x; i < j; j < length (a # xs);\n        distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "case Nil"], ["proof (state)\nthis:\n  [] ! i = x\n  [] ! j = x\n  i < j\n  j < length []\n  distinct []\n\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>[] ! i = x; [] ! j = x; i < j; j < length [];\n        distinct []\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>xs ! i = x; xs ! j = x; i < j; j < length xs;\n                    distinct xs\\<rbrakk>\n                   \\<Longrightarrow> False;\n        (a # xs) ! i = x; (a # xs) ! j = x; i < j; j < length (a # xs);\n        distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "thus ?case"], ["proof (prove)\nusing this:\n  [] ! i = x\n  [] ! j = x\n  i < j\n  j < length []\n  distinct []\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>xs ! i = x; xs ! j = x; i < j; j < length xs;\n                    distinct xs\\<rbrakk>\n                   \\<Longrightarrow> False;\n        (a # xs) ! i = x; (a # xs) ! j = x; i < j; j < length (a # xs);\n        distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>xs ! i = x; xs ! j = x; i < j; j < length xs;\n                    distinct xs\\<rbrakk>\n                   \\<Longrightarrow> False;\n        (a # xs) ! i = x; (a # xs) ! j = x; i < j; j < length (a # xs);\n        distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "case (Cons y xs)"], ["proof (state)\nthis:\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)\n\ngoal (1 subgoal):\n 1. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>xs ! i = x; xs ! j = x; i < j; j < length xs;\n                    distinct xs\\<rbrakk>\n                   \\<Longrightarrow> False;\n        (a # xs) ! i = x; (a # xs) ! j = x; i < j; j < length (a # xs);\n        distinct (a # xs)\\<rbrakk>\n       \\<Longrightarrow> False", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof (cases \"i = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> False\n 2. i \\<noteq> 0 \\<Longrightarrow> False", "case True"], ["proof (state)\nthis:\n  i = 0\n\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> False\n 2. i \\<noteq> 0 \\<Longrightarrow> False", "with Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)\n  i = 0", "have \"y = x\""], ["proof (prove)\nusing this:\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)\n  i = 0\n\ngoal (1 subgoal):\n 1. y = x", "by auto"], ["proof (state)\nthis:\n  y = x\n\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> False\n 2. i \\<noteq> 0 \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  y = x\n\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> False\n 2. i \\<noteq> 0 \\<Longrightarrow> False", "from True Cons"], ["proof (chain)\npicking this:\n  i = 0\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)", "have \"x \\<in> set xs\""], ["proof (prove)\nusing this:\n  i = 0\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)\n\ngoal (1 subgoal):\n 1. x \\<in> set xs", "by auto"], ["proof (state)\nthis:\n  x \\<in> set xs\n\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> False\n 2. i \\<noteq> 0 \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  y = x\n  x \\<in> set xs", "show False"], ["proof (prove)\nusing this:\n  y = x\n  x \\<in> set xs\n\ngoal (1 subgoal):\n 1. False", "using Cons(6)"], ["proof (prove)\nusing this:\n  y = x\n  x \\<in> set xs\n  distinct (y # xs)\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> False", "case False"], ["proof (state)\nthis:\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> False", "with Cons"], ["proof (chain)\npicking this:\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)\n  i \\<noteq> 0", "have\n      \"xs ! (i - 1) = x\" \"xs ! (j - 1) = x\" \"i - 1 < j - 1\" \"j - 1 < length xs\" \"distinct xs\""], ["proof (prove)\nusing this:\n  \\<lbrakk>xs ! ?i = x; xs ! ?j = x; ?i < ?j; ?j < length xs;\n   distinct xs\\<rbrakk>\n  \\<Longrightarrow> False\n  (y # xs) ! i = x\n  (y # xs) ! j = x\n  i < j\n  j < length (y # xs)\n  distinct (y # xs)\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (xs ! (i - 1) = x &&& xs ! (j - 1) = x) &&&\n    i - 1 < j - 1 &&& j - 1 < length xs &&& distinct xs", "by auto"], ["proof (state)\nthis:\n  xs ! (i - 1) = x\n  xs ! (j - 1) = x\n  i - 1 < j - 1\n  j - 1 < length xs\n  distinct xs\n\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> False", "from Cons.IH[OF this]"], ["proof (chain)\npicking this:\n  False", "show False"], ["proof (prove)\nusing this:\n  False\n\ngoal (1 subgoal):\n 1. False", "."], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma distinct_nth_unique:\n  \"xs ! i = xs ! j \\<Longrightarrow> i < length xs \\<Longrightarrow> j < length xs \\<Longrightarrow> distinct xs \\<Longrightarrow> i = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xs ! i = xs ! j; i < length xs; j < length xs;\n     distinct xs\\<rbrakk>\n    \\<Longrightarrow> i = j", "apply (rule ccontr)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xs ! i = xs ! j; i < length xs; j < length xs; distinct xs;\n     i \\<noteq> j\\<rbrakk>\n    \\<Longrightarrow> False", "apply (cases \"i < j\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>xs ! i = xs ! j; i < length xs; j < length xs; distinct xs;\n     i \\<noteq> j; i < j\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>xs ! i = xs ! j; i < length xs; j < length xs; distinct xs;\n     i \\<noteq> j; \\<not> i < j\\<rbrakk>\n    \\<Longrightarrow> False", "apply auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>xs ! i = xs ! j; j < length xs; distinct xs; i < j\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>xs ! i = xs ! j; i < length xs; distinct xs; i \\<noteq> j;\n     \\<not> i < j\\<rbrakk>\n    \\<Longrightarrow> False", "apply (auto dest: distinct_twice_contradiction)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>xs ! i = xs ! j; i < length xs; distinct xs; i \\<noteq> j;\n     \\<not> i < j\\<rbrakk>\n    \\<Longrightarrow> False", "using distinct_twice_contradiction"], ["proof (prove)\nusing this:\n  \\<lbrakk>?xs ! ?i = ?x; ?xs ! ?j = ?x; ?i < ?j; ?j < length ?xs\\<rbrakk>\n  \\<Longrightarrow> \\<not> distinct ?xs\n\ngoal (1 subgoal):\n 1. \\<lbrakk>xs ! i = xs ! j; i < length xs; distinct xs; i \\<noteq> j;\n     \\<not> i < j\\<rbrakk>\n    \\<Longrightarrow> False", "by fastforce"], ["", "lemma (in linorder) linorder_order_fun:\n  fixes S :: \"'a set\"\n  assumes \"finite S\"\n  obtains f :: \"'a \\<Rightarrow> nat\"\n  where \"(\\<forall> x \\<in> S. \\<forall> y \\<in> S. f x \\<le> f y \\<longleftrightarrow> x \\<le> y)\" and \"range f \\<subseteq> {0..card S - 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain l where l_def: \"l = sorted_list_of_set S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l.\n        l = sorted_list_of_set S \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  l = sorted_list_of_set S\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with assms"], ["proof (chain)\npicking this:\n  finite S\n  l = sorted_list_of_set S", "have l: \"set l = S\" \"sorted l\" \"distinct l\""], ["proof (prove)\nusing this:\n  finite S\n  l = sorted_list_of_set S\n\ngoal (1 subgoal):\n 1. set l = S &&& sorted l &&& distinct l", "by auto"], ["proof (state)\nthis:\n  set l = S\n  sorted l\n  distinct l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from l(1,3) \\<open>finite S\\<close>"], ["proof (chain)\npicking this:\n  set l = S\n  distinct l\n  finite S", "have len: \"length l = card S\""], ["proof (prove)\nusing this:\n  set l = S\n  distinct l\n  finite S\n\ngoal (1 subgoal):\n 1. length l = card S", "using distinct_card"], ["proof (prove)\nusing this:\n  set l = S\n  distinct l\n  finite S\n  distinct ?xs \\<Longrightarrow> card (set ?xs) = length ?xs\n\ngoal (1 subgoal):\n 1. length l = card S", "by force"], ["proof (state)\nthis:\n  length l = card S\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?f = \"\\<lambda> x. if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume A: \"x \\<in> S\" \"y \\<in> S\" \"x < y\""], ["proof (state)\nthis:\n  x \\<in> S\n  y \\<in> S\n  x < y\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with l(1)"], ["proof (chain)\npicking this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  x < y", "obtain i j where *: \"l ! i = x\" \"l ! j = y\" \"i < length l\" \"j < length l\""], ["proof (prove)\nusing this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  x < y\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>l ! i = x; l ! j = y; i < length l; j < length l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson in_set_conv_nth)"], ["proof (state)\nthis:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"i < j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j", "proof (rule ccontr, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> i < j \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  \\<not> i < j\n\ngoal (1 subgoal):\n 1. \\<not> i < j \\<Longrightarrow> False", "with sorted_nth_mono[OF l(2)] \\<open>i < length l\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i \\<le> ?j; ?j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! ?i \\<le> l ! ?j\n  i < length l\n  \\<not> i < j", "have \"l ! j \\<le> l ! i\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<le> ?j; ?j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! ?i \\<le> l ! ?j\n  i < length l\n  \\<not> i < j\n\ngoal (1 subgoal):\n 1. l ! j \\<le> l ! i", "by auto"], ["proof (state)\nthis:\n  l ! j \\<le> l ! i\n\ngoal (1 subgoal):\n 1. \\<not> i < j \\<Longrightarrow> False", "with * A(3)"], ["proof (chain)\npicking this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  x < y\n  l ! j \\<le> l ! i", "show False"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  x < y\n  l ! j \\<le> l ! i\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f x = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "using * l(3) A(1)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f y = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "using * l(3) A(2)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  y \\<in> S\n\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  i < j\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "have \"?f x < ?f y\""], ["proof (prove)\nusing this:\n  i < j\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n    < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)", "by auto"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 < ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 < ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 < ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume A: \"x \\<in> S\" \"y \\<in> S\" \"?f x < ?f y\""], ["proof (state)\nthis:\n  x \\<in> S\n  y \\<in> S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with l(1)"], ["proof (chain)\npicking this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)", "obtain i j where *: \"l ! i = x\" \"l ! j = y\" \"i < length l\" \"j < length l\""], ["proof (prove)\nusing this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>l ! i = x; l ! j = y; i < length l; j < length l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson in_set_conv_nth)"], ["proof (state)\nthis:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f x = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "using * l(3) A(1)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f y = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "using * l(3) A(2)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  y \\<in> S\n\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "have **: \"l ! ?f x = x\" \"l ! ?f y = y\" \"i < j\""], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. l ! (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) =\n    x &&&\n    l ! (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) =\n    y &&&\n    i < j", "using A(3)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. l ! (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) =\n    x &&&\n    l ! (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) =\n    y &&&\n    i < j", "by auto"], ["proof (state)\nthis:\n  l ! (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = x\n  l ! (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = y\n  i < j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"x < y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x < y", "proof (rule ccontr, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> x < y \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  \\<not> x < y\n\ngoal (1 subgoal):\n 1. \\<not> x < y \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> x < y", "have \"y \\<le> x\""], ["proof (prove)\nusing this:\n  \\<not> x < y\n\ngoal (1 subgoal):\n 1. y \\<le> x", "by simp"], ["proof (state)\nthis:\n  y \\<le> x\n\ngoal (1 subgoal):\n 1. \\<not> x < y \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  y \\<le> x\n\ngoal (1 subgoal):\n 1. \\<not> x < y \\<Longrightarrow> False", "from sorted_nth_mono[OF l(2), of i j] **(3) *"], ["proof (chain)\npicking this:\n  \\<lbrakk>i \\<le> j; j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! i \\<le> l ! j\n  i < j\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l", "have \"x \\<le> y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>i \\<le> j; j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! i \\<le> l ! j\n  i < j\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. x \\<le> y", "by auto"], ["proof (state)\nthis:\n  x \\<le> y\n\ngoal (1 subgoal):\n 1. \\<not> x < y \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  y \\<le> x\n  x \\<le> y", "show False"], ["proof (prove)\nusing this:\n  y \\<le> x\n  x \\<le> y\n\ngoal (1 subgoal):\n 1. False", "using distinct_nth_unique[OF _ *(3,4) l(3)] *(1,2) **(3)"], ["proof (prove)\nusing this:\n  y \\<le> x\n  x \\<le> y\n  l ! i = l ! j \\<Longrightarrow> i = j\n  l ! i = x\n  l ! j = y\n  i < j\n\ngoal (1 subgoal):\n 1. False", "by fastforce"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x < y\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S;\n   (if ?x2 \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = ?x2)\n   < (if ?y2 \\<notin> S then 0\n      else THE i. i < length l \\<and> l ! i = ?y2)\\<rbrakk>\n  \\<Longrightarrow> ?x2 < ?y2\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 < ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S;\n   (if ?x2 \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = ?x2)\n   < (if ?y2 \\<notin> S then 0\n      else THE i. i < length l \\<and> l ! i = ?y2)\\<rbrakk>\n  \\<Longrightarrow> ?x2 < ?y2", "have \"\\<forall> x \\<in> S. \\<forall> y \\<in> S. ?f x \\<le> ?f y \\<longleftrightarrow> x \\<le> y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 < ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S;\n   (if ?x2 \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = ?x2)\n   < (if ?y2 \\<notin> S then 0\n      else THE i. i < length l \\<and> l ! i = ?y2)\\<rbrakk>\n  \\<Longrightarrow> ?x2 < ?y2\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S.\n       \\<forall>y\\<in>S.\n          ((if x \\<notin> S then 0\n            else THE i. i < length l \\<and> l ! i = x)\n           \\<le> (if y \\<notin> S then 0\n                  else THE i. i < length l \\<and> l ! i = y)) =\n          (x \\<le> y)", "by force"], ["proof (state)\nthis:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         \\<le> (if y \\<notin> S then 0\n                else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<le> y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         \\<le> (if y \\<notin> S then 0\n                else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<le> y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"range ?f \\<subseteq> {0..card S - 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range\n     (\\<lambda>x.\n         if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n    \\<subseteq> {0..card S - 1}", "proof (auto, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "case (1 x)"], ["proof (state)\nthis:\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "with l(1)"], ["proof (chain)\npicking this:\n  set l = S\n  x \\<in> S", "obtain i where *: \"l ! i = x\" \"i < length l\""], ["proof (prove)\nusing this:\n  set l = S\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>l ! i = x; i < length l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson in_set_conv_nth)"], ["proof (state)\nthis:\n  l ! i = x\n  i < length l\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "then"], ["proof (chain)\npicking this:\n  l ! i = x\n  i < length l", "have \"?f x = i\""], ["proof (prove)\nusing this:\n  l ! i = x\n  i < length l\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "using l(3) 1"], ["proof (prove)\nusing this:\n  l ! i = x\n  i < length l\n  distinct l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "with len"], ["proof (chain)\npicking this:\n  length l = card S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "show ?case"], ["proof (prove)\nusing this:\n  length l = card S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (THE i. i < length l \\<and> l ! i = x) \\<le> card S - Suc 0", "using *(2) 1"], ["proof (prove)\nusing this:\n  length l = card S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  i < length l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (THE i. i < length l \\<and> l ! i = x) \\<le> card S - Suc 0", "by auto"], ["proof (state)\nthis:\n  (THE i. i < length l \\<and> l ! i = x) \\<le> card S - Suc 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  range\n   (\\<lambda>x.\n       if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  \\<subseteq> {0..card S - 1}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x \\<le> f y) = (x \\<le> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         \\<le> (if y \\<notin> S then 0\n                else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<le> y)\n  range\n   (\\<lambda>x.\n       if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  \\<subseteq> {0..card S - 1}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         \\<le> (if y \\<notin> S then 0\n                else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<le> y)\n  range\n   (\\<lambda>x.\n       if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  \\<subseteq> {0..card S - 1}\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "locale enumerateable =\n  fixes T :: \"'a set\"\n  fixes less :: \"'a \\<Rightarrow> 'a \\<Rightarrow> bool\" (infix \"\\<prec>\" 50)\n  assumes finite: \"finite T\"\n  assumes total:  \"\\<forall> x \\<in> T. \\<forall> y \\<in> T. x \\<noteq> y \\<longrightarrow> (x \\<prec> y) \\<or> (y \\<prec> x)\"\n  assumes trans:  \"\\<forall>x \\<in> T. \\<forall> y \\<in> T. \\<forall> z \\<in> T. (x :: 'a) \\<prec> y \\<longrightarrow> y \\<prec> z \\<longrightarrow> x \\<prec> z\"\n  assumes asymmetric: \"\\<forall> x \\<in> T. \\<forall> y \\<in> T. x \\<prec> y \\<longrightarrow> \\<not> (y \\<prec> x)\"\nbegin"], ["", "lemma non_empty_set_has_least':\n  \"S \\<subseteq> T \\<Longrightarrow> S \\<noteq> {} \\<Longrightarrow> \\<exists> x \\<in> S. \\<forall> y \\<in> S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x\\<in>S.\n                         \\<forall>y\\<in>S.\n                            x \\<noteq> y \\<longrightarrow>\n                            \\<not> y \\<prec> x", "proof (rule ccontr, induction \"card S\" arbitrary: S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>0 = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "case 0"], ["proof (state)\nthis:\n  0 = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>0 = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  0 = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)", "show ?case"], ["proof (prove)\nusing this:\n  0 = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n\ngoal (1 subgoal):\n 1. False", "using finite"], ["proof (prove)\nusing this:\n  0 = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  finite T\n\ngoal (1 subgoal):\n 1. False", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>n = card ?S; ?S \\<subseteq> T; ?S \\<noteq> {};\n   \\<not> (\\<exists>x\\<in>?S.\n              \\<forall>y\\<in>?S.\n                 x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\\<rbrakk>\n  \\<Longrightarrow> False\n  Suc n = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n\ngoal (1 subgoal):\n 1. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>n = card ?S; ?S \\<subseteq> T; ?S \\<noteq> {};\n   \\<not> (\\<exists>x\\<in>?S.\n              \\<forall>y\\<in>?S.\n                 x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\\<rbrakk>\n  \\<Longrightarrow> False\n  Suc n = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)", "obtain x where x: \"x \\<in> S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>n = card ?S; ?S \\<subseteq> T; ?S \\<noteq> {};\n   \\<not> (\\<exists>x\\<in>?S.\n              \\<forall>y\\<in>?S.\n                 x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\\<rbrakk>\n  \\<Longrightarrow> False\n  Suc n = card S\n  S \\<subseteq> T\n  S \\<noteq> {}\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n\ngoal (1 subgoal):\n 1. (\\<And>x. x \\<in> S \\<Longrightarrow> thesis) \\<Longrightarrow> thesis", "by blast"], ["proof (state)\nthis:\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "from finite Suc.prems(1)"], ["proof (chain)\npicking this:\n  finite T\n  S \\<subseteq> T", "have finite: \"finite S\""], ["proof (prove)\nusing this:\n  finite T\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. finite S", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  finite S\n\ngoal (1 subgoal):\n 1. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "let ?S = \"S - {x}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>x = card S; S \\<subseteq> T; S \\<noteq> {};\n                    \\<not> (\\<exists>x\\<in>S.\n                               \\<forall>y\\<in>S.\n                                  x \\<noteq> y \\<longrightarrow>\n                                  \\<not> y \\<prec> x)\\<rbrakk>\n                   \\<Longrightarrow> False;\n        Suc x = card S; S \\<subseteq> T; S \\<noteq> {};\n        \\<not> (\\<exists>x\\<in>S.\n                   \\<forall>y\\<in>S.\n                      x \\<noteq> y \\<longrightarrow>\n                      \\<not> y \\<prec> x)\\<rbrakk>\n       \\<Longrightarrow> False", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof (cases \"S = {x}\")"], ["proof (state)\ngoal (2 subgoals):\n 1. S = {x} \\<Longrightarrow> False\n 2. S \\<noteq> {x} \\<Longrightarrow> False", "case True"], ["proof (state)\nthis:\n  S = {x}\n\ngoal (2 subgoals):\n 1. S = {x} \\<Longrightarrow> False\n 2. S \\<noteq> {x} \\<Longrightarrow> False", "with Suc.prems(3)"], ["proof (chain)\npicking this:\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  S = {x}", "show False"], ["proof (prove)\nusing this:\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  S = {x}\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. S \\<noteq> {x} \\<Longrightarrow> False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. S \\<noteq> {x} \\<Longrightarrow> False", "case False"], ["proof (state)\nthis:\n  S \\<noteq> {x}\n\ngoal (1 subgoal):\n 1. S \\<noteq> {x} \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  S \\<noteq> {x}", "have S: \"?S \\<noteq> {}\""], ["proof (prove)\nusing this:\n  S \\<noteq> {x}\n\ngoal (1 subgoal):\n 1. S - {x} \\<noteq> {}", "using x"], ["proof (prove)\nusing this:\n  S \\<noteq> {x}\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. S - {x} \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  S - {x} \\<noteq> {}\n\ngoal (1 subgoal):\n 1. S \\<noteq> {x} \\<Longrightarrow> False", "show False"], ["proof (prove)\ngoal (1 subgoal):\n 1. False", "proof (cases \"\\<exists>x \\<in> ?S. \\<forall>y\\<in>?S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\")"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False\n 2. \\<not> (\\<exists>xa\\<in>S - {x}.\n               \\<forall>y\\<in>S - {x}.\n                  xa \\<noteq> y \\<longrightarrow>\n                  \\<not> y \\<prec> xa) \\<Longrightarrow>\n    False", "case False"], ["proof (state)\nthis:\n  \\<not> (\\<exists>xa\\<in>S - {x}.\n             \\<forall>y\\<in>S - {x}.\n                xa \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> xa)\n\ngoal (2 subgoals):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False\n 2. \\<not> (\\<exists>xa\\<in>S - {x}.\n               \\<forall>y\\<in>S - {x}.\n                  xa \\<noteq> y \\<longrightarrow>\n                  \\<not> y \\<prec> xa) \\<Longrightarrow>\n    False", "have \"n = card ?S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. n = card (S - {x})", "using Suc.hyps finite"], ["proof (prove)\nusing this:\n  \\<lbrakk>n = card ?S; ?S \\<subseteq> T; ?S \\<noteq> {};\n   \\<not> (\\<exists>x\\<in>?S.\n              \\<forall>y\\<in>?S.\n                 x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\\<rbrakk>\n  \\<Longrightarrow> False\n  Suc n = card S\n  finite S\n\ngoal (1 subgoal):\n 1. n = card (S - {x})", "by (simp add: x)"], ["proof (state)\nthis:\n  n = card (S - {x})\n\ngoal (2 subgoals):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False\n 2. \\<not> (\\<exists>xa\\<in>S - {x}.\n               \\<forall>y\\<in>S - {x}.\n                  xa \\<noteq> y \\<longrightarrow>\n                  \\<not> y \\<prec> xa) \\<Longrightarrow>\n    False", "from Suc.hyps(1)[OF this _ S False] Suc.prems(1)"], ["proof (chain)\npicking this:\n  S - {x} \\<subseteq> T \\<Longrightarrow> False\n  S \\<subseteq> T", "show False"], ["proof (prove)\nusing this:\n  S - {x} \\<subseteq> T \\<Longrightarrow> False\n  S \\<subseteq> T\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "case True"], ["proof (state)\nthis:\n  \\<exists>xa\\<in>S - {x}.\n     \\<forall>y\\<in>S - {x}.\n        xa \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> xa\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>xa\\<in>S - {x}.\n     \\<forall>y\\<in>S - {x}.\n        xa \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> xa", "obtain x' where x': \"\\<forall>y\\<in>?S. x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x'\" \"x' \\<in> ?S\" \"x \\<noteq> x'\""], ["proof (prove)\nusing this:\n  \\<exists>xa\\<in>S - {x}.\n     \\<forall>y\\<in>S - {x}.\n        xa \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> xa\n\ngoal (1 subgoal):\n 1. (\\<And>x'.\n        \\<lbrakk>\\<forall>y\\<in>S - {x}.\n                    x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x';\n         x' \\<in> S - {x}; x \\<noteq> x'\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>y\\<in>S - {x}.\n     x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x'\n  x' \\<in> S - {x}\n  x \\<noteq> x'\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "from total Suc.prems(1) x'(2)"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  S \\<subseteq> T\n  x' \\<in> S - {x}", "have \"\\<And> y. y \\<in> S \\<Longrightarrow> x' \\<noteq> y \\<Longrightarrow> \\<not> y \\<prec> x' \\<Longrightarrow> x' \\<prec> y\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  S \\<subseteq> T\n  x' \\<in> S - {x}\n\ngoal (1 subgoal):\n 1. \\<And>y.\n       \\<lbrakk>y \\<in> S; x' \\<noteq> y; \\<not> y \\<prec> x'\\<rbrakk>\n       \\<Longrightarrow> x' \\<prec> y", "by auto"], ["proof (state)\nthis:\n  \\<lbrakk>?y \\<in> S; x' \\<noteq> ?y; \\<not> ?y \\<prec> x'\\<rbrakk>\n  \\<Longrightarrow> x' \\<prec> ?y\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "from total Suc.prems(1) x'(1,2)"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  S \\<subseteq> T\n  \\<forall>y\\<in>S - {x}.\n     x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x'\n  x' \\<in> S - {x}", "have *: \"\\<forall> y \\<in> ?S. x' \\<noteq> y \\<longrightarrow> x' \\<prec> y\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  S \\<subseteq> T\n  \\<forall>y\\<in>S - {x}.\n     x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x'\n  x' \\<in> S - {x}\n\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>S - {x}. x' \\<noteq> y \\<longrightarrow> x' \\<prec> y", "by auto"], ["proof (state)\nthis:\n  \\<forall>y\\<in>S - {x}. x' \\<noteq> y \\<longrightarrow> x' \\<prec> y\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "from Suc.prems(3) x'(1,2)"], ["proof (chain)\npicking this:\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  \\<forall>y\\<in>S - {x}.\n     x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x'\n  x' \\<in> S - {x}", "have **: \"x \\<prec> x'\""], ["proof (prove)\nusing this:\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  \\<forall>y\\<in>S - {x}.\n     x' \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x'\n  x' \\<in> S - {x}\n\ngoal (1 subgoal):\n 1. x \\<prec> x'", "by auto"], ["proof (state)\nthis:\n  x \\<prec> x'\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "have \"\\<forall> y \\<in> ?S. x \\<prec> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>y\\<in>S - {x}. x \\<prec> y", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> S - {x} \\<Longrightarrow> x \\<prec> y", "fix y"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> S - {x} \\<Longrightarrow> x \\<prec> y", "assume y: \"y \\<in> S - {x}\""], ["proof (state)\nthis:\n  y \\<in> S - {x}\n\ngoal (1 subgoal):\n 1. \\<And>y. y \\<in> S - {x} \\<Longrightarrow> x \\<prec> y", "show \"x \\<prec> y\""], ["proof (prove)\ngoal (1 subgoal):\n 1. x \\<prec> y", "proof (cases \"y = x'\")"], ["proof (state)\ngoal (2 subgoals):\n 1. y = x' \\<Longrightarrow> x \\<prec> y\n 2. y \\<noteq> x' \\<Longrightarrow> x \\<prec> y", "case True"], ["proof (state)\nthis:\n  y = x'\n\ngoal (2 subgoals):\n 1. y = x' \\<Longrightarrow> x \\<prec> y\n 2. y \\<noteq> x' \\<Longrightarrow> x \\<prec> y", "then"], ["proof (chain)\npicking this:\n  y = x'", "show ?thesis"], ["proof (prove)\nusing this:\n  y = x'\n\ngoal (1 subgoal):\n 1. x \\<prec> y", "using **"], ["proof (prove)\nusing this:\n  y = x'\n  x \\<prec> x'\n\ngoal (1 subgoal):\n 1. x \\<prec> y", "by simp"], ["proof (state)\nthis:\n  x \\<prec> y\n\ngoal (1 subgoal):\n 1. y \\<noteq> x' \\<Longrightarrow> x \\<prec> y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. y \\<noteq> x' \\<Longrightarrow> x \\<prec> y", "case False"], ["proof (state)\nthis:\n  y \\<noteq> x'\n\ngoal (1 subgoal):\n 1. y \\<noteq> x' \\<Longrightarrow> x \\<prec> y", "with * y"], ["proof (chain)\npicking this:\n  \\<forall>y\\<in>S - {x}. x' \\<noteq> y \\<longrightarrow> x' \\<prec> y\n  y \\<in> S - {x}\n  y \\<noteq> x'", "have \"x' \\<prec> y\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<in>S - {x}. x' \\<noteq> y \\<longrightarrow> x' \\<prec> y\n  y \\<in> S - {x}\n  y \\<noteq> x'\n\ngoal (1 subgoal):\n 1. x' \\<prec> y", "by auto"], ["proof (state)\nthis:\n  x' \\<prec> y\n\ngoal (1 subgoal):\n 1. y \\<noteq> x' \\<Longrightarrow> x \\<prec> y", "with trans Suc.prems(1) ** y x'(2) x **"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        \\<forall>z\\<in>T.\n           x \\<prec> y \\<longrightarrow>\n           y \\<prec> z \\<longrightarrow> x \\<prec> z\n  S \\<subseteq> T\n  x \\<prec> x'\n  y \\<in> S - {x}\n  x' \\<in> S - {x}\n  x \\<in> S\n  x \\<prec> x'\n  x' \\<prec> y", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        \\<forall>z\\<in>T.\n           x \\<prec> y \\<longrightarrow>\n           y \\<prec> z \\<longrightarrow> x \\<prec> z\n  S \\<subseteq> T\n  x \\<prec> x'\n  y \\<in> S - {x}\n  x' \\<in> S - {x}\n  x \\<in> S\n  x \\<prec> x'\n  x' \\<prec> y\n\ngoal (1 subgoal):\n 1. x \\<prec> y", "by auto"], ["proof (state)\nthis:\n  x \\<prec> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x \\<prec> y\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>y\\<in>S - {x}. x \\<prec> y\n\ngoal (1 subgoal):\n 1. \\<exists>xa\\<in>S - {x}.\n       \\<forall>y\\<in>S - {x}.\n          xa \\<noteq> y \\<longrightarrow>\n          \\<not> y \\<prec> xa \\<Longrightarrow>\n    False", "with x Suc.prems(1,3)"], ["proof (chain)\npicking this:\n  x \\<in> S\n  S \\<subseteq> T\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  \\<forall>y\\<in>S - {x}. x \\<prec> y", "show False"], ["proof (prove)\nusing this:\n  x \\<in> S\n  S \\<subseteq> T\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  \\<forall>y\\<in>S - {x}. x \\<prec> y\n\ngoal (1 subgoal):\n 1. False", "using asymmetric"], ["proof (prove)\nusing this:\n  x \\<in> S\n  S \\<subseteq> T\n  \\<not> (\\<exists>x\\<in>S.\n             \\<forall>y\\<in>S.\n                x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  \\<forall>y\\<in>S - {x}. x \\<prec> y\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T. x \\<prec> y \\<longrightarrow> \\<not> y \\<prec> x\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma non_empty_set_has_least'':\n  \"S \\<subseteq> T \\<Longrightarrow> S \\<noteq> {} \\<Longrightarrow> \\<exists>! x \\<in> S. \\<forall> y \\<in> S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>!x.\n                         x \\<in> S \\<and>\n                         (\\<forall>y\\<in>S.\n                             x \\<noteq> y \\<longrightarrow>\n                             \\<not> y \\<prec> x)", "proof (intro ex_ex1I, goal_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         x \\<in> S \\<and>\n                         (\\<forall>y\\<in>S.\n                             x \\<noteq> y \\<longrightarrow>\n                             \\<not> y \\<prec> x)\n 2. \\<And>x y.\n       \\<lbrakk>S \\<subseteq> T; S \\<noteq> {};\n        x \\<in> S \\<and>\n        (\\<forall>y\\<in>S.\n            x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x);\n        y \\<in> S \\<and>\n        (\\<forall>ya\\<in>S.\n            y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\\<rbrakk>\n       \\<Longrightarrow> x = y", "case 1"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  S \\<noteq> {}\n\ngoal (2 subgoals):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> \\<exists>x.\n                         x \\<in> S \\<and>\n                         (\\<forall>y\\<in>S.\n                             x \\<noteq> y \\<longrightarrow>\n                             \\<not> y \\<prec> x)\n 2. \\<And>x y.\n       \\<lbrakk>S \\<subseteq> T; S \\<noteq> {};\n        x \\<in> S \\<and>\n        (\\<forall>y\\<in>S.\n            x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x);\n        y \\<in> S \\<and>\n        (\\<forall>ya\\<in>S.\n            y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\\<rbrakk>\n       \\<Longrightarrow> x = y", "with non_empty_set_has_least'[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>x\\<in>S.\n     \\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\n  S \\<subseteq> T\n  S \\<noteq> {}", "show ?case"], ["proof (prove)\nusing this:\n  \\<exists>x\\<in>S.\n     \\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x\n  S \\<subseteq> T\n  S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<exists>x.\n       x \\<in> S \\<and>\n       (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)", "by auto"], ["proof (state)\nthis:\n  \\<exists>x.\n     x \\<in> S \\<and>\n     (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>S \\<subseteq> T; S \\<noteq> {};\n        x \\<in> S \\<and>\n        (\\<forall>y\\<in>S.\n            x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x);\n        y \\<in> S \\<and>\n        (\\<forall>ya\\<in>S.\n            y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\\<rbrakk>\n       \\<Longrightarrow> x = y", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>S \\<subseteq> T; S \\<noteq> {};\n        x \\<in> S \\<and>\n        (\\<forall>y\\<in>S.\n            x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x);\n        y \\<in> S \\<and>\n        (\\<forall>ya\\<in>S.\n            y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\\<rbrakk>\n       \\<Longrightarrow> x = y", "case (2 x y)"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  S \\<noteq> {}\n  x \\<in> S \\<and>\n  (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  y \\<in> S \\<and>\n  (\\<forall>ya\\<in>S. y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>S \\<subseteq> T; S \\<noteq> {};\n        x \\<in> S \\<and>\n        (\\<forall>y\\<in>S.\n            x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x);\n        y \\<in> S \\<and>\n        (\\<forall>ya\\<in>S.\n            y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\\<rbrakk>\n       \\<Longrightarrow> x = y", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. x = y", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow> False", "assume \"x \\<noteq> y\""], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow> False", "with 2 total"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  S \\<noteq> {}\n  x \\<in> S \\<and>\n  (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  y \\<in> S \\<and>\n  (\\<forall>ya\\<in>S. y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  x \\<noteq> y", "have \"x \\<prec> y \\<or> y \\<prec> x\""], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  S \\<noteq> {}\n  x \\<in> S \\<and>\n  (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  y \\<in> S \\<and>\n  (\\<forall>ya\\<in>S. y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<prec> y \\<or> y \\<prec> x", "by blast"], ["proof (state)\nthis:\n  x \\<prec> y \\<or> y \\<prec> x\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow> False", "with 2(2-) \\<open>x \\<noteq> y\\<close>"], ["proof (chain)\npicking this:\n  S \\<noteq> {}\n  x \\<in> S \\<and>\n  (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  y \\<in> S \\<and>\n  (\\<forall>ya\\<in>S. y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\n  x \\<noteq> y\n  x \\<prec> y \\<or> y \\<prec> x", "show False"], ["proof (prove)\nusing this:\n  S \\<noteq> {}\n  x \\<in> S \\<and>\n  (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n  y \\<in> S \\<and>\n  (\\<forall>ya\\<in>S. y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\n  x \\<noteq> y\n  x \\<prec> y \\<or> y \\<prec> x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  x = y\n\ngoal:\nNo subgoals!", "qed"], ["", "abbreviation \"least S \\<equiv> THE t :: 'a. t \\<in> S \\<and> (\\<forall> y \\<in> S. t \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> t)\""], ["", "lemma non_empty_set_has_least:\n  \"S \\<subseteq> T \\<Longrightarrow> S \\<noteq> {} \\<Longrightarrow> least S \\<in> S \\<and> (\\<forall> y \\<in> S. least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> least S \\<in> S \\<and>\n                      (\\<forall>y\\<in>S.\n                          least S \\<noteq> y \\<longrightarrow>\n                          \\<not> y \\<prec> least S)", "proof goal_cases"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> least S \\<in> S \\<and>\n                      (\\<forall>y\\<in>S.\n                          least S \\<noteq> y \\<longrightarrow>\n                          \\<not> y \\<prec> least S)", "case 1"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> least S \\<in> S \\<and>\n                      (\\<forall>y\\<in>S.\n                          least S \\<noteq> y \\<longrightarrow>\n                          \\<not> y \\<prec> least S)", "note A = this"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; S \\<noteq> {}\\<rbrakk>\n    \\<Longrightarrow> least S \\<in> S \\<and>\n                      (\\<forall>y\\<in>S.\n                          least S \\<noteq> y \\<longrightarrow>\n                          \\<not> y \\<prec> least S)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. least S \\<in> S \\<and>\n    (\\<forall>y\\<in>S.\n        least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)", "proof (rule theI', goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>!y.\n       y \\<in> S \\<and>\n       (\\<forall>ya\\<in>S.\n           y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<exists>!y.\n       y \\<in> S \\<and>\n       (\\<forall>ya\\<in>S.\n           y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)", "from non_empty_set_has_least''[OF A]"], ["proof (chain)\npicking this:\n  \\<exists>!x.\n     x \\<in> S \\<and>\n     (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)", "show ?case"], ["proof (prove)\nusing this:\n  \\<exists>!x.\n     x \\<in> S \\<and>\n     (\\<forall>y\\<in>S. x \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> x)\n\ngoal (1 subgoal):\n 1. \\<exists>!y.\n       y \\<in> S \\<and>\n       (\\<forall>ya\\<in>S.\n           y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)", "."], ["proof (state)\nthis:\n  \\<exists>!y.\n     y \\<in> S \\<and>\n     (\\<forall>ya\\<in>S.\n         y \\<noteq> ya \\<longrightarrow> \\<not> ya \\<prec> y)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\n\ngoal:\nNo subgoals!", "qed"], ["", "fun f :: \"'a set \\<Rightarrow> nat \\<Rightarrow> 'a list\"\nwhere\n  \"f S 0 = []\" |\n  \"f S (Suc n) = least S # f (S - {least S}) n\""], ["", "inductive sorted :: \"'a list \\<Rightarrow> bool\" where\n  Nil [iff]: \"sorted []\"\n| Cons: \"\\<forall>y\\<in>set xs. x \\<prec> y \\<Longrightarrow> sorted xs \\<Longrightarrow> sorted (x # xs)\""], ["", "lemma f_set:\n  \"S \\<subseteq> T \\<Longrightarrow> n = card S \\<Longrightarrow> set (f S n) = S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n    \\<Longrightarrow> set (f S n) = S", "proof (induction n arbitrary: S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>S \\<subseteq> T; 0 = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S 0) = S\n 2. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "case 0"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  0 = card S\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>S \\<subseteq> T; 0 = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S 0) = S\n 2. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "then"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  0 = card S", "show ?case"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  0 = card S\n\ngoal (1 subgoal):\n 1. set (f S 0) = S", "using finite"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  0 = card S\n  finite T\n\ngoal (1 subgoal):\n 1. set (f S 0) = S", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  set (f S 0) = S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> set (f ?S n) = ?S\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> set (f ?S n) = ?S\n  S \\<subseteq> T\n  Suc n = card S", "have fin: \"finite S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> set (f ?S n) = ?S\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. finite S", "using finite"], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> set (f ?S n) = ?S\n  S \\<subseteq> T\n  Suc n = card S\n  finite T\n\ngoal (1 subgoal):\n 1. finite S", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  finite S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "with Suc.prems"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  Suc n = card S\n  finite S", "have \"S \\<noteq> {}\""], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  Suc n = card S\n  finite S\n\ngoal (1 subgoal):\n 1. S \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "from non_empty_set_has_least[OF Suc.prems(1) this]"], ["proof (chain)\npicking this:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)", "have least: \"least S \\<in> S\""], ["proof (prove)\nusing this:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\n\ngoal (1 subgoal):\n 1. least S \\<in> S", "by blast"], ["proof (state)\nthis:\n  least S \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "let ?S = \"S - {least S}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "from fin least Suc.prems"], ["proof (chain)\npicking this:\n  finite S\n  least S \\<in> S\n  S \\<subseteq> T\n  Suc n = card S", "have \"?S \\<subseteq> T\" \"n = card ?S\""], ["proof (prove)\nusing this:\n  finite S\n  least S \\<in> S\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. S - {least S} \\<subseteq> T &&& n = card (S - {least S})", "by auto"], ["proof (state)\nthis:\n  S - {least S} \\<subseteq> T\n  n = card (S - {least S})\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "from Suc.IH[OF this]"], ["proof (chain)\npicking this:\n  set (f (S - {least S}) n) = S - {least S}", "have \"set (f ?S n) = ?S\""], ["proof (prove)\nusing this:\n  set (f (S - {least S}) n) = S - {least S}\n\ngoal (1 subgoal):\n 1. set (f (S - {least S}) n) = S - {least S}", "."], ["proof (state)\nthis:\n  set (f (S - {least S}) n) = S - {least S}\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> set (f S n) = S;\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> set (f S (Suc n)) = S", "with least"], ["proof (chain)\npicking this:\n  least S \\<in> S\n  set (f (S - {least S}) n) = S - {least S}", "show ?case"], ["proof (prove)\nusing this:\n  least S \\<in> S\n  set (f (S - {least S}) n) = S - {least S}\n\ngoal (1 subgoal):\n 1. set (f S (Suc n)) = S", "by auto"], ["proof (state)\nthis:\n  set (f S (Suc n)) = S\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f_distinct:\n  \"S \\<subseteq> T \\<Longrightarrow> n = card S \\<Longrightarrow> distinct (f S n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n    \\<Longrightarrow> distinct (f S n)", "proof (induction n arbitrary: S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>S \\<subseteq> T; 0 = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S 0)\n 2. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "case 0"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  0 = card S\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>S \\<subseteq> T; 0 = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S 0)\n 2. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "then"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  0 = card S", "show ?case"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  0 = card S\n\ngoal (1 subgoal):\n 1. distinct (f S 0)", "using finite"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  0 = card S\n  finite T\n\ngoal (1 subgoal):\n 1. distinct (f S 0)", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  distinct (f S 0)\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> distinct (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> distinct (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S", "have fin: \"finite S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> distinct (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. finite S", "using finite"], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> distinct (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S\n  finite T\n\ngoal (1 subgoal):\n 1. finite S", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  finite S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "with Suc.prems"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  Suc n = card S\n  finite S", "have \"S \\<noteq> {}\""], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  Suc n = card S\n  finite S\n\ngoal (1 subgoal):\n 1. S \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "from non_empty_set_has_least[OF Suc.prems(1) this]"], ["proof (chain)\npicking this:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)", "have least: \"least S \\<in> S\""], ["proof (prove)\nusing this:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\n\ngoal (1 subgoal):\n 1. least S \\<in> S", "by blast"], ["proof (state)\nthis:\n  least S \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "let ?S = \"S - {least S}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "from fin least Suc.prems"], ["proof (chain)\npicking this:\n  finite S\n  least S \\<in> S\n  S \\<subseteq> T\n  Suc n = card S", "have \"?S \\<subseteq> T\" \"n = card ?S\""], ["proof (prove)\nusing this:\n  finite S\n  least S \\<in> S\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. S - {least S} \\<subseteq> T &&& n = card (S - {least S})", "by auto"], ["proof (state)\nthis:\n  S - {least S} \\<subseteq> T\n  n = card (S - {least S})\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "from Suc.IH[OF this] f_set[OF this]"], ["proof (chain)\npicking this:\n  distinct (f (S - {least S}) n)\n  set (f (S - {least S}) n) = S - {least S}", "have \"distinct (f ?S n)\" \"set (f ?S n) = ?S\""], ["proof (prove)\nusing this:\n  distinct (f (S - {least S}) n)\n  set (f (S - {least S}) n) = S - {least S}\n\ngoal (1 subgoal):\n 1. distinct (f (S - {least S}) n) &&&\n    set (f (S - {least S}) n) = S - {least S}", "."], ["proof (state)\nthis:\n  distinct (f (S - {least S}) n)\n  set (f (S - {least S}) n) = S - {least S}\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> distinct (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> distinct (f S (Suc n))", "then"], ["proof (chain)\npicking this:\n  distinct (f (S - {least S}) n)\n  set (f (S - {least S}) n) = S - {least S}", "show ?case"], ["proof (prove)\nusing this:\n  distinct (f (S - {least S}) n)\n  set (f (S - {least S}) n) = S - {least S}\n\ngoal (1 subgoal):\n 1. distinct (f S (Suc n))", "by simp"], ["proof (state)\nthis:\n  distinct (f S (Suc n))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma f_sorted:\n  \"S \\<subseteq> T \\<Longrightarrow> n = card S \\<Longrightarrow> sorted (f S n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n    \\<Longrightarrow> local.sorted (f S n)", "proof (induction n arbitrary: S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>S \\<subseteq> T; 0 = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S 0)\n 2. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "case 0"], ["proof (state)\nthis:\n  S \\<subseteq> T\n  0 = card S\n\ngoal (2 subgoals):\n 1. \\<And>S.\n       \\<lbrakk>S \\<subseteq> T; 0 = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S 0)\n 2. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "then"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  0 = card S", "show ?case"], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  0 = card S\n\ngoal (1 subgoal):\n 1. local.sorted (f S 0)", "by auto"], ["proof (state)\nthis:\n  local.sorted (f S 0)\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> local.sorted (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> local.sorted (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S", "have fin: \"finite S\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> local.sorted (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. finite S", "using finite"], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; n = card ?S\\<rbrakk>\n  \\<Longrightarrow> local.sorted (f ?S n)\n  S \\<subseteq> T\n  Suc n = card S\n  finite T\n\ngoal (1 subgoal):\n 1. finite S", "by (auto simp: finite_subset)"], ["proof (state)\nthis:\n  finite S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "with Suc.prems"], ["proof (chain)\npicking this:\n  S \\<subseteq> T\n  Suc n = card S\n  finite S", "have \"S \\<noteq> {}\""], ["proof (prove)\nusing this:\n  S \\<subseteq> T\n  Suc n = card S\n  finite S\n\ngoal (1 subgoal):\n 1. S \\<noteq> {}", "by auto"], ["proof (state)\nthis:\n  S \\<noteq> {}\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "from non_empty_set_has_least[OF Suc.prems(1) this]"], ["proof (chain)\npicking this:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)", "have least:\n    \"least S \\<in> S\" \"(\\<forall> y \\<in> S. least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\""], ["proof (prove)\nusing this:\n  least S \\<in> S \\<and>\n  (\\<forall>y\\<in>S.\n      least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S)\n\ngoal (1 subgoal):\n 1. least S \\<in> S &&&\n    \\<forall>y\\<in>S.\n       least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S", "by blast+"], ["proof (state)\nthis:\n  least S \\<in> S\n  \\<forall>y\\<in>S.\n     least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "let ?S = \"S - {least S}\""], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "assume x: \"x \\<in> ?S\""], ["proof (state)\nthis:\n  x \\<in> S - {least S}\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "with least"], ["proof (chain)\npicking this:\n  least S \\<in> S\n  \\<forall>y\\<in>S.\n     least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S\n  x \\<in> S - {least S}", "have \"\\<not> x \\<prec> least S\""], ["proof (prove)\nusing this:\n  least S \\<in> S\n  \\<forall>y\\<in>S.\n     least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S\n  x \\<in> S - {least S}\n\ngoal (1 subgoal):\n 1. \\<not> x \\<prec> least S", "by auto"], ["proof (state)\nthis:\n  \\<not> x \\<prec> least S\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "with total x Suc.prems(1) least(1)"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  x \\<in> S - {least S}\n  S \\<subseteq> T\n  least S \\<in> S\n  \\<not> x \\<prec> least S", "have \"least S \\<prec> x\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T.\n        x \\<noteq> y \\<longrightarrow> x \\<prec> y \\<or> y \\<prec> x\n  x \\<in> S - {least S}\n  S \\<subseteq> T\n  least S \\<in> S\n  \\<not> x \\<prec> least S\n\ngoal (1 subgoal):\n 1. least S \\<prec> x", "by blast"], ["proof (state)\nthis:\n  least S \\<prec> x\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "}"], ["proof (state)\nthis:\n  ?x2 \\<in> S - {least S} \\<Longrightarrow> least S \\<prec> ?x2\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "note le = this"], ["proof (state)\nthis:\n  ?x2 \\<in> S - {least S} \\<Longrightarrow> least S \\<prec> ?x2\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "from fin least Suc.prems"], ["proof (chain)\npicking this:\n  finite S\n  least S \\<in> S\n  \\<forall>y\\<in>S.\n     least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S\n  S \\<subseteq> T\n  Suc n = card S", "have \"?S \\<subseteq> T\" \"n = card ?S\""], ["proof (prove)\nusing this:\n  finite S\n  least S \\<in> S\n  \\<forall>y\\<in>S.\n     least S \\<noteq> y \\<longrightarrow> \\<not> y \\<prec> least S\n  S \\<subseteq> T\n  Suc n = card S\n\ngoal (1 subgoal):\n 1. S - {least S} \\<subseteq> T &&& n = card (S - {least S})", "by auto"], ["proof (state)\nthis:\n  S - {least S} \\<subseteq> T\n  n = card (S - {least S})\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "from f_set[OF this] Suc.IH[OF this]"], ["proof (chain)\npicking this:\n  set (f (S - {least S}) n) = S - {least S}\n  local.sorted (f (S - {least S}) n)", "have *: \"set (f ?S n) = ?S\" \"sorted (f ?S n)\""], ["proof (prove)\nusing this:\n  set (f (S - {least S}) n) = S - {least S}\n  local.sorted (f (S - {least S}) n)\n\ngoal (1 subgoal):\n 1. set (f (S - {least S}) n) = S - {least S} &&&\n    local.sorted (f (S - {least S}) n)", "."], ["proof (state)\nthis:\n  set (f (S - {least S}) n) = S - {least S}\n  local.sorted (f (S - {least S}) n)\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "with le"], ["proof (chain)\npicking this:\n  ?x2 \\<in> S - {least S} \\<Longrightarrow> least S \\<prec> ?x2\n  set (f (S - {least S}) n) = S - {least S}\n  local.sorted (f (S - {least S}) n)", "have \"\\<forall> x \\<in> set (f ?S n). least S \\<prec> x\""], ["proof (prove)\nusing this:\n  ?x2 \\<in> S - {least S} \\<Longrightarrow> least S \\<prec> ?x2\n  set (f (S - {least S}) n) = S - {least S}\n  local.sorted (f (S - {least S}) n)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>set (f (S - {least S}) n). least S \\<prec> x", "by auto"], ["proof (state)\nthis:\n  \\<forall>x\\<in>set (f (S - {least S}) n). least S \\<prec> x\n\ngoal (1 subgoal):\n 1. \\<And>n S.\n       \\<lbrakk>\\<And>S.\n                   \\<lbrakk>S \\<subseteq> T; n = card S\\<rbrakk>\n                   \\<Longrightarrow> local.sorted (f S n);\n        S \\<subseteq> T; Suc n = card S\\<rbrakk>\n       \\<Longrightarrow> local.sorted (f S (Suc n))", "with *(2)"], ["proof (chain)\npicking this:\n  local.sorted (f (S - {least S}) n)\n  \\<forall>x\\<in>set (f (S - {least S}) n). least S \\<prec> x", "show ?case"], ["proof (prove)\nusing this:\n  local.sorted (f (S - {least S}) n)\n  \\<forall>x\\<in>set (f (S - {least S}) n). least S \\<prec> x\n\ngoal (1 subgoal):\n 1. local.sorted (f S (Suc n))", "by (auto intro: Cons)"], ["proof (state)\nthis:\n  local.sorted (f S (Suc n))\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma sorted_nth_mono:\n  \"sorted xs \\<Longrightarrow> i < j \\<Longrightarrow> j < length xs \\<Longrightarrow> xs!i \\<prec> xs!j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>local.sorted xs; i < j; j < length xs\\<rbrakk>\n    \\<Longrightarrow> xs ! i \\<prec> xs ! j", "proof (induction xs arbitrary: i j)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>local.sorted []; i < j; j < length []\\<rbrakk>\n       \\<Longrightarrow> [] ! i \\<prec> [] ! j\n 2. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>local.sorted xs; i < j; j < length xs\\<rbrakk>\n                   \\<Longrightarrow> xs ! i \\<prec> xs ! j;\n        local.sorted (a # xs); i < j; j < length (a # xs)\\<rbrakk>\n       \\<Longrightarrow> (a # xs) ! i \\<prec> (a # xs) ! j", "case Nil"], ["proof (state)\nthis:\n  local.sorted []\n  i < j\n  j < length []\n\ngoal (2 subgoals):\n 1. \\<And>i j.\n       \\<lbrakk>local.sorted []; i < j; j < length []\\<rbrakk>\n       \\<Longrightarrow> [] ! i \\<prec> [] ! j\n 2. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>local.sorted xs; i < j; j < length xs\\<rbrakk>\n                   \\<Longrightarrow> xs ! i \\<prec> xs ! j;\n        local.sorted (a # xs); i < j; j < length (a # xs)\\<rbrakk>\n       \\<Longrightarrow> (a # xs) ! i \\<prec> (a # xs) ! j", "thus ?case"], ["proof (prove)\nusing this:\n  local.sorted []\n  i < j\n  j < length []\n\ngoal (1 subgoal):\n 1. [] ! i \\<prec> [] ! j", "by auto"], ["proof (state)\nthis:\n  [] ! i \\<prec> [] ! j\n\ngoal (1 subgoal):\n 1. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>local.sorted xs; i < j; j < length xs\\<rbrakk>\n                   \\<Longrightarrow> xs ! i \\<prec> xs ! j;\n        local.sorted (a # xs); i < j; j < length (a # xs)\\<rbrakk>\n       \\<Longrightarrow> (a # xs) ! i \\<prec> (a # xs) ! j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>local.sorted xs; i < j; j < length xs\\<rbrakk>\n                   \\<Longrightarrow> xs ! i \\<prec> xs ! j;\n        local.sorted (a # xs); i < j; j < length (a # xs)\\<rbrakk>\n       \\<Longrightarrow> (a # xs) ! i \\<prec> (a # xs) ! j", "case (Cons x xs)"], ["proof (state)\nthis:\n  \\<lbrakk>local.sorted xs; ?i < ?j; ?j < length xs\\<rbrakk>\n  \\<Longrightarrow> xs ! ?i \\<prec> xs ! ?j\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)\n\ngoal (1 subgoal):\n 1. \\<And>a xs i j.\n       \\<lbrakk>\\<And>i j.\n                   \\<lbrakk>local.sorted xs; i < j; j < length xs\\<rbrakk>\n                   \\<Longrightarrow> xs ! i \\<prec> xs ! j;\n        local.sorted (a # xs); i < j; j < length (a # xs)\\<rbrakk>\n       \\<Longrightarrow> (a # xs) ! i \\<prec> (a # xs) ! j", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (x # xs) ! i \\<prec> (x # xs) ! j", "proof (cases \"i = 0\")"], ["proof (state)\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j\n 2. i \\<noteq> 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j", "case True"], ["proof (state)\nthis:\n  i = 0\n\ngoal (2 subgoals):\n 1. i = 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j\n 2. i \\<noteq> 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j", "with Cons.prems"], ["proof (chain)\npicking this:\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)\n  i = 0", "show ?thesis"], ["proof (prove)\nusing this:\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)\n  i = 0\n\ngoal (1 subgoal):\n 1. (x # xs) ! i \\<prec> (x # xs) ! j", "by (auto elim: sorted.cases)"], ["proof (state)\nthis:\n  (x # xs) ! i \\<prec> (x # xs) ! j\n\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j", "case False"], ["proof (state)\nthis:\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j", "from Cons.prems"], ["proof (chain)\npicking this:\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)", "have \"sorted xs\""], ["proof (prove)\nusing this:\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)\n\ngoal (1 subgoal):\n 1. local.sorted xs", "by (auto elim: sorted.cases)"], ["proof (state)\nthis:\n  local.sorted xs\n\ngoal (1 subgoal):\n 1. i \\<noteq> 0 \\<Longrightarrow> (x # xs) ! i \\<prec> (x # xs) ! j", "from Cons.IH[OF this] Cons.prems False"], ["proof (chain)\npicking this:\n  \\<lbrakk>?i < ?j; ?j < length xs\\<rbrakk>\n  \\<Longrightarrow> xs ! ?i \\<prec> xs ! ?j\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)\n  i \\<noteq> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i < ?j; ?j < length xs\\<rbrakk>\n  \\<Longrightarrow> xs ! ?i \\<prec> xs ! ?j\n  local.sorted (x # xs)\n  i < j\n  j < length (x # xs)\n  i \\<noteq> 0\n\ngoal (1 subgoal):\n 1. (x # xs) ! i \\<prec> (x # xs) ! j", "by auto"], ["proof (state)\nthis:\n  (x # xs) ! i \\<prec> (x # xs) ! j\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (x # xs) ! i \\<prec> (x # xs) ! j\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma order_fun:\n  fixes S :: \"'a set\"\n  assumes \"S \\<subseteq> T\"\n  obtains f :: \"'a \\<Rightarrow> nat\" where \"\\<forall> x \\<in> S. \\<forall> y \\<in> S. f x < f y \\<longleftrightarrow> x \\<prec> y\" and \"range f \\<subseteq> {0..card S - 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain l where l_def: \"l = f S (card S)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>l. l = f S (card S) \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  l = f S (card S)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with f_set f_distinct f_sorted assms"], ["proof (chain)\npicking this:\n  \\<lbrakk>?S \\<subseteq> T; ?n = card ?S\\<rbrakk>\n  \\<Longrightarrow> set (f ?S ?n) = ?S\n  \\<lbrakk>?S \\<subseteq> T; ?n = card ?S\\<rbrakk>\n  \\<Longrightarrow> distinct (f ?S ?n)\n  \\<lbrakk>?S \\<subseteq> T; ?n = card ?S\\<rbrakk>\n  \\<Longrightarrow> local.sorted (f ?S ?n)\n  S \\<subseteq> T\n  l = f S (card S)", "have l: \"set l = S\" \"sorted l\" \"distinct l\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?S \\<subseteq> T; ?n = card ?S\\<rbrakk>\n  \\<Longrightarrow> set (f ?S ?n) = ?S\n  \\<lbrakk>?S \\<subseteq> T; ?n = card ?S\\<rbrakk>\n  \\<Longrightarrow> distinct (f ?S ?n)\n  \\<lbrakk>?S \\<subseteq> T; ?n = card ?S\\<rbrakk>\n  \\<Longrightarrow> local.sorted (f ?S ?n)\n  S \\<subseteq> T\n  l = f S (card S)\n\ngoal (1 subgoal):\n 1. set l = S &&& local.sorted l &&& distinct l", "by auto"], ["proof (state)\nthis:\n  set l = S\n  local.sorted l\n  distinct l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  set l = S\n  local.sorted l\n  distinct l", "have len: \"length l = card S\""], ["proof (prove)\nusing this:\n  set l = S\n  local.sorted l\n  distinct l\n\ngoal (1 subgoal):\n 1. length l = card S", "using distinct_card"], ["proof (prove)\nusing this:\n  set l = S\n  local.sorted l\n  distinct l\n  distinct ?xs \\<Longrightarrow> card (set ?xs) = length ?xs\n\ngoal (1 subgoal):\n 1. length l = card S", "by force"], ["proof (state)\nthis:\n  length l = card S\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?f = \"\\<lambda> x. if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x y :: 'a"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume A: \"x \\<in> S\" \"y \\<in> S\" \"x \\<prec> y\""], ["proof (state)\nthis:\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with l(1)"], ["proof (chain)\npicking this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y", "obtain i j where *: \"l ! i = x\" \"l ! j = y\" \"i < length l\" \"j < length l\""], ["proof (prove)\nusing this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>l ! i = x; l ! j = y; i < length l; j < length l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson in_set_conv_nth)"], ["proof (state)\nthis:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"i \\<noteq> j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i \\<noteq> j", "proof (rule ccontr, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> i \\<noteq> j \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  \\<not> i \\<noteq> j\n\ngoal (1 subgoal):\n 1. \\<not> i \\<noteq> j \\<Longrightarrow> False", "with A *"], ["proof (chain)\npicking this:\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  \\<not> i \\<noteq> j", "have \"x \\<prec> x\""], ["proof (prove)\nusing this:\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  \\<not> i \\<noteq> j\n\ngoal (1 subgoal):\n 1. x \\<prec> x", "by auto"], ["proof (state)\nthis:\n  x \\<prec> x\n\ngoal (1 subgoal):\n 1. \\<not> i \\<noteq> j \\<Longrightarrow> False", "with asymmetric A assms"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T. x \\<prec> y \\<longrightarrow> \\<not> y \\<prec> x\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n  S \\<subseteq> T\n  x \\<prec> x", "show False"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T. x \\<prec> y \\<longrightarrow> \\<not> y \\<prec> x\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n  S \\<subseteq> T\n  x \\<prec> x\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  i \\<noteq> j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"i < j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. i < j", "proof (rule ccontr, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> i < j \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  \\<not> i < j\n\ngoal (1 subgoal):\n 1. \\<not> i < j \\<Longrightarrow> False", "with \\<open>i \\<noteq> j\\<close> sorted_nth_mono[OF l(2)] \\<open>i < length l\\<close>"], ["proof (chain)\npicking this:\n  i \\<noteq> j\n  \\<lbrakk>?i < ?j; ?j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! ?i \\<prec> l ! ?j\n  i < length l\n  \\<not> i < j", "have \"l ! j \\<prec> l ! i\""], ["proof (prove)\nusing this:\n  i \\<noteq> j\n  \\<lbrakk>?i < ?j; ?j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! ?i \\<prec> l ! ?j\n  i < length l\n  \\<not> i < j\n\ngoal (1 subgoal):\n 1. l ! j \\<prec> l ! i", "by auto"], ["proof (state)\nthis:\n  l ! j \\<prec> l ! i\n\ngoal (1 subgoal):\n 1. \\<not> i < j \\<Longrightarrow> False", "with * A(3) A assms asymmetric"], ["proof (chain)\npicking this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  x \\<prec> y\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n  S \\<subseteq> T\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T. x \\<prec> y \\<longrightarrow> \\<not> y \\<prec> x\n  l ! j \\<prec> l ! i", "show False"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  x \\<prec> y\n  x \\<in> S\n  y \\<in> S\n  x \\<prec> y\n  S \\<subseteq> T\n  \\<forall>x\\<in>T.\n     \\<forall>y\\<in>T. x \\<prec> y \\<longrightarrow> \\<not> y \\<prec> x\n  l ! j \\<prec> l ! i\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  i < j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f x = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "using * l(3) A(1)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f y = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "using * l(3) A(2)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  y \\<in> S\n\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  i < j\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "have \"?f x < ?f y\""], ["proof (prove)\nusing this:\n  i < j\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n    < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)", "by auto"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 \\<prec> ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 \\<prec> ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 \\<prec> ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "assume A: \"x \\<in> S\" \"y \\<in> S\" \"?f x < ?f y\""], ["proof (state)\nthis:\n  x \\<in> S\n  y \\<in> S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "with l(1)"], ["proof (chain)\npicking this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)", "obtain i j where *: \"l ! i = x\" \"l ! j = y\" \"i < length l\" \"j < length l\""], ["proof (prove)\nusing this:\n  set l = S\n  x \\<in> S\n  y \\<in> S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. (\\<And>i j.\n        \\<lbrakk>l ! i = x; l ! j = y; i < length l; j < length l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson in_set_conv_nth)"], ["proof (state)\nthis:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f x = i\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "using * l(3) A(1)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"?f y = j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "using * l(3) A(2)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  distinct l\n  y \\<in> S\n\ngoal (1 subgoal):\n 1. (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j", "have **: \"l ! ?f x = x\" \"l ! ?f y = y\" \"i < j\""], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n\ngoal (1 subgoal):\n 1. l ! (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) =\n    x &&&\n    l ! (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) =\n    y &&&\n    i < j", "using A(3)"], ["proof (prove)\nusing this:\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = j\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  < (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y)\n\ngoal (1 subgoal):\n 1. l ! (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) =\n    x &&&\n    l ! (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) =\n    y &&&\n    i < j", "by auto"], ["proof (state)\nthis:\n  l ! (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = x\n  l ! (if y \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = y) = y\n  i < j\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from sorted_nth_mono[OF l(2), of i j] **(3) *"], ["proof (chain)\npicking this:\n  \\<lbrakk>i < j; j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! i \\<prec> l ! j\n  i < j\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l", "have \"x \\<prec> y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>i < j; j < length l\\<rbrakk>\n  \\<Longrightarrow> l ! i \\<prec> l ! j\n  i < j\n  l ! i = x\n  l ! j = y\n  i < length l\n  j < length l\n\ngoal (1 subgoal):\n 1. x \\<prec> y", "by auto"], ["proof (state)\nthis:\n  x \\<prec> y\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S;\n   (if ?x2 \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = ?x2)\n   < (if ?y2 \\<notin> S then 0\n      else THE i. i < length l \\<and> l ! i = ?y2)\\<rbrakk>\n  \\<Longrightarrow> ?x2 \\<prec> ?y2\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 \\<prec> ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S;\n   (if ?x2 \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = ?x2)\n   < (if ?y2 \\<notin> S then 0\n      else THE i. i < length l \\<and> l ! i = ?y2)\\<rbrakk>\n  \\<Longrightarrow> ?x2 \\<prec> ?y2", "have \"\\<forall> x \\<in> S. \\<forall> y \\<in> S. ?f x < ?f y \\<longleftrightarrow> x \\<prec> y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S; ?x2 \\<prec> ?y2\\<rbrakk>\n  \\<Longrightarrow> (if ?x2 \\<notin> S then 0\n                     else THE i. i < length l \\<and> l ! i = ?x2)\n                    < (if ?y2 \\<notin> S then 0\n                       else THE i. i < length l \\<and> l ! i = ?y2)\n  \\<lbrakk>?x2 \\<in> S; ?y2 \\<in> S;\n   (if ?x2 \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = ?x2)\n   < (if ?y2 \\<notin> S then 0\n      else THE i. i < length l \\<and> l ! i = ?y2)\\<rbrakk>\n  \\<Longrightarrow> ?x2 \\<prec> ?y2\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S.\n       \\<forall>y\\<in>S.\n          ((if x \\<notin> S then 0\n            else THE i. i < length l \\<and> l ! i = x)\n           < (if y \\<notin> S then 0\n              else THE i. i < length l \\<and> l ! i = y)) =\n          (x \\<prec> y)", "by force"], ["proof (state)\nthis:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         < (if y \\<notin> S then 0\n            else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<prec> y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         < (if y \\<notin> S then 0\n            else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<prec> y)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"range ?f \\<subseteq> {0..card S - 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. range\n     (\\<lambda>x.\n         if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n    \\<subseteq> {0..card S - 1}", "proof (auto, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "case (1 x)"], ["proof (state)\nthis:\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "with l(1)"], ["proof (chain)\npicking this:\n  set l = S\n  x \\<in> S", "obtain i where *: \"l ! i = x\" \"i < length l\""], ["proof (prove)\nusing this:\n  set l = S\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (\\<And>i.\n        \\<lbrakk>l ! i = x; i < length l\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson in_set_conv_nth)"], ["proof (state)\nthis:\n  l ! i = x\n  i < length l\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "then"], ["proof (chain)\npicking this:\n  l ! i = x\n  i < length l", "have \"?f x = i\""], ["proof (prove)\nusing this:\n  l ! i = x\n  i < length l\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "using l(3) 1"], ["proof (prove)\nusing this:\n  l ! i = x\n  i < length l\n  distinct l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "by (auto) (rule, auto intro: distinct_nth_unique)"], ["proof (state)\nthis:\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. \\<And>xa.\n       xa \\<in> S \\<Longrightarrow>\n       (THE i. i < length l \\<and> l ! i = xa) \\<le> card S - Suc 0", "with len"], ["proof (chain)\npicking this:\n  length l = card S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i", "show ?case"], ["proof (prove)\nusing this:\n  length l = card S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n\ngoal (1 subgoal):\n 1. (THE i. i < length l \\<and> l ! i = x) \\<le> card S - Suc 0", "using *(2) 1"], ["proof (prove)\nusing this:\n  length l = card S\n  (if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x) = i\n  i < length l\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. (THE i. i < length l \\<and> l ! i = x) \\<le> card S - Suc 0", "by auto"], ["proof (state)\nthis:\n  (THE i. i < length l \\<and> l ! i = x) \\<le> card S - Suc 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  range\n   (\\<lambda>x.\n       if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  \\<subseteq> {0..card S - 1}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>S.\n                    \\<forall>y\\<in>S. (f x < f y) = (x \\<prec> y);\n         range f \\<subseteq> {0..card S - 1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         < (if y \\<notin> S then 0\n            else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<prec> y)\n  range\n   (\\<lambda>x.\n       if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  \\<subseteq> {0..card S - 1}", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>S.\n     \\<forall>y\\<in>S.\n        ((if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n         < (if y \\<notin> S then 0\n            else THE i. i < length l \\<and> l ! i = y)) =\n        (x \\<prec> y)\n  range\n   (\\<lambda>x.\n       if x \\<notin> S then 0 else THE i. i < length l \\<and> l ! i = x)\n  \\<subseteq> {0..card S - 1}\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "lemma finite_total_preorder_enumeration:\n  fixes X :: \"'a set\"\n  fixes r :: \"'a rel\"\n  assumes fin:   \"finite X\"\n  assumes tot:   \"total_on X r\"\n  assumes refl:  \"refl_on X r\"\n  assumes trans: \"trans r\"\n  obtains f :: \"'a \\<Rightarrow> nat\" where \"\\<forall> x \\<in> X. \\<forall> y \\<in> X. f x \\<le> f y \\<longleftrightarrow> (x, y) \\<in> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "let ?A = \"\\<lambda> x. {y \\<in> X . (y, x) \\<in> r \\<and> (x, y) \\<in> r}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "have ex: \"\\<forall> x \\<in> X. x \\<in> ?A x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X.\n       x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}", "using refl"], ["proof (prove)\nusing this:\n  refl_on X r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X.\n       x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X.\n       x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}", "by auto"], ["proof (state)\nthis:\n  \\<forall>x\\<in>X.\n     x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "let ?R = \"\\<lambda> S. SOME y. y \\<in> S\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "let ?T = \"{?A x | x.  x \\<in> X}\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "obtain x where x: \"x \\<in> X\" \"?A x = A\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> X;\n         {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A", "have \"x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using refl"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  refl_on X r\n\ngoal (1 subgoal):\n 1. x \\<in> A", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> A", "have \"?R A \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A) \\<in> A", "by (auto intro: someI)"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with x(2)"], ["proof (chain)\npicking this:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  (SOME y. y \\<in> A) \\<in> A", "have \"(?R A, x) \\<in> r\" \"(x, ?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  (SOME y. y \\<in> A) \\<in> A\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, x) \\<in> r &&& (x, SOME y. y \\<in> A) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, x) \\<in> r\n  (x, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with trans"], ["proof (chain)\npicking this:\n  trans r\n  (SOME y. y \\<in> A, x) \\<in> r\n  (x, SOME y. y \\<in> A) \\<in> r", "have \"(?R A, ?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  trans r\n  (SOME y. y \\<in> A, x) \\<in> r\n  (x, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n  (SOME y. y \\<in> A, x) \\<in> r\n  (x, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r", "by blast"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note refl_lifted = this"], ["proof (state)\nthis:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "obtain x where x: \"x \\<in> X\" \"?A x = A\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> X;\n         {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A", "have \"x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using refl"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  refl_on X r\n\ngoal (1 subgoal):\n 1. x \\<in> A", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> A", "have \"?R A \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A) \\<in> A", "by (auto intro: someI)"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note R_in = this"], ["proof (state)\nthis:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A y z"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and y: \"y \\<in> A\" and z: \"z \\<in> A\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> A\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from A"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "obtain x where x: \"x \\<in> X\" \"?A x = A\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> X;\n         {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A", "have \"x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using refl"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  refl_on X r\n\ngoal (1 subgoal):\n 1. x \\<in> A", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with x y"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  y \\<in> A\n  x \\<in> A", "have \"(x, y) \\<in> r\" \"(y, x) \\<in> r\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  y \\<in> A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (x, y) \\<in> r &&& (y, x) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from x z"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  z \\<in> A", "have \"(x,z) \\<in> r\" \"(z,x) \\<in> r\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. (x, z) \\<in> r &&& (z, x) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (x, z) \\<in> r\n  (z, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n  (x, z) \\<in> r\n  (z, x) \\<in> r", "have \"(y, z) \\<in> r\" \"(z, y) \\<in> r\""], ["proof (prove)\nusing this:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n  (x, z) \\<in> r\n  (z, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (y, z) \\<in> r &&& (z, y) \\<in> r", "using trans"], ["proof (prove)\nusing this:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n  (x, z) \\<in> r\n  (z, x) \\<in> r\n  trans r\n\ngoal (1 subgoal):\n 1. (y, z) \\<in> r &&& (z, y) \\<in> r", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n  (x, z) \\<in> r\n  (z, x) \\<in> r\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n\ngoal (1 subgoal):\n 1. (y, z) \\<in> r &&& (z, y) \\<in> r", "by blast+"], ["proof (state)\nthis:\n  (y, z) \\<in> r\n  (z, y) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?y3, ?z3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?z3, ?y3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note A_dest' = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?y3, ?z3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?z3, ?y3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?y3, ?z3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?z3, ?y3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume \"A \\<in> ?T\" and \"y \\<in> A\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with A_dest'[OF _ _ R_in]"], ["proof (chain)\npicking this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3;\n   ?A3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n          x \\<in> X}\\<rbrakk>\n  \\<Longrightarrow> (?y3, SOME y. y \\<in> ?A3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3;\n   ?A3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n          x \\<in> X}\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, ?y3) \\<in> r\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> A", "have \"(?R A, y) \\<in> r\" \"(y, ?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3;\n   ?A3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n          x \\<in> X}\\<rbrakk>\n  \\<Longrightarrow> (?y3, SOME y. y \\<in> ?A3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3;\n   ?A3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n          x \\<in> X}\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, ?y3) \\<in> r\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, y) \\<in> r &&& (y, SOME y. y \\<in> A) \\<in> r", "by blast+"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, y) \\<in> r\n  (y, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, ?y3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?y3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note A_dest = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, ?y3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?y3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, ?y3) \\<in> r\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3\\<rbrakk>\n  \\<Longrightarrow> (?y3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A y z"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and y: \"y \\<in> A\" and z: \"z \\<in> X\" and r: \"(y, z) \\<in> r\" \"(z, y) \\<in> r\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> A\n  z \\<in> X\n  (y, z) \\<in> r\n  (z, y) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from A"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "obtain x where x: \"x \\<in> X\" \"?A x = A\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>x \\<in> X;\n         {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A", "have \"x \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n\ngoal (1 subgoal):\n 1. x \\<in> A", "using refl"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  refl_on X r\n\ngoal (1 subgoal):\n 1. x \\<in> A", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by auto"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with x y"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  y \\<in> A\n  x \\<in> A", "have \"(x,y) \\<in> r\" \"(y, x) \\<in> r\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  y \\<in> A\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. (x, y) \\<in> r &&& (y, x) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with r"], ["proof (chain)\npicking this:\n  (y, z) \\<in> r\n  (z, y) \\<in> r\n  (x, y) \\<in> r\n  (y, x) \\<in> r", "have \"(x,z) \\<in> r\" \"(z,x) \\<in> r\""], ["proof (prove)\nusing this:\n  (y, z) \\<in> r\n  (z, y) \\<in> r\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (x, z) \\<in> r &&& (z, x) \\<in> r", "using trans"], ["proof (prove)\nusing this:\n  (y, z) \\<in> r\n  (z, y) \\<in> r\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n  trans r\n\ngoal (1 subgoal):\n 1. (x, z) \\<in> r &&& (z, x) \\<in> r", "unfolding trans_def"], ["proof (prove)\nusing this:\n  (y, z) \\<in> r\n  (z, y) \\<in> r\n  (x, y) \\<in> r\n  (y, x) \\<in> r\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n\ngoal (1 subgoal):\n 1. (x, z) \\<in> r &&& (z, x) \\<in> r", "by blast+"], ["proof (state)\nthis:\n  (x, z) \\<in> r\n  (z, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with x z"], ["proof (chain)\npicking this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  z \\<in> X\n  (x, z) \\<in> r\n  (z, x) \\<in> r", "have \"z \\<in> A\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} = A\n  z \\<in> X\n  (x, z) \\<in> r\n  (z, x) \\<in> r\n\ngoal (1 subgoal):\n 1. z \\<in> A", "by auto"], ["proof (state)\nthis:\n  z \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> X; (?y3, ?z3) \\<in> r;\n   (?z3, ?y3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?z3 \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note A_intro' = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> X; (?y3, ?z3) \\<in> r;\n   (?z3, ?y3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?z3 \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> X; (?y3, ?z3) \\<in> r;\n   (?z3, ?y3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?z3 \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and y: \"y \\<in> X\" and r: \"(?R A, y) \\<in> r\" \"(y, ?R A) \\<in> r\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> X\n  (SOME y. y \\<in> A, y) \\<in> r\n  (y, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with A_intro' R_in"], ["proof (chain)\npicking this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> X; (?y3, ?z3) \\<in> r;\n   (?z3, ?y3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?z3 \\<in> ?A3\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> X\n  (SOME y. y \\<in> A, y) \\<in> r\n  (y, SOME y. y \\<in> A) \\<in> r", "have \"y \\<in> A\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> ?A3; ?z3 \\<in> X; (?y3, ?z3) \\<in> r;\n   (?z3, ?y3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?z3 \\<in> ?A3\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  y \\<in> X\n  (SOME y. y \\<in> A, y) \\<in> r\n  (y, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. y \\<in> A", "by blast"], ["proof (state)\nthis:\n  y \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> X; (SOME y. y \\<in> ?A3, ?y3) \\<in> r;\n   (?y3, SOME y. y \\<in> ?A3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?y3 \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note A_intro = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> X; (SOME y. y \\<in> ?A3, ?y3) \\<in> r;\n   (?y3, SOME y. y \\<in> ?A3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?y3 \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?y3 \\<in> X; (SOME y. y \\<in> ?A3, ?y3) \\<in> r;\n   (?y3, SOME y. y \\<in> ?A3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?y3 \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A B C"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume r1: \"(?R A, ?R B) \\<in> r\" and r2: \"(?R B, ?R C) \\<in> r\""], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with trans"], ["proof (chain)\npicking this:\n  trans r\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r", "have \"(?R A, ?R C) \\<in> r\""], ["proof (prove)\nusing this:\n  trans r\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r", "unfolding trans_def"], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r", "by blast"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>(SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?C3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?C3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note trans_lifted[intro] = this"], ["proof (state)\nthis:\n  \\<lbrakk>(SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?C3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?C3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>(SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?C3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?C3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A B a b"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and B: \"B \\<in> ?T\"\n    and a: \"a \\<in> A\" and b: \"b \\<in> B\"\n    and r: \"(a, b) \\<in> r\" \"(b, a) \\<in> r\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  a \\<in> A\n  b \\<in> B\n  (a, b) \\<in> r\n  (b, a) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with R_in"], ["proof (chain)\npicking this:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  a \\<in> A\n  b \\<in> B\n  (a, b) \\<in> r\n  (b, a) \\<in> r", "have \"?R A \\<in> A\" \"?R B \\<in> B\""], ["proof (prove)\nusing this:\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  a \\<in> A\n  b \\<in> B\n  (a, b) \\<in> r\n  (b, a) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A) \\<in> A &&& (SOME y. y \\<in> B) \\<in> B", "by blast+"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<in> A\n  (SOME y. y \\<in> B) \\<in> B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "have \"A = B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A = B", "proof auto"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> A \\<Longrightarrow> x \\<in> B\n 2. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "fix x"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> A \\<Longrightarrow> x \\<in> B\n 2. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "assume x: \"x \\<in> A\""], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> A \\<Longrightarrow> x \\<in> B\n 2. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "with A"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> A", "have \"x \\<in> X\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> A\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (2 subgoals):\n 1. \\<And>x. x \\<in> A \\<Longrightarrow> x \\<in> B\n 2. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "from A_intro'[OF B b this] A_dest'[OF A x a] r trans[unfolded trans_def]"], ["proof (chain)\npicking this:\n  \\<lbrakk>(b, x) \\<in> r; (x, b) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> x \\<in> B\n  (x, a) \\<in> r\n  (a, x) \\<in> r\n  (a, b) \\<in> r\n  (b, a) \\<in> r\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r", "show \"x \\<in> B\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(b, x) \\<in> r; (x, b) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> x \\<in> B\n  (x, a) \\<in> r\n  (a, x) \\<in> r\n  (a, b) \\<in> r\n  (b, a) \\<in> r\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n\ngoal (1 subgoal):\n 1. x \\<in> B", "by blast"], ["proof (state)\nthis:\n  x \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "assume x: \"x \\<in> B\""], ["proof (state)\nthis:\n  x \\<in> B\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "with B"], ["proof (chain)\npicking this:\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> B", "have \"x \\<in> X\""], ["proof (prove)\nusing this:\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> B\n\ngoal (1 subgoal):\n 1. x \\<in> X", "by auto"], ["proof (state)\nthis:\n  x \\<in> X\n\ngoal (1 subgoal):\n 1. \\<And>x. x \\<in> B \\<Longrightarrow> x \\<in> A", "from A_intro'[OF A a this] A_dest'[OF B x b] r trans[unfolded trans_def]"], ["proof (chain)\npicking this:\n  \\<lbrakk>(a, x) \\<in> r; (x, a) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> x \\<in> A\n  (x, b) \\<in> r\n  (b, x) \\<in> r\n  (a, b) \\<in> r\n  (b, a) \\<in> r\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r", "show \"x \\<in> A\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(a, x) \\<in> r; (x, a) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> x \\<in> A\n  (x, b) \\<in> r\n  (b, x) \\<in> r\n  (a, b) \\<in> r\n  (b, a) \\<in> r\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n\ngoal (1 subgoal):\n 1. x \\<in> A", "by blast"], ["proof (state)\nthis:\n  x \\<in> A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A = B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?a3 \\<in> ?A3; ?b3 \\<in> ?B3; (?a3, ?b3) \\<in> r;\n   (?b3, ?a3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note eq_lifted'' = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?a3 \\<in> ?A3; ?b3 \\<in> ?B3; (?a3, ?b3) \\<in> r;\n   (?b3, ?a3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?a3 \\<in> ?A3; ?b3 \\<in> ?B3; (?a3, ?b3) \\<in> r;\n   (?b3, ?a3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A B C"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and B: \"B \\<in> ?T\" and r: \"(?R A, ?R B) \\<in> r\" \"(?R B, ?R A) \\<in> r\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with eq_lifted'' R_in"], ["proof (chain)\npicking this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?a3 \\<in> ?A3; ?b3 \\<in> ?B3; (?a3, ?b3) \\<in> r;\n   (?b3, ?a3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r", "have \"A = B\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?a3 \\<in> ?A3; ?b3 \\<in> ?B3; (?a3, ?b3) \\<in> r;\n   (?b3, ?a3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. A = B", "by blast"], ["proof (state)\nthis:\n  A = B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note eq_lifted' = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A B C"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and B: \"B \\<in> ?T\" and eq: \"?R A = ?R B\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  (SOME y. y \\<in> A) = (SOME y. y \\<in> B)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from R_in[OF A] A"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> A) \\<in> A\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "have \"?R A \\<in> X\""], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> A) \\<in> A\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A) \\<in> X", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with refl"], ["proof (chain)\npicking this:\n  refl_on X r\n  (SOME y. y \\<in> A) \\<in> X", "have \"(?R A, ?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  refl_on X r\n  (SOME y. y \\<in> A) \\<in> X\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n  (SOME y. y \\<in> A) \\<in> X\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with eq_lifted'[OF A B] eq"], ["proof (chain)\npicking this:\n  \\<lbrakk>(SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r;\n   (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> A = B\n  (SOME y. y \\<in> A) = (SOME y. y \\<in> B)\n  (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r", "have \"A = B\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r;\n   (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> A = B\n  (SOME y. y \\<in> A) = (SOME y. y \\<in> B)\n  (SOME y. y \\<in> A, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. A = B", "by auto"], ["proof (state)\nthis:\n  A = B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   (SOME y. y \\<in> ?A3) = (SOME y. y \\<in> ?B3)\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note eq_lifted = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   (SOME y. y \\<in> ?A3) = (SOME y. y \\<in> ?B3)\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   (SOME y. y \\<in> ?A3) = (SOME y. y \\<in> ?B3)\\<rbrakk>\n  \\<Longrightarrow> ?A3 = ?B3\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix A B"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume A: \"A \\<in> ?T\" and B: \"B \\<in> ?T\" and neq: \"A \\<noteq> B\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from neq eq_lifted[OF A B]"], ["proof (chain)\npicking this:\n  A \\<noteq> B\n  (SOME y. y \\<in> A) = (SOME y. y \\<in> B) \\<Longrightarrow> A = B", "have \"?R A \\<noteq> ?R B\""], ["proof (prove)\nusing this:\n  A \\<noteq> B\n  (SOME y. y \\<in> A) = (SOME y. y \\<in> B) \\<Longrightarrow> A = B\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)", "by metis"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from A B R_in"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3", "have \"?R A \\<in> X\" \"?R B \\<in> X\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  ?A3\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n         x \\<in> X} \\<Longrightarrow>\n  (SOME y. y \\<in> ?A3) \\<in> ?A3\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A) \\<in> X &&& (SOME y. y \\<in> B) \\<in> X", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A) \\<in> X\n  (SOME y. y \\<in> B) \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)\n  (SOME y. y \\<in> A) \\<in> X\n  (SOME y. y \\<in> B) \\<in> X", "have \"(?R A, ?R B) \\<in> r \\<or> (?R B, ?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)\n  (SOME y. y \\<in> A) \\<in> X\n  (SOME y. y \\<in> B) \\<in> X\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r \\<or>\n    (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r", "using tot"], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)\n  (SOME y. y \\<in> A) \\<in> X\n  (SOME y. y \\<in> B) \\<in> X\n  total_on X r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r \\<or>\n    (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r", "unfolding total_on_def"], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> A) \\<noteq> (SOME y. y \\<in> B)\n  (SOME y. y \\<in> A) \\<in> X\n  (SOME y. y \\<in> B) \\<in> X\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X.\n        x \\<noteq> y \\<longrightarrow> (x, y) \\<in> r \\<or> (y, x) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r \\<or>\n    (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r \\<or>\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r \\<or>\n                    (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note total_lifted = this"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r \\<or>\n                    (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r \\<or>\n                    (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<in> X\" and y: \"y \\<in> X\""], ["proof (state)\nthis:\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from x y"], ["proof (chain)\npicking this:\n  x \\<in> X\n  y \\<in> X", "have \"?A x \\<in> ?T\" \"?A y \\<in> ?T\""], ["proof (prove)\nusing this:\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n           x \\<in> X} &&&\n    {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n    \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "by auto"], ["proof (state)\nthis:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from R_in[OF this(1)] R_in[OF this(2)]"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "have \"?R (?A x) \\<in> ?A x\" \"?R (?A y) \\<in> ?A y\""], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} &&&\n    (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n    \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "have \"(x, ?R (?A x)) \\<in> r\" \"(?R (?A y), y) \\<in> r\" \"(?R (?A x), x) \\<in> r\" \"(y, ?R (?A y)) \\<in> r\""], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. ((x, SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n     \\<in> r &&&\n     (SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n      y)\n     \\<in> r) &&&\n    (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}, x)\n    \\<in> r &&&\n    (y, SOME ya.\n           ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n    \\<in> r", "by auto"], ["proof (state)\nthis:\n  (x, SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   y)\n  \\<in> r\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}, x)\n  \\<in> r\n  (y, SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "with trans[unfolded trans_def]"], ["proof (chain)\npicking this:\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n  (x, SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   y)\n  \\<in> r\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}, x)\n  \\<in> r\n  (y, SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r", "have \"(x, y) \\<in> r \\<longleftrightarrow> (?R (?A x), ?R (?A y)) \\<in> r\""], ["proof (prove)\nusing this:\n  \\<forall>x y z.\n     (x, y) \\<in> r \\<longrightarrow>\n     (y, z) \\<in> r \\<longrightarrow> (x, z) \\<in> r\n  (x, SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   y)\n  \\<in> r\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}, x)\n  \\<in> r\n  (y, SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. ((x, y) \\<in> r) =\n    ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n      SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n     \\<in> r)", "by meson"], ["proof (state)\nthis:\n  ((x, y) \\<in> r) =\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((?x3, ?y3) \\<in> r) =\n                    ((SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r},\n                      SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?y3) \\<in> r \\<and> (?y3, y) \\<in> r})\n                     \\<in> r)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "note repr = this"], ["proof (state)\nthis:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((?x3, ?y3) \\<in> r) =\n                    ((SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r},\n                      SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?y3) \\<in> r \\<and> (?y3, y) \\<in> r})\n                     \\<in> r)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "interpret interp: enumerateable \"{?A x | x.  x \\<in> X}\" \"\\<lambda> A B. A \\<noteq> B \\<and> (?R A, ?R B) \\<in> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. enumerateable\n     {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n     (\\<lambda>A B.\n         A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r)", "proof (standard, goal_cases)"], ["proof (state)\ngoal (4 subgoals):\n 1. finite {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<longrightarrow>\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n          y \\<noteq> x \\<and>\n          (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r\n 3. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 4. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "case 1"], ["proof (state)\nthis:\n  \n\ngoal (4 subgoals):\n 1. finite {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<longrightarrow>\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n          y \\<noteq> x \\<and>\n          (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r\n 3. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 4. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "from fin"], ["proof (chain)\npicking this:\n  finite X", "show ?case"], ["proof (prove)\nusing this:\n  finite X\n\ngoal (1 subgoal):\n 1. finite {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}", "by auto"], ["proof (state)\nthis:\n  finite {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n\ngoal (3 subgoals):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<longrightarrow>\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n          y \\<noteq> x \\<and>\n          (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 3. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "next"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<longrightarrow>\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n          y \\<noteq> x \\<and>\n          (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 3. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "case 2"], ["proof (state)\nthis:\n  \n\ngoal (3 subgoals):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<longrightarrow>\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n          y \\<noteq> x \\<and>\n          (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 3. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "with total_lifted"], ["proof (chain)\npicking this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r \\<or>\n                    (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r \\<or>\n                    (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<longrightarrow>\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n          y \\<noteq> x \\<and>\n          (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r", "by auto"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        x \\<noteq> y \\<longrightarrow>\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<or>\n        y \\<noteq> x \\<and> (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r\n\ngoal (2 subgoals):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "next"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "case 3"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n 2. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "unfolding transp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          \\<forall>z\\<in>{{y \\<in> X.\n                           (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                          x. x \\<in> X}.\n             x \\<noteq> y \\<and>\n             (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n             \\<in> r \\<longrightarrow>\n             y \\<noteq> z \\<and>\n             (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n             \\<in> r \\<longrightarrow>\n             x \\<noteq> z \\<and>\n             (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "proof (standard, standard, standard, standard, standard, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X};\n        y \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        z \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r;\n        y \\<noteq> z \\<and>\n        (SOME ya. ya \\<in> y, SOME y. y \\<in> z) \\<in> r\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq> z \\<and>\n                         (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "case (1 A B C)"], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X};\n        y \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        z \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r;\n        y \\<noteq> z \\<and>\n        (SOME ya. ya \\<in> y, SOME y. y \\<in> z) \\<in> r\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq> z \\<and>\n                         (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "note A = this"], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X};\n        y \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        z \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r;\n        y \\<noteq> z \\<and>\n        (SOME ya. ya \\<in> y, SOME y. y \\<in> z) \\<in> r\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq> z \\<and>\n                         (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "with trans_lifted"], ["proof (chain)\npicking this:\n  \\<lbrakk>(SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?C3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?C3) \\<in> r\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r", "have \"(?R A,?R C) \\<in> r\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r;\n   (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?C3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?C3) \\<in> r\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r", "by blast"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X};\n        y \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        z \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r;\n        y \\<noteq> z \\<and>\n        (SOME ya. ya \\<in> y, SOME y. y \\<in> z) \\<in> r\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq> z \\<and>\n                         (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "moreover"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X};\n        y \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        z \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r;\n        y \\<noteq> z \\<and>\n        (SOME ya. ya \\<in> y, SOME y. y \\<in> z) \\<in> r\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq> z \\<and>\n                         (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "have \"A \\<noteq> C\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<noteq> C", "proof (rule ccontr, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> A \\<noteq> C \\<Longrightarrow> False", "case 1"], ["proof (state)\nthis:\n  \\<not> A \\<noteq> C\n\ngoal (1 subgoal):\n 1. \\<not> A \\<noteq> C \\<Longrightarrow> False", "with A"], ["proof (chain)\npicking this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n  \\<not> A \\<noteq> C", "have \"(?R A,?R B) \\<in> r\" \"(?R B,?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n  \\<not> A \\<noteq> C\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r &&&\n    (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<not> A \\<noteq> C \\<Longrightarrow> False", "with eq_lifted'[OF A(1,2)] A"], ["proof (chain)\npicking this:\n  \\<lbrakk>(SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r;\n   (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> A = B\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r", "show False"], ["proof (prove)\nusing this:\n  \\<lbrakk>(SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r;\n   (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> A = B\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  C \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  B \\<noteq> C \\<and> (SOME y. y \\<in> B, SOME y. y \\<in> C) \\<in> r\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  A \\<noteq> C\n\ngoal (1 subgoal):\n 1. \\<And>x y z.\n       \\<lbrakk>x \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X};\n        y \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        z \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                 x \\<in> X};\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r;\n        y \\<noteq> z \\<and>\n        (SOME ya. ya \\<in> y, SOME y. y \\<in> z) \\<in> r\\<rbrakk>\n       \\<Longrightarrow> x \\<noteq> z \\<and>\n                         (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r", "ultimately"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r\n  A \\<noteq> C", "show ?case"], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r\n  A \\<noteq> C\n\ngoal (1 subgoal):\n 1. A \\<noteq> C \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r", "by auto"], ["proof (state)\nthis:\n  A \\<noteq> C \\<and> (SOME y. y \\<in> A, SOME y. y \\<in> C) \\<in> r\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        \\<forall>z\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                        x. x \\<in> X}.\n           x \\<noteq> y \\<and>\n           (SOME y. y \\<in> x, SOME ya. ya \\<in> y)\n           \\<in> r \\<longrightarrow>\n           y \\<noteq> z \\<and>\n           (SOME ya. ya \\<in> y, SOME y. y \\<in> z)\n           \\<in> r \\<longrightarrow>\n           x \\<noteq> z \\<and>\n           (SOME y. y \\<in> x, SOME y. y \\<in> z) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "case 4"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "{"], ["proof (state)\nthis:\n  \n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "fix A B"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "assume A: \"A \\<in> ?T\" and B: \"B \\<in> ?T\" and neq: \"A \\<noteq> B\" \"(?R A, ?R B) \\<in> r\""], ["proof (state)\nthis:\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "with eq_lifted'[OF A B] neq"], ["proof (chain)\npicking this:\n  \\<lbrakk>(SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r;\n   (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> A = B\n  A \\<noteq> B\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r", "have \"\\<not> (?R B, ?R A) \\<in> r\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r;\n   (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> A = B\n  A \\<noteq> B\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n  A \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  B \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  A \\<noteq> B\n  (SOME y. y \\<in> A, SOME y. y \\<in> B) \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<notin> r", "by auto"], ["proof (state)\nthis:\n  (SOME y. y \\<in> B, SOME y. y \\<in> A) \\<notin> r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3;\n   (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<notin> r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3;\n   (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<notin> r", "show ?case"], ["proof (prove)\nusing this:\n  \\<lbrakk>?A3\n           \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X};\n   ?B3\n   \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X};\n   ?A3 \\<noteq> ?B3;\n   (SOME y. y \\<in> ?A3, SOME y. y \\<in> ?B3) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> (SOME y. y \\<in> ?B3, SOME y. y \\<in> ?A3) \\<notin> r\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X}.\n       \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                       x \\<in> X}.\n          x \\<noteq> y \\<and>\n          (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n          \\<not> (y \\<noteq> x \\<and>\n                  (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)", "by auto"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        x \\<noteq> y \\<and>\n        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r \\<longrightarrow>\n        \\<not> (y \\<noteq> x \\<and>\n                (SOME ya. ya \\<in> y, SOME y. y \\<in> x) \\<in> r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "from interp.order_fun[OF subset_refl]"], ["proof (chain)\npicking this:\n  (\\<And>f.\n      \\<lbrakk>\\<forall>x\\<in>{{y \\<in> X.\n                                (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                               x. x \\<in> X}.\n                  \\<forall>y\\<in>{{y \\<in> X.\n                                   (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                                  x. x \\<in> X}.\n                     (f x < f y) =\n                     (x \\<noteq> y \\<and>\n                      (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r);\n       range f\n       \\<subseteq> {0..card\n                        {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X} -\n                       1}\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis", "obtain f :: \"'a set \\<Rightarrow> nat\" where\n    f: \"\\<forall> x \\<in> ?T. \\<forall> y \\<in> ?T. f x < f y \\<longleftrightarrow> x \\<noteq> y \\<and> (?R x, ?R y) \\<in> r\" \"range f \\<subseteq> {0..card ?T - 1}\""], ["proof (prove)\nusing this:\n  (\\<And>f.\n      \\<lbrakk>\\<forall>x\\<in>{{y \\<in> X.\n                                (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                               x. x \\<in> X}.\n                  \\<forall>y\\<in>{{y \\<in> X.\n                                   (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                                  x. x \\<in> X}.\n                     (f x < f y) =\n                     (x \\<noteq> y \\<and>\n                      (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r);\n       range f\n       \\<subseteq> {0..card\n                        {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                         x. x \\<in> X} -\n                       1}\\<rbrakk>\n      \\<Longrightarrow> ?thesis) \\<Longrightarrow>\n  ?thesis\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<lbrakk>\\<forall>x\\<in>{{y \\<in> X.\n                                  (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                                 x. x \\<in> X}.\n                    \\<forall>y\\<in>{{y \\<in> X.\n                                     (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                                    x. x \\<in> X}.\n                       (f x < f y) =\n                       (x \\<noteq> y \\<and>\n                        (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r);\n         range f\n         \\<subseteq> {0..card\n                          {{y \\<in> X.\n                            (y, x) \\<in> r \\<and> (x, y) \\<in> r} |\n                           x. x \\<in> X} -\n                         1}\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "let ?f = \"\\<lambda> x. if x \\<in> X then f (?A x) else 0\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "fix x y"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "assume x: \"x \\<in> X\" and y: \"y \\<in> X\""], ["proof (state)\nthis:\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "have \"?f x \\<le> ?f y \\<longleftrightarrow> (x, y) \\<in> r\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "proof (cases \"x = y\")"], ["proof (state)\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)\n 2. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "case True"], ["proof (state)\nthis:\n  x = y\n\ngoal (2 subgoals):\n 1. x = y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)\n 2. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "with refl x"], ["proof (chain)\npicking this:\n  refl_on X r\n  x \\<in> X\n  x = y", "show ?thesis"], ["proof (prove)\nusing this:\n  refl_on X r\n  x \\<in> X\n  x = y\n\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "unfolding refl_on_def"], ["proof (prove)\nusing this:\n  r \\<subseteq> X \\<times> X \\<and> (\\<forall>x\\<in>X. (x, x) \\<in> r)\n  x \\<in> X\n  x = y\n\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "by auto"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   \\<le> (if y \\<in> X\n          then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n          else 0)) =\n  ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "case False"], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "note F = this"], ["proof (state)\nthis:\n  x \\<noteq> y\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "from ex x y"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>X.\n     x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  x \\<in> X\n  y \\<in> X", "have *: \"?A x \\<in> ?T\" \"?A y \\<in> ?T\" \"x \\<in> ?A x\" \"y \\<in> ?A y\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X.\n     x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. ({y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n            x \\<in> X} &&&\n     {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n     \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n            x \\<in> X}) &&&\n    x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} &&&\n    y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "by auto"], ["proof (state)\nthis:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. x \\<noteq> y \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "proof (cases \"(x, y) \\<in> r \\<and> (y, x) \\<in> r\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (x, y) \\<in> r \\<and> (y, x) \\<in> r \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)\n 2. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "case True"], ["proof (state)\nthis:\n  (x, y) \\<in> r \\<and> (y, x) \\<in> r\n\ngoal (2 subgoals):\n 1. (x, y) \\<in> r \\<and> (y, x) \\<in> r \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)\n 2. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "from eq_lifted''[OF *] True x y"], ["proof (chain)\npicking this:\n  \\<lbrakk>(x, y) \\<in> r; (y, x) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} =\n                    {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  (x, y) \\<in> r \\<and> (y, x) \\<in> r\n  x \\<in> X\n  y \\<in> X", "have \"?f x = ?f y\""], ["proof (prove)\nusing this:\n  \\<lbrakk>(x, y) \\<in> r; (y, x) \\<in> r\\<rbrakk>\n  \\<Longrightarrow> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} =\n                    {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  (x, y) \\<in> r \\<and> (y, x) \\<in> r\n  x \\<in> X\n  y \\<in> X\n\ngoal (1 subgoal):\n 1. (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) =\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "by auto"], ["proof (state)\nthis:\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) =\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)\n\ngoal (2 subgoals):\n 1. (x, y) \\<in> r \\<and> (y, x) \\<in> r \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)\n 2. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "with True"], ["proof (chain)\npicking this:\n  (x, y) \\<in> r \\<and> (y, x) \\<in> r\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) =\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)", "show ?thesis"], ["proof (prove)\nusing this:\n  (x, y) \\<in> r \\<and> (y, x) \\<in> r\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) =\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)\n\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "by auto"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   \\<le> (if y \\<in> X\n          then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n          else 0)) =\n  ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "case False"], ["proof (state)\nthis:\n  \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "with A_dest'[OF *(1,3), of y] *(4)"], ["proof (chain)\npicking this:\n  y \\<in> {y \\<in> X.\n           (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<Longrightarrow>\n  (x, y) \\<in> r\n  y \\<in> {y \\<in> X.\n           (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<Longrightarrow>\n  (y, x) \\<in> r\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r)", "have **: \"?A x \\<noteq> ?A y\""], ["proof (prove)\nusing this:\n  y \\<in> {y \\<in> X.\n           (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<Longrightarrow>\n  (x, y) \\<in> r\n  y \\<in> {y \\<in> X.\n           (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<Longrightarrow>\n  (y, x) \\<in> r\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r)\n\ngoal (1 subgoal):\n 1. {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n    {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "by auto"], ["proof (state)\nthis:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "from total_lifted[OF *(1,2) this]"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r \\<or>\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r", "have \"(?R (?A x), ?R (?A y)) \\<in> r \\<or> (?R (?A y), ?R (?A x)) \\<in> r\""], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r \\<or>\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n     SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n    \\<in> r \\<or>\n    (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r", "."], ["proof (state)\nthis:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r \\<or>\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "then"], ["proof (chain)\npicking this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r \\<or>\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r", "have neq: \"?f x \\<noteq> ?f y\""], ["proof (prove)\nusing this:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r \\<or>\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "proof (standard, goal_cases)"], ["proof (state)\ngoal (2 subgoals):\n 1. (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n     SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)\n 2. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "case 1"], ["proof (state)\nthis:\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r\n\ngoal (2 subgoals):\n 1. (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n     SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)\n 2. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "with f *(1,2) **"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r", "have \"f (?A x) < f (?A y)\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n   SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    < f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "by auto"], ["proof (state)\nthis:\n  f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  < f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (2 subgoals):\n 1. (SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n     SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)\n 2. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "with *"], ["proof (chain)\npicking this:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  < f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "show ?case"], ["proof (prove)\nusing this:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  < f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "by auto"], ["proof (state)\nthis:\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) \\<noteq>\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)\n\ngoal (1 subgoal):\n 1. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "case 2"], ["proof (state)\nthis:\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "with f *(1,2) **"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r", "have \"f (?A y) < f (?A x)\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n   SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n  \\<in> r\n\ngoal (1 subgoal):\n 1. f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n    < f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}", "by auto"], ["proof (state)\nthis:\n  f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  < f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n\ngoal (1 subgoal):\n 1. (SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r},\n     SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r})\n    \\<in> r \\<Longrightarrow>\n    (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "with *"], ["proof (chain)\npicking this:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  < f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}", "show ?case"], ["proof (prove)\nusing this:\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  < f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n\ngoal (1 subgoal):\n 1. (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0) \\<noteq>\n    (if y \\<in> X\n     then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)", "by auto"], ["proof (state)\nthis:\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) \\<noteq>\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) \\<noteq>\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "then"], ["proof (chain)\npicking this:\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) \\<noteq>\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)", "have \"?thesis = (?f x < ?f y \\<longleftrightarrow> (x, y) \\<in> r)\""], ["proof (prove)\nusing this:\n  (if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n   else 0) \\<noteq>\n  (if y \\<in> X then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n   else 0)\n\ngoal (1 subgoal):\n 1. (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n       else 0)\n      \\<le> (if y \\<in> X\n             then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n             else 0)) =\n     ((x, y) \\<in> r)) =\n    (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n       else 0)\n      < (if y \\<in> X\n         then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n         else 0)) =\n     ((x, y) \\<in> r))", "by linarith"], ["proof (state)\nthis:\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    \\<le> (if y \\<in> X\n           then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n           else 0)) =\n   ((x, y) \\<in> r)) =\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    < (if y \\<in> X\n       then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n       else 0)) =\n   ((x, y) \\<in> r))\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "moreover"], ["proof (state)\nthis:\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    \\<le> (if y \\<in> X\n           then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n           else 0)) =\n   ((x, y) \\<in> r)) =\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    < (if y \\<in> X\n       then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n       else 0)) =\n   ((x, y) \\<in> r))\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "from f ** *"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "have \"(?f x < ?f y \\<longleftrightarrow> (?R (?A x), ?R (?A y)) \\<in> r)\""], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                  x \\<in> X}.\n     \\<forall>y\\<in>{{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                     x \\<in> X}.\n        (f x < f y) =\n        (x \\<noteq> y \\<and>\n         (SOME y. y \\<in> x, SOME ya. ya \\<in> y) \\<in> r)\n  range f\n  \\<subseteq> {0..card\n                   {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x.\n                    x \\<in> X} -\n                  1}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} \\<noteq>\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     < (if y \\<in> X\n        then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n        else 0)) =\n    ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n      SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n     \\<in> r)", "by auto"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   < (if y \\<in> X\n      then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)) =\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "moreover"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   < (if y \\<in> X\n      then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)) =\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "from repr *"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((?x3, ?y3) \\<in> r) =\n                    ((SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r},\n                      SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?y3) \\<in> r \\<and> (?y3, y) \\<in> r})\n                     \\<in> r)\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}", "have \"\\<dots> \\<longleftrightarrow> (x, y) \\<in> r\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((?x3, ?y3) \\<in> r) =\n                    ((SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r},\n                      SOME y.\n                         y \\<in> {y \\<in> X.\n                                  (y, ?y3) \\<in> r \\<and> (?y3, y) \\<in> r})\n                     \\<in> r)\n  {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n  \\<in> {{y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} |x. x \\<in> X}\n  x \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n  y \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n\ngoal (1 subgoal):\n 1. ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n      SOME ya.\n         ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n     \\<in> r) =\n    ((x, y) \\<in> r)", "by auto"], ["proof (state)\nthis:\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r) =\n  ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<not> ((x, y) \\<in> r \\<and> (y, x) \\<in> r) \\<Longrightarrow>\n    ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "ultimately"], ["proof (chain)\npicking this:\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    \\<le> (if y \\<in> X\n           then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n           else 0)) =\n   ((x, y) \\<in> r)) =\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    < (if y \\<in> X\n       then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n       else 0)) =\n   ((x, y) \\<in> r))\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   < (if y \\<in> X\n      then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)) =\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r)\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r) =\n  ((x, y) \\<in> r)", "show ?thesis"], ["proof (prove)\nusing this:\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    \\<le> (if y \\<in> X\n           then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n           else 0)) =\n   ((x, y) \\<in> r)) =\n  (((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n     else 0)\n    < (if y \\<in> X\n       then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n       else 0)) =\n   ((x, y) \\<in> r))\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   < (if y \\<in> X\n      then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r} else 0)) =\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r)\n  ((SOME y. y \\<in> {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r},\n    SOME ya. ya \\<in> {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r})\n   \\<in> r) =\n  ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n      else 0)\n     \\<le> (if y \\<in> X\n            then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n            else 0)) =\n    ((x, y) \\<in> r)", "by auto"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   \\<le> (if y \\<in> X\n          then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n          else 0)) =\n  ((x, y) \\<in> r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   \\<le> (if y \\<in> X\n          then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n          else 0)) =\n  ((x, y) \\<in> r)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ((if x \\<in> X then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r}\n    else 0)\n   \\<le> (if y \\<in> X\n          then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n          else 0)) =\n  ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "}"], ["proof (state)\nthis:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((if ?x3 \\<in> X\n                      then f {y \\<in> X.\n                              (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r}\n                      else 0)\n                     \\<le> (if ?y3 \\<in> X\n                            then f {y \\<in> X.\n                                    (y, ?y3) \\<in> r \\<and>\n                                    (?y3, y) \\<in> r}\n                            else 0)) =\n                    ((?x3, ?y3) \\<in> r)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((if ?x3 \\<in> X\n                      then f {y \\<in> X.\n                              (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r}\n                      else 0)\n                     \\<le> (if ?y3 \\<in> X\n                            then f {y \\<in> X.\n                                    (y, ?y3) \\<in> r \\<and>\n                                    (?y3, y) \\<in> r}\n                            else 0)) =\n                    ((?x3, ?y3) \\<in> r)", "have \"\\<forall> x \\<in> X. \\<forall> y \\<in> X. ?f x \\<le> ?f y \\<longleftrightarrow> (x, y) \\<in> r\""], ["proof (prove)\nusing this:\n  \\<lbrakk>?x3 \\<in> X; ?y3 \\<in> X\\<rbrakk>\n  \\<Longrightarrow> ((if ?x3 \\<in> X\n                      then f {y \\<in> X.\n                              (y, ?x3) \\<in> r \\<and> (?x3, y) \\<in> r}\n                      else 0)\n                     \\<le> (if ?y3 \\<in> X\n                            then f {y \\<in> X.\n                                    (y, ?y3) \\<in> r \\<and>\n                                    (?y3, y) \\<in> r}\n                            else 0)) =\n                    ((?x3, ?y3) \\<in> r)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>X.\n       \\<forall>y\\<in>X.\n          ((if x \\<in> X\n            then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} else 0)\n           \\<le> (if y \\<in> X\n                  then f {ya \\<in> X.\n                          (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n                  else 0)) =\n          ((x, y) \\<in> r)", "by blast"], ["proof (state)\nthis:\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X.\n        ((if x \\<in> X\n          then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} else 0)\n         \\<le> (if y \\<in> X\n                then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n                else 0)) =\n        ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. (\\<And>f.\n        \\<forall>x\\<in>X.\n           \\<forall>y\\<in>X.\n              (f x \\<le> f y) = ((x, y) \\<in> r) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X.\n        ((if x \\<in> X\n          then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} else 0)\n         \\<le> (if y \\<in> X\n                then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n                else 0)) =\n        ((x, y) \\<in> r)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>X.\n     \\<forall>y\\<in>X.\n        ((if x \\<in> X\n          then f {y \\<in> X. (y, x) \\<in> r \\<and> (x, y) \\<in> r} else 0)\n         \\<le> (if y \\<in> X\n                then f {ya \\<in> X. (ya, y) \\<in> r \\<and> (y, ya) \\<in> r}\n                else 0)) =\n        ((x, y) \\<in> r)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Finiteness\\<close>"], ["", "lemma pairwise_finiteI:\n  assumes \"finite {b. \\<exists>a. P a b}\" (is \"finite ?B\")\n  assumes \"finite {a. \\<exists>b. P a b}\"\n  shows \"finite {(a,b). P a b}\" (is \"finite ?C\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "from assms(1)"], ["proof (chain)\npicking this:\n  finite {b. \\<exists>a. P a b}", "have \"finite ?B\""], ["proof (prove)\nusing this:\n  finite {b. \\<exists>a. P a b}\n\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b}", "."], ["proof (state)\nthis:\n  finite {b. \\<exists>a. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "let ?f = \"\\<lambda> b. {(a,b) | a. P a b}\""], ["proof (state)\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "fix b"], ["proof (state)\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "have \"?f b \\<subseteq> {(a,b) | a. \\<exists>b. P a b}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {(a, b) |a. P a b} \\<subseteq> {(a, b) |a. \\<exists>b. P a b}", "by blast"], ["proof (state)\nthis:\n  {(a, b) |a. P a b} \\<subseteq> {(a, b) |a. \\<exists>b. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "moreover"], ["proof (state)\nthis:\n  {(a, b) |a. P a b} \\<subseteq> {(a, b) |a. \\<exists>b. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "have \"finite \\<dots>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {(a, b) |a. \\<exists>b. P a b}", "using assms(2)"], ["proof (prove)\nusing this:\n  finite {a. \\<exists>b. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b) |a. \\<exists>b. P a b}", "by auto"], ["proof (state)\nthis:\n  finite {(a, b) |a. \\<exists>b. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "ultimately"], ["proof (chain)\npicking this:\n  {(a, b) |a. P a b} \\<subseteq> {(a, b) |a. \\<exists>b. P a b}\n  finite {(a, b) |a. \\<exists>b. P a b}", "have \"finite (?f b)\""], ["proof (prove)\nusing this:\n  {(a, b) |a. P a b} \\<subseteq> {(a, b) |a. \\<exists>b. P a b}\n  finite {(a, b) |a. \\<exists>b. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b) |a. P a b}", "by (blast intro: finite_subset)"], ["proof (state)\nthis:\n  finite {(a, b) |a. P a b}\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "}"], ["proof (state)\nthis:\n  finite {(a, ?b2) |a. P a ?b2}\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "with assms(1)"], ["proof (chain)\npicking this:\n  finite {b. \\<exists>a. P a b}\n  finite {(a, ?b2) |a. P a ?b2}", "have \"finite (\\<Union> (?f ` ?B))\""], ["proof (prove)\nusing this:\n  finite {b. \\<exists>a. P a b}\n  finite {(a, ?b2) |a. P a ?b2}\n\ngoal (1 subgoal):\n 1. finite (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})", "by auto"], ["proof (state)\nthis:\n  finite (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "moreover"], ["proof (state)\nthis:\n  finite (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "have \"?C \\<subseteq> \\<Union> (?f ` ?B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {(a, b). P a b}\n    \\<subseteq> (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})", "by auto"], ["proof (state)\nthis:\n  {(a, b). P a b}\n  \\<subseteq> (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "ultimately"], ["proof (chain)\npicking this:\n  finite (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})\n  {(a, b). P a b}\n  \\<subseteq> (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})", "show ?thesis"], ["proof (prove)\nusing this:\n  finite (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})\n  {(a, b). P a b}\n  \\<subseteq> (\\<Union>b\\<in>{b. \\<exists>a. P a b}. {(a, b) |a. P a b})\n\ngoal (1 subgoal):\n 1. finite {(a, b). P a b}", "by (blast intro: finite_subset)"], ["proof (state)\nthis:\n  finite {(a, b). P a b}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_ex_and1:\n  assumes \"finite {b. \\<exists>a. P a b}\" (is \"finite ?A\")\n  shows \"finite {b. \\<exists>a. P a b \\<and> Q a b}\" (is \"finite ?B\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "have \"?B \\<subseteq> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. P a b}", "by auto"], ["proof (state)\nthis:\n  {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. P a b}\n\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "with assms"], ["proof (chain)\npicking this:\n  finite {b. \\<exists>a. P a b}\n  {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. P a b}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite {b. \\<exists>a. P a b}\n  {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. P a b}\n\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "by (blast intro: finite_subset)"], ["proof (state)\nthis:\n  finite {b. \\<exists>a. P a b \\<and> Q a b}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_ex_and2:\n  assumes \"finite {b. \\<exists>a. Q a b}\" (is \"finite ?A\")\n  shows \"finite {b. \\<exists>a. P a b \\<and> Q a b}\" (is \"finite ?B\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "have \"?B \\<subseteq> ?A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. Q a b}", "by auto"], ["proof (state)\nthis:\n  {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. Q a b}\n\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "with assms"], ["proof (chain)\npicking this:\n  finite {b. \\<exists>a. Q a b}\n  {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. Q a b}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite {b. \\<exists>a. Q a b}\n  {b. \\<exists>a. P a b \\<and> Q a b} \\<subseteq> {b. \\<exists>a. Q a b}\n\ngoal (1 subgoal):\n 1. finite {b. \\<exists>a. P a b \\<and> Q a b}", "by (blast intro: finite_subset)"], ["proof (state)\nthis:\n  finite {b. \\<exists>a. P a b \\<and> Q a b}\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma finite_set_of_finite_funs2:\n  fixes A :: \"'a set\" \n    and B :: \"'b set\"\n    and C :: \"'c set\"\n    and d :: \"'c\" \n  assumes \"finite A\"\n    and \"finite B\"\n    and \"finite C\"\n  shows \"finite {f. \\<forall>x. \\<forall>y. (x \\<in> A \\<and> y \\<in> B \\<longrightarrow> f x y \\<in> C) \\<and> (x \\<notin> A \\<longrightarrow> f x y = d) \\<and> (y \\<notin> B \\<longrightarrow> f x y = d)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "let ?S = \"{f. \\<forall>x. \\<forall>y. (x \\<in> A \\<and> y \\<in> B \\<longrightarrow> f x y \\<in> C) \\<and> (x \\<notin> A \\<longrightarrow> f x y = d) \\<and> (y \\<notin> B \\<longrightarrow> f x y = d)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "let ?R = \"{g. \\<forall>x. (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and> (x \\<notin> B \\<longrightarrow> g x = d)}\""], ["proof (state)\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "let ?Q = \"{f. \\<forall>x. (x \\<in> A \\<longrightarrow> f x \\<in> ?R) \\<and> (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\""], ["proof (state)\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "from finite_set_of_finite_funs[OF assms(2,3)]"], ["proof (chain)\npicking this:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> B \\<longrightarrow> f x \\<in> C) \\<and>\n          (x \\<notin> B \\<longrightarrow> f x = ?d)}", "have \"finite ?R\""], ["proof (prove)\nusing this:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> B \\<longrightarrow> f x \\<in> C) \\<and>\n          (x \\<notin> B \\<longrightarrow> f x = ?d)}\n\ngoal (1 subgoal):\n 1. finite\n     {g. \\<forall>x.\n            (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n            (x \\<notin> B \\<longrightarrow> g x = d)}", "."], ["proof (state)\nthis:\n  finite\n   {g. \\<forall>x.\n          (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n          (x \\<notin> B \\<longrightarrow> g x = d)}\n\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "from finite_set_of_finite_funs[OF assms(1) this, of \"\\<lambda> y. d\"]"], ["proof (chain)\npicking this:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> A \\<longrightarrow>\n           f x\n           \\<in> {g. \\<forall>x.\n                        (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                        (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}", "have \"finite ?Q\""], ["proof (prove)\nusing this:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> A \\<longrightarrow>\n           f x\n           \\<in> {g. \\<forall>x.\n                        (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                        (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x.\n            (x \\<in> A \\<longrightarrow>\n             f x\n             \\<in> {g. \\<forall>x.\n                          (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                          (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}", "."], ["proof (state)\nthis:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> A \\<longrightarrow>\n           f x\n           \\<in> {g. \\<forall>x.\n                        (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                        (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "moreover"], ["proof (state)\nthis:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> A \\<longrightarrow>\n           f x\n           \\<in> {g. \\<forall>x.\n                        (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                        (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "have \"?S = ?Q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {f. \\<forall>x y.\n           (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n            f x y \\<in> C) \\<and>\n           (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n           (y \\<notin> B \\<longrightarrow> f x y = d)} =\n    {f. \\<forall>x.\n           (x \\<in> A \\<longrightarrow>\n            f x\n            \\<in> {g. \\<forall>x.\n                         (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                         (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n           (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}", "by auto (case_tac \"xa \\<in> A\", auto)"], ["proof (state)\nthis:\n  {f. \\<forall>x y.\n         (x \\<in> A \\<and> y \\<in> B \\<longrightarrow> f x y \\<in> C) \\<and>\n         (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n         (y \\<notin> B \\<longrightarrow> f x y = d)} =\n  {f. \\<forall>x.\n         (x \\<in> A \\<longrightarrow>\n          f x\n          \\<in> {g. \\<forall>x.\n                       (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                       (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n         (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "ultimately"], ["proof (chain)\npicking this:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> A \\<longrightarrow>\n           f x\n           \\<in> {g. \\<forall>x.\n                        (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                        (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n  {f. \\<forall>x y.\n         (x \\<in> A \\<and> y \\<in> B \\<longrightarrow> f x y \\<in> C) \\<and>\n         (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n         (y \\<notin> B \\<longrightarrow> f x y = d)} =\n  {f. \\<forall>x.\n         (x \\<in> A \\<longrightarrow>\n          f x\n          \\<in> {g. \\<forall>x.\n                       (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                       (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n         (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}", "show ?thesis"], ["proof (prove)\nusing this:\n  finite\n   {f. \\<forall>x.\n          (x \\<in> A \\<longrightarrow>\n           f x\n           \\<in> {g. \\<forall>x.\n                        (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                        (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n  {f. \\<forall>x y.\n         (x \\<in> A \\<and> y \\<in> B \\<longrightarrow> f x y \\<in> C) \\<and>\n         (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n         (y \\<notin> B \\<longrightarrow> f x y = d)} =\n  {f. \\<forall>x.\n         (x \\<in> A \\<longrightarrow>\n          f x\n          \\<in> {g. \\<forall>x.\n                       (x \\<in> B \\<longrightarrow> g x \\<in> C) \\<and>\n                       (x \\<notin> B \\<longrightarrow> g x = d)}) \\<and>\n         (x \\<notin> A \\<longrightarrow> f x = (\\<lambda>y. d))}\n\ngoal (1 subgoal):\n 1. finite\n     {f. \\<forall>x y.\n            (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n             f x y \\<in> C) \\<and>\n            (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n            (y \\<notin> B \\<longrightarrow> f x y = d)}", "by simp"], ["proof (state)\nthis:\n  finite\n   {f. \\<forall>x y.\n          (x \\<in> A \\<and> y \\<in> B \\<longrightarrow>\n           f x y \\<in> C) \\<and>\n          (x \\<notin> A \\<longrightarrow> f x y = d) \\<and>\n          (y \\<notin> B \\<longrightarrow> f x y = d)}\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Numbering the elements of finite sets\\<close>"], ["", "lemma upt_last_append: \"a \\<le> b \\<Longrightarrow> [a..<b] @ [b] = [a ..< Suc b]\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a \\<le> b \\<Longrightarrow> [a..<b] @ [b] = [a..<Suc b]", "by (induction b) auto"], ["", "lemma map_of_zip_dom_to_range:\n  \"a \\<in> set A \\<Longrightarrow> length B = length A \\<Longrightarrow> the (map_of (zip A B) a) \\<in> set B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a \\<in> set A; length B = length A\\<rbrakk>\n    \\<Longrightarrow> the (map_of (zip A B) a) \\<in> set B", "by (metis map_of_SomeD map_of_zip_is_None option.collapse set_zip_rightD)"], ["", "lemma zip_range_id:\n  \"length A = length B \\<Longrightarrow> snd ` set (zip A B) = set B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. length A = length B \\<Longrightarrow> snd ` set (zip A B) = set B", "by (metis map_snd_zip set_map)"], ["", "lemma map_of_zip_in_range:\n  \"distinct A \\<Longrightarrow> length B = length A \\<Longrightarrow> b \\<in> set B \\<Longrightarrow> \\<exists> a \\<in> set A. the (map_of (zip A B) a) = b\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct A; length B = length A; b \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "proof goal_cases"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct A; length B = length A; b \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "case 1"], ["proof (state)\nthis:\n  distinct A\n  length B = length A\n  b \\<in> set B\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct A; length B = length A; b \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "from ran_distinct[of \"zip A B\"] 1(1,2)"], ["proof (chain)\npicking this:\n  distinct (map fst (zip A B)) \\<Longrightarrow>\n  ran (map_of (zip A B)) = snd ` set (zip A B)\n  distinct A\n  length B = length A", "have\n    \"ran (map_of (zip A B)) = set B\""], ["proof (prove)\nusing this:\n  distinct (map fst (zip A B)) \\<Longrightarrow>\n  ran (map_of (zip A B)) = snd ` set (zip A B)\n  distinct A\n  length B = length A\n\ngoal (1 subgoal):\n 1. ran (map_of (zip A B)) = set B", "by (auto simp: zip_range_id)"], ["proof (state)\nthis:\n  ran (map_of (zip A B)) = set B\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct A; length B = length A; b \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "with 1(3)"], ["proof (chain)\npicking this:\n  b \\<in> set B\n  ran (map_of (zip A B)) = set B", "obtain a where \"map_of (zip A B) a = Some b\""], ["proof (prove)\nusing this:\n  b \\<in> set B\n  ran (map_of (zip A B)) = set B\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        map_of (zip A B) a = Some b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding ran_def"], ["proof (prove)\nusing this:\n  b \\<in> set B\n  {b. \\<exists>a. map_of (zip A B) a = Some b} = set B\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        map_of (zip A B) a = Some b \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  map_of (zip A B) a = Some b\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct A; length B = length A; b \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "with map_of_zip_is_Some[OF 1(2)[symmetric]]"], ["proof (chain)\npicking this:\n  (?x \\<in> set A) = (\\<exists>y. map_of (zip A B) ?x = Some y)\n  map_of (zip A B) a = Some b", "have \"the (map_of (zip A B) a) = b\" \"a \\<in> set A\""], ["proof (prove)\nusing this:\n  (?x \\<in> set A) = (\\<exists>y. map_of (zip A B) ?x = Some y)\n  map_of (zip A B) a = Some b\n\ngoal (1 subgoal):\n 1. the (map_of (zip A B) a) = b &&& a \\<in> set A", "by auto"], ["proof (state)\nthis:\n  the (map_of (zip A B) a) = b\n  a \\<in> set A\n\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct A; length B = length A; b \\<in> set B\\<rbrakk>\n    \\<Longrightarrow> \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "then"], ["proof (chain)\npicking this:\n  the (map_of (zip A B) a) = b\n  a \\<in> set A", "show ?case"], ["proof (prove)\nusing this:\n  the (map_of (zip A B) a) = b\n  a \\<in> set A\n\ngoal (1 subgoal):\n 1. \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b", "by blast"], ["proof (state)\nthis:\n  \\<exists>a\\<in>set A. the (map_of (zip A B) a) = b\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma distinct_zip_inj:\n  \"distinct ys \\<Longrightarrow> (a, b) \\<in> set (zip xs ys) \\<Longrightarrow> (c, b) \\<in> set (zip xs ys) \\<Longrightarrow> a = c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n     (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n    \\<Longrightarrow> a = c", "proof (induction ys arbitrary: xs)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>xs.\n       \\<lbrakk>distinct []; (a, b) \\<in> set (zip xs []);\n        (c, b) \\<in> set (zip xs [])\\<rbrakk>\n       \\<Longrightarrow> a = c\n 2. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "case Nil"], ["proof (state)\nthis:\n  distinct []\n  (a, b) \\<in> set (zip xs [])\n  (c, b) \\<in> set (zip xs [])\n\ngoal (2 subgoals):\n 1. \\<And>xs.\n       \\<lbrakk>distinct []; (a, b) \\<in> set (zip xs []);\n        (c, b) \\<in> set (zip xs [])\\<rbrakk>\n       \\<Longrightarrow> a = c\n 2. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "then"], ["proof (chain)\npicking this:\n  distinct []\n  (a, b) \\<in> set (zip xs [])\n  (c, b) \\<in> set (zip xs [])", "show ?case"], ["proof (prove)\nusing this:\n  distinct []\n  (a, b) \\<in> set (zip xs [])\n  (c, b) \\<in> set (zip xs [])\n\ngoal (1 subgoal):\n 1. a = c", "by auto"], ["proof (state)\nthis:\n  a = c\n\ngoal (1 subgoal):\n 1. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "case (Cons y ys)"], ["proof (state)\nthis:\n  \\<lbrakk>distinct ys; (a, b) \\<in> set (zip ?xs ys);\n   (c, b) \\<in> set (zip ?xs ys)\\<rbrakk>\n  \\<Longrightarrow> a = c\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n\ngoal (1 subgoal):\n 1. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "from this(3)"], ["proof (chain)\npicking this:\n  (a, b) \\<in> set (zip xs (y # ys))", "have \"xs \\<noteq> []\""], ["proof (prove)\nusing this:\n  (a, b) \\<in> set (zip xs (y # ys))\n\ngoal (1 subgoal):\n 1. xs \\<noteq> []", "by auto"], ["proof (state)\nthis:\n  xs \\<noteq> []\n\ngoal (1 subgoal):\n 1. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "then"], ["proof (chain)\npicking this:\n  xs \\<noteq> []", "obtain z zs where xs: \"xs = z # zs\""], ["proof (prove)\nusing this:\n  xs \\<noteq> []\n\ngoal (1 subgoal):\n 1. (\\<And>z zs. xs = z # zs \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (cases xs) auto"], ["proof (state)\nthis:\n  xs = z # zs\n\ngoal (1 subgoal):\n 1. \\<And>aa ys xs.\n       \\<lbrakk>\\<And>xs.\n                   \\<lbrakk>distinct ys; (a, b) \\<in> set (zip xs ys);\n                    (c, b) \\<in> set (zip xs ys)\\<rbrakk>\n                   \\<Longrightarrow> a = c;\n        distinct (aa # ys); (a, b) \\<in> set (zip xs (aa # ys));\n        (c, b) \\<in> set (zip xs (aa # ys))\\<rbrakk>\n       \\<Longrightarrow> a = c", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. a = c", "proof (cases \"(a, b) \\<in> set (zip zs ys)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (a, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "case True"], ["proof (state)\nthis:\n  (a, b) \\<in> set (zip zs ys)\n\ngoal (2 subgoals):\n 1. (a, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "note T = this"], ["proof (state)\nthis:\n  (a, b) \\<in> set (zip zs ys)\n\ngoal (2 subgoals):\n 1. (a, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "then"], ["proof (chain)\npicking this:\n  (a, b) \\<in> set (zip zs ys)", "have b: \"b \\<in> set ys\""], ["proof (prove)\nusing this:\n  (a, b) \\<in> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. b \\<in> set ys", "by (meson in_set_zipE)"], ["proof (state)\nthis:\n  b \\<in> set ys\n\ngoal (2 subgoals):\n 1. (a, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. a = c", "proof (cases \"(c, b) \\<in> set (zip zs ys)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (c, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "case True"], ["proof (state)\nthis:\n  (c, b) \\<in> set (zip zs ys)\n\ngoal (2 subgoals):\n 1. (c, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "with T Cons"], ["proof (chain)\npicking this:\n  (a, b) \\<in> set (zip zs ys)\n  \\<lbrakk>distinct ys; (a, b) \\<in> set (zip ?xs ys);\n   (c, b) \\<in> set (zip ?xs ys)\\<rbrakk>\n  \\<Longrightarrow> a = c\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip zs ys)", "show ?thesis"], ["proof (prove)\nusing this:\n  (a, b) \\<in> set (zip zs ys)\n  \\<lbrakk>distinct ys; (a, b) \\<in> set (zip ?xs ys);\n   (c, b) \\<in> set (zip ?xs ys)\\<rbrakk>\n  \\<Longrightarrow> a = c\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. a = c", "by auto"], ["proof (state)\nthis:\n  a = c\n\ngoal (1 subgoal):\n 1. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "case False"], ["proof (state)\nthis:\n  (c, b) \\<notin> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "with Cons.prems xs b"], ["proof (chain)\npicking this:\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  xs = z # zs\n  b \\<in> set ys\n  (c, b) \\<notin> set (zip zs ys)", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  xs = z # zs\n  b \\<in> set ys\n  (c, b) \\<notin> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. a = c", "by auto"], ["proof (state)\nthis:\n  a = c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a = c\n\ngoal (1 subgoal):\n 1. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "case False"], ["proof (state)\nthis:\n  (a, b) \\<notin> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "with Cons.prems xs"], ["proof (chain)\npicking this:\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  xs = z # zs\n  (a, b) \\<notin> set (zip zs ys)", "have b: \"a = z\" \"b = y\""], ["proof (prove)\nusing this:\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  xs = z # zs\n  (a, b) \\<notin> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. a = z &&& b = y", "by auto"], ["proof (state)\nthis:\n  a = z\n  b = y\n\ngoal (1 subgoal):\n 1. (a, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. a = c", "proof (cases \"(c, b) \\<in> set (zip zs ys)\")"], ["proof (state)\ngoal (2 subgoals):\n 1. (c, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "case True"], ["proof (state)\nthis:\n  (c, b) \\<in> set (zip zs ys)\n\ngoal (2 subgoals):\n 1. (c, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "then"], ["proof (chain)\npicking this:\n  (c, b) \\<in> set (zip zs ys)", "have \"b \\<in> set ys\""], ["proof (prove)\nusing this:\n  (c, b) \\<in> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. b \\<in> set ys", "by (meson in_set_zipE)"], ["proof (state)\nthis:\n  b \\<in> set ys\n\ngoal (2 subgoals):\n 1. (c, b) \\<in> set (zip zs ys) \\<Longrightarrow> a = c\n 2. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "with b \\<open>distinct (y#ys)\\<close>"], ["proof (chain)\npicking this:\n  a = z\n  b = y\n  distinct (y # ys)\n  b \\<in> set ys", "show ?thesis"], ["proof (prove)\nusing this:\n  a = z\n  b = y\n  distinct (y # ys)\n  b \\<in> set ys\n\ngoal (1 subgoal):\n 1. a = c", "by auto"], ["proof (state)\nthis:\n  a = c\n\ngoal (1 subgoal):\n 1. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "case False"], ["proof (state)\nthis:\n  (c, b) \\<notin> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. (c, b) \\<notin> set (zip zs ys) \\<Longrightarrow> a = c", "with Cons.prems xs b"], ["proof (chain)\npicking this:\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  xs = z # zs\n  a = z\n  b = y\n  (c, b) \\<notin> set (zip zs ys)", "show ?thesis"], ["proof (prove)\nusing this:\n  distinct (y # ys)\n  (a, b) \\<in> set (zip xs (y # ys))\n  (c, b) \\<in> set (zip xs (y # ys))\n  xs = z # zs\n  a = z\n  b = y\n  (c, b) \\<notin> set (zip zs ys)\n\ngoal (1 subgoal):\n 1. a = c", "by auto"], ["proof (state)\nthis:\n  a = c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a = c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  a = c\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma map_of_zip_distinct_inj:\n  \"distinct B \\<Longrightarrow> length A = length B \\<Longrightarrow> inj_on (the o map_of (zip A B)) (set A)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct B; length A = length B\\<rbrakk>\n    \\<Longrightarrow> inj_on (the \\<circ> map_of (zip A B)) (set A)", "unfolding inj_on_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>distinct B; length A = length B\\<rbrakk>\n    \\<Longrightarrow> \\<forall>x\\<in>set A.\n                         \\<forall>y\\<in>set A.\n                            (the \\<circ> map_of (zip A B)) x =\n                            (the \\<circ> map_of (zip A B))\n                             y \\<longrightarrow>\n                            x = y", "proof (clarify, goal_cases)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>distinct B; length A = length B; x \\<in> set A;\n        y \\<in> set A;\n        (the \\<circ> map_of (zip A B)) x =\n        (the \\<circ> map_of (zip A B)) y\\<rbrakk>\n       \\<Longrightarrow> x = y", "case (1 x y)"], ["proof (state)\nthis:\n  distinct B\n  length A = length B\n  x \\<in> set A\n  y \\<in> set A\n  (the \\<circ> map_of (zip A B)) x = (the \\<circ> map_of (zip A B)) y\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>distinct B; length A = length B; x \\<in> set A;\n        y \\<in> set A;\n        (the \\<circ> map_of (zip A B)) x =\n        (the \\<circ> map_of (zip A B)) y\\<rbrakk>\n       \\<Longrightarrow> x = y", "with map_of_zip_is_Some[OF 1(2)]"], ["proof (chain)\npicking this:\n  (?x \\<in> set A) = (\\<exists>y. map_of (zip A B) ?x = Some y)\n  distinct B\n  length A = length B\n  x \\<in> set A\n  y \\<in> set A\n  (the \\<circ> map_of (zip A B)) x = (the \\<circ> map_of (zip A B)) y", "obtain a where\n    \"map_of (zip A B) x = Some a\" \"map_of (zip A B) y = Some a\""], ["proof (prove)\nusing this:\n  (?x \\<in> set A) = (\\<exists>y. map_of (zip A B) ?x = Some y)\n  distinct B\n  length A = length B\n  x \\<in> set A\n  y \\<in> set A\n  (the \\<circ> map_of (zip A B)) x = (the \\<circ> map_of (zip A B)) y\n\ngoal (1 subgoal):\n 1. (\\<And>a.\n        \\<lbrakk>map_of (zip A B) x = Some a;\n         map_of (zip A B) y = Some a\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  map_of (zip A B) x = Some a\n  map_of (zip A B) y = Some a\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>distinct B; length A = length B; x \\<in> set A;\n        y \\<in> set A;\n        (the \\<circ> map_of (zip A B)) x =\n        (the \\<circ> map_of (zip A B)) y\\<rbrakk>\n       \\<Longrightarrow> x = y", "then"], ["proof (chain)\npicking this:\n  map_of (zip A B) x = Some a\n  map_of (zip A B) y = Some a", "have \"(x, a) \\<in> set (zip A B)\" \"(y, a) \\<in> set (zip A B)\""], ["proof (prove)\nusing this:\n  map_of (zip A B) x = Some a\n  map_of (zip A B) y = Some a\n\ngoal (1 subgoal):\n 1. (x, a) \\<in> set (zip A B) &&& (y, a) \\<in> set (zip A B)", "using map_of_SomeD"], ["proof (prove)\nusing this:\n  map_of (zip A B) x = Some a\n  map_of (zip A B) y = Some a\n  map_of ?xs ?k = Some ?y \\<Longrightarrow> (?k, ?y) \\<in> set ?xs\n\ngoal (1 subgoal):\n 1. (x, a) \\<in> set (zip A B) &&& (y, a) \\<in> set (zip A B)", "by metis+"], ["proof (state)\nthis:\n  (x, a) \\<in> set (zip A B)\n  (y, a) \\<in> set (zip A B)\n\ngoal (1 subgoal):\n 1. \\<And>x y.\n       \\<lbrakk>distinct B; length A = length B; x \\<in> set A;\n        y \\<in> set A;\n        (the \\<circ> map_of (zip A B)) x =\n        (the \\<circ> map_of (zip A B)) y\\<rbrakk>\n       \\<Longrightarrow> x = y", "from distinct_zip_inj[OF _ this] 1"], ["proof (chain)\npicking this:\n  distinct B \\<Longrightarrow> x = y\n  distinct B\n  length A = length B\n  x \\<in> set A\n  y \\<in> set A\n  (the \\<circ> map_of (zip A B)) x = (the \\<circ> map_of (zip A B)) y", "show ?case"], ["proof (prove)\nusing this:\n  distinct B \\<Longrightarrow> x = y\n  distinct B\n  length A = length B\n  x \\<in> set A\n  y \\<in> set A\n  (the \\<circ> map_of (zip A B)) x = (the \\<circ> map_of (zip A B)) y\n\ngoal (1 subgoal):\n 1. x = y", "by auto"], ["proof (state)\nthis:\n  x = y\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nat_not_ge_1D: \"\\<not> Suc 0 \\<le> x \\<Longrightarrow> x = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<not> Suc 0 \\<le> x \\<Longrightarrow> x = 0", "by auto"], ["", "lemma standard_numbering:\n  assumes \"finite A\"\n  obtains v :: \"'a \\<Rightarrow> nat\" and n where \"bij_betw v A {1..n}\"\n  and \"\\<forall> c \\<in> A. v c > 0\"\n  and \"\\<forall> c. c \\<notin> A \\<longrightarrow> v c > n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from assms"], ["proof (chain)\npicking this:\n  finite A", "obtain L where L: \"distinct L\" \"set L = A\""], ["proof (prove)\nusing this:\n  finite A\n\ngoal (1 subgoal):\n 1. (\\<And>L.\n        \\<lbrakk>distinct L; set L = A\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson finite_distinct_list)"], ["proof (state)\nthis:\n  distinct L\n  set L = A\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?N = \"length L + 1\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?P = \"zip L [1..<?N]\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "let ?v = \"\\<lambda> x. let v = map_of ?P x in if v = None then ?N else the v\""], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from length_upt"], ["proof (chain)\npicking this:\n  length [?i..<?j] = ?j - ?i", "have len: \"length [1..<?N] = length L\""], ["proof (prove)\nusing this:\n  length [?i..<?j] = ?j - ?i\n\ngoal (1 subgoal):\n 1. length [1..<length L + 1] = length L", "by auto (cases L, auto)"], ["proof (state)\nthis:\n  length [1..<length L + 1] = length L\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  length [1..<length L + 1] = length L", "have lsimp: \"length [Suc 0 ..<Suc (length L)] = length L\""], ["proof (prove)\nusing this:\n  length [1..<length L + 1] = length L\n\ngoal (1 subgoal):\n 1. length [Suc 0..<Suc (length L)] = length L", "by simp"], ["proof (state)\nthis:\n  length [Suc 0..<Suc (length L)] = length L\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note * = map_of_zip_dom_to_range[OF _ len]"], ["proof (state)\nthis:\n  ?a \\<in> set L \\<Longrightarrow>\n  the (map_of (zip L [1..<length L + 1]) ?a) \\<in> set [1..<length L + 1]\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"bij_betw ?v A {1..length L}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. bij_betw\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A {1..length L}", "unfolding bij_betw_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A \\<and>\n    (\\<lambda>x.\n        let v = map_of (zip L [1..<length L + 1]) x\n        in if v = None then length L + 1 else the v) `\n    A =\n    {1..length L}", "proof"], ["proof (state)\ngoal (2 subgoals):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A\n 2. (\\<lambda>x.\n        let v = map_of (zip L [1..<length L + 1]) x\n        in if v = None then length L + 1 else the v) `\n    A =\n    {1..length L}", "show \"?v ` A = {1..length L}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        let v = map_of (zip L [1..<length L + 1]) x\n        in if v = None then length L + 1 else the v) `\n    A =\n    {1..length L}", "apply auto"], ["proof (prove)\ngoal (5 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<notin> set L\\<rbrakk>\n       \\<Longrightarrow> False\n 2. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> Suc 0\n                         \\<le> the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     xa)\n 3. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> the (map_of\n                               (zip L ([Suc 0..<length L] @ [length L])) xa)\n                         \\<le> length L\n 4. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 5. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply (auto simp: L)[]"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> Suc 0\n                         \\<le> the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     xa)\n 2. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> the (map_of\n                               (zip L ([Suc 0..<length L] @ [length L])) xa)\n                         \\<le> length L\n 3. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 4. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply (auto simp only: upt_last_append)[]"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> Suc 0\n                         \\<le> the (map_of (zip L [Suc 0..<Suc (length L)])\n                                     xa)\n 2. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> the (map_of\n                               (zip L ([Suc 0..<length L] @ [length L])) xa)\n                         \\<le> length L\n 3. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 4. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "using *"], ["proof (prove)\nusing this:\n  ?a \\<in> set L \\<Longrightarrow>\n  the (map_of (zip L [1..<length L + 1]) ?a) \\<in> set [1..<length L + 1]\n\ngoal (4 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> Suc 0\n                         \\<le> the (map_of (zip L [Suc 0..<Suc (length L)])\n                                     xa)\n 2. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> the (map_of\n                               (zip L ([Suc 0..<length L] @ [length L])) xa)\n                         \\<le> length L\n 3. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 4. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply force"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> the (map_of\n                               (zip L ([Suc 0..<length L] @ [length L])) xa)\n                         \\<le> length L\n 2. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 3. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "using *"], ["proof (prove)\nusing this:\n  ?a \\<in> set L \\<Longrightarrow>\n  the (map_of (zip L [1..<length L + 1]) ?a) \\<in> set [1..<length L + 1]\n\ngoal (3 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L\\<rbrakk>\n       \\<Longrightarrow> the (map_of\n                               (zip L ([Suc 0..<length L] @ [length L])) xa)\n                         \\<le> length L\n 2. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 3. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply (simp only: upt_last_append)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>xa.\n       \\<lbrakk>Suc 0 \\<le> length L; xa \\<in> A; xa \\<in> set L;\n        \\<And>a.\n           a \\<in> set L \\<Longrightarrow>\n           the (map_of (zip L [1..<length L + 1]) a)\n           \\<in> set [1..<length L + 1]\\<rbrakk>\n       \\<Longrightarrow> the (map_of (zip L [Suc 0..<Suc (length L)]) xa)\n                         \\<le> length L\n 2. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 3. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply force"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 2. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply (simp only: upt_last_append)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of (zip L [Suc 0..<Suc (length L)])\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 2. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "using L(2)"], ["proof (prove)\nusing this:\n  set L = A\n\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of (zip L [Suc 0..<Suc (length L)])\n                                     x)) `\n                           (A \\<inter> set L);\n        Suc 0 \\<le> x; x \\<le> length L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (A \\<inter> {x. x \\<notin> set L})\n 2. \\<And>xa.\n       \\<lbrakk>\\<not> Suc 0 \\<le> length L; xa \\<in> A\\<rbrakk>\n       \\<Longrightarrow> False", "apply (auto dest: nat_not_ge_1D)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           set L;\n        Suc 0 \\<le> x; x \\<le> length L; A = set L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (set L \\<inter> {x. x \\<notin> set L})", "apply (subgoal_tac \"x \\<in> set [1..< length L +1]\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           set L;\n        Suc 0 \\<le> x; x \\<le> length L; A = set L;\n        x \\<in> set [1..<length L + 1]\\<rbrakk>\n       \\<Longrightarrow> x \\<in> (\\<lambda>x. Suc (length L)) `\n                                 (set L \\<inter> {x. x \\<notin> set L})\n 2. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           set L;\n        Suc 0 \\<le> x; x \\<le> length L; A = set L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> set [1..<length L + 1]", "apply (force dest!: map_of_zip_in_range[OF L(1) len])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>x \\<notin> (\\<lambda>x.\n                               the (map_of\n                                     (zip L\n ([Suc 0..<length L] @ [length L]))\n                                     x)) `\n                           set L;\n        Suc 0 \\<le> x; x \\<le> length L; A = set L\\<rbrakk>\n       \\<Longrightarrow> x \\<in> set [1..<length L + 1]", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      let v = map_of (zip L [1..<length L + 1]) x\n      in if v = None then length L + 1 else the v) `\n  A =\n  {1..length L}\n\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "from L map_of_zip_distinct_inj[OF distinct_upt, of L 1 \"length L + 1\"] len"], ["proof (chain)\npicking this:\n  distinct L\n  set L = A\n  length L = length [1..<length L + 1] \\<Longrightarrow>\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) (set L)\n  length [1..<length L + 1] = length L", "have \"inj_on (the o map_of ?P) A\""], ["proof (prove)\nusing this:\n  distinct L\n  set L = A\n  length L = length [1..<length L + 1] \\<Longrightarrow>\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) (set L)\n  length [1..<length L + 1] = length L\n\ngoal (1 subgoal):\n 1. inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A", "by auto"], ["proof (state)\nthis:\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A\n\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "moreover"], ["proof (state)\nthis:\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A\n\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "have \"inj_on (the o map_of ?P) A = inj_on ?v A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A =\n    inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "using len L(2)"], ["proof (prove)\nusing this:\n  length [1..<length L + 1] = length L\n  set L = A\n\ngoal (1 subgoal):\n 1. inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A =\n    inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "by - (rule inj_on_cong, auto)"], ["proof (state)\nthis:\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A =\n  inj_on\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A\n\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "ultimately"], ["proof (chain)\npicking this:\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A =\n  inj_on\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A", "show \"inj_on ?v A\""], ["proof (prove)\nusing this:\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A\n  inj_on (the \\<circ> map_of (zip L [1..<length L + 1])) A =\n  inj_on\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A\n\ngoal (1 subgoal):\n 1. inj_on\n     (\\<lambda>x.\n         let v = map_of (zip L [1..<length L + 1]) x\n         in if v = None then length L + 1 else the v)\n     A", "by blast"], ["proof (state)\nthis:\n  inj_on\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  bij_betw\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A {1..length L}\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  bij_betw\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A {1..length L}\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall> c \\<in> A. ?v c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>c\\<in>A.\n       0 < (let v = map_of (zip L [1..<length L + 1]) c\n            in if v = None then length L + 1 else the v)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c.\n       c \\<in> A \\<Longrightarrow>\n       0 < (let v = map_of (zip L [1..<length L + 1]) c\n            in if v = None then length L + 1 else the v)", "fix c"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>c.\n       c \\<in> A \\<Longrightarrow>\n       0 < (let v = map_of (zip L [1..<length L + 1]) c\n            in if v = None then length L + 1 else the v)", "show \"?v c > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "proof (cases \"c \\<in> set L\")"], ["proof (state)\ngoal (2 subgoals):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)\n 2. c \\<notin> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "case False"], ["proof (state)\nthis:\n  c \\<notin> set L\n\ngoal (2 subgoals):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)\n 2. c \\<notin> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "then"], ["proof (chain)\npicking this:\n  c \\<notin> set L", "show ?thesis"], ["proof (prove)\nusing this:\n  c \\<notin> set L\n\ngoal (1 subgoal):\n 1. 0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "by auto"], ["proof (state)\nthis:\n  0 < (let v = map_of (zip L [1..<length L + 1]) c\n       in if v = None then length L + 1 else the v)\n\ngoal (1 subgoal):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "case True"], ["proof (state)\nthis:\n  c \\<in> set L\n\ngoal (1 subgoal):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "with dom_map_of_zip[OF len[symmetric]]"], ["proof (chain)\npicking this:\n  dom (map_of (zip L [1..<length L + 1])) = set L\n  c \\<in> set L", "obtain x where\n        \"Some x = map_of ?P c\" \"x \\<in> set [1..<length L + 1]\""], ["proof (prove)\nusing this:\n  dom (map_of (zip L [1..<length L + 1])) = set L\n  c \\<in> set L\n\ngoal (1 subgoal):\n 1. (\\<And>x.\n        \\<lbrakk>Some x = map_of (zip L [1..<length L + 1]) c;\n         x \\<in> set [1..<length L + 1]\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (metis * domIff option.collapse)"], ["proof (state)\nthis:\n  Some x = map_of (zip L [1..<length L + 1]) c\n  x \\<in> set [1..<length L + 1]\n\ngoal (1 subgoal):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "then"], ["proof (chain)\npicking this:\n  Some x = map_of (zip L [1..<length L + 1]) c\n  x \\<in> set [1..<length L + 1]", "have \"?v c \\<in> set [1..<length L + 1]\""], ["proof (prove)\nusing this:\n  Some x = map_of (zip L [1..<length L + 1]) c\n  x \\<in> set [1..<length L + 1]\n\ngoal (1 subgoal):\n 1. (let v = map_of (zip L [1..<length L + 1]) c\n     in if v = None then length L + 1 else the v)\n    \\<in> set [1..<length L + 1]", "using * True len"], ["proof (prove)\nusing this:\n  Some x = map_of (zip L [1..<length L + 1]) c\n  x \\<in> set [1..<length L + 1]\n  ?a \\<in> set L \\<Longrightarrow>\n  the (map_of (zip L [1..<length L + 1]) ?a) \\<in> set [1..<length L + 1]\n  c \\<in> set L\n  length [1..<length L + 1] = length L\n\ngoal (1 subgoal):\n 1. (let v = map_of (zip L [1..<length L + 1]) c\n     in if v = None then length L + 1 else the v)\n    \\<in> set [1..<length L + 1]", "by auto"], ["proof (state)\nthis:\n  (let v = map_of (zip L [1..<length L + 1]) c\n   in if v = None then length L + 1 else the v)\n  \\<in> set [1..<length L + 1]\n\ngoal (1 subgoal):\n 1. c \\<in> set L \\<Longrightarrow>\n    0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "then"], ["proof (chain)\npicking this:\n  (let v = map_of (zip L [1..<length L + 1]) c\n   in if v = None then length L + 1 else the v)\n  \\<in> set [1..<length L + 1]", "show ?thesis"], ["proof (prove)\nusing this:\n  (let v = map_of (zip L [1..<length L + 1]) c\n   in if v = None then length L + 1 else the v)\n  \\<in> set [1..<length L + 1]\n\ngoal (1 subgoal):\n 1. 0 < (let v = map_of (zip L [1..<length L + 1]) c\n         in if v = None then length L + 1 else the v)", "by auto"], ["proof (state)\nthis:\n  0 < (let v = map_of (zip L [1..<length L + 1]) c\n       in if v = None then length L + 1 else the v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < (let v = map_of (zip L [1..<length L + 1]) c\n       in if v = None then length L + 1 else the v)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>c\\<in>A.\n     0 < (let v = map_of (zip L [1..<length L + 1]) c\n          in if v = None then length L + 1 else the v)\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>c\\<in>A.\n     0 < (let v = map_of (zip L [1..<length L + 1]) c\n          in if v = None then length L + 1 else the v)\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall> c. c \\<notin> A \\<longrightarrow> ?v c > length L\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>c.\n       c \\<notin> A \\<longrightarrow>\n       length L\n       < (let v = map_of (zip L [1..<length L + 1]) c\n          in if v = None then length L + 1 else the v)", "using L"], ["proof (prove)\nusing this:\n  distinct L\n  set L = A\n\ngoal (1 subgoal):\n 1. \\<forall>c.\n       c \\<notin> A \\<longrightarrow>\n       length L\n       < (let v = map_of (zip L [1..<length L + 1]) c\n          in if v = None then length L + 1 else the v)", "by auto"], ["proof (state)\nthis:\n  \\<forall>c.\n     c \\<notin> A \\<longrightarrow>\n     length L\n     < (let v = map_of (zip L [1..<length L + 1]) c\n        in if v = None then length L + 1 else the v)\n\ngoal (1 subgoal):\n 1. (\\<And>v n.\n        \\<lbrakk>bij_betw v A {1..n}; \\<forall>c\\<in>A. 0 < v c;\n         \\<forall>c. c \\<notin> A \\<longrightarrow> n < v c\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  bij_betw\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A {1..length L}\n  \\<forall>c\\<in>A.\n     0 < (let v = map_of (zip L [1..<length L + 1]) c\n          in if v = None then length L + 1 else the v)\n  \\<forall>c.\n     c \\<notin> A \\<longrightarrow>\n     length L\n     < (let v = map_of (zip L [1..<length L + 1]) c\n        in if v = None then length L + 1 else the v)", "show ?thesis"], ["proof (prove)\nusing this:\n  bij_betw\n   (\\<lambda>x.\n       let v = map_of (zip L [1..<length L + 1]) x\n       in if v = None then length L + 1 else the v)\n   A {1..length L}\n  \\<forall>c\\<in>A.\n     0 < (let v = map_of (zip L [1..<length L + 1]) c\n          in if v = None then length L + 1 else the v)\n  \\<forall>c.\n     c \\<notin> A \\<longrightarrow>\n     length L\n     < (let v = map_of (zip L [1..<length L + 1]) c\n        in if v = None then length L + 1 else the v)\n\ngoal (1 subgoal):\n 1. thesis", ".."], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "(*>*)"]]}