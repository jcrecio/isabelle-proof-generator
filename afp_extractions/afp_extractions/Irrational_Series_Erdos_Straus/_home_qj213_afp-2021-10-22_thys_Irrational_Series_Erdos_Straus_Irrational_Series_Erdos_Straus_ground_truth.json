{"file_name": "/home/qj213/afp-2021-10-22/thys/Irrational_Series_Erdos_Straus/Irrational_Series_Erdos_Straus.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/Irrational_Series_Erdos_Straus", "problem_names": ["lemma suminf_comparison:\n  assumes \"summable f\" and gf: \"\\<And>n. norm (g n) \\<le> f n\"\n  shows \"suminf g \\<le> suminf f\"", "lemma tendsto_of_int_diff_0:\n  assumes \"(\\<lambda>n. f n - of_int(g n)) \\<longlonglongrightarrow> (0::real)\" \"\\<forall>\\<^sub>F n in sequentially. f n > 0\"\n  shows \"\\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n\"", "lemma eventually_mono_sequentially:\n  assumes \"eventually P sequentially\"\n  assumes \"\\<And>x. P (x+k) \\<Longrightarrow> Q (x+k)\"\n  shows \"eventually Q sequentially\"", "lemma frequently_eventually_at_top:\n  fixes P Q::\"'a::linorder \\<Rightarrow> bool\"\n  assumes \"frequently P at_top\" \"eventually Q at_top\"\n  shows \"frequently (\\<lambda>x. P x \\<and> (\\<forall>y\\<ge>x. Q y) ) at_top\"", "lemma eventually_at_top_mono:\n  fixes P Q::\"'a::linorder \\<Rightarrow> bool\"\n  assumes event_P:\"eventually P at_top\"\n  assumes PQ_imp:\"\\<And>x. x\\<ge>z \\<Longrightarrow> \\<forall>y\\<ge>x. P y \\<Longrightarrow> Q x\"\n  shows \"eventually Q at_top\"", "lemma frequently_at_top_elim:\n  fixes P Q::\"'a::linorder \\<Rightarrow> bool\"\n  assumes \"\\<exists>\\<^sub>Fx in at_top. P x\"\n  assumes \"\\<And>i. P i \\<Longrightarrow> \\<exists>j>i. Q j\"\n  shows \"\\<exists>\\<^sub>Fx in at_top. Q x\"", "lemma less_Liminf_iff:\n  fixes X :: \"_ \\<Rightarrow> _ :: complete_linorder\"\n  shows \"Liminf F X < C \\<longleftrightarrow> (\\<exists>y<C. frequently (\\<lambda>x. y \\<ge> X x) F)\"", "lemma sequentially_even_odd_imp:\n  assumes \"\\<forall>\\<^sub>F N in sequentially. P (2*N)\" \"\\<forall>\\<^sub>F N in sequentially. P (2*N+1)\"\n  shows \"\\<forall>\\<^sub>F n in sequentially. P n\"", "lemma aux_series_summable: \"summable (\\<lambda>n. b n / (\\<Prod>k\\<le>n. a k))\"", "lemma ab_rationality_imp:\n  assumes ab_rational:\"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat>\"\n  shows \"\\<exists> (B::int)>0. \\<exists> c::nat\\<Rightarrow> int.\n            (\\<forall>\\<^sub>F n in sequentially. B*b n = c n * a n - c(n+1) \\<and> \\<bar>c(n+1)\\<bar><a n/2)\n            \\<and> (\\<lambda>n. c (Suc n) / a n) \\<longlonglongrightarrow> 0\"", "lemma imp_ab_rational:\n  assumes \"\\<exists> (B::int)>0. \\<exists> c::nat\\<Rightarrow> int.\n              (\\<forall>\\<^sub>F n in sequentially. B*b n = c n * a n - c(n+1) \\<and> \\<bar>c(n+1)\\<bar><a n/2)\"\n  shows \"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat>\"", "theorem theorem_2_1_Erdos_Straus :\n  \"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat> \\<longleftrightarrow> (\\<exists> (B::int)>0. \\<exists> c::nat\\<Rightarrow> int.\n            (\\<forall>\\<^sub>F n in sequentially. B*b n = c n * a n - c(n+1) \\<and> \\<bar>c(n+1)\\<bar><a n/2))\"", "lemma nth_prime_nonzero[simp]:\"nth_prime n \\<noteq> 0\"", "lemma nth_prime_gt_zero[simp]:\"nth_prime n >0\"", "lemma ratio_of_consecutive_primes:\n  \"(\\<lambda>n. nth_prime (n+1)/nth_prime n) \\<longlonglongrightarrow>1\"", "lemma nth_prime_double_sqrt_less:\n  assumes \"\\<epsilon> > 0\"\n  shows \"\\<forall>\\<^sub>F n in sequentially. (nth_prime (2*n) - nth_prime n) \n            / sqrt (nth_prime n) < n powr (1/2+\\<epsilon>)\"", "theorem theorem_3_10_Erdos_Straus:\n  fixes a::\"nat \\<Rightarrow> int\"\n  assumes a_pos:\"\\<forall> n. a n >0\" and \"mono a\"\n    and nth_1:\"(\\<lambda>n. nth_prime n / (a n)^2) \\<longlonglongrightarrow> 0\"\n    and nth_2:\"liminf (\\<lambda>n. a n / nth_prime n) = 0\"\n  shows \"(\\<Sum>n. (nth_prime n / (\\<Prod>i \\<le> n. a i))) \\<notin> \\<rat>\""], "translations": [["", "lemma suminf_comparison:\n  assumes \"summable f\" and gf: \"\\<And>n. norm (g n) \\<le> f n\"\n  shows \"suminf g \\<le> suminf f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. suminf g \\<le> suminf f", "proof (rule suminf_le)"], ["proof (state)\ngoal (3 subgoals):\n 1. \\<And>n. g n \\<le> f n\n 2. summable g\n 3. summable f", "show \"g n \\<le> f n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. g n \\<le> f n", "using gf[of n]"], ["proof (prove)\nusing this:\n  norm (g n) \\<le> f n\n\ngoal (1 subgoal):\n 1. g n \\<le> f n", "by auto"], ["proof (state)\nthis:\n  g ?n \\<le> f ?n\n\ngoal (2 subgoals):\n 1. summable g\n 2. summable f", "show \"summable g\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable g", "using assms summable_comparison_test'"], ["proof (prove)\nusing this:\n  summable f\n  norm (g ?n) \\<le> f ?n\n  \\<lbrakk>summable ?g;\n   \\<And>n. ?N \\<le> n \\<Longrightarrow> norm (?f n) \\<le> ?g n\\<rbrakk>\n  \\<Longrightarrow> summable ?f\n\ngoal (1 subgoal):\n 1. summable g", "by blast"], ["proof (state)\nthis:\n  summable g\n\ngoal (1 subgoal):\n 1. summable f", "show \"summable f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable f", "using assms(1)"], ["proof (prove)\nusing this:\n  summable f\n\ngoal (1 subgoal):\n 1. summable f", "."], ["proof (state)\nthis:\n  summable f\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tendsto_of_int_diff_0:\n  assumes \"(\\<lambda>n. f n - of_int(g n)) \\<longlonglongrightarrow> (0::real)\" \"\\<forall>\\<^sub>F n in sequentially. f n > 0\"\n  shows \"\\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n", "have \"\\<forall>\\<^sub>F n in sequentially. \\<bar>f n - of_int(g n)\\<bar> < 1 / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<bar>f n - real_of_int (g n)\\<bar> < 1 / 2", "using assms(1)[unfolded tendsto_iff,rule_format,of \"1/2\"]"], ["proof (prove)\nusing this:\n  0 < 1 / 2 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x - real_of_int (g x)) 0 < 1 / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<bar>f n - real_of_int (g n)\\<bar> < 1 / 2", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>f n - real_of_int (g n)\\<bar> < 1 / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>f n - real_of_int (g n)\\<bar> < 1 / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>f n - real_of_int (g n)\\<bar> < 1 / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n", "using assms(2)"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>f n - real_of_int (g n)\\<bar> < 1 / 2\n  \\<forall>\\<^sub>F n in sequentially. 0 < f n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n", "by eventually_elim linarith"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> g n\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma eventually_mono_sequentially:\n  assumes \"eventually P sequentially\"\n  assumes \"\\<And>x. P (x+k) \\<Longrightarrow> Q (x+k)\"\n  shows \"eventually Q sequentially\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually Q sequentially", "using sequentially_offset[OF assms(1),of k]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F i in sequentially. P (i + k)\n\ngoal (1 subgoal):\n 1. eventually Q sequentially", "apply (subst eventually_sequentially_seg[symmetric,of _ k])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially. P (i + k) \\<Longrightarrow>\n    \\<forall>\\<^sub>F n in sequentially. Q (n + k)", "apply (elim eventually_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. P (x + k) \\<Longrightarrow> Q (x + k)", "by fact"], ["", "lemma frequently_eventually_at_top:\n  fixes P Q::\"'a::linorder \\<Rightarrow> bool\"\n  assumes \"frequently P at_top\" \"eventually Q at_top\"\n  shows \"frequently (\\<lambda>x. P x \\<and> (\\<forall>y\\<ge>x. Q y) ) at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in at_top. P x \\<and> (\\<forall>y\\<ge>x. Q y)", "using assms"], ["proof (prove)\nusing this:\n  frequently P at_top\n  eventually Q at_top\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in at_top. P x \\<and> (\\<forall>y\\<ge>x. Q y)", "unfolding frequently_def eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  \\<nexists>N. \\<forall>n\\<ge>N. \\<not> P n\n  \\<exists>N. \\<forall>n\\<ge>N. Q n\n\ngoal (1 subgoal):\n 1. \\<nexists>N.\n       \\<forall>n\\<ge>N. \\<not> (P n \\<and> (\\<forall>y\\<ge>n. Q y))", "by (metis (mono_tags, hide_lams) le_cases order_trans)"], ["", "lemma eventually_at_top_mono:\n  fixes P Q::\"'a::linorder \\<Rightarrow> bool\"\n  assumes event_P:\"eventually P at_top\"\n  assumes PQ_imp:\"\\<And>x. x\\<ge>z \\<Longrightarrow> \\<forall>y\\<ge>x. P y \\<Longrightarrow> Q x\"\n  shows \"eventually Q at_top\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually Q at_top", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. eventually Q at_top", "obtain N where \"\\<forall>n\\<ge>N. P n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N. P n \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson event_P eventually_at_top_linorder)"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N. P n\n\ngoal (1 subgoal):\n 1. eventually Q at_top", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>N. P n", "have \"Q x\" when \"x \\<ge> max N z\" for x"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N. P n\n\ngoal (1 subgoal):\n 1. Q x", "using PQ_imp that"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N. P n\n  \\<lbrakk>z \\<le> ?x; \\<forall>y\\<ge>?x. P y\\<rbrakk>\n  \\<Longrightarrow> Q ?x\n  max N z \\<le> x\n\ngoal (1 subgoal):\n 1. Q x", "by auto"], ["proof (state)\nthis:\n  max N z \\<le> ?x \\<Longrightarrow> Q ?x\n\ngoal (1 subgoal):\n 1. eventually Q at_top", "then"], ["proof (chain)\npicking this:\n  max N z \\<le> ?x \\<Longrightarrow> Q ?x", "show ?thesis"], ["proof (prove)\nusing this:\n  max N z \\<le> ?x \\<Longrightarrow> Q ?x\n\ngoal (1 subgoal):\n 1. eventually Q at_top", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  max N z \\<le> ?x \\<Longrightarrow> Q ?x\n\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. Q n", "by blast"], ["proof (state)\nthis:\n  eventually Q at_top\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma frequently_at_top_elim:\n  fixes P Q::\"'a::linorder \\<Rightarrow> bool\"\n  assumes \"\\<exists>\\<^sub>Fx in at_top. P x\"\n  assumes \"\\<And>i. P i \\<Longrightarrow> \\<exists>j>i. Q j\"\n  shows \"\\<exists>\\<^sub>Fx in at_top. Q x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. frequently Q at_top", "using assms"], ["proof (prove)\nusing this:\n  frequently P at_top\n  P ?i \\<Longrightarrow> \\<exists>j>?i. Q j\n\ngoal (1 subgoal):\n 1. frequently Q at_top", "unfolding frequently_def eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  \\<nexists>N. \\<forall>n\\<ge>N. \\<not> P n\n  P ?i \\<Longrightarrow> \\<exists>j>?i. Q j\n\ngoal (1 subgoal):\n 1. \\<nexists>N. \\<forall>n\\<ge>N. \\<not> Q n", "by (meson leD le_cases less_le_trans)"], ["", "lemma less_Liminf_iff:\n  fixes X :: \"_ \\<Rightarrow> _ :: complete_linorder\"\n  shows \"Liminf F X < C \\<longleftrightarrow> (\\<exists>y<C. frequently (\\<lambda>x. y \\<ge> X x) F)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (Liminf F X < C) = (\\<exists>y<C. \\<exists>\\<^sub>F x in F. X x \\<le> y)", "by (force simp: not_less not_frequently not_le le_Liminf_iff simp flip: Not_eq_iff)"], ["", "lemma sequentially_even_odd_imp:\n  assumes \"\\<forall>\\<^sub>F N in sequentially. P (2*N)\" \"\\<forall>\\<^sub>F N in sequentially. P (2*N+1)\"\n  shows \"\\<forall>\\<^sub>F n in sequentially. P n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually P sequentially", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. eventually P sequentially", "obtain N where N_P:\"\\<forall>x\\<ge>N.  P (2 * x) \\<and> P (2 * x + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>x\\<ge>N. P (2 * x) \\<and> P (2 * x + 1) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using eventually_conj[OF assms]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. P (2 * x) \\<and> P (2 * x + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>x\\<ge>N. P (2 * x) \\<and> P (2 * x + 1) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  \\<exists>N. \\<forall>n\\<ge>N. P (2 * n) \\<and> P (2 * n + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>x\\<ge>N. P (2 * x) \\<and> P (2 * x + 1) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>x\\<ge>N. P (2 * x) \\<and> P (2 * x + 1)\n\ngoal (1 subgoal):\n 1. eventually P sequentially", "have \"P n\" when \"n \\<ge> 2*N\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. P n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. P n", "define n' where \"n'= n div 2\""], ["proof (state)\nthis:\n  n' = n div 2\n\ngoal (1 subgoal):\n 1. P n", "then"], ["proof (chain)\npicking this:\n  n' = n div 2", "have \"n' \\<ge> N\""], ["proof (prove)\nusing this:\n  n' = n div 2\n\ngoal (1 subgoal):\n 1. N \\<le> n'", "using that"], ["proof (prove)\nusing this:\n  n' = n div 2\n  2 * N \\<le> n\n\ngoal (1 subgoal):\n 1. N \\<le> n'", "by auto"], ["proof (state)\nthis:\n  N \\<le> n'\n\ngoal (1 subgoal):\n 1. P n", "then"], ["proof (chain)\npicking this:\n  N \\<le> n'", "have \"P (2 * n') \\<and> P (2 * n' + 1)\""], ["proof (prove)\nusing this:\n  N \\<le> n'\n\ngoal (1 subgoal):\n 1. P (2 * n') \\<and> P (2 * n' + 1)", "using N_P"], ["proof (prove)\nusing this:\n  N \\<le> n'\n  \\<forall>x\\<ge>N. P (2 * x) \\<and> P (2 * x + 1)\n\ngoal (1 subgoal):\n 1. P (2 * n') \\<and> P (2 * n' + 1)", "by auto"], ["proof (state)\nthis:\n  P (2 * n') \\<and> P (2 * n' + 1)\n\ngoal (1 subgoal):\n 1. P n", "then"], ["proof (chain)\npicking this:\n  P (2 * n') \\<and> P (2 * n' + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  P (2 * n') \\<and> P (2 * n' + 1)\n\ngoal (1 subgoal):\n 1. P n", "unfolding n'_def"], ["proof (prove)\nusing this:\n  P (2 * (n div 2)) \\<and> P (2 * (n div 2) + 1)\n\ngoal (1 subgoal):\n 1. P n", "by (cases \"even n\") auto"], ["proof (state)\nthis:\n  P n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 * N \\<le> ?n \\<Longrightarrow> P ?n\n\ngoal (1 subgoal):\n 1. eventually P sequentially", "then"], ["proof (chain)\npicking this:\n  2 * N \\<le> ?n \\<Longrightarrow> P ?n", "show ?thesis"], ["proof (prove)\nusing this:\n  2 * N \\<le> ?n \\<Longrightarrow> P ?n\n\ngoal (1 subgoal):\n 1. eventually P sequentially", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  2 * N \\<le> ?n \\<Longrightarrow> P ?n\n\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. P n", "by auto"], ["proof (state)\nthis:\n  eventually P sequentially\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Theorem 2.1 and Corollary 2.10\\<close>"], ["", "context\n  fixes a b ::\"nat\\<Rightarrow>int \"\n  assumes a_pos: \"\\<forall> n. a n >0 \" and a_large: \"\\<forall>\\<^sub>F n in sequentially. a n > 1\" \n    and ab_tendsto: \"(\\<lambda>n. \\<bar>b n\\<bar> / (a (n-1) * a n)) \\<longlonglongrightarrow> 0\"\nbegin"], ["", "private"], ["", "lemma aux_series_summable: \"summable (\\<lambda>n. b n / (\\<Prod>k\\<le>n. a k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "have \"\\<And>e. e>0 \\<Longrightarrow> \\<forall>\\<^sub>F x in sequentially. \\<bar>b x\\<bar> / (a (x-1) * a x) < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in sequentially.\n          real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x) < e", "using ab_tendsto[unfolded tendsto_iff]"], ["proof (prove)\nusing this:\n  \\<forall>e>0.\n     \\<forall>\\<^sub>F x in sequentially.\n        dist (real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x)) 0\n        < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in sequentially.\n          real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x) < e", "apply (simp add: abs_mult flip: of_int_abs)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>e.\n       \\<lbrakk>0 < e;\n        \\<forall>e>0.\n           \\<forall>\\<^sub>F x in sequentially.\n              real_of_int \\<bar>b x\\<bar> /\n              (real_of_int \\<bar>a (x - Suc 0)\\<bar> *\n               real_of_int \\<bar>a x\\<bar>)\n              < e\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F x in sequentially.\n                            real_of_int \\<bar>b x\\<bar> /\n                            (real_of_int (a (x - Suc 0)) *\n                             real_of_int (a x))\n                            < e", "by (subst (asm) (2) abs_of_pos,use \\<open>\\<forall> n. a n > 0\\<close> in auto)+"], ["proof (state)\nthis:\n  0 < ?e \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x) < ?e\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "from this[of 1]"], ["proof (chain)\npicking this:\n  0 < 1 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x) < 1", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>real_of_int(b x)\\<bar> < (a (x-1) * a x)\""], ["proof (prove)\nusing this:\n  0 < 1 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x) < 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (b x)\\<bar> < real_of_int (a (x - 1) * a x)", "using \\<open>\\<forall> n. a n > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x) < 1\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (b x)\\<bar> < real_of_int (a (x - 1) * a x)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (b x)\\<bar> < real_of_int (a (x - 1) * a x)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (b x)\\<bar> < real_of_int (a (x - 1) * a x)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "have \"\\<forall>n. (\\<Prod>k\\<le>n. real_of_int (a k)) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k))", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k))", "by (auto intro!:linordered_semidom_class.prod_pos)"], ["proof (state)\nthis:\n  \\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (b x)\\<bar> < real_of_int (a (x - 1) * a x)\n  \\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k))", "have \"\\<forall>\\<^sub>F n in sequentially. \\<bar>b n\\<bar> / (\\<Prod>k\\<le>n. a k) \n                        < (a (n-1) * a n) / (\\<Prod>k\\<le>n. a k)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (b x)\\<bar> < real_of_int (a (x - 1) * a x)\n  \\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n})\n       < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})", "apply (elim eventually_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k));\n        \\<bar>real_of_int (b x)\\<bar>\n        < real_of_int (a (x - 1) * a x)\\<rbrakk>\n       \\<Longrightarrow> real_of_int \\<bar>b x\\<bar> /\n                         real_of_int (prod a {..x})\n                         < real_of_int (a (x - 1) * a x) /\n                           real_of_int (prod a {..x})", "by (auto simp add:field_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n})\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n})\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "have \"\\<bar>b n\\<bar> / (\\<Prod>k\\<le>n. a k) = norm (b n / (\\<Prod>k\\<le>n. a k))\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n}) =\n    norm (real_of_int (b n) / real_of_int (prod a {..n}))", "using \\<open>\\<forall>n. (\\<Prod>k\\<le>n. real_of_int (a k)) > 0\\<close>[rule_format,of n]"], ["proof (prove)\nusing this:\n  0 < (\\<Prod>k\\<le>n. real_of_int (a k))\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n}) =\n    norm (real_of_int (b n) / real_of_int (prod a {..n}))", "by auto"], ["proof (state)\nthis:\n  real_of_int \\<bar>b ?n\\<bar> / real_of_int (prod a {..?n}) =\n  norm (real_of_int (b ?n) / real_of_int (prod a {..?n}))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n})\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n  real_of_int \\<bar>b ?n\\<bar> / real_of_int (prod a {..?n}) =\n  norm (real_of_int (b ?n) / real_of_int (prod a {..?n}))", "have \"\\<forall>\\<^sub>F n in sequentially. norm (b n / (\\<Prod>k\\<le>n. a k)) \n                        < (a (n-1) * a n) / (\\<Prod>k\\<le>n. a k)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (prod a {..n})\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n  real_of_int \\<bar>b ?n\\<bar> / real_of_int (prod a {..?n}) =\n  norm (real_of_int (b ?n) / real_of_int (prod a {..?n}))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       norm (real_of_int (b n) / real_of_int (prod a {..n}))\n       < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})", "by algebra"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     norm (real_of_int (b n) / real_of_int (prod a {..n}))\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     norm (real_of_int (b n) / real_of_int (prod a {..n}))\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "have \"summable (\\<lambda>n. (a (n-1) * a n) / (\\<Prod>k\\<le>n. a k))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "obtain s where a_gt_1:\"\\<forall> n\\<ge>s. a n >1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<forall>n\\<ge>s. 1 < a n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using a_large[unfolded eventually_at_top_linorder]"], ["proof (prove)\nusing this:\n  \\<exists>N. \\<forall>n\\<ge>N. 1 < a n\n\ngoal (1 subgoal):\n 1. (\\<And>s.\n        \\<forall>n\\<ge>s. 1 < a n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>s. 1 < a n\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "define cc where \"cc= (\\<Prod>k<s. a k)\""], ["proof (state)\nthis:\n  cc = prod a {..<s}\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "have \"cc>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < cc", "unfolding cc_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < prod a {..<s}", "by (meson a_pos prod_pos)"], ["proof (state)\nthis:\n  0 < cc\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "have \"(\\<Prod>k\\<le>n+s. a k) \\<ge> cc * 2^n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "have \"prod a {s..<Suc (s + n)} \\<ge> 2^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ n \\<le> prod a {s..<Suc (s + n)}", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. 2 ^ 0 \\<le> prod a {s..<Suc (s + 0)}\n 2. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. 2 ^ 0 \\<le> prod a {s..<Suc (s + 0)}\n 2. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ 0 \\<le> prod a {s..<Suc (s + 0)}", "using a_gt_1"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>s. 1 < a n\n\ngoal (1 subgoal):\n 1. 2 ^ 0 \\<le> prod a {s..<Suc (s + 0)}", "by auto"], ["proof (state)\nthis:\n  2 ^ 0 \\<le> prod a {s..<Suc (s + 0)}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "case (Suc n)"], ["proof (state)\nthis:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "moreover"], ["proof (state)\nthis:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "have \"a (s + Suc n) \\<ge> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 \\<le> a (s + Suc n)", "using a_gt_1"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>s. 1 < a n\n\ngoal (1 subgoal):\n 1. 2 \\<le> a (s + Suc n)", "by (smt le_add1)"], ["proof (state)\nthis:\n  2 \\<le> a (s + Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {s..<Suc (s + n)} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "ultimately"], ["proof (chain)\npicking this:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n  2 \\<le> a (s + Suc n)", "show ?case"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n  2 \\<le> a (s + Suc n)\n\ngoal (1 subgoal):\n 1. 2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}", "apply (subst prod.atLeastLessThan_Suc,simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>2 ^ n \\<le> prod a {s..<Suc (s + n)};\n     2 \\<le> a (s + Suc n)\\<rbrakk>\n    \\<Longrightarrow> 2 ^ Suc n \\<le> prod a {s..<s + Suc n} * a (s + Suc n)", "using mult_mono'[of 2 \"a (Suc (s + n))\" \" 2 ^ n\" \"prod a {s..<Suc (s + n)}\"]"], ["proof (prove)\nusing this:\n  \\<lbrakk>2 \\<le> a (Suc (s + n)); 2 ^ n \\<le> prod a {s..<Suc (s + n)};\n   0 \\<le> 2; 0 \\<le> 2 ^ n\\<rbrakk>\n  \\<Longrightarrow> 2 * 2 ^ n\n                    \\<le> a (Suc (s + n)) * prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. \\<lbrakk>2 ^ n \\<le> prod a {s..<Suc (s + n)};\n     2 \\<le> a (s + Suc n)\\<rbrakk>\n    \\<Longrightarrow> 2 ^ Suc n \\<le> prod a {s..<s + Suc n} * a (s + Suc n)", "by (simp add: mult.commute)"], ["proof (state)\nthis:\n  2 ^ Suc n \\<le> prod a {s..<Suc (s + Suc n)}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "moreover"], ["proof (state)\nthis:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "have \"prod a {0..(n + s)} = prod a {..<s} * prod a {s..<Suc (s + n)} \""], ["proof (prove)\ngoal (1 subgoal):\n 1. prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}", "using prod.atLeastLessThan_concat[of 0 s \"s+n+1\" a]"], ["proof (prove)\nusing this:\n  \\<lbrakk>0 \\<le> s; s \\<le> s + n + 1\\<rbrakk>\n  \\<Longrightarrow> prod a {0..<s} * prod a {s..<s + n + 1} =\n                    prod a {0..<s + n + 1}\n\ngoal (1 subgoal):\n 1. prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}", "by (simp add: add.commute lessThan_atLeast0 prod.atLeastLessThan_concat prod.head_if)"], ["proof (state)\nthis:\n  prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "ultimately"], ["proof (chain)\npicking this:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n  prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}", "show ?thesis"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n  prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}\n\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "using \\<open>cc>0\\<close>"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n  prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}\n  0 < cc\n\ngoal (1 subgoal):\n 1. cc * 2 ^ n \\<le> prod a {..n + s}", "unfolding cc_def"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {s..<Suc (s + n)}\n  prod a {0..n + s} = prod a {..<s} * prod a {s..<Suc (s + n)}\n  0 < prod a {..<s}\n\ngoal (1 subgoal):\n 1. prod a {..<s} * 2 ^ n \\<le> prod a {..n + s}", "by (simp add: atLeast0AtMost)"], ["proof (state)\nthis:\n  cc * 2 ^ n \\<le> prod a {..n + s}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "then"], ["proof (chain)\npicking this:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}", "have \"1/(\\<Prod>k\\<le>n+s. a k) \\<le> 1/(cc * 2^n)\" for n"], ["proof (prove)\nusing this:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>n. cc * 2 ^ n \\<le> prod a {..n + s}) \\<Longrightarrow>\n    1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "assume asm:\"\\<And>n. cc * 2 ^ n \\<le> prod a {..n + s}\""], ["proof (state)\nthis:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}\n\ngoal (1 subgoal):\n 1. (\\<And>n. cc * 2 ^ n \\<le> prod a {..n + s}) \\<Longrightarrow>\n    1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "then"], ["proof (chain)\npicking this:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}", "have \"real_of_int (cc * 2 ^ n) \\<le> prod a {..n + s}\""], ["proof (prove)\nusing this:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}\n\ngoal (1 subgoal):\n 1. real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})", "using of_int_le_iff"], ["proof (prove)\nusing this:\n  cc * 2 ^ ?n \\<le> prod a {..?n + s}\n  (of_int ?w \\<le> of_int ?z) = (?w \\<le> ?z)\n\ngoal (1 subgoal):\n 1. real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})", "by blast"], ["proof (state)\nthis:\n  real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})\n\ngoal (1 subgoal):\n 1. (\\<And>n. cc * 2 ^ n \\<le> prod a {..n + s}) \\<Longrightarrow>\n    1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "moreover"], ["proof (state)\nthis:\n  real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})\n\ngoal (1 subgoal):\n 1. (\\<And>n. cc * 2 ^ n \\<le> prod a {..n + s}) \\<Longrightarrow>\n    1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "have \"prod a {..n + s} >0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < prod a {..n + s}", "using \\<open>cc>0\\<close>"], ["proof (prove)\nusing this:\n  0 < cc\n\ngoal (1 subgoal):\n 1. 0 < prod a {..n + s}", "by (simp add: a_pos prod_pos)"], ["proof (state)\nthis:\n  0 < prod a {..n + s}\n\ngoal (1 subgoal):\n 1. (\\<And>n. cc * 2 ^ n \\<le> prod a {..n + s}) \\<Longrightarrow>\n    1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})\n  0 < prod a {..n + s}", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})\n  0 < prod a {..n + s}\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "using \\<open>cc>0\\<close>"], ["proof (prove)\nusing this:\n  real_of_int (cc * 2 ^ n) \\<le> real_of_int (prod a {..n + s})\n  0 < prod a {..n + s}\n  0 < cc\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)", "by (auto simp:field_simps simp del:of_int_prod)"], ["proof (state)\nthis:\n  1 / real_of_int (prod a {..n + s}) \\<le> 1 / real_of_int (cc * 2 ^ n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / real_of_int (prod a {..?n + s}) \\<le> 1 / real_of_int (cc * 2 ^ ?n)\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "moreover"], ["proof (state)\nthis:\n  1 / real_of_int (prod a {..?n + s}) \\<le> 1 / real_of_int (cc * 2 ^ ?n)\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "have \"summable (\\<lambda>n. 1/(cc * 2^n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))", "have \"summable (\\<lambda>n. 1/(2::int)^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (2 ^ n))", "using summable_geometric[of \"1/(2::int)\"]"], ["proof (prove)\nusing this:\n  norm (1 / real_of_int 2) < 1 \\<Longrightarrow>\n  summable ((^) (1 / real_of_int 2))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (2 ^ n))", "by (simp add:power_one_over)"], ["proof (state)\nthis:\n  summable (\\<lambda>n. 1 / real_of_int (2 ^ n))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))", "from summable_mult[OF this,of \"1/cc\"]"], ["proof (chain)\npicking this:\n  summable (\\<lambda>n. 1 / real_of_int cc * (1 / real_of_int (2 ^ n)))", "show ?thesis"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. 1 / real_of_int cc * (1 / real_of_int (2 ^ n)))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))", "by auto"], ["proof (state)\nthis:\n  summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "ultimately"], ["proof (chain)\npicking this:\n  1 / real_of_int (prod a {..?n + s}) \\<le> 1 / real_of_int (cc * 2 ^ ?n)\n  summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))", "have \"summable (\\<lambda>n. 1 / (\\<Prod>k\\<le>n+s. a k))\""], ["proof (prove)\nusing this:\n  1 / real_of_int (prod a {..?n + s}) \\<le> 1 / real_of_int (cc * 2 ^ ?n)\n  summable (\\<lambda>n. 1 / real_of_int (cc * 2 ^ n))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (prod a {..n + s}))", "apply (elim summable_comparison_test'[where N=0])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>n.\n                   1 / real_of_int (prod a {..n + s})\n                   \\<le> 1 / real_of_int (cc * 2 ^ n);\n        0 \\<le> n\\<rbrakk>\n       \\<Longrightarrow> norm (1 / real_of_int (prod a {..n + s}))\n                         \\<le> 1 / real_of_int (cc * 2 ^ n)", "apply (unfold real_norm_def, subst abs_of_pos)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>n.\n                   1 / real_of_int (prod a {..n + s})\n                   \\<le> 1 / real_of_int (cc * 2 ^ n);\n        0 \\<le> n\\<rbrakk>\n       \\<Longrightarrow> 0 < 1 / real_of_int (prod a {..n + s})\n 2. \\<And>n.\n       \\<lbrakk>\\<And>n.\n                   1 / real_of_int (prod a {..n + s})\n                   \\<le> 1 / real_of_int (cc * 2 ^ n);\n        0 \\<le> n\\<rbrakk>\n       \\<Longrightarrow> 1 / real_of_int (prod a {..n + s})\n                         \\<le> 1 / real_of_int (cc * 2 ^ n)", "by (auto simp add: \\<open>\\<forall>n. 0 < (\\<Prod>k\\<le>n. real_of_int (a k))\\<close>)"], ["proof (state)\nthis:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n + s}))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "then"], ["proof (chain)\npicking this:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n + s}))", "have \"summable (\\<lambda>n. 1 / (\\<Prod>k\\<le>n. a k))\""], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n + s}))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))", "apply (subst summable_iff_shift[where k=s,symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n. 1 / real_of_int (prod a {..n + s})) \\<Longrightarrow>\n    summable (\\<lambda>n. 1 / real_of_int (prod a {..n + s}))", "by simp"], ["proof (state)\nthis:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "then"], ["proof (chain)\npicking this:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))", "have \"summable (\\<lambda>n. (a (n+1) * a (n+2)) / (\\<Prod>k\\<le>n+2. a k))\""], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (prod a {..n})) \\<Longrightarrow>\n    summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "assume asm:\"summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))\""], ["proof (state)\nthis:\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (prod a {..n})) \\<Longrightarrow>\n    summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "have \"1 / real_of_int (prod a {..n}) = (a (n+1) * a (n+2)) / (\\<Prod>k\\<le>n+2. a k)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n}) =\n    real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n}) =\n    real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2})", "have \"a (Suc (Suc n)) \\<noteq> 0\" \"a (Suc n) \\<noteq>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a (Suc (Suc n)) \\<noteq> 0 &&& a (Suc n) \\<noteq> 0", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. a (Suc (Suc n)) \\<noteq> 0 &&& a (Suc n) \\<noteq> 0", "by (metis less_irrefl)+"], ["proof (state)\nthis:\n  a (Suc (Suc n)) \\<noteq> 0\n  a (Suc n) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n}) =\n    real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2})", "then"], ["proof (chain)\npicking this:\n  a (Suc (Suc n)) \\<noteq> 0\n  a (Suc n) \\<noteq> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  a (Suc (Suc n)) \\<noteq> 0\n  a (Suc n) \\<noteq> 0\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (prod a {..n}) =\n    real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2})", "by (simp add: atLeast0_atMost_Suc atMost_atLeast0)"], ["proof (state)\nthis:\n  1 / real_of_int (prod a {..n}) =\n  real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / real_of_int (prod a {..?n}) =\n  real_of_int (a (?n + 1) * a (?n + 2)) / real_of_int (prod a {..?n + 2})\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. 1 / real_of_int (prod a {..n})) \\<Longrightarrow>\n    summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "then"], ["proof (chain)\npicking this:\n  1 / real_of_int (prod a {..?n}) =\n  real_of_int (a (?n + 1) * a (?n + 2)) / real_of_int (prod a {..?n + 2})", "show ?thesis"], ["proof (prove)\nusing this:\n  1 / real_of_int (prod a {..?n}) =\n  real_of_int (a (?n + 1) * a (?n + 2)) / real_of_int (prod a {..?n + 2})\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "using asm"], ["proof (prove)\nusing this:\n  1 / real_of_int (prod a {..?n}) =\n  real_of_int (a (?n + 1) * a (?n + 2)) / real_of_int (prod a {..?n + 2})\n  summable (\\<lambda>n. 1 / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "by auto"], ["proof (state)\nthis:\n  summable\n   (\\<lambda>n.\n       real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2}))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable\n   (\\<lambda>n.\n       real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2}))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "then"], ["proof (chain)\npicking this:\n  summable\n   (\\<lambda>n.\n       real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2}))", "show \"summable (\\<lambda>n. (a (n-1) * a n) / (\\<Prod>k\\<le>n. a k))\""], ["proof (prove)\nusing this:\n  summable\n   (\\<lambda>n.\n       real_of_int (a (n + 1) * a (n + 2)) / real_of_int (prod a {..n + 2}))\n\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "apply (subst summable_iff_shift[symmetric,of _ 2])"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable\n     (\\<lambda>n.\n         real_of_int (a (n + 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2})) \\<Longrightarrow>\n    summable\n     (\\<lambda>n.\n         real_of_int (a (n + 2 - 1) * a (n + 2)) /\n         real_of_int (prod a {..n + 2}))", "by auto"], ["proof (state)\nthis:\n  summable\n   (\\<lambda>n. real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable\n   (\\<lambda>n. real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     norm (real_of_int (b n) / real_of_int (prod a {..n}))\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n  summable\n   (\\<lambda>n. real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     norm (real_of_int (b n) / real_of_int (prod a {..n}))\n     < real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})\n  summable\n   (\\<lambda>n. real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "apply (elim summable_comparison_test_ev[rotated])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       norm (real_of_int (b n) / real_of_int (prod a {..n}))\n       < real_of_int (a (n - 1) * a n) /\n         real_of_int (prod a {..n}) \\<Longrightarrow>\n    \\<forall>\\<^sub>F n in sequentially.\n       norm (real_of_int (b n) / real_of_int (prod a {..n}))\n       \\<le> real_of_int (a (n - 1) * a n) / real_of_int (prod a {..n})", "by (simp add: eventually_mono)"], ["proof (state)\nthis:\n  summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "fun get_c::\"(nat \\<Rightarrow> int) \\<Rightarrow> (nat \\<Rightarrow> int) \\<Rightarrow> int \\<Rightarrow> nat \\<Rightarrow> (nat \\<Rightarrow> int)\" where\n  \"get_c a' b' B N 0 = round (B * b' N / a' N)\"|\n  \"get_c a' b' B N (Suc n) = get_c a' b' B N n * a' (n+N) - B * b' (n+N)\""], ["", "lemma ab_rationality_imp:\n  assumes ab_rational:\"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat>\"\n  shows \"\\<exists> (B::int)>0. \\<exists> c::nat\\<Rightarrow> int.\n            (\\<forall>\\<^sub>F n in sequentially. B*b n = c n * a n - c(n+1) \\<and> \\<bar>c(n+1)\\<bar><a n/2)\n            \\<and> (\\<lambda>n. c (Suc n) / a n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have [simp]:\"a n \\<noteq> 0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. a n \\<noteq> 0", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. a n \\<noteq> 0", "by (metis less_numeral_extra(3))"], ["proof (state)\nthis:\n  a ?n \\<noteq> 0\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "obtain A::int and B::int where \n    AB_eq:\"(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) = A / B\" and \"B>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A B.\n        \\<lbrakk>(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n                 real_of_int A / real_of_int B;\n         0 < B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>A B.\n        \\<lbrakk>(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n                 real_of_int A / real_of_int B;\n         0 < B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain q::rat where \"(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) = real_of_rat q\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>q.\n        (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n        real_of_rat q \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using ab_rational"], ["proof (prove)\nusing this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<And>q.\n        (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n        real_of_rat q \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (rule Rats_cases) simp"], ["proof (state)\nthis:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) = real_of_rat q\n\ngoal (1 subgoal):\n 1. (\\<And>A B.\n        \\<lbrakk>(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n                 real_of_int A / real_of_int B;\n         0 < B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) = real_of_rat q\n\ngoal (1 subgoal):\n 1. (\\<And>A B.\n        \\<lbrakk>(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n                 real_of_int A / real_of_int B;\n         0 < B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain A::int and B::int where \"q = Rat.Fract A B\" \"B > 0\" \"coprime A B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>A B.\n        \\<lbrakk>q = Rat.Fract A B; 0 < B; coprime A B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (rule Rat_cases) auto"], ["proof (state)\nthis:\n  q = Rat.Fract A B\n  0 < B\n  coprime A B\n\ngoal (1 subgoal):\n 1. (\\<And>A B.\n        \\<lbrakk>(\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n                 real_of_int A / real_of_int B;\n         0 < B\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) = real_of_rat q\n  q = Rat.Fract A B\n  0 < B\n  coprime A B", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) = real_of_rat q\n  q = Rat.Fract A B\n  0 < B\n  coprime A B\n\ngoal (1 subgoal):\n 1. thesis", "by (auto intro!: that[of A B] simp:of_rat_rat)"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) =\n  real_of_int A / real_of_int B\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "define f where \"f \\<equiv> (\\<lambda>n. b n / real_of_int (prod a {..n}))\""], ["proof (state)\nthis:\n  f \\<equiv> \\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n})\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "define R where \"R \\<equiv> (\\<lambda>N. (\\<Sum>n. B*b (n+N+1) / prod a {N..n+N+1}))\""], ["proof (state)\nthis:\n  R \\<equiv>\n  \\<lambda>N.\n     \\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1})\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have all_e_ubound:\"\\<forall>e>0. \\<forall>\\<^sub>F M in sequentially. \\<forall>n. \\<bar>B*b (n+M+1) / prod a {M..n+M+1}\\<bar> < e/4 * 1/2^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>e>0.\n       \\<forall>\\<^sub>F M in sequentially.\n          \\<forall>n.\n             \\<bar>real_of_int (B * b (n + M + 1)) /\n                   real_of_int (prod a {M..n + M + 1})\\<bar>\n             < e / 4 * 1 / 2 ^ n", "proof safe"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F M in sequentially.\n          \\<forall>n.\n             \\<bar>real_of_int (B * b (n + M + 1)) /\n                   real_of_int (prod a {M..n + M + 1})\\<bar>\n             < e / 4 * 1 / 2 ^ n", "fix e::real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F M in sequentially.\n          \\<forall>n.\n             \\<bar>real_of_int (B * b (n + M + 1)) /\n                   real_of_int (prod a {M..n + M + 1})\\<bar>\n             < e / 4 * 1 / 2 ^ n", "assume \"e>0\""], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F M in sequentially.\n          \\<forall>n.\n             \\<bar>real_of_int (B * b (n + M + 1)) /\n                   real_of_int (prod a {M..n + M + 1})\\<bar>\n             < e / 4 * 1 / 2 ^ n", "obtain N where N_a2: \"\\<forall>n \\<ge> N. a n \\<ge> 2\" \n      and N_ba: \"\\<forall>n \\<ge> N. \\<bar>b n\\<bar> / (a (n-1) * a n)  < e/(4*B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>n\\<ge>N. 2 \\<le> a n;\n         \\<forall>n\\<ge>N.\n            real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n            < e / real_of_int (4 * B)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>n\\<ge>N. 2 \\<le> a n;\n         \\<forall>n\\<ge>N.\n            real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n            < e / real_of_int (4 * B)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F n in sequentially. \\<bar>b n\\<bar> / (a (n - 1) * a n) < e/(4*B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n       < e / real_of_int (4 * B)", "using order_topology_class.order_tendstoD[OF ab_tendsto,of \"e/(4*B)\"] \\<open>B>0\\<close> \\<open>e>0\\<close>"], ["proof (prove)\nusing this:\n  e / real_of_int (4 * B) < 0 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     e / real_of_int (4 * B)\n     < real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x)\n  0 < e / real_of_int (4 * B) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     real_of_int \\<bar>b x\\<bar> / real_of_int (a (x - 1) * a x)\n     < e / real_of_int (4 * B)\n  0 < B\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n       < e / real_of_int (4 * B)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B)\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>n\\<ge>N. 2 \\<le> a n;\n         \\<forall>n\\<ge>N.\n            real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n            < e / real_of_int (4 * B)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B)\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>n\\<ge>N. 2 \\<le> a n;\n         \\<forall>n\\<ge>N.\n            real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n            < e / real_of_int (4 * B)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<forall>\\<^sub>F n in sequentially. a n \\<ge> 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 2 \\<le> a n", "using a_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 2 \\<le> a n", "by (auto elim: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 2 \\<le> a n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>n\\<ge>N. 2 \\<le> a n;\n         \\<forall>n\\<ge>N.\n            real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n            < e / real_of_int (4 * B)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B)\n  \\<forall>\\<^sub>F n in sequentially. 2 \\<le> a n", "have \"\\<forall>\\<^sub>F n in sequentially. \\<bar>b n\\<bar> / (a (n - 1) * a n) < e/(4*B) \\<and> a n \\<ge> 2\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B)\n  \\<forall>\\<^sub>F n in sequentially. 2 \\<le> a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n       < e / real_of_int (4 * B) \\<and>\n       2 \\<le> a n", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B) \\<and>\n     2 \\<le> a n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>n\\<ge>N. 2 \\<le> a n;\n         \\<forall>n\\<ge>N.\n            real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n            < e / real_of_int (4 * B)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B) \\<and>\n     2 \\<le> a n", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B) \\<and>\n     2 \\<le> a n\n\ngoal (1 subgoal):\n 1. thesis", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n        < e / real_of_int (4 * B) \\<and>\n        2 \\<le> a n\n\ngoal (1 subgoal):\n 1. thesis", "using that"], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n        < e / real_of_int (4 * B) \\<and>\n        2 \\<le> a n\n  \\<lbrakk>\\<forall>n\\<ge>?N. 2 \\<le> a n;\n   \\<forall>n\\<ge>?N.\n      real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n      < e / real_of_int (4 * B)\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N. 2 \\<le> a n\n  \\<forall>n\\<ge>N.\n     real_of_int \\<bar>b n\\<bar> / real_of_int (a (n - 1) * a n)\n     < e / real_of_int (4 * B)\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F M in sequentially.\n          \\<forall>n.\n             \\<bar>real_of_int (B * b (n + M + 1)) /\n                   real_of_int (prod a {M..n + M + 1})\\<bar>\n             < e / 4 * 1 / 2 ^ n", "have geq_N_bound:\"\\<bar>B*b (n+M+1) / prod a {M..n+M+1}\\<bar> < e/4 * 1/2^n\" when \"M\\<ge>N\" for n M"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "define D where \"D = B*b (n+M+1)/ (a (n+M) * a (n+M+1))\""], ["proof (state)\nthis:\n  D =\n  real_of_int (B * b (n + M + 1)) / real_of_int (a (n + M) * a (n + M + 1))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "have \"\\<bar>B*b (n+M+1) / prod a {M..n+M+1}\\<bar> = \\<bar>D / prod a {M..<n+M}\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar> =\n    \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar> =\n    \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>", "have \"{M..n+M+1} = {M..<n+M} \\<union> {n+M,n+M+1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {M..n + M + 1} = {M..<n + M} \\<union> {n + M, n + M + 1}", "by auto"], ["proof (state)\nthis:\n  {M..n + M + 1} = {M..<n + M} \\<union> {n + M, n + M + 1}\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar> =\n    \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>", "then"], ["proof (chain)\npicking this:\n  {M..n + M + 1} = {M..<n + M} \\<union> {n + M, n + M + 1}", "have \"prod a {M..n+M+1} = a (n+M) * a (n+M+1)* prod a {M..<n+M}\""], ["proof (prove)\nusing this:\n  {M..n + M + 1} = {M..<n + M} \\<union> {n + M, n + M + 1}\n\ngoal (1 subgoal):\n 1. prod a {M..n + M + 1} = a (n + M) * a (n + M + 1) * prod a {M..<n + M}", "by simp"], ["proof (state)\nthis:\n  prod a {M..n + M + 1} = a (n + M) * a (n + M + 1) * prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar> =\n    \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>", "then"], ["proof (chain)\npicking this:\n  prod a {M..n + M + 1} = a (n + M) * a (n + M + 1) * prod a {M..<n + M}", "show ?thesis"], ["proof (prove)\nusing this:\n  prod a {M..n + M + 1} = a (n + M) * a (n + M + 1) * prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar> =\n    \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>", "unfolding D_def"], ["proof (prove)\nusing this:\n  prod a {M..n + M + 1} = a (n + M) * a (n + M + 1) * prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar> =\n    \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (a (n + M) * a (n + M + 1)) /\n          real_of_int (prod a {M..<n + M})\\<bar>", "by (simp add:algebra_simps)"], ["proof (state)\nthis:\n  \\<bar>real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})\\<bar> =\n  \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})\\<bar> =\n  \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "also"], ["proof (state)\nthis:\n  \\<bar>real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})\\<bar> =\n  \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "have \"... <  \\<bar>e/4 * (1/prod a {M..<n+M})\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n    < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n    < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>", "have \"\\<bar>D\\<bar> < e/4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>D\\<bar> < e / 4", "unfolding D_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (a (n + M) * a (n + M + 1))\\<bar>\n    < e / 4", "using N_ba[rule_format, of \"n+M+1\"] \\<open>B>0\\<close> \\<open>M \\<ge> N\\<close> \\<open>e>0\\<close> a_pos"], ["proof (prove)\nusing this:\n  N \\<le> n + M + 1 \\<Longrightarrow>\n  real_of_int \\<bar>b (n + M + 1)\\<bar> /\n  real_of_int (a (n + M + 1 - 1) * a (n + M + 1))\n  < e / real_of_int (4 * B)\n  0 < B\n  N \\<le> M\n  0 < e\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (a (n + M) * a (n + M + 1))\\<bar>\n    < e / 4", "by (auto simp:field_simps abs_mult abs_of_pos)"], ["proof (state)\nthis:\n  \\<bar>D\\<bar> < e / 4\n\ngoal (1 subgoal):\n 1. \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n    < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>", "from mult_strict_right_mono[OF this,of \"1/prod a {M..<n+M}\"] a_pos \\<open>e>0\\<close>"], ["proof (chain)\npicking this:\n  0 < 1 / real_of_int (prod a {M..<n + M}) \\<Longrightarrow>\n  \\<bar>D\\<bar> * (1 / real_of_int (prod a {M..<n + M}))\n  < e / 4 * (1 / real_of_int (prod a {M..<n + M}))\n  \\<forall>n. 0 < a n\n  0 < e", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (prod a {M..<n + M}) \\<Longrightarrow>\n  \\<bar>D\\<bar> * (1 / real_of_int (prod a {M..<n + M}))\n  < e / 4 * (1 / real_of_int (prod a {M..<n + M}))\n  \\<forall>n. 0 < a n\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n    < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>", "apply (auto simp:abs_prod abs_mult prod_pos)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<bar>D\\<bar> / (\\<Prod>x = M..<n + M. real_of_int (a x))\n             < e / (4 * (\\<Prod>x = M..<n + M. real_of_int (a x)));\n     \\<forall>n. 0 < a n; 0 < e\\<rbrakk>\n    \\<Longrightarrow> \\<bar>D\\<bar> /\n                      (\\<Prod>x = M..<n + M. \\<bar>real_of_int (a x)\\<bar>)\n                      < e /\n                        (4 *\n                         (\\<Prod>x = M..<n + M.\n                             \\<bar>real_of_int (a x)\\<bar>))", "by (subst (2) abs_of_pos,auto)+"], ["proof (state)\nthis:\n  \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n  < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n  < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "also"], ["proof (state)\nthis:\n  \\<bar>D / real_of_int (prod a {M..<n + M})\\<bar>\n  < \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "have \"... \\<le> e/4 * 1/2^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n    \\<le> e / 4 * 1 / 2 ^ n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n    \\<le> e / 4 * 1 / 2 ^ n", "have \"prod a {M..<n+M} \\<ge> 2^n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ n \\<le> prod a {M..<n + M}", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. 2 ^ 0 \\<le> prod a {M..<0 + M}\n 2. \\<And>n.\n       2 ^ n \\<le> prod a {M..<n + M} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. 2 ^ 0 \\<le> prod a {M..<0 + M}\n 2. \\<And>n.\n       2 ^ n \\<le> prod a {M..<n + M} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ 0 \\<le> prod a {M..<0 + M}", "by simp"], ["proof (state)\nthis:\n  2 ^ 0 \\<le> prod a {M..<0 + M}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {M..<n + M} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {M..<n + M} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "case (Suc n)"], ["proof (state)\nthis:\n  2 ^ n \\<le> prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       2 ^ n \\<le> prod a {M..<n + M} \\<Longrightarrow>\n       2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "then"], ["proof (chain)\npicking this:\n  2 ^ n \\<le> prod a {M..<n + M}", "show ?case"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. 2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "using \\<open>M\\<ge>N\\<close>"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {M..<n + M}\n  N \\<le> M\n\ngoal (1 subgoal):\n 1. 2 ^ Suc n \\<le> prod a {M..<Suc n + M}", "by (simp add: N_a2 mult.commute mult_mono' prod.atLeastLessThan_Suc)"], ["proof (state)\nthis:\n  2 ^ Suc n \\<le> prod a {M..<Suc n + M}\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 ^ n \\<le> prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n    \\<le> e / 4 * 1 / 2 ^ n", "then"], ["proof (chain)\npicking this:\n  2 ^ n \\<le> prod a {M..<n + M}", "have \"real_of_int (prod a {M..<n+M}) \\<ge> 2^n\""], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {M..<n + M}\n\ngoal (1 subgoal):\n 1. 2 ^ n \\<le> real_of_int (prod a {M..<n + M})", "using numeral_power_le_of_int_cancel_iff"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> prod a {M..<n + M}\n  (numeral ?x ^ ?n \\<le> of_int ?a) = (numeral ?x ^ ?n \\<le> ?a)\n\ngoal (1 subgoal):\n 1. 2 ^ n \\<le> real_of_int (prod a {M..<n + M})", "by blast"], ["proof (state)\nthis:\n  2 ^ n \\<le> real_of_int (prod a {M..<n + M})\n\ngoal (1 subgoal):\n 1. \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n    \\<le> e / 4 * 1 / 2 ^ n", "then"], ["proof (chain)\npicking this:\n  2 ^ n \\<le> real_of_int (prod a {M..<n + M})", "show ?thesis"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> real_of_int (prod a {M..<n + M})\n\ngoal (1 subgoal):\n 1. \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n    \\<le> e / 4 * 1 / 2 ^ n", "using \\<open>e>0\\<close>"], ["proof (prove)\nusing this:\n  2 ^ n \\<le> real_of_int (prod a {M..<n + M})\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n    \\<le> e / 4 * 1 / 2 ^ n", "by (auto simp add:divide_simps)"], ["proof (state)\nthis:\n  \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n  \\<le> e / 4 * 1 / 2 ^ n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>e / 4 * (1 / real_of_int (prod a {M..<n + M}))\\<bar>\n  \\<le> e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "finally"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})\\<bar>\n  < e / 4 * 1 / 2 ^ n", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})\\<bar>\n  < e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "."], ["proof (state)\nthis:\n  \\<bar>real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})\\<bar>\n  < e / 4 * 1 / 2 ^ n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?M \\<Longrightarrow>\n  \\<bar>real_of_int (B * b (?n + ?M + 1)) /\n        real_of_int (prod a {?M..?n + ?M + 1})\\<bar>\n  < e / 4 * 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F M in sequentially.\n          \\<forall>n.\n             \\<bar>real_of_int (B * b (n + M + 1)) /\n                   real_of_int (prod a {M..n + M + 1})\\<bar>\n             < e / 4 * 1 / 2 ^ n", "show \"\\<forall>\\<^sub>F M in sequentially. \\<forall>n. \\<bar>real_of_int (B * b (n + M + 1)) \n                / real_of_int (prod a {M..n + M + 1})\\<bar> < e / 4 * 1 / 2 ^ n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F M in sequentially.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + M + 1)) /\n                real_of_int (prod a {M..n + M + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n", "apply (rule eventually_sequentiallyI[of N])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       N \\<le> x \\<Longrightarrow>\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n", "using geq_N_bound"], ["proof (prove)\nusing this:\n  N \\<le> ?M \\<Longrightarrow>\n  \\<bar>real_of_int (B * b (?n + ?M + 1)) /\n        real_of_int (prod a {?M..?n + ?M + 1})\\<bar>\n  < e / 4 * 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       N \\<le> x \\<Longrightarrow>\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n", "by blast"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F M in sequentially.\n     \\<forall>n.\n        \\<bar>real_of_int (B * b (n + M + 1)) /\n              real_of_int (prod a {M..n + M + 1})\\<bar>\n        < e / 4 * 1 / 2 ^ n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>e>0.\n     \\<forall>\\<^sub>F M in sequentially.\n        \\<forall>n.\n           \\<bar>real_of_int (B * b (n + M + 1)) /\n                 real_of_int (prod a {M..n + M + 1})\\<bar>\n           < e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have R_tendsto_0:\"R \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R \\<longlonglongrightarrow> 0", "proof (rule tendstoI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e", "fix e::real"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e", "assume \"e>0\""], ["proof (state)\nthis:\n  0 < e\n\ngoal (1 subgoal):\n 1. \\<And>e.\n       0 < e \\<Longrightarrow>\n       \\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e", "show \"\\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e", "using all_e_ubound[rule_format,OF \\<open>e>0\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F M in sequentially.\n     \\<forall>n.\n        \\<bar>real_of_int (B * b (n + M + 1)) /\n              real_of_int (prod a {M..n + M + 1})\\<bar>\n        < e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "case (elim M)"], ["proof (state)\nthis:\n  \\<forall>n.\n     \\<bar>real_of_int (B * b (n + M + 1)) /\n           real_of_int (prod a {M..n + M + 1})\\<bar>\n     < e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "define g where \"g = (\\<lambda>n. B*b (n+M+1) / prod a {M..n+M+1})\""], ["proof (state)\nthis:\n  g =\n  (\\<lambda>n.\n      real_of_int (B * b (n + M + 1)) / real_of_int (prod a {M..n + M + 1}))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "have g_lt:\"\\<bar>g n\\<bar> < e/4 * 1/2^n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>g n\\<bar> < e / 4 * 1 / 2 ^ n", "using elim"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     \\<bar>real_of_int (B * b (n + M + 1)) /\n           real_of_int (prod a {M..n + M + 1})\\<bar>\n     < e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>g n\\<bar> < e / 4 * 1 / 2 ^ n", "unfolding g_def"], ["proof (prove)\nusing this:\n  \\<forall>n.\n     \\<bar>real_of_int (B * b (n + M + 1)) /\n           real_of_int (prod a {M..n + M + 1})\\<bar>\n     < e / 4 * 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < e / 4 * 1 / 2 ^ n", "by auto"], ["proof (state)\nthis:\n  \\<bar>g ?n\\<bar> < e / 4 * 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "have \\<section>: \"summable (\\<lambda>n. (e/4) * (1/2)^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. e / 4 * (1 / 2) ^ n)", "by simp"], ["proof (state)\nthis:\n  summable (\\<lambda>n. e / 4 * (1 / 2) ^ n)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "then"], ["proof (chain)\npicking this:\n  summable (\\<lambda>n. e / 4 * (1 / 2) ^ n)", "have g_abs_summable:\"summable (\\<lambda>n. \\<bar>g n\\<bar>)\""], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. e / 4 * (1 / 2) ^ n)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "apply (elim summable_comparison_test')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       ?N1 \\<le> n \\<Longrightarrow>\n       norm \\<bar>g n\\<bar> \\<le> e / 4 * (1 / 2) ^ n", "by (metis abs_idempotent g_lt less_eq_real_def power_one_over real_norm_def times_divide_eq_right)"], ["proof (state)\nthis:\n  summable (\\<lambda>n. \\<bar>g n\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "have \"\\<bar>\\<Sum>n. g n\\<bar> \\<le> (\\<Sum>n. \\<bar>g n\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>n. g n\\<bar> \\<le> (\\<Sum>n. \\<bar>g n\\<bar>)", "by (rule summable_rabs[OF g_abs_summable])"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> (\\<Sum>n. \\<bar>g n\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "also"], ["proof (state)\nthis:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> (\\<Sum>n. \\<bar>g n\\<bar>)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "have \"... \\<le>(\\<Sum>n. e/4 * 1/2^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. \\<bar>g n\\<bar>) \\<le> (\\<Sum>n. e / 4 * 1 / 2 ^ n)", "proof (rule suminf_comparison)"], ["proof (state)\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. e / 4 * 1 / 2 ^ n)\n 2. \\<And>n. norm \\<bar>g n\\<bar> \\<le> e / 4 * 1 / 2 ^ n", "show \"summable (\\<lambda>n. e/4 * 1/2^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. e / 4 * 1 / 2 ^ n)", "using \\<section>"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. e / 4 * (1 / 2) ^ n)\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. e / 4 * 1 / 2 ^ n)", "unfolding power_divide"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. e / 4 * (1 ^ n / 2 ^ n))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. e / 4 * 1 / 2 ^ n)", "by simp"], ["proof (state)\nthis:\n  summable (\\<lambda>n. e / 4 * 1 / 2 ^ n)\n\ngoal (1 subgoal):\n 1. \\<And>n. norm \\<bar>g n\\<bar> \\<le> e / 4 * 1 / 2 ^ n", "show \"\\<And>n. norm \\<bar>g n\\<bar> \\<le> e / 4 * 1 / 2 ^ n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. norm \\<bar>g n\\<bar> \\<le> e / 4 * 1 / 2 ^ n", "using g_lt less_eq_real_def"], ["proof (prove)\nusing this:\n  \\<bar>g ?n\\<bar> < e / 4 * 1 / 2 ^ ?n\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. \\<And>n. norm \\<bar>g n\\<bar> \\<le> e / 4 * 1 / 2 ^ n", "by auto"], ["proof (state)\nthis:\n  norm \\<bar>g ?n\\<bar> \\<le> e / 4 * 1 / 2 ^ ?n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>n. \\<bar>g n\\<bar>) \\<le> (\\<Sum>n. e / 4 * 1 / 2 ^ n)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "also"], ["proof (state)\nthis:\n  (\\<Sum>n. \\<bar>g n\\<bar>) \\<le> (\\<Sum>n. e / 4 * 1 / 2 ^ n)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "have \"... = (e/4) * (\\<Sum>n. (1/2)^n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. e / 4 * 1 / 2 ^ n) = e / 4 * (\\<Sum>n. (1 / 2) ^ n)", "apply (subst suminf_mult[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable ((^) (1 / 2))\n 2. (\\<Sum>n. e / 4 * 1 / 2 ^ n) = (\\<Sum>n. e / 4 * (1 / 2) ^ n)", "by (auto simp: algebra_simps power_divide)"], ["proof (state)\nthis:\n  (\\<Sum>n. e / 4 * 1 / 2 ^ n) = e / 4 * (\\<Sum>n. (1 / 2) ^ n)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "also"], ["proof (state)\nthis:\n  (\\<Sum>n. e / 4 * 1 / 2 ^ n) = e / 4 * (\\<Sum>n. (1 / 2) ^ n)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "have \"... = e/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. e / 4 * (\\<Sum>n. (1 / 2) ^ n) = e / 2", "by (simp add:suminf_geometric[of \"1/2\"])"], ["proof (state)\nthis:\n  e / 4 * (\\<Sum>n. (1 / 2) ^ n) = e / 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "finally"], ["proof (chain)\npicking this:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2", "have \"\\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2\""], ["proof (prove)\nusing this:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2\n\ngoal (1 subgoal):\n 1. \\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2", "."], ["proof (state)\nthis:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<forall>n.\n          \\<bar>real_of_int (B * b (n + x + 1)) /\n                real_of_int (prod a {x..n + x + 1})\\<bar>\n          < e / 4 * 1 / 2 ^ n \\<Longrightarrow>\n       dist (R x) 0 < e", "then"], ["proof (chain)\npicking this:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2", "show \"dist (R M) 0 < e\""], ["proof (prove)\nusing this:\n  \\<bar>\\<Sum>n. g n\\<bar> \\<le> e / 2\n\ngoal (1 subgoal):\n 1. dist (R M) 0 < e", "unfolding R_def g_def"], ["proof (prove)\nusing this:\n  \\<bar>\\<Sum>n.\n           real_of_int (B * b (n + M + 1)) /\n           real_of_int (prod a {M..n + M + 1})\\<bar>\n  \\<le> e / 2\n\ngoal (1 subgoal):\n 1. dist\n     (\\<Sum>n.\n         real_of_int (B * b (n + M + 1)) /\n         real_of_int (prod a {M..n + M + 1}))\n     0\n    < e", "using \\<open>e>0\\<close>"], ["proof (prove)\nusing this:\n  \\<bar>\\<Sum>n.\n           real_of_int (B * b (n + M + 1)) /\n           real_of_int (prod a {M..n + M + 1})\\<bar>\n  \\<le> e / 2\n  0 < e\n\ngoal (1 subgoal):\n 1. dist\n     (\\<Sum>n.\n         real_of_int (B * b (n + M + 1)) /\n         real_of_int (prod a {M..n + M + 1}))\n     0\n    < e", "by auto"], ["proof (state)\nthis:\n  dist (R M) 0 < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. dist (R x) 0 < e\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  R \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "obtain N where R_N_bound:\"\\<forall>M \\<ge> N. \\<bar>R M\\<bar> \\<le>  1 / 4\"\n    and N_geometric:\"\\<forall>M\\<ge>N. \\<forall>n. \\<bar>real_of_int (B * b (n + M + 1)) / (prod a {M..n + M + 1})\\<bar> < 1 / 2 ^ n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4;\n         \\<forall>M\\<ge>N.\n            \\<forall>n.\n               \\<bar>real_of_int (B * b (n + M + 1)) /\n                     real_of_int (prod a {M..n + M + 1})\\<bar>\n               < 1 / 2 ^ n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4;\n         \\<forall>M\\<ge>N.\n            \\<forall>n.\n               \\<bar>real_of_int (B * b (n + M + 1)) /\n                     real_of_int (prod a {M..n + M + 1})\\<bar>\n               < 1 / 2 ^ n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain N1 where N1:\"\\<forall>M \\<ge> N1. \\<bar>R M\\<bar> \\<le>  1 / 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N1.\n        \\<forall>M\\<ge>N1. \\<bar>R M\\<bar> \\<le> 1 / 4 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using metric_LIMSEQ_D[OF R_tendsto_0,of \"1/4\"] all_e_ubound[rule_format,of 4,unfolded eventually_sequentially]"], ["proof (prove)\nusing this:\n  0 < 1 / 4 \\<Longrightarrow>\n  \\<exists>no. \\<forall>n\\<ge>no. dist (R n) 0 < 1 / 4\n  0 < 4 \\<Longrightarrow>\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        \\<forall>na.\n           \\<bar>real_of_int (B * b (na + n + 1)) /\n                 real_of_int (prod a {n..na + n + 1})\\<bar>\n           < 4 / 4 * 1 / 2 ^ na\n\ngoal (1 subgoal):\n 1. (\\<And>N1.\n        \\<forall>M\\<ge>N1. \\<bar>R M\\<bar> \\<le> 1 / 4 \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp:less_eq_real_def)"], ["proof (state)\nthis:\n  \\<forall>M\\<ge>N1. \\<bar>R M\\<bar> \\<le> 1 / 4\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4;\n         \\<forall>M\\<ge>N.\n            \\<forall>n.\n               \\<bar>real_of_int (B * b (n + M + 1)) /\n                     real_of_int (prod a {M..n + M + 1})\\<bar>\n               < 1 / 2 ^ n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain N2 where N2:\"\\<forall>M\\<ge>N2. \\<forall>n. \\<bar>real_of_int (B * b (n + M + 1)) \n                          / (prod a {M..n + M + 1})\\<bar> < 1 / 2 ^ n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N2.\n        \\<forall>M\\<ge>N2.\n           \\<forall>n.\n              \\<bar>real_of_int (B * b (n + M + 1)) /\n                    real_of_int (prod a {M..n + M + 1})\\<bar>\n              < 1 / 2 ^ n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using all_e_ubound[rule_format,of 4,unfolded eventually_sequentially]"], ["proof (prove)\nusing this:\n  0 < 4 \\<Longrightarrow>\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        \\<forall>na.\n           \\<bar>real_of_int (B * b (na + n + 1)) /\n                 real_of_int (prod a {n..na + n + 1})\\<bar>\n           < 4 / 4 * 1 / 2 ^ na\n\ngoal (1 subgoal):\n 1. (\\<And>N2.\n        \\<forall>M\\<ge>N2.\n           \\<forall>n.\n              \\<bar>real_of_int (B * b (n + M + 1)) /\n                    real_of_int (prod a {M..n + M + 1})\\<bar>\n              < 1 / 2 ^ n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (auto simp:less_eq_real_def)"], ["proof (state)\nthis:\n  \\<forall>M\\<ge>N2.\n     \\<forall>n.\n        \\<bar>real_of_int (B * b (n + M + 1)) /\n              real_of_int (prod a {M..n + M + 1})\\<bar>\n        < 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4;\n         \\<forall>M\\<ge>N.\n            \\<forall>n.\n               \\<bar>real_of_int (B * b (n + M + 1)) /\n                     real_of_int (prod a {M..n + M + 1})\\<bar>\n               < 1 / 2 ^ n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define N where \"N=max N1 N2\""], ["proof (state)\nthis:\n  N = max N1 N2\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>\\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4;\n         \\<forall>M\\<ge>N.\n            \\<forall>n.\n               \\<bar>real_of_int (B * b (n + M + 1)) /\n                     real_of_int (prod a {M..n + M + 1})\\<bar>\n               < 1 / 2 ^ n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. thesis", "using that[of N] N1 N2"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4;\n   \\<forall>M\\<ge>N.\n      \\<forall>n.\n         \\<bar>real_of_int (B * b (n + M + 1)) /\n               real_of_int (prod a {M..n + M + 1})\\<bar>\n         < 1 / 2 ^ n\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<forall>M\\<ge>N1. \\<bar>R M\\<bar> \\<le> 1 / 4\n  \\<forall>M\\<ge>N2.\n     \\<forall>n.\n        \\<bar>real_of_int (B * b (n + M + 1)) /\n              real_of_int (prod a {M..n + M + 1})\\<bar>\n        < 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. thesis", "unfolding N_def"], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<forall>M\\<ge>max N1 N2. \\<bar>R M\\<bar> \\<le> 1 / 4;\n   \\<forall>M\\<ge>max N1 N2.\n      \\<forall>n.\n         \\<bar>real_of_int (B * b (n + M + 1)) /\n               real_of_int (prod a {M..n + M + 1})\\<bar>\n         < 1 / 2 ^ n\\<rbrakk>\n  \\<Longrightarrow> thesis\n  \\<forall>M\\<ge>N1. \\<bar>R M\\<bar> \\<le> 1 / 4\n  \\<forall>M\\<ge>N2.\n     \\<forall>n.\n        \\<bar>real_of_int (B * b (n + M + 1)) /\n              real_of_int (prod a {M..n + M + 1})\\<bar>\n        < 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. thesis", "by simp"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>M\\<ge>N. \\<bar>R M\\<bar> \\<le> 1 / 4\n  \\<forall>M\\<ge>N.\n     \\<forall>n.\n        \\<bar>real_of_int (B * b (n + M + 1)) /\n              real_of_int (prod a {M..n + M + 1})\\<bar>\n        < 1 / 2 ^ n\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "define C where \"C = B * prod a {..<N} * (\\<Sum>n<N. f n)\""], ["proof (state)\nthis:\n  C = real_of_int (B * prod a {..<N}) * sum f {..<N}\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have \"summable f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable f", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "using aux_series_summable"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "."], ["proof (state)\nthis:\n  summable f\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have \"A * prod a {..<N} = C + B * b N / a N  + R N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "have \"A * prod a {..<N} = B * prod a {..<N} * (\\<Sum>n. f n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n)", "unfolding AB_eq f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    real_of_int (B * prod a {..<N}) * (real_of_int A / real_of_int B)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    real_of_int (B * prod a {..<N}) * (real_of_int A / real_of_int B)", "by auto"], ["proof (state)\nthis:\n  real_of_int (A * prod a {..<N}) =\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n)\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "also"], ["proof (state)\nthis:\n  real_of_int (A * prod a {..<N}) =\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n)\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "have \"... = B * prod a {..<N} * ((\\<Sum>n<N+1. f n) + (\\<Sum>n. f (n+N+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n) =\n    real_of_int (B * prod a {..<N}) *\n    (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1)))", "using suminf_split_initial_segment[OF \\<open>summable f\\<close>, of \"N+1\"]"], ["proof (prove)\nusing this:\n  suminf f = (\\<Sum>n. f (n + (N + 1))) + sum f {..<N + 1}\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n) =\n    real_of_int (B * prod a {..<N}) *\n    (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1)))", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n) =\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1)))\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "also"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f n) =\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1)))\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "have \"... = B * prod a {..<N} * ((\\<Sum>n<N. f n) + f N + (\\<Sum>n. f (n+N+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1))) =\n    real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1)))", "using sum.atLeast0_lessThan_Suc"], ["proof (prove)\nusing this:\n  sum ?g {0..<Suc ?n} = sum ?g {0..<?n} + ?g ?n\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1))) =\n    real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1)))", "by simp"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1))) =\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1)))\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "also"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N + 1} + (\\<Sum>n. f (n + N + 1))) =\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1)))\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "have \"... = C + B * b N / a N + (\\<Sum>n. B*b (n+N+1) / prod a {N..n+N+1})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "have \"B * prod a {..<N} * f N = B * b N / a N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f N =\n    real_of_int (B * b N) / real_of_int (a N)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f N =\n    real_of_int (B * b N) / real_of_int (a N)", "have \"{..N} =  {..<N} \\<union> {N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {..N} = {..<N} \\<union> {N}", "using ivl_disj_un_singleton(2)"], ["proof (prove)\nusing this:\n  {..<?u} \\<union> {?u} = {..?u}\n\ngoal (1 subgoal):\n 1. {..N} = {..<N} \\<union> {N}", "by blast"], ["proof (state)\nthis:\n  {..N} = {..<N} \\<union> {N}\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f N =\n    real_of_int (B * b N) / real_of_int (a N)", "then"], ["proof (chain)\npicking this:\n  {..N} = {..<N} \\<union> {N}", "show ?thesis"], ["proof (prove)\nusing this:\n  {..N} = {..<N} \\<union> {N}\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f N =\n    real_of_int (B * b N) / real_of_int (a N)", "unfolding f_def"], ["proof (prove)\nusing this:\n  {..N} = {..<N} \\<union> {N}\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (real_of_int (b N) / real_of_int (prod a {..N})) =\n    real_of_int (B * b N) / real_of_int (a N)", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f N =\n  real_of_int (B * b N) / real_of_int (a N)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f N =\n  real_of_int (B * b N) / real_of_int (a N)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "moreover"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f N =\n  real_of_int (B * b N) / real_of_int (a N)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "have \"B * prod a {..<N} * (\\<Sum>n. f (n+N+1)) = (\\<Sum>n. B*b (n+N+1) / prod a {N..n+N+1})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "have \"summable (\\<lambda>n. f (n + N + 1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. f (n + N + 1))", "using \\<open>summable f\\<close> summable_iff_shift[of f \"N+1\"]"], ["proof (prove)\nusing this:\n  summable f\n  summable (\\<lambda>n. f (n + (N + 1))) = summable f\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. f (n + N + 1))", "by auto"], ["proof (state)\nthis:\n  summable (\\<lambda>n. f (n + N + 1))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "moreover"], ["proof (state)\nthis:\n  summable (\\<lambda>n. f (n + N + 1))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "have \"prod a {..<N} * f (n + N + 1) = b (n + N + 1) / prod a {N..n + N + 1}\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (prod a {..<N}) * f (n + N + 1) =\n    real_of_int (b (n + N + 1)) / real_of_int (prod a {N..n + N + 1})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (prod a {..<N}) * f (n + N + 1) =\n    real_of_int (b (n + N + 1)) / real_of_int (prod a {N..n + N + 1})", "have \"{..n + N + 1} = {..<N} \\<union> {N..n + N + 1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {..n + N + 1} = {..<N} \\<union> {N..n + N + 1}", "by auto"], ["proof (state)\nthis:\n  {..n + N + 1} = {..<N} \\<union> {N..n + N + 1}\n\ngoal (1 subgoal):\n 1. real_of_int (prod a {..<N}) * f (n + N + 1) =\n    real_of_int (b (n + N + 1)) / real_of_int (prod a {N..n + N + 1})", "then"], ["proof (chain)\npicking this:\n  {..n + N + 1} = {..<N} \\<union> {N..n + N + 1}", "show ?thesis"], ["proof (prove)\nusing this:\n  {..n + N + 1} = {..<N} \\<union> {N..n + N + 1}\n\ngoal (1 subgoal):\n 1. real_of_int (prod a {..<N}) * f (n + N + 1) =\n    real_of_int (b (n + N + 1)) / real_of_int (prod a {N..n + N + 1})", "unfolding f_def"], ["proof (prove)\nusing this:\n  {..n + N + 1} = {..<N} \\<union> {N..n + N + 1}\n\ngoal (1 subgoal):\n 1. real_of_int (prod a {..<N}) *\n    (real_of_int (b (n + N + 1)) / real_of_int (prod a {..n + N + 1})) =\n    real_of_int (b (n + N + 1)) / real_of_int (prod a {N..n + N + 1})", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. {..Suc (n + N)} = {..<N} \\<union> {N..Suc (n + N)} \\<Longrightarrow>\n    (\\<Prod>x<N. real_of_int (a x)) * real_of_int (b (Suc (n + N))) /\n    (\\<Prod>x\\<in>{..<N} \\<union> {N..Suc (n + N)}. real_of_int (a x)) =\n    real_of_int (b (Suc (n + N))) /\n    ((\\<Prod>x = N..n + N. real_of_int (a x)) *\n     real_of_int (a (Suc (n + N))))", "apply (subst prod.union_disjoint)"], ["proof (prove)\ngoal (4 subgoals):\n 1. {..Suc (n + N)} = {..<N} \\<union> {N..Suc (n + N)} \\<Longrightarrow>\n    finite {..<N}\n 2. {..Suc (n + N)} = {..<N} \\<union> {N..Suc (n + N)} \\<Longrightarrow>\n    finite {N..Suc (n + N)}\n 3. {..Suc (n + N)} = {..<N} \\<union> {N..Suc (n + N)} \\<Longrightarrow>\n    {..<N} \\<inter> {N..Suc (n + N)} = {}\n 4. {..Suc (n + N)} = {..<N} \\<union> {N..Suc (n + N)} \\<Longrightarrow>\n    (\\<Prod>x<N. real_of_int (a x)) * real_of_int (b (Suc (n + N))) /\n    ((\\<Prod>x<N. real_of_int (a x)) *\n     (\\<Prod>x = N..Suc (n + N). real_of_int (a x))) =\n    real_of_int (b (Suc (n + N))) /\n    ((\\<Prod>x = N..n + N. real_of_int (a x)) *\n     real_of_int (a (Suc (n + N))))", "by auto"], ["proof (state)\nthis:\n  real_of_int (prod a {..<N}) * f (n + N + 1) =\n  real_of_int (b (n + N + 1)) / real_of_int (prod a {N..n + N + 1})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (prod a {..<N}) * f (?n + N + 1) =\n  real_of_int (b (?n + N + 1)) / real_of_int (prod a {N..?n + N + 1})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "ultimately"], ["proof (chain)\npicking this:\n  summable (\\<lambda>n. f (n + N + 1))\n  real_of_int (prod a {..<N}) * f (?n + N + 1) =\n  real_of_int (b (?n + N + 1)) / real_of_int (prod a {N..?n + N + 1})", "show ?thesis"], ["proof (prove)\nusing this:\n  summable (\\<lambda>n. f (n + N + 1))\n  real_of_int (prod a {..<N}) * f (?n + N + 1) =\n  real_of_int (b (?n + N + 1)) / real_of_int (prod a {N..?n + N + 1})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "apply (subst suminf_mult[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>summable (\\<lambda>n. f (n + N + 1));\n     \\<And>n.\n        real_of_int (prod a {..<N}) * f (n + N + 1) =\n        real_of_int (b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1})\\<rbrakk>\n    \\<Longrightarrow> summable (\\<lambda>n. f (n + N + 1))\n 2. \\<lbrakk>summable (\\<lambda>n. f (n + N + 1));\n     \\<And>n.\n        real_of_int (prod a {..<N}) * f (n + N + 1) =\n        real_of_int (b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1})\\<rbrakk>\n    \\<Longrightarrow> (\\<Sum>n.\n                          real_of_int (B * prod a {..<N}) * f (n + N + 1)) =\n                      (\\<Sum>n.\n                          real_of_int (B * b (n + N + 1)) /\n                          real_of_int (prod a {N..n + N + 1}))", "by (auto simp add: mult.commute mult.left_commute)"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (B * prod a {..<N}) * f N =\n  real_of_int (B * b N) / real_of_int (a N)\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * f N =\n  real_of_int (B * b N) / real_of_int (a N)\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "unfolding C_def"], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * f N =\n  real_of_int (B * b N) / real_of_int (a N)\n  real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N + 1)) =\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n    real_of_int (B * prod a {..<N}) * sum f {..<N} +\n    real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n  C + real_of_int (B * b N) / real_of_int (a N) +\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n  C + real_of_int (B * b N) / real_of_int (a N) +\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "also"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) *\n  (sum f {..<N} + f N + (\\<Sum>n. f (n + N + 1))) =\n  C + real_of_int (B * b N) / real_of_int (a N) +\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) / real_of_int (prod a {N..n + N + 1}))\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "have \"... = C +B * b N / a N  + R N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1})) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "unfolding R_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1})) =\n    C + real_of_int (B * b N) / real_of_int (a N) +\n    (\\<Sum>n.\n        real_of_int (B * b (n + N + 1)) /\n        real_of_int (prod a {N..n + N + 1}))", "by simp"], ["proof (state)\nthis:\n  C + real_of_int (B * b N) / real_of_int (a N) +\n  (\\<Sum>n.\n      real_of_int (B * b (n + N + 1)) /\n      real_of_int (prod a {N..n + N + 1})) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "finally"], ["proof (chain)\npicking this:\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N\n\ngoal (1 subgoal):\n 1. real_of_int (A * prod a {..<N}) =\n    C + real_of_int (B * b N) / real_of_int (a N) + R N", "."], ["proof (state)\nthis:\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have R_bound:\"\\<bar>R M\\<bar> \\<le> 1 / 4\" and R_Suc:\"R (Suc M) = a M * R M - B * b (Suc M) / a (Suc M)\" \n    when \"M \\<ge> N\" for M"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>R M\\<bar> \\<le> 1 / 4 &&&\n    R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<bar>R M\\<bar> \\<le> 1 / 4\n 2. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "define g where \"g = (\\<lambda>n. B*b (n+M+1) / prod a {M..n+M+1})\""], ["proof (state)\nthis:\n  g =\n  (\\<lambda>n.\n      real_of_int (B * b (n + M + 1)) / real_of_int (prod a {M..n + M + 1}))\n\ngoal (2 subgoals):\n 1. \\<bar>R M\\<bar> \\<le> 1 / 4\n 2. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "have g_abs_summable:\"summable (\\<lambda>n. \\<bar>g n\\<bar>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "have \"summable (\\<lambda>n. (1/2::real) ^ n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable ((^) (1 / 2))", "by simp"], ["proof (state)\nthis:\n  summable ((^) (1 / 2))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "moreover"], ["proof (state)\nthis:\n  summable ((^) (1 / 2))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "have \"\\<bar>g n\\<bar> < 1/2^n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>g n\\<bar> < 1 / 2 ^ n", "using N_geometric[rule_format,OF that]"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (B * b (?n + M + 1)) /\n        real_of_int (prod a {M..?n + M + 1})\\<bar>\n  < 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. \\<bar>g n\\<bar> < 1 / 2 ^ n", "unfolding g_def"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (B * b (?n + M + 1)) /\n        real_of_int (prod a {M..?n + M + 1})\\<bar>\n  < 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (B * b (n + M + 1)) /\n          real_of_int (prod a {M..n + M + 1})\\<bar>\n    < 1 / 2 ^ n", "by simp"], ["proof (state)\nthis:\n  \\<bar>g ?n\\<bar> < 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "ultimately"], ["proof (chain)\npicking this:\n  summable ((^) (1 / 2))\n  \\<bar>g ?n\\<bar> < 1 / 2 ^ ?n", "show ?thesis"], ["proof (prove)\nusing this:\n  summable ((^) (1 / 2))\n  \\<bar>g ?n\\<bar> < 1 / 2 ^ ?n\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. \\<bar>g n\\<bar>)", "apply (elim summable_comparison_test')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<And>n. \\<bar>g n\\<bar> < 1 / 2 ^ n; ?N3 \\<le> n\\<rbrakk>\n       \\<Longrightarrow> norm \\<bar>g n\\<bar> \\<le> (1 / 2) ^ n", "by (simp add: less_eq_real_def power_one_over)"], ["proof (state)\nthis:\n  summable (\\<lambda>n. \\<bar>g n\\<bar>)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  summable (\\<lambda>n. \\<bar>g n\\<bar>)\n\ngoal (2 subgoals):\n 1. \\<bar>R M\\<bar> \\<le> 1 / 4\n 2. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "show \"\\<bar>R M\\<bar> \\<le> 1 / 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>R M\\<bar> \\<le> 1 / 4", "using R_N_bound[rule_format,OF that]"], ["proof (prove)\nusing this:\n  \\<bar>R M\\<bar> \\<le> 1 / 4\n\ngoal (1 subgoal):\n 1. \\<bar>R M\\<bar> \\<le> 1 / 4", "."], ["proof (state)\nthis:\n  \\<bar>R M\\<bar> \\<le> 1 / 4\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "have \"R M = (\\<Sum>n. g n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. R M = (\\<Sum>n. g n)", "unfolding R_def g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n.\n        real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1})) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + M + 1)) /\n        real_of_int (prod a {M..n + M + 1}))", "by simp"], ["proof (state)\nthis:\n  R M = (\\<Sum>n. g n)\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "also"], ["proof (state)\nthis:\n  R M = (\\<Sum>n. g n)\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "have \"... = g 0 + (\\<Sum>n. g (Suc n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. g n) = g 0 + (\\<Sum>n. g (Suc n))", "apply (subst suminf_split_head)"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable g\n 2. suminf g = g 0 + (suminf g - g 0)", "using summable_rabs_cancel[OF g_abs_summable]"], ["proof (prove)\nusing this:\n  summable g\n\ngoal (2 subgoals):\n 1. summable g\n 2. suminf g = g 0 + (suminf g - g 0)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>n. g n) = g 0 + (\\<Sum>n. g (Suc n))\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "also"], ["proof (state)\nthis:\n  (\\<Sum>n. g n) = g 0 + (\\<Sum>n. g (Suc n))\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "have \"... = g 0 + 1/a M * (\\<Sum>n. a M * g (Suc n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g 0 + (\\<Sum>n. g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n))", "apply (subst suminf_mult)"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. g (Suc n))\n 2. g 0 + (\\<Sum>n. g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * (real_of_int (a M) * (\\<Sum>n. g (Suc n)))", "by (auto simp add: g_abs_summable summable_Suc_iff summable_rabs_cancel)"], ["proof (state)\nthis:\n  g 0 + (\\<Sum>n. g (Suc n)) =\n  g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n))\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "also"], ["proof (state)\nthis:\n  g 0 + (\\<Sum>n. g (Suc n)) =\n  g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n))\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "have \"... = g 0 + 1/a M * R (Suc M)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * R (Suc M)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * R (Suc M)", "have \"a M * g (Suc n) = B * b (n + M + 2) / prod a {Suc M..n + M + 2}\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a M) * g (Suc n) =\n    real_of_int (B * b (n + M + 2)) /\n    real_of_int (prod a {Suc M..n + M + 2})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (a M) * g (Suc n) =\n    real_of_int (B * b (n + M + 2)) /\n    real_of_int (prod a {Suc M..n + M + 2})", "have \"{M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}", "by auto"], ["proof (state)\nthis:\n  {M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}\n\ngoal (1 subgoal):\n 1. real_of_int (a M) * g (Suc n) =\n    real_of_int (B * b (n + M + 2)) /\n    real_of_int (prod a {Suc M..n + M + 2})", "then"], ["proof (chain)\npicking this:\n  {M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}", "show ?thesis"], ["proof (prove)\nusing this:\n  {M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}\n\ngoal (1 subgoal):\n 1. real_of_int (a M) * g (Suc n) =\n    real_of_int (B * b (n + M + 2)) /\n    real_of_int (prod a {Suc M..n + M + 2})", "unfolding g_def"], ["proof (prove)\nusing this:\n  {M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}\n\ngoal (1 subgoal):\n 1. real_of_int (a M) *\n    (real_of_int (B * b (Suc n + M + 1)) /\n     real_of_int (prod a {M..Suc n + M + 1})) =\n    real_of_int (B * b (n + M + 2)) /\n    real_of_int (prod a {Suc M..n + M + 2})", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  {M..Suc (Suc (M + n))} = {M} \\<union> {Suc M..Suc (Suc (M + n))}\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (a M) *\n    (real_of_int (B * b (Suc n + M + 1)) /\n     real_of_int (prod a {M..Suc n + M + 1})) =\n    real_of_int (B * b (n + M + 2)) /\n    real_of_int (prod a {Suc M..n + M + 2})", "by (auto simp add:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (a M) * g (Suc n) =\n  real_of_int (B * b (n + M + 2)) / real_of_int (prod a {Suc M..n + M + 2})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (a M) * g (Suc ?n) =\n  real_of_int (B * b (?n + M + 2)) /\n  real_of_int (prod a {Suc M..?n + M + 2})\n\ngoal (1 subgoal):\n 1. g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * R (Suc M)", "then"], ["proof (chain)\npicking this:\n  real_of_int (a M) * g (Suc ?n) =\n  real_of_int (B * b (?n + M + 2)) /\n  real_of_int (prod a {Suc M..?n + M + 2})", "have \"(\\<Sum>n. a M * g (Suc n)) = R (Suc M)\""], ["proof (prove)\nusing this:\n  real_of_int (a M) * g (Suc ?n) =\n  real_of_int (B * b (?n + M + 2)) /\n  real_of_int (prod a {Suc M..?n + M + 2})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (a M) * g (Suc n)) = R (Suc M)", "unfolding R_def"], ["proof (prove)\nusing this:\n  real_of_int (a M) * g (Suc ?n) =\n  real_of_int (B * b (?n + M + 2)) /\n  real_of_int (prod a {Suc M..?n + M + 2})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n    (\\<Sum>n.\n        real_of_int (B * b (n + Suc M + 1)) /\n        real_of_int (prod a {Suc M..n + Suc M + 1}))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>n. real_of_int (a M) * g (Suc n)) = R (Suc M)\n\ngoal (1 subgoal):\n 1. g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * R (Suc M)", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>n. real_of_int (a M) * g (Suc n)) = R (Suc M)", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>n. real_of_int (a M) * g (Suc n)) = R (Suc M)\n\ngoal (1 subgoal):\n 1. g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n    g 0 + 1 / real_of_int (a M) * R (Suc M)", "by auto"], ["proof (state)\nthis:\n  g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n  g 0 + 1 / real_of_int (a M) * R (Suc M)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  g 0 + 1 / real_of_int (a M) * (\\<Sum>n. real_of_int (a M) * g (Suc n)) =\n  g 0 + 1 / real_of_int (a M) * R (Suc M)\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "finally"], ["proof (chain)\npicking this:\n  R M = g 0 + 1 / real_of_int (a M) * R (Suc M)", "have \"R M = g 0 + 1 / a M * R (Suc M)\""], ["proof (prove)\nusing this:\n  R M = g 0 + 1 / real_of_int (a M) * R (Suc M)\n\ngoal (1 subgoal):\n 1. R M = g 0 + 1 / real_of_int (a M) * R (Suc M)", "."], ["proof (state)\nthis:\n  R M = g 0 + 1 / real_of_int (a M) * R (Suc M)\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "then"], ["proof (chain)\npicking this:\n  R M = g 0 + 1 / real_of_int (a M) * R (Suc M)", "have \"R (Suc M) = a M * R M - g 0 * a M\""], ["proof (prove)\nusing this:\n  R M = g 0 + 1 / real_of_int (a M) * R (Suc M)\n\ngoal (1 subgoal):\n 1. R (Suc M) = real_of_int (a M) * R M - g 0 * real_of_int (a M)", "by (auto simp add:algebra_simps)"], ["proof (state)\nthis:\n  R (Suc M) = real_of_int (a M) * R M - g 0 * real_of_int (a M)\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "moreover"], ["proof (state)\nthis:\n  R (Suc M) = real_of_int (a M) * R M - g 0 * real_of_int (a M)\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "have \"{M..Suc M} = {M,Suc M}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {M..Suc M} = {M, Suc M}", "by auto"], ["proof (state)\nthis:\n  {M..Suc M} = {M, Suc M}\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "ultimately"], ["proof (chain)\npicking this:\n  R (Suc M) = real_of_int (a M) * R M - g 0 * real_of_int (a M)\n  {M..Suc M} = {M, Suc M}", "show \"R (Suc M) = a M * R M - B * b (Suc M) / a (Suc M)\""], ["proof (prove)\nusing this:\n  R (Suc M) = real_of_int (a M) * R M - g 0 * real_of_int (a M)\n  {M..Suc M} = {M, Suc M}\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "unfolding g_def"], ["proof (prove)\nusing this:\n  R (Suc M) =\n  real_of_int (a M) * R M -\n  real_of_int (B * b (0 + M + 1)) / real_of_int (prod a {M..0 + M + 1}) *\n  real_of_int (a M)\n  {M..Suc M} = {M, Suc M}\n\ngoal (1 subgoal):\n 1. R (Suc M) =\n    real_of_int (a M) * R M -\n    real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))", "by auto"], ["proof (state)\nthis:\n  R (Suc M) =\n  real_of_int (a M) * R M -\n  real_of_int (B * b (Suc M)) / real_of_int (a (Suc M))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?M \\<Longrightarrow> \\<bar>R ?M\\<bar> \\<le> 1 / 4\n  N \\<le> ?M \\<Longrightarrow>\n  R (Suc ?M) =\n  real_of_int (a ?M) * R ?M -\n  real_of_int (B * b (Suc ?M)) / real_of_int (a (Suc ?M))\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "define c where \"c = (\\<lambda>n. if n\\<ge>N then get_c a b B N (n-N) else undefined)\""], ["proof (state)\nthis:\n  c = (\\<lambda>n. if N \\<le> n then get_c a b B N (n - N) else undefined)\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have c_rec:\"c (n+1) = c n * a n -  B * b n\" when \"n \\<ge> N\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. c (n + 1) = c n * a n - B * b n", "unfolding c_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if N \\<le> n + 1 then get_c a b B N (n + 1 - N) else undefined) =\n    (if N \\<le> n then get_c a b B N (n - N) else undefined) * a n - B * b n", "using that"], ["proof (prove)\nusing this:\n  N \\<le> n\n\ngoal (1 subgoal):\n 1. (if N \\<le> n + 1 then get_c a b B N (n + 1 - N) else undefined) =\n    (if N \\<le> n then get_c a b B N (n - N) else undefined) * a n - B * b n", "by (auto simp:Suc_diff_le)"], ["proof (state)\nthis:\n  N \\<le> ?n \\<Longrightarrow> c (?n + 1) = c ?n * a ?n - B * b ?n\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have c_R:\"c (Suc n) / a n = R n\" when \"n \\<ge> N\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (Suc n)) / real_of_int (a n) = R n", "using that"], ["proof (prove)\nusing this:\n  N \\<le> n\n\ngoal (1 subgoal):\n 1. real_of_int (c (Suc n)) / real_of_int (a n) = R n", "proof (induct rule:nat_induct_at_least)"], ["proof (state)\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "case base"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "have \"\\<bar> c (N+1) / a N \\<bar> \\<le> 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "have \"c N = round (B * b N / a N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c N = round (real_of_int (B * b N) / real_of_int (a N))", "unfolding c_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (if N \\<le> N then get_c a b B N (N - N) else undefined) =\n    round (real_of_int (B * b N) / real_of_int (a N))", "by simp"], ["proof (state)\nthis:\n  c N = round (real_of_int (B * b N) / real_of_int (a N))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "moreover"], ["proof (state)\nthis:\n  c N = round (real_of_int (B * b N) / real_of_int (a N))\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "have \"c (N+1) / a N = c N - B * b N / a N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) =\n    real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)", "using a_pos[rule_format,of N]"], ["proof (prove)\nusing this:\n  0 < a N\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) =\n    real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)", "by (auto simp add:c_rec[of N,simplified] divide_simps)"], ["proof (state)\nthis:\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "ultimately"], ["proof (chain)\npicking this:\n  c N = round (real_of_int (B * b N) / real_of_int (a N))\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)", "show ?thesis"], ["proof (prove)\nusing this:\n  c N = round (real_of_int (B * b N) / real_of_int (a N))\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "using of_int_round_abs_le"], ["proof (prove)\nusing this:\n  c N = round (real_of_int (B * b N) / real_of_int (a N))\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n  \\<bar>of_int (round ?x) - ?x\\<bar> \\<le> (1::?'a) / (2::?'a)\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2", "by auto"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "moreover"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "have \"\\<bar>R N\\<bar> \\<le> 1 / 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>R N\\<bar> \\<le> 1 / 4", "using R_bound[of N]"], ["proof (prove)\nusing this:\n  N \\<le> N \\<Longrightarrow> \\<bar>R N\\<bar> \\<le> 1 / 4\n\ngoal (1 subgoal):\n 1. \\<bar>R N\\<bar> \\<le> 1 / 4", "by simp"], ["proof (state)\nthis:\n  \\<bar>R N\\<bar> \\<le> 1 / 4\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2\n  \\<bar>R N\\<bar> \\<le> 1 / 4", "have \"\\<bar>c (N+1) / a N - R N \\<bar> < 1\""], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N)\\<bar> \\<le> 1 / 2\n  \\<bar>R N\\<bar> \\<le> 1 / 4\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (N + 1)) / real_of_int (a N) - R N\\<bar> < 1", "by linarith"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N) - R N\\<bar> < 1\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "moreover"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N) - R N\\<bar> < 1\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "have \"c (N+1) / a N - R N \\<in> \\<int>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "have \"c (N+1) / a N = c N - B * b N / a N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) =\n    real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)", "using a_pos[rule_format,of N]"], ["proof (prove)\nusing this:\n  0 < a N\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) =\n    real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)", "by (auto simp add:c_rec[of N,simplified] divide_simps)"], ["proof (state)\nthis:\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "moreover"], ["proof (state)\nthis:\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "have \" B * b N / a N + R N \\<in> \\<int>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "have \"C = B * (\\<Sum>n<N. prod a {..<N} * (b n / prod a {..n}))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C =\n    real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n})))", "unfolding C_def f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (\\<Sum>n<N. real_of_int (b n) / real_of_int (prod a {..n})) =\n    real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n})))", "by (simp add:sum_distrib_left algebra_simps)"], ["proof (state)\nthis:\n  C =\n  real_of_int B *\n  (\\<Sum>n<N.\n      real_of_int (prod a {..<N}) *\n      (real_of_int (b n) / real_of_int (prod a {..n})))\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "also"], ["proof (state)\nthis:\n  C =\n  real_of_int B *\n  (\\<Sum>n<N.\n      real_of_int (prod a {..<N}) *\n      (real_of_int (b n) / real_of_int (prod a {..n})))\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "have \"... = B * (\\<Sum>n<N. prod a {n<..<N} * b n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n}))) =\n    real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n}))) =\n    real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "have \"{..<N} = {n<..<N} \\<union> {..n}\" if \"n<N\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. {..<N} = {n<..<N} \\<union> {..n}", "by (simp add: ivl_disj_un_one(1) sup_commute that)"], ["proof (state)\nthis:\n  ?n < N \\<Longrightarrow> {..<N} = {?n<..<N} \\<union> {..?n}\n\ngoal (1 subgoal):\n 1. real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n}))) =\n    real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "then"], ["proof (chain)\npicking this:\n  ?n < N \\<Longrightarrow> {..<N} = {?n<..<N} \\<union> {..?n}", "show ?thesis"], ["proof (prove)\nusing this:\n  ?n < N \\<Longrightarrow> {..<N} = {?n<..<N} \\<union> {..?n}\n\ngoal (1 subgoal):\n 1. real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n}))) =\n    real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  ?n < N \\<Longrightarrow> {..<N} = {?n<..<N} \\<union> {..?n}\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int B *\n    (\\<Sum>n<N.\n        real_of_int (prod a {..<N}) *\n        (real_of_int (b n) / real_of_int (prod a {..n}))) =\n    real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>\\<And>n.\n                n < N \\<Longrightarrow> {..<N} = {n<..<N} \\<union> {..n};\n     0 < B\\<rbrakk>\n    \\<Longrightarrow> (\\<Sum>n<N.\n                          (\\<Prod>x\\<in>{n<..<N} \\<union> {..n}.\n                             real_of_int (a x)) *\n                          real_of_int (b n) /\n                          (\\<Prod>x\\<le>n. real_of_int (a x))) =\n                      (\\<Sum>x<N.\n                          (\\<Prod>x\\<in>{x<..<N}. real_of_int (a x)) *\n                          real_of_int (b x))", "apply (subst prod.union_disjoint)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>na.\n       \\<lbrakk>\\<And>n.\n                   n < N \\<Longrightarrow> {..<N} = {n<..<N} \\<union> {..n};\n        0 < B\\<rbrakk>\n       \\<Longrightarrow> finite {na<..<N}\n 2. \\<And>na.\n       \\<lbrakk>\\<And>n.\n                   n < N \\<Longrightarrow> {..<N} = {n<..<N} \\<union> {..n};\n        0 < B\\<rbrakk>\n       \\<Longrightarrow> finite {..na}\n 3. \\<And>na.\n       \\<lbrakk>\\<And>n.\n                   n < N \\<Longrightarrow> {..<N} = {n<..<N} \\<union> {..n};\n        0 < B\\<rbrakk>\n       \\<Longrightarrow> {na<..<N} \\<inter> {..na} = {}\n 4. \\<lbrakk>\\<And>n.\n                n < N \\<Longrightarrow> {..<N} = {n<..<N} \\<union> {..n};\n     0 < B\\<rbrakk>\n    \\<Longrightarrow> (\\<Sum>n<N.\n                          (\\<Prod>x\\<in>{n<..<N}. real_of_int (a x)) *\n                          (\\<Prod>x\\<le>n. real_of_int (a x)) *\n                          real_of_int (b n) /\n                          (\\<Prod>x\\<le>n. real_of_int (a x))) =\n                      (\\<Sum>x<N.\n                          (\\<Prod>x\\<in>{x<..<N}. real_of_int (a x)) *\n                          real_of_int (b x))", "by auto"], ["proof (state)\nthis:\n  real_of_int B *\n  (\\<Sum>n<N.\n      real_of_int (prod a {..<N}) *\n      (real_of_int (b n) / real_of_int (prod a {..n}))) =\n  real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int B *\n  (\\<Sum>n<N.\n      real_of_int (prod a {..<N}) *\n      (real_of_int (b n) / real_of_int (prod a {..n}))) =\n  real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "finally"], ["proof (chain)\npicking this:\n  C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "have \"C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\""], ["proof (prove)\nusing this:\n  C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\n\ngoal (1 subgoal):\n 1. C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "."], ["proof (state)\nthis:\n  C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "then"], ["proof (chain)\npicking this:\n  C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))", "have \"C \\<in> \\<int>\""], ["proof (prove)\nusing this:\n  C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\n\ngoal (1 subgoal):\n 1. C \\<in> \\<int>", "using Ints_of_int"], ["proof (prove)\nusing this:\n  C = real_of_int (B * (\\<Sum>n<N. prod a {n<..<N} * b n))\n  of_int ?z \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. C \\<in> \\<int>", "by blast"], ["proof (state)\nthis:\n  C \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "moreover"], ["proof (state)\nthis:\n  C \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "note \\<open>A * prod a {..<N} = C + B * b N / a N  + R N\\<close>"], ["proof (state)\nthis:\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "ultimately"], ["proof (chain)\npicking this:\n  C \\<in> \\<int>\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N", "show ?thesis"], ["proof (prove)\nusing this:\n  C \\<in> \\<int>\n  real_of_int (A * prod a {..<N}) =\n  C + real_of_int (B * b N) / real_of_int (a N) + R N\n\ngoal (1 subgoal):\n 1. real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "by (metis Ints_diff Ints_of_int add.assoc add_diff_cancel_left')"], ["proof (state)\nthis:\n  real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n  real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (c (N + 1)) / real_of_int (a N) =\n  real_of_int (c N) - real_of_int (B * b N) / real_of_int (a N)\n  real_of_int (B * b N) / real_of_int (a N) + R N \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "by (simp add: diff_diff_add)"], ["proof (state)\nthis:\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N) - R N\\<bar> < 1\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>", "have \"c (N+1) / a N - R N = 0\""], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (N + 1)) / real_of_int (a N) - R N\\<bar> < 1\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N \\<in> \\<int>\n\ngoal (1 subgoal):\n 1. real_of_int (c (N + 1)) / real_of_int (a N) - R N = 0", "by (metis Ints_cases less_irrefl of_int_0 of_int_lessD)"], ["proof (state)\nthis:\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N = 0\n\ngoal (2 subgoals):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "then"], ["proof (chain)\npicking this:\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N = 0", "show ?case"], ["proof (prove)\nusing this:\n  real_of_int (c (N + 1)) / real_of_int (a N) - R N = 0\n\ngoal (1 subgoal):\n 1. real_of_int (c (Suc N)) / real_of_int (a N) = R N", "by simp"], ["proof (state)\nthis:\n  real_of_int (c (Suc N)) / real_of_int (a N) = R N\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  N \\<le> n\n  real_of_int (c (Suc n)) / real_of_int (a n) = R n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "have \"c (Suc (Suc n)) / a (Suc n) = c (Suc n) - B * b (Suc n) / a (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) =\n    real_of_int (c (Suc n)) -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))", "apply (subst c_rec[of \"Suc n\",simplified])"], ["proof (prove)\ngoal (2 subgoals):\n 1. N \\<le> Suc n\n 2. real_of_int (c (Suc n) * a (Suc n) - B * b (Suc n)) /\n    real_of_int (a (Suc n)) =\n    real_of_int (c (Suc n)) -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))", "using \\<open>N \\<le> n\\<close>"], ["proof (prove)\nusing this:\n  N \\<le> n\n\ngoal (2 subgoals):\n 1. N \\<le> Suc n\n 2. real_of_int (c (Suc n) * a (Suc n) - B * b (Suc n)) /\n    real_of_int (a (Suc n)) =\n    real_of_int (c (Suc n)) -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))", "by (auto simp add: divide_simps)"], ["proof (state)\nthis:\n  real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) =\n  real_of_int (c (Suc n)) -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "also"], ["proof (state)\nthis:\n  real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) =\n  real_of_int (c (Suc n)) -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "have \"... = a n * R n - B * b (Suc n) / a (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (Suc n)) -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n    real_of_int (a n) * R n -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))", "using Suc"], ["proof (prove)\nusing this:\n  N \\<le> n\n  real_of_int (c (Suc n)) / real_of_int (a n) = R n\n\ngoal (1 subgoal):\n 1. real_of_int (c (Suc n)) -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n    real_of_int (a n) * R n -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))", "by (auto simp: divide_simps)"], ["proof (state)\nthis:\n  real_of_int (c (Suc n)) -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n  real_of_int (a n) * R n -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "also"], ["proof (state)\nthis:\n  real_of_int (c (Suc n)) -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n  real_of_int (a n) * R n -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "have \"... = R (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a n) * R n -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n    R (Suc n)", "using R_Suc[OF \\<open>N \\<le> n\\<close>]"], ["proof (prove)\nusing this:\n  R (Suc n) =\n  real_of_int (a n) * R n -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n))\n\ngoal (1 subgoal):\n 1. real_of_int (a n) * R n -\n    real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n    R (Suc n)", "by simp"], ["proof (state)\nthis:\n  real_of_int (a n) * R n -\n  real_of_int (B * b (Suc n)) / real_of_int (a (Suc n)) =\n  R (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n;\n        real_of_int (c (Suc n)) / real_of_int (a n) = R n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c (Suc (Suc n))) /\n                         real_of_int (a (Suc n)) =\n                         R (Suc n)", "finally"], ["proof (chain)\npicking this:\n  real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) = R (Suc n)", "show ?case"], ["proof (prove)\nusing this:\n  real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) = R (Suc n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) = R (Suc n)", "."], ["proof (state)\nthis:\n  real_of_int (c (Suc (Suc n))) / real_of_int (a (Suc n)) = R (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?n \\<Longrightarrow>\n  real_of_int (c (Suc ?n)) / real_of_int (a ?n) = R ?n\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have ca_tendsto_zero:\"(\\<lambda>n. c (Suc n) / a n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n    \\<longlonglongrightarrow> 0", "using R_tendsto_0"], ["proof (prove)\nusing this:\n  R \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n    \\<longlonglongrightarrow> 0", "apply (elim filterlim_mono_eventually)"], ["proof (prove)\ngoal (3 subgoals):\n 1. nhds 0 \\<le> nhds 0\n 2. sequentially \\<le> sequentially\n 3. \\<forall>\\<^sub>F x in sequentially.\n       R x = real_of_int (c (Suc x)) / real_of_int (a x)", "using c_R"], ["proof (prove)\nusing this:\n  N \\<le> ?n \\<Longrightarrow>\n  real_of_int (c (Suc ?n)) / real_of_int (a ?n) = R ?n\n\ngoal (3 subgoals):\n 1. nhds 0 \\<le> nhds 0\n 2. sequentially \\<le> sequentially\n 3. \\<forall>\\<^sub>F x in sequentially.\n       R x = real_of_int (c (Suc x)) / real_of_int (a x)", "by (auto intro!:eventually_sequentiallyI[of N])"], ["proof (state)\nthis:\n  (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "have ca_bound:\"\\<bar>c (n + 1)\\<bar> < a n / 2\" when \"n \\<ge> N\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "have \"\\<bar>c (Suc n)\\<bar> / a n  = \\<bar>c (Suc n) / a n\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) =\n    \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) =\n    \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>", "by auto"], ["proof (state)\nthis:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) =\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "also"], ["proof (state)\nthis:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) =\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "have \"... = \\<bar>R n\\<bar>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> =\n    \\<bar>R n\\<bar>", "using c_R[OF that]"], ["proof (prove)\nusing this:\n  real_of_int (c (Suc n)) / real_of_int (a n) = R n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> =\n    \\<bar>R n\\<bar>", "by auto"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> = \\<bar>R n\\<bar>\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "also"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> = \\<bar>R n\\<bar>\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "have \"... < 1/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>R n\\<bar> < 1 / 2", "using R_bound[OF that]"], ["proof (prove)\nusing this:\n  \\<bar>R n\\<bar> \\<le> 1 / 4\n\ngoal (1 subgoal):\n 1. \\<bar>R n\\<bar> < 1 / 2", "by auto"], ["proof (state)\nthis:\n  \\<bar>R n\\<bar> < 1 / 2\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "finally"], ["proof (chain)\npicking this:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2", "have \"\\<bar>c (Suc n)\\<bar> / a n < 1/2\""], ["proof (prove)\nusing this:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2", "."], ["proof (state)\nthis:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "then"], ["proof (chain)\npicking this:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  real_of_int \\<bar>c (Suc n)\\<bar> / real_of_int (a n) < 1 / 2\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "by auto"], ["proof (state)\nthis:\n  real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<le> ?n \\<Longrightarrow>\n  real_of_int \\<bar>c (?n + 1)\\<bar> < real_of_int (a ?n) / 2\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "(* (* the following part corresponds to (2.7) (2.8) in the original paper, but turns out to be\n        not necessary. *)\n  have c_round:\"c n = round (B * b n / a n)\" when \"n \\<ge> N\" for n\n  proof (cases \"n=N\")\n    case True\n    then show ?thesis unfolding c_def by simp\n  next\n    case False\n    with \\<open>n\\<ge>N\\<close> obtain n' where n_Suc:\"n=Suc n'\" and \"n' \\<ge> N\" \n      by (metis le_eq_less_or_eq lessE less_imp_le_nat)\n    have \"B * b n / a n = c n - R n\"\n    proof -\n      have \"R n = c n - B * b n / a n\"\n        using c_R[OF \\<open>n'\\<ge>N\\<close>,symmetric,folded n_Suc] R_Suc[OF \\<open>n'\\<ge>N\\<close>,folded n_Suc]\n        by (auto simp:field_simps)\n      then show ?thesis by (auto simp:field_simps)\n    qed\n    then have \"\\<bar>B * b n / a n - c n\\<bar> = \\<bar>R n\\<bar>\" by auto\n    then have \"\\<bar>B * b n / a n - c n\\<bar> < 1/2\" using R_bound[OF \\<open>n \\<ge> N\\<close>] by auto\n    from round_unique'[OF this] show ?thesis by auto\n  qed\n  *)"], ["proof (state)\nthis:\n  N \\<le> ?n \\<Longrightarrow>\n  real_of_int \\<bar>c (?n + 1)\\<bar> < real_of_int (a ?n) / 2\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "show \"\\<exists>B>0. \\<exists>c. (\\<forall>\\<^sub>F n in sequentially. B * b n = c n * a n - c (n + 1) \n            \\<and> real_of_int \\<bar>c (n + 1)\\<bar> < a n / 2) \\<and> (\\<lambda>n. c (Suc n) / a n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "unfolding eventually_at_top_linorder"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<exists>N.\n              \\<forall>n\\<ge>N.\n                 B * b n = c n * a n - c (n + 1) \\<and>\n                 real_of_int \\<bar>c (n + 1)\\<bar>\n                 < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "apply (rule exI[of _ B],use \\<open>B>0\\<close> in simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < B \\<Longrightarrow>\n    \\<exists>c.\n       (\\<exists>N.\n           \\<forall>n\\<ge>N.\n              B * b n = c n * a n - c (Suc n) \\<and>\n              \\<bar>real_of_int (c (Suc n))\\<bar> * 2\n              < real_of_int (a n)) \\<and>\n       (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n       \\<longlonglongrightarrow> 0", "apply (intro exI[of _c] exI[of _ N])"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < B \\<Longrightarrow>\n    (\\<exists>N.\n        \\<forall>n\\<ge>N.\n           B * b n = c n * a n - c (Suc n) \\<and>\n           \\<bar>real_of_int (c (Suc n))\\<bar> * 2\n           < real_of_int (a n)) \\<and>\n    (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n    \\<longlonglongrightarrow> 0", "using c_rec ca_bound ca_tendsto_zero"], ["proof (prove)\nusing this:\n  N \\<le> ?n \\<Longrightarrow> c (?n + 1) = c ?n * a ?n - B * b ?n\n  N \\<le> ?n \\<Longrightarrow>\n  real_of_int \\<bar>c (?n + 1)\\<bar> < real_of_int (a ?n) / 2\n  (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. 0 < B \\<Longrightarrow>\n    (\\<exists>N.\n        \\<forall>n\\<ge>N.\n           B * b n = c n * a n - c (Suc n) \\<and>\n           \\<bar>real_of_int (c (Suc n))\\<bar> * 2\n           < real_of_int (a n)) \\<and>\n    (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n    \\<longlonglongrightarrow> 0", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>B>0.\n     \\<exists>c.\n        (\\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["", "private"], ["", "lemma imp_ab_rational:\n  assumes \"\\<exists> (B::int)>0. \\<exists> c::nat\\<Rightarrow> int.\n              (\\<forall>\\<^sub>F n in sequentially. B*b n = c n * a n - c(n+1) \\<and> \\<bar>c(n+1)\\<bar><a n/2)\"\n  shows \"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "obtain B::int and c::\"nat\\<Rightarrow>int\" and N::nat where \"B>0\" and  \n    large_n:\"\\<forall>n\\<ge>N. B * b n = c n * a n - c (n + 1) \\<and> real_of_int \\<bar>c (n + 1)\\<bar> < a n / 2\n                      \\<and> a n\\<ge>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B N c.\n        \\<lbrakk>0 < B;\n         \\<forall>n\\<ge>N.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2 \\<and>\n            2 \\<le> a n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>B N c.\n        \\<lbrakk>0 < B;\n         \\<forall>n\\<ge>N.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2 \\<and>\n            2 \\<le> a n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "obtain B c where \"B>0\" and event1:\"\\<forall>\\<^sub>F n in sequentially. B * b n = c n * a n - c (n + 1) \n              \\<and> real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using assms"], ["proof (prove)\nusing this:\n  \\<exists>B>0.\n     \\<exists>c.\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < B\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. (\\<And>B N c.\n        \\<lbrakk>0 < B;\n         \\<forall>n\\<ge>N.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2 \\<and>\n            2 \\<le> a n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "from eventually_conj[OF event1 a_large,unfolded eventually_at_top_linorder]"], ["proof (chain)\npicking this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        (B * b n = c n * a n - c (n + 1) \\<and>\n         real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n        1 < a n", "obtain N where \"\\<forall>n\\<ge>N. (B * b n = c n * a n - c (n + 1) \n                        \\<and> real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and> 2 \\<le> a n\""], ["proof (prove)\nusing this:\n  \\<exists>N.\n     \\<forall>n\\<ge>N.\n        (B * b n = c n * a n - c (n + 1) \\<and>\n         real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n        1 < a n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           (B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n           2 \\<le> a n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by fastforce"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N.\n     (B * b n = c n * a n - c (n + 1) \\<and>\n      real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n     2 \\<le> a n\n\ngoal (1 subgoal):\n 1. (\\<And>B N c.\n        \\<lbrakk>0 < B;\n         \\<forall>n\\<ge>N.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2 \\<and>\n            2 \\<le> a n\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>N.\n     (B * b n = c n * a n - c (n + 1) \\<and>\n      real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n     2 \\<le> a n", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N.\n     (B * b n = c n * a n - c (n + 1) \\<and>\n      real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n     2 \\<le> a n\n\ngoal (1 subgoal):\n 1. thesis", "using that[of B N c] \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N.\n     (B * b n = c n * a n - c (n + 1) \\<and>\n      real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n     2 \\<le> a n\n  \\<lbrakk>0 < B;\n   \\<forall>n\\<ge>N.\n      B * b n = c n * a n - c (n + 1) \\<and>\n      real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2 \\<and>\n      2 \\<le> a n\\<rbrakk>\n  \\<Longrightarrow> thesis\n  0 < B\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < B\n  \\<forall>n\\<ge>N.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2 \\<and>\n     2 \\<le> a n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "define f where \"f=(\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "define S where \"S = (\\<Sum>n. f n)\""], ["proof (state)\nthis:\n  S = (\\<Sum>n. f n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "have \"summable f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. summable f", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. summable (\\<lambda>n. real_of_int (b n) / real_of_int (prod a {..n}))", "by (rule aux_series_summable)"], ["proof (state)\nthis:\n  summable f\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "define C where \"C=B*prod a {..<N} * (\\<Sum>n<N. f n)\""], ["proof (state)\nthis:\n  C = real_of_int (B * prod a {..<N}) * sum f {..<N}\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "have \"B*prod a {..<N} * S = C + real_of_int (c N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "define h1 where \"h1 \\<equiv> (\\<lambda>n. (c (n+N) * a (n+N)) / prod a {N..n+N})\""], ["proof (state)\nthis:\n  h1 \\<equiv>\n  \\<lambda>n.\n     real_of_int (c (n + N) * a (n + N)) / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "define h2 where \"h2 \\<equiv> (\\<lambda>n. c (n+N+1) / prod a {N..n+N})\""], ["proof (state)\nthis:\n  h2 \\<equiv>\n  \\<lambda>n. real_of_int (c (n + N + 1)) / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have f_h12: \"B * prod a {..<N}*f (n+N) = h1 n - h2 n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "define g1 where \"g1 \\<equiv> (\\<lambda>n. B * b (n+N))\""], ["proof (state)\nthis:\n  g1 \\<equiv> \\<lambda>n. B * b (n + N)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "define g2 where \"g2 \\<equiv> (\\<lambda>n. prod a {..<N} / prod a {..n + N})\""], ["proof (state)\nthis:\n  g2 \\<equiv>\n  \\<lambda>n. real_of_int (prod a {..<N}) / real_of_int (prod a {..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "have \"B * prod a {..<N}*f (n+N) = (g1 n * g2 n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = real_of_int (g1 n) * g2 n", "unfolding f_def g1_def g2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (real_of_int (b (n + N)) / real_of_int (prod a {..n + N})) =\n    real_of_int (B * b (n + N)) *\n    (real_of_int (prod a {..<N}) / real_of_int (prod a {..n + N}))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f (n + N) = real_of_int (g1 n) * g2 n\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "moreover"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f (n + N) = real_of_int (g1 n) * g2 n\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "have \"g1 n = c (n+N) * a (n+N) - c (n+N+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g1 n = c (n + N) * a (n + N) - c (n + N + 1)", "using large_n[rule_format,of \"n+N\"]"], ["proof (prove)\nusing this:\n  N \\<le> n + N \\<Longrightarrow>\n  B * b (n + N) = c (n + N) * a (n + N) - c (n + N + 1) \\<and>\n  real_of_int \\<bar>c (n + N + 1)\\<bar> < real_of_int (a (n + N)) / 2 \\<and>\n  2 \\<le> a (n + N)\n\ngoal (1 subgoal):\n 1. g1 n = c (n + N) * a (n + N) - c (n + N + 1)", "unfolding g1_def"], ["proof (prove)\nusing this:\n  N \\<le> n + N \\<Longrightarrow>\n  B * b (n + N) = c (n + N) * a (n + N) - c (n + N + 1) \\<and>\n  real_of_int \\<bar>c (n + N + 1)\\<bar> < real_of_int (a (n + N)) / 2 \\<and>\n  2 \\<le> a (n + N)\n\ngoal (1 subgoal):\n 1. B * b (n + N) = c (n + N) * a (n + N) - c (n + N + 1)", "by auto"], ["proof (state)\nthis:\n  g1 n = c (n + N) * a (n + N) - c (n + N + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "moreover"], ["proof (state)\nthis:\n  g1 n = c (n + N) * a (n + N) - c (n + N + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "have \"g2 n = (1/prod a {N..n+N})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g2 n = 1 / real_of_int (prod a {N..n + N})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. g2 n = 1 / real_of_int (prod a {N..n + N})", "have \"prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}", "apply (rule prod.union_disjoint[of \"{..<N}\" \"{N..n+N}\" a])"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {..<N}\n 2. finite {N..n + N}\n 3. {..<N} \\<inter> {N..n + N} = {}", "by auto"], ["proof (state)\nthis:\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}\n\ngoal (1 subgoal):\n 1. g2 n = 1 / real_of_int (prod a {N..n + N})", "moreover"], ["proof (state)\nthis:\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}\n\ngoal (1 subgoal):\n 1. g2 n = 1 / real_of_int (prod a {N..n + N})", "have \"prod a ({..<N} \\<union> {N..n + N}) = prod a {..n+N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. prod a ({..<N} \\<union> {N..n + N}) = prod a {..n + N}", "by (simp add: ivl_disj_un_one(4))"], ["proof (state)\nthis:\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..n + N}\n\ngoal (1 subgoal):\n 1. g2 n = 1 / real_of_int (prod a {N..n + N})", "ultimately"], ["proof (chain)\npicking this:\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..n + N}", "show ?thesis"], ["proof (prove)\nusing this:\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..n + N}\n\ngoal (1 subgoal):\n 1. g2 n = 1 / real_of_int (prod a {N..n + N})", "unfolding g2_def"], ["proof (prove)\nusing this:\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..<N} * prod a {N..n + N}\n  prod a ({..<N} \\<union> {N..n + N}) = prod a {..n + N}\n\ngoal (1 subgoal):\n 1. real_of_int (prod a {..<N}) / real_of_int (prod a {..n + N}) =\n    1 / real_of_int (prod a {N..n + N})", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>prod a {..n + N} = prod a {..<N} * prod a {N..n + N};\n     prod a ({..<N} \\<union> {N..n + N}) =\n     prod a {..<N} * prod a {N..n + N}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>aa\\<in>{..<N}. a aa = 0) \\<longrightarrow>\n                      (\\<exists>aa\\<in>{N..n + N}. a aa = 0)", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>prod a {..n + N} = prod a {..<N} * prod a {N..n + N};\n     prod a ({..<N} \\<union> {N..n + N}) =\n     prod a {..<N} * prod a {N..n + N}\\<rbrakk>\n    \\<Longrightarrow> (\\<exists>aa\\<in>{..<N}. a aa = 0) \\<longrightarrow>\n                      (\\<exists>aa\\<in>{N..n + N}. a aa = 0)", "by (metis less_irrefl)"], ["proof (state)\nthis:\n  g2 n = 1 / real_of_int (prod a {N..n + N})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  g2 n = 1 / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (B * prod a {..<N}) * f (n + N) = real_of_int (g1 n) * g2 n\n  g1 n = c (n + N) * a (n + N) - c (n + N + 1)\n  g2 n = 1 / real_of_int (prod a {N..n + N})", "have \"B*prod a {..<N}*f (n+N) = (c (n+N) * a (n+N) - c (n+N+1)) / prod a {N..n+N}\""], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * f (n + N) = real_of_int (g1 n) * g2 n\n  g1 n = c (n + N) * a (n + N) - c (n + N + 1)\n  g2 n = 1 / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) =\n    real_of_int (c (n + N) * a (n + N) - c (n + N + 1)) /\n    real_of_int (prod a {N..n + N})", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f (n + N) =\n  real_of_int (c (n + N) * a (n + N) - c (n + N + 1)) /\n  real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "also"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f (n + N) =\n  real_of_int (c (n + N) * a (n + N) - c (n + N + 1)) /\n  real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "have \"... = h1 n - h2 n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + N) * a (n + N) - c (n + N + 1)) /\n    real_of_int (prod a {N..n + N}) =\n    h1 n - h2 n", "unfolding h1_def h2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + N) * a (n + N) - c (n + N + 1)) /\n    real_of_int (prod a {N..n + N}) =\n    real_of_int (c (n + N) * a (n + N)) / real_of_int (prod a {N..n + N}) -\n    real_of_int (c (n + N + 1)) / real_of_int (prod a {N..n + N})", "by (auto simp:algebra_simps diff_divide_distrib)"], ["proof (state)\nthis:\n  real_of_int (c (n + N) * a (n + N) - c (n + N + 1)) /\n  real_of_int (prod a {N..n + N}) =\n  h1 n - h2 n\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "finally"], ["proof (chain)\npicking this:\n  real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n", "by simp"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f (n + N) = h1 n - h2 n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * f (?n + N) = h1 ?n - h2 ?n\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have \"B*prod a {..<N} * S = B*prod a {..<N} * ((\\<Sum>n<N. f n) + (\\<Sum>n. f (n+N)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S =\n    real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N)))", "using suminf_split_initial_segment[OF \\<open>summable f\\<close>,of N]"], ["proof (prove)\nusing this:\n  suminf f = (\\<Sum>n. f (n + N)) + sum f {..<N}\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S =\n    real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N)))", "unfolding S_def"], ["proof (prove)\nusing this:\n  suminf f = (\\<Sum>n. f (n + N)) + sum f {..<N}\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * suminf f =\n    real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N)))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * S =\n  real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N)))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "also"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * S =\n  real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N)))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have \"... = C + B*prod a {..<N}*(\\<Sum>n. f (n+N))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + (\\<Sum>n. f (n + N))) =\n    C + real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N))", "unfolding C_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) *\n    (sum f {..<N} + (\\<Sum>n. f (n + N))) =\n    real_of_int (B * prod a {..<N}) * sum f {..<N} +\n    real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N))) =\n  C + real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "also"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * (sum f {..<N} + (\\<Sum>n. f (n + N))) =\n  C + real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N))\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have \"... = C + (\\<Sum>n. h1 n - h2 n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C + real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N)) =\n    C + (\\<Sum>n. h1 n - h2 n)", "apply (subst suminf_mult[symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. f (n + N))\n 2. C + (\\<Sum>n. real_of_int (B * prod a {..<N}) * f (n + N)) =\n    C + (\\<Sum>n. h1 n - h2 n)", "using \\<open>summable f\\<close> f_h12"], ["proof (prove)\nusing this:\n  summable f\n  real_of_int (B * prod a {..<N}) * f (?n + N) = h1 ?n - h2 ?n\n\ngoal (2 subgoals):\n 1. summable (\\<lambda>n. f (n + N))\n 2. C + (\\<Sum>n. real_of_int (B * prod a {..<N}) * f (n + N)) =\n    C + (\\<Sum>n. h1 n - h2 n)", "by auto"], ["proof (state)\nthis:\n  C + real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N)) =\n  C + (\\<Sum>n. h1 n - h2 n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "also"], ["proof (state)\nthis:\n  C + real_of_int (B * prod a {..<N}) * (\\<Sum>n. f (n + N)) =\n  C + (\\<Sum>n. h1 n - h2 n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have \"... = C + h1 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "have \"(\\<lambda>n. \\<Sum>i\\<le>n. h1 i - h2 i) \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. \\<Sum>i\\<le>n. h1 i - h2 i)\n    \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)", "proof (rule summable_LIMSEQ')"], ["proof (state)\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. h1 i - h2 i)", "have \"(\\<lambda>i. h1 i - h2 i) = (\\<lambda>i.  real_of_int (B * prod a {..<N}) * f (i + N))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>i. h1 i - h2 i) =\n    (\\<lambda>i. real_of_int (B * prod a {..<N}) * f (i + N))", "using f_h12"], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * f (?n + N) = h1 ?n - h2 ?n\n\ngoal (1 subgoal):\n 1. (\\<lambda>i. h1 i - h2 i) =\n    (\\<lambda>i. real_of_int (B * prod a {..<N}) * f (i + N))", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>i. h1 i - h2 i) =\n  (\\<lambda>i. real_of_int (B * prod a {..<N}) * f (i + N))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. h1 i - h2 i)", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>i. h1 i - h2 i) =\n  (\\<lambda>i. real_of_int (B * prod a {..<N}) * f (i + N))", "show \"summable (\\<lambda>i. h1 i - h2 i)\""], ["proof (prove)\nusing this:\n  (\\<lambda>i. h1 i - h2 i) =\n  (\\<lambda>i. real_of_int (B * prod a {..<N}) * f (i + N))\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. h1 i - h2 i)", "using \\<open>summable f\\<close>"], ["proof (prove)\nusing this:\n  (\\<lambda>i. h1 i - h2 i) =\n  (\\<lambda>i. real_of_int (B * prod a {..<N}) * f (i + N))\n  summable f\n\ngoal (1 subgoal):\n 1. summable (\\<lambda>i. h1 i - h2 i)", "by (simp add: summable_mult)"], ["proof (state)\nthis:\n  summable (\\<lambda>i. h1 i - h2 i)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n. \\<Sum>i\\<le>n. h1 i - h2 i)\n  \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. \\<Sum>i\\<le>n. h1 i - h2 i)\n  \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "have \"(\\<Sum>i\\<le>n. h1 i - h2 i)  = h1 0 - h2 n\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. (\\<Sum>i\\<le>0. h1 i - h2 i) = h1 0 - h2 0\n 2. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. (\\<Sum>i\\<le>0. h1 i - h2 i) = h1 0 - h2 0\n 2. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>0. h1 i - h2 i) = h1 0 - h2 0", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>0. h1 i - h2 i) = h1 0 - h2 0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "case (Suc n)"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "have \"(\\<Sum>i\\<le>Suc n. h1 i - h2 i) = (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n+1) - h2 (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>Suc n. h1 i - h2 i) =\n    (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>Suc n. h1 i - h2 i) =\n  (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>Suc n. h1 i - h2 i) =\n  (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "have \"... =  h1 0 - h2 n + h1 (n+1) - h2 (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1) =\n    h1 0 - h2 n + h1 (n + 1) - h2 (n + 1)", "using Suc"], ["proof (prove)\nusing this:\n  (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1) =\n    h1 0 - h2 n + h1 (n + 1) - h2 (n + 1)", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1) =\n  h1 0 - h2 n + h1 (n + 1) - h2 (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "also"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>n. h1 i - h2 i) + h1 (n + 1) - h2 (n + 1) =\n  h1 0 - h2 n + h1 (n + 1) - h2 (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "have \"... = h1 0 - h2 (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h1 0 - h2 n + h1 (n + 1) - h2 (n + 1) = h1 0 - h2 (n + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. h1 0 - h2 n + h1 (n + 1) - h2 (n + 1) = h1 0 - h2 (n + 1)", "have \"h2 n = h1 (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h2 n = h1 (n + 1)", "unfolding h2_def h1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + N + 1)) / real_of_int (prod a {N..n + N}) =\n    real_of_int (c (n + 1 + N) * a (n + 1 + N)) /\n    real_of_int (prod a {N..n + 1 + N})", "apply (auto simp:prod.nat_ivl_Suc')"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a (Suc (n + N)) = 0;\n     \\<forall>aa\\<in>{N..n + N}. a aa \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> c (Suc (n + N)) = 0", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<lbrakk>a (Suc (n + N)) = 0;\n     \\<forall>aa\\<in>{N..n + N}. a aa \\<noteq> 0\\<rbrakk>\n    \\<Longrightarrow> c (Suc (n + N)) = 0", "by (metis less_numeral_extra(3))"], ["proof (state)\nthis:\n  h2 n = h1 (n + 1)\n\ngoal (1 subgoal):\n 1. h1 0 - h2 n + h1 (n + 1) - h2 (n + 1) = h1 0 - h2 (n + 1)", "then"], ["proof (chain)\npicking this:\n  h2 n = h1 (n + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  h2 n = h1 (n + 1)\n\ngoal (1 subgoal):\n 1. h1 0 - h2 n + h1 (n + 1) - h2 (n + 1) = h1 0 - h2 (n + 1)", "by auto"], ["proof (state)\nthis:\n  h1 0 - h2 n + h1 (n + 1) - h2 (n + 1) = h1 0 - h2 (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  h1 0 - h2 n + h1 (n + 1) - h2 (n + 1) = h1 0 - h2 (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       (\\<Sum>i\\<le>n. h1 i - h2 i) = h1 0 - h2 n \\<Longrightarrow>\n       (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "finally"], ["proof (chain)\npicking this:\n  (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (n + 1)", "show ?case"], ["proof (prove)\nusing this:\n  (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (n + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>Suc n. h1 i - h2 i) = h1 0 - h2 (Suc n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<Sum>i\\<le>?n. h1 i - h2 i) = h1 0 - h2 ?n\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. \\<Sum>i\\<le>n. h1 i - h2 i)\n  \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\n  (\\<Sum>i\\<le>?n. h1 i - h2 i) = h1 0 - h2 ?n", "have \"(\\<lambda>n. h1 0 - h2 n) \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. \\<Sum>i\\<le>n. h1 i - h2 i)\n  \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\n  (\\<Sum>i\\<le>?n. h1 i - h2 i) = h1 0 - h2 ?n\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. h1 0 - h2 n)\n    \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)", "by simp"], ["proof (state)\nthis:\n  (\\<lambda>n. h1 0 - h2 n) \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. h1 0 - h2 n) \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)", "have \"h2 \\<longlonglongrightarrow> (h1 0 -  (\\<Sum>i. h1 i - h2 i))\""], ["proof (prove)\nusing this:\n  (\\<lambda>n. h1 0 - h2 n) \\<longlonglongrightarrow> (\\<Sum>i. h1 i - h2 i)\n\ngoal (1 subgoal):\n 1. h2 \\<longlonglongrightarrow> h1 0 - (\\<Sum>i. h1 i - h2 i)", "apply (elim metric_tendsto_imp_tendsto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       dist (h2 x) (h1 0 - (\\<Sum>i. h1 i - h2 i))\n       \\<le> dist (h1 0 - h2 x) (\\<Sum>i. h1 i - h2 i)", "by (auto intro!:eventuallyI simp add:dist_real_def)"], ["proof (state)\nthis:\n  h2 \\<longlonglongrightarrow> h1 0 - (\\<Sum>i. h1 i - h2 i)\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "moreover"], ["proof (state)\nthis:\n  h2 \\<longlonglongrightarrow> h1 0 - (\\<Sum>i. h1 i - h2 i)\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "have \"h2 \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h2 \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. h2 \\<longlonglongrightarrow> 0", "have h2_n:\"\\<bar>h2 n\\<bar> < (1 / 2)^(n+1)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "have \"\\<bar>h2 n\\<bar> = \\<bar>c (n + N + 1)\\<bar> / prod a {N..n + N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> =\n    real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})", "unfolding h2_def abs_divide"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (n + N + 1))\\<bar> /\n    \\<bar>real_of_int (prod a {N..n + N})\\<bar> =\n    real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<bar>real_of_int (c (n + N + 1))\\<bar> /\n    \\<bar>real_of_int (prod a {N..n + N})\\<bar> =\n    real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})", "by (simp add: abs_of_pos prod_pos)"], ["proof (state)\nthis:\n  \\<bar>h2 n\\<bar> =\n  real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "also"], ["proof (state)\nthis:\n  \\<bar>h2 n\\<bar> =\n  real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "have \"... < (a (N+n) / 2) / prod a {N..n + N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})\n    < real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N})", "unfolding h2_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})\n    < real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N})", "apply (rule divide_strict_right_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. real_of_int \\<bar>c (n + N + 1)\\<bar> < real_of_int (a (N + n)) / 2\n 2. 0 < real_of_int (prod a {N..n + N})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + N + 1)\\<bar> < real_of_int (a (N + n)) / 2", "using large_n[rule_format,of \"N+n\"]"], ["proof (prove)\nusing this:\n  N \\<le> N + n \\<Longrightarrow>\n  B * b (N + n) = c (N + n) * a (N + n) - c (N + n + 1) \\<and>\n  real_of_int \\<bar>c (N + n + 1)\\<bar> < real_of_int (a (N + n)) / 2 \\<and>\n  2 \\<le> a (N + n)\n\ngoal (1 subgoal):\n 1. real_of_int \\<bar>c (n + N + 1)\\<bar> < real_of_int (a (N + n)) / 2", "by (auto simp add:algebra_simps)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (prod a {N..n + N})", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (prod a {N..n + N})", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. 0 < real_of_int (prod a {N..n + N})", "by (simp add: prod_pos)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})\n  < real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "also"], ["proof (state)\nthis:\n  real_of_int \\<bar>c (n + N + 1)\\<bar> / real_of_int (prod a {N..n + N})\n  < real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N})\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "have \"... = 1 / (2*prod a {N..<n + N})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N}) =\n    1 / real_of_int (2 * prod a {N..<n + N})", "apply (subst ivl_disj_un(6)[of N \"n+N\",symmetric])"], ["proof (prove)\ngoal (2 subgoals):\n 1. N \\<le> n + N\n 2. real_of_int (a (N + n)) / 2 /\n    real_of_int (prod a ({N..<n + N} \\<union> {n + N})) =\n    1 / real_of_int (2 * prod a {N..<n + N})", "using a_pos[rule_format,of \"N+n\"]"], ["proof (prove)\nusing this:\n  0 < a (N + n)\n\ngoal (2 subgoals):\n 1. N \\<le> n + N\n 2. real_of_int (a (N + n)) / 2 /\n    real_of_int (prod a ({N..<n + N} \\<union> {n + N})) =\n    1 / real_of_int (2 * prod a {N..<n + N})", "by (auto simp add:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N}) =\n  1 / real_of_int (2 * prod a {N..<n + N})\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "also"], ["proof (state)\nthis:\n  real_of_int (a (N + n)) / 2 / real_of_int (prod a {N..n + N}) =\n  1 / real_of_int (2 * prod a {N..<n + N})\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "have \"... \\<le> (1/2)^(n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<n + N}) \\<le> (1 / 2) ^ (n + 1)", "proof (induct n)"], ["proof (state)\ngoal (2 subgoals):\n 1. 1 / real_of_int (2 * prod a {N..<0 + N}) \\<le> (1 / 2) ^ (0 + 1)\n 2. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. 1 / real_of_int (2 * prod a {N..<0 + N}) \\<le> (1 / 2) ^ (0 + 1)\n 2. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<0 + N}) \\<le> (1 / 2) ^ (0 + 1)", "by auto"], ["proof (state)\nthis:\n  1 / real_of_int (2 * prod a {N..<0 + N}) \\<le> (1 / 2) ^ (0 + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "case (Suc n)"], ["proof (state)\nthis:\n  1 / real_of_int (2 * prod a {N..<n + N}) \\<le> (1 / 2) ^ (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "define P where \"P=1 / real_of_int (2 * prod a {N..<n + N})\""], ["proof (state)\nthis:\n  P = 1 / real_of_int (2 * prod a {N..<n + N})\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "have \"1 / real_of_int (2 * prod a {N..<Suc n + N}) = P / a (n+N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<Suc n + N}) =\n    P / real_of_int (a (n + N))", "unfolding P_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<Suc n + N}) =\n    1 / real_of_int (2 * prod a {N..<n + N}) / real_of_int (a (n + N))", "by (auto simp add: prod.atLeastLessThan_Suc)"], ["proof (state)\nthis:\n  1 / real_of_int (2 * prod a {N..<Suc n + N}) = P / real_of_int (a (n + N))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "also"], ["proof (state)\nthis:\n  1 / real_of_int (2 * prod a {N..<Suc n + N}) = P / real_of_int (a (n + N))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "have \"... \\<le>  ( (1 / 2) ^ (n + 1) ) / a (n+N) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. P / real_of_int (a (n + N))\n    \\<le> (1 / 2) ^ (n + 1) / real_of_int (a (n + N))", "apply (rule divide_right_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. P \\<le> (1 / 2) ^ (n + 1)\n 2. 0 \\<le> real_of_int (a (n + N))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. P \\<le> (1 / 2) ^ (n + 1)", "unfolding P_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<n + N}) \\<le> (1 / 2) ^ (n + 1)", "using Suc"], ["proof (prove)\nusing this:\n  1 / real_of_int (2 * prod a {N..<n + N}) \\<le> (1 / 2) ^ (n + 1)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<n + N}) \\<le> (1 / 2) ^ (n + 1)", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> real_of_int (a (n + N))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> real_of_int (a (n + N))", "by (simp add: a_pos less_imp_le)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  P / real_of_int (a (n + N))\n  \\<le> (1 / 2) ^ (n + 1) / real_of_int (a (n + N))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "also"], ["proof (state)\nthis:\n  P / real_of_int (a (n + N))\n  \\<le> (1 / 2) ^ (n + 1) / real_of_int (a (n + N))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "have \"... \\<le> ( (1 / 2) ^ (n + 1) ) / 2 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 / 2) ^ (n + 1) / real_of_int (a (n + N)) \\<le> (1 / 2) ^ (n + 1) / 2", "apply (rule divide_left_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. 2 \\<le> real_of_int (a (n + N))\n 2. 0 \\<le> (1 / 2) ^ (n + 1)\n 3. 0 < real_of_int (a (n + N)) * 2", "using large_n[rule_format,of \"n+N\",simplified]"], ["proof (prove)\nusing this:\n  B * b (n + N) = c (n + N) * a (n + N) - c (Suc (n + N)) \\<and>\n  \\<bar>real_of_int (c (Suc (n + N)))\\<bar> * 2\n  < real_of_int (a (n + N)) \\<and>\n  2 \\<le> a (n + N)\n\ngoal (3 subgoals):\n 1. 2 \\<le> real_of_int (a (n + N))\n 2. 0 \\<le> (1 / 2) ^ (n + 1)\n 3. 0 < real_of_int (a (n + N)) * 2", "by auto"], ["proof (state)\nthis:\n  (1 / 2) ^ (n + 1) / real_of_int (a (n + N)) \\<le> (1 / 2) ^ (n + 1) / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "also"], ["proof (state)\nthis:\n  (1 / 2) ^ (n + 1) / real_of_int (a (n + N)) \\<le> (1 / 2) ^ (n + 1) / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "have \"... = (1 / 2) ^ (n + 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 / 2) ^ (n + 1) / 2 = (1 / 2) ^ (n + 2)", "by auto"], ["proof (state)\nthis:\n  (1 / 2) ^ (n + 1) / 2 = (1 / 2) ^ (n + 2)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 / real_of_int (2 * prod a {N..<n + N})\n       \\<le> (1 / 2) ^ (n + 1) \\<Longrightarrow>\n       1 / real_of_int (2 * prod a {N..<Suc n + N})\n       \\<le> (1 / 2) ^ (Suc n + 1)", "finally"], ["proof (chain)\npicking this:\n  1 / real_of_int (2 * prod a {N..<Suc n + N}) \\<le> (1 / 2) ^ (n + 2)", "show ?case"], ["proof (prove)\nusing this:\n  1 / real_of_int (2 * prod a {N..<Suc n + N}) \\<le> (1 / 2) ^ (n + 2)\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (2 * prod a {N..<Suc n + N}) \\<le> (1 / 2) ^ (Suc n + 1)", "by simp"], ["proof (state)\nthis:\n  1 / real_of_int (2 * prod a {N..<Suc n + N}) \\<le> (1 / 2) ^ (Suc n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 / real_of_int (2 * prod a {N..<n + N}) \\<le> (1 / 2) ^ (n + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "finally"], ["proof (chain)\npicking this:\n  \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)\n\ngoal (1 subgoal):\n 1. \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)", "."], ["proof (state)\nthis:\n  \\<bar>h2 n\\<bar> < (1 / 2) ^ (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<bar>h2 ?n\\<bar> < (1 / 2) ^ (?n + 1)\n\ngoal (1 subgoal):\n 1. h2 \\<longlonglongrightarrow> 0", "have \"(\\<lambda>n. (1 / 2)^(n+1)) \\<longlonglongrightarrow> (0::real)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. (1 / 2) ^ (n + 1)) \\<longlonglongrightarrow> 0", "using tendsto_mult_right_zero[OF LIMSEQ_abs_realpow_zero2[of \"1/2\",simplified],of \"1/2\"]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. 1 / 2 * (1 / 2) ^ x) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. (1 / 2) ^ (n + 1)) \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. (1 / 2) ^ (n + 1)) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. h2 \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>n. (1 / 2) ^ (n + 1)) \\<longlonglongrightarrow> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. (1 / 2) ^ (n + 1)) \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. h2 \\<longlonglongrightarrow> 0", "apply (elim Lim_null_comparison[rotated])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (h2 x) \\<le> (1 / 2) ^ (x + 1)", "using h2_n less_eq_real_def"], ["proof (prove)\nusing this:\n  \\<bar>h2 ?n\\<bar> < (1 / 2) ^ (?n + 1)\n  (?x \\<le> ?y) = (?x < ?y \\<or> ?x = ?y)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (h2 x) \\<le> (1 / 2) ^ (x + 1)", "by (auto intro!:eventuallyI)"], ["proof (state)\nthis:\n  h2 \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  h2 \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "ultimately"], ["proof (chain)\npicking this:\n  h2 \\<longlonglongrightarrow> h1 0 - (\\<Sum>i. h1 i - h2 i)\n  h2 \\<longlonglongrightarrow> 0", "have \"(\\<Sum>i. h1 i - h2 i) = h1 0\""], ["proof (prove)\nusing this:\n  h2 \\<longlonglongrightarrow> h1 0 - (\\<Sum>i. h1 i - h2 i)\n  h2 \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>i. h1 i - h2 i) = h1 0", "using LIMSEQ_unique"], ["proof (prove)\nusing this:\n  h2 \\<longlonglongrightarrow> h1 0 - (\\<Sum>i. h1 i - h2 i)\n  h2 \\<longlonglongrightarrow> 0\n  \\<lbrakk>?X \\<longlonglongrightarrow> ?a;\n   ?X \\<longlonglongrightarrow> ?b\\<rbrakk>\n  \\<Longrightarrow> ?a = ?b\n\ngoal (1 subgoal):\n 1. (\\<Sum>i. h1 i - h2 i) = h1 0", "by fastforce"], ["proof (state)\nthis:\n  (\\<Sum>i. h1 i - h2 i) = h1 0\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>i. h1 i - h2 i) = h1 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<Sum>i. h1 i - h2 i) = h1 0\n\ngoal (1 subgoal):\n 1. C + (\\<Sum>n. h1 n - h2 n) = C + h1 0", "by simp"], ["proof (state)\nthis:\n  C + (\\<Sum>n. h1 n - h2 n) = C + h1 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  C + (\\<Sum>n. h1 n - h2 n) = C + h1 0\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "also"], ["proof (state)\nthis:\n  C + (\\<Sum>n. h1 n - h2 n) = C + h1 0\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have \"... = C + c N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. C + h1 0 = C + real_of_int (c N)", "unfolding h1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. C +\n    real_of_int (c (0 + N) * a (0 + N)) / real_of_int (prod a {N..0 + N}) =\n    C + real_of_int (c N)", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. C +\n    real_of_int (c (0 + N) * a (0 + N)) / real_of_int (prod a {N..0 + N}) =\n    C + real_of_int (c N)", "by auto (metis less_irrefl)"], ["proof (state)\nthis:\n  C + h1 0 = C + real_of_int (c N)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "finally"], ["proof (chain)\npicking this:\n  real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)\n\ngoal (1 subgoal):\n 1. real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "."], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "then"], ["proof (chain)\npicking this:\n  real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)", "have \"S = (C + real_of_int (c N)) / (B*prod a {..<N})\""], ["proof (prove)\nusing this:\n  real_of_int (B * prod a {..<N}) * S = C + real_of_int (c N)\n\ngoal (1 subgoal):\n 1. S = (C + real_of_int (c N)) / real_of_int (B * prod a {..<N})", "by (metis \\<open>0 < B\\<close> a_pos less_irrefl mult.commute mult_pos_pos \n        nonzero_mult_div_cancel_right of_int_eq_0_iff prod_pos)"], ["proof (state)\nthis:\n  S = (C + real_of_int (c N)) / real_of_int (B * prod a {..<N})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "moreover"], ["proof (state)\nthis:\n  S = (C + real_of_int (c N)) / real_of_int (B * prod a {..<N})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "have \"... \\<in> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (C + real_of_int (c N)) / real_of_int (B * prod a {..<N}) \\<in> \\<rat>", "unfolding C_def f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (B * prod a {..<N}) *\n     (\\<Sum>n<N. real_of_int (b n) / real_of_int (prod a {..n})) +\n     real_of_int (c N)) /\n    real_of_int (B * prod a {..<N})\n    \\<in> \\<rat>", "by (intro Rats_divide Rats_add Rats_mult Rats_of_int Rats_sum)"], ["proof (state)\nthis:\n  (C + real_of_int (c N)) / real_of_int (B * prod a {..<N}) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "ultimately"], ["proof (chain)\npicking this:\n  S = (C + real_of_int (c N)) / real_of_int (B * prod a {..<N})\n  (C + real_of_int (c N)) / real_of_int (B * prod a {..<N}) \\<in> \\<rat>", "show \"S \\<in> \\<rat>\""], ["proof (prove)\nusing this:\n  S = (C + real_of_int (c N)) / real_of_int (B * prod a {..<N})\n  (C + real_of_int (c N)) / real_of_int (B * prod a {..<N}) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. S \\<in> \\<rat>", "by auto"], ["proof (state)\nthis:\n  S \\<in> \\<rat>\n\ngoal:\nNo subgoals!", "qed"], ["", "theorem theorem_2_1_Erdos_Straus :\n  \"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat> \\<longleftrightarrow> (\\<exists> (B::int)>0. \\<exists> c::nat\\<Rightarrow> int.\n            (\\<forall>\\<^sub>F n in sequentially. B*b n = c n * a n - c(n+1) \\<and> \\<bar>c(n+1)\\<bar><a n/2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n     \\<in> \\<rat>) =\n    (\\<exists>B>0.\n        \\<exists>c.\n           \\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2)", "using ab_rationality_imp imp_ab_rational"], ["proof (prove)\nusing this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n  \\<in> \\<rat> \\<Longrightarrow>\n  \\<exists>B>0.\n     \\<exists>c.\n        (\\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\n  \\<exists>B>0.\n     \\<exists>c.\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           real_of_int \\<bar>c (n + 1)\\<bar>\n           < real_of_int (a n) / 2 \\<Longrightarrow>\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. ((\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n     \\<in> \\<rat>) =\n    (\\<exists>B>0.\n        \\<exists>c.\n           \\<forall>\\<^sub>F n in sequentially.\n              B * b n = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2)", "by auto"], ["", "text\\<open>The following is a Corollary to Theorem 2.1.  \\<close>"], ["", "corollary corollary_2_10_Erdos_Straus:\n  assumes ab_event:\"\\<forall>\\<^sub>F n in sequentially. b n > 0 \\<and> a (n+1) \\<ge> a n\" \n    and ba_lim_leq:\"lim (\\<lambda>n. (b(n+1) - b n )/a n) \\<le> 0\" \n    and ba_lim_exist:\"convergent (\\<lambda>n. (b(n+1) - b n )/a n)\"\n    and \"liminf (\\<lambda>n. a n / b n) = 0 \"\n  shows \"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<notin> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<notin> \\<rat>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "assume \"(\\<Sum>n. (b n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat>\""], ["proof (state)\nthis:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>", "obtain B c where \"B>0\" and abc_event:\"\\<forall>\\<^sub>F n in sequentially. B * b n = c n * a n - c (n + 1) \n          \\<and> \\<bar>c (n + 1)\\<bar> < a n / 2\" and ca_vanish: \"(\\<lambda>n. c (Suc n) / a n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "using ab_rationality_imp"], ["proof (prove)\nusing this:\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n  (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n  \\<in> \\<rat> \\<Longrightarrow>\n  \\<exists>B>0.\n     \\<exists>c.\n        (\\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * b n = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  0 < B\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have bac_close:\"(\\<lambda>n. B * b n / a n - c n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "have \"\\<forall>\\<^sub>F n in sequentially. B * b n - c n * a n + c (n + 1) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. B * b n - c n * a n + c (n + 1) = 0", "using abc_event"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. B * b n - c n * a n + c (n + 1) = 0", "by (auto elim!:eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. B * b n - c n * a n + c (n + 1) = 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. B * b n - c n * a n + c (n + 1) = 0", "have \"\\<forall>\\<^sub>F n in sequentially. (B * b n - c n * a n + c (n+1)) / a n = 0 \""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. B * b n - c n * a n + c (n + 1) = 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) = 0", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       B * b n - c n * a n + c (n + 1) = 0 \\<Longrightarrow>\n       real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) = 0", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) = 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) = 0", "have \"\\<forall>\\<^sub>F n in sequentially. B * b n / a n - c n  + c (n + 1) / a n = 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) = 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n       real_of_int (c (n + 1)) / real_of_int (a n) =\n       0", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) =\n       0 \\<Longrightarrow>\n       real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n       real_of_int (c (n + 1)) / real_of_int (a n) =\n       0", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real_of_int (B * b n - c n * a n + c (n + 1)) / real_of_int (a n) =\n       0 \\<Longrightarrow>\n       real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n       real_of_int (c (n + 1)) / real_of_int (a n) =\n       0", "by (auto simp:divide_simps) (metis less_irrefl)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n     real_of_int (c (n + 1)) / real_of_int (a n) =\n     0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n     real_of_int (c (n + 1)) / real_of_int (a n) =\n     0", "have \"(\\<lambda>n. B * b n / a n - c n  + c (n + 1) / a n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n     real_of_int (c (n + 1)) / real_of_int (a n) =\n     0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n        real_of_int (c (n + 1)) / real_of_int (a n))\n    \\<longlonglongrightarrow> 0", "by (simp add: eventually_mono tendsto_iff)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n) +\n      real_of_int (c (n + 1)) / real_of_int (a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "from tendsto_diff[OF this ca_vanish]"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      real_of_int (B * b x) / real_of_int (a x) - real_of_int (c x) +\n      real_of_int (c (x + 1)) / real_of_int (a x) -\n      real_of_int (c (Suc x)) / real_of_int (a x))\n  \\<longlonglongrightarrow> 0 - 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      real_of_int (B * b x) / real_of_int (a x) - real_of_int (c x) +\n      real_of_int (c (x + 1)) / real_of_int (a x) -\n      real_of_int (c (Suc x)) / real_of_int (a x))\n  \\<longlonglongrightarrow> 0 - 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have c_pos:\"\\<forall>\\<^sub>F n in sequentially. c n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "from bac_close"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n  \\<longlonglongrightarrow> 0", "have *:\"\\<forall>\\<^sub>F n in sequentially. c n \\<ge> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      real_of_int (B * b n) / real_of_int (a n) - real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n", "apply (elim tendsto_of_int_diff_0)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < real_of_int (B * b n) / real_of_int (a n)", "using ab_event a_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < real_of_int (B * b n) / real_of_int (a n)", "apply (eventually_elim)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < b n \\<and> a n \\<le> a (n + 1); 1 < a n\\<rbrakk>\n       \\<Longrightarrow> 0 < real_of_int (B * b n) / real_of_int (a n)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < b n \\<and> a n \\<le> a (n + 1); 1 < a n\\<rbrakk>\n       \\<Longrightarrow> 0 < real_of_int (B * b n) / real_of_int (a n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "assume \"\\<not> (\\<forall>\\<^sub>F n in sequentially. c n > 0)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F n in sequentially. c (Suc n) \\<ge> 0 \\<and> c n\\<ge>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 \\<le> c (Suc n) \\<and> 0 \\<le> c n", "using * eventually_sequentially_Suc[of \"\\<lambda>n. c n\\<ge>0\"]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n\n  (\\<forall>\\<^sub>F i in sequentially. 0 \\<le> c (Suc i)) =\n  (\\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 \\<le> c (Suc n) \\<and> 0 \\<le> c n", "by (metis (mono_tags, lifting) eventually_at_top_linorder le_Suc_eq)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n", "have \"\\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> c (Suc n) \\<ge> 0\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)", "using eventually_elim2 frequently_def"], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n\n  \\<lbrakk>eventually ?P ?F; eventually ?Q ?F;\n   \\<And>i. \\<lbrakk>?P i; ?Q i\\<rbrakk> \\<Longrightarrow> ?R i\\<rbrakk>\n  \\<Longrightarrow> eventually ?R ?F\n  frequently ?P ?F = (\\<not> (\\<forall>\\<^sub>F x in ?F. \\<not> ?P x))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F n in sequentially. b n > 0 \\<and> B * b n = c n * a n - c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < b n \\<and> B * b n = c n * a n - c (n + 1)", "using ab_event abc_event"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < b n \\<and> B * b n = c n * a n - c (n + 1)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < b n \\<and> B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < b n \\<and> B * b n = c n * a n - c (n + 1)", "have \"\\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> c (Suc n) \\<ge> 0 \\<and> b n > 0 \n                          \\<and> B * b n = c n * a n - c (n + 1)\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < b n \\<and> B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       c n = 0 \\<and>\n       0 \\<le> c (Suc n) \\<and>\n       0 < b n \\<and> B * b n = c n * a n - c (n + 1)", "using frequently_eventually_frequently"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < b n \\<and> B * b n = c n * a n - c (n + 1)\n  \\<lbrakk>frequently ?P ?F; eventually ?Q ?F\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<^sub>F x in ?F. ?P x \\<and> ?Q x\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       c n = 0 \\<and>\n       0 \\<le> c (Suc n) \\<and>\n       0 < b n \\<and> B * b n = c n * a n - c (n + 1)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     c n = 0 \\<and>\n     0 \\<le> c (Suc n) \\<and> 0 < b n \\<and> B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "from frequently_ex[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     c x = 0 \\<and>\n     0 \\<le> c (Suc x) \\<and> 0 < b x \\<and> B * b x = c x * a x - c (x + 1)", "obtain n where \"c n = 0\" \"c (Suc n) \\<ge> 0\" \"b n > 0\" \n        \"B * b n = c n * a n - c (n + 1)\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     c x = 0 \\<and>\n     0 \\<le> c (Suc x) \\<and> 0 < b x \\<and> B * b x = c x * a x - c (x + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>c n = 0; 0 \\<le> c (Suc n); 0 < b n;\n         B * b n = c n * a n - c (n + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c n = 0\n  0 \\<le> c (Suc n)\n  0 < b n\n  B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  c n = 0\n  0 \\<le> c (Suc n)\n  0 < b n\n  B * b n = c n * a n - c (n + 1)", "have \"B * b n \\<le> 0\""], ["proof (prove)\nusing this:\n  c n = 0\n  0 \\<le> c (Suc n)\n  0 < b n\n  B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. B * b n \\<le> 0", "by auto"], ["proof (state)\nthis:\n  B * b n \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  B * b n \\<le> 0", "show False"], ["proof (prove)\nusing this:\n  B * b n \\<le> 0\n\ngoal (1 subgoal):\n 1. False", "using \\<open>b n>0\\<close> \\<open>B > 0\\<close>"], ["proof (prove)\nusing this:\n  B * b n \\<le> 0\n  0 < b n\n  0 < B\n\ngoal (1 subgoal):\n 1. False", "using mult_pos_pos not_le"], ["proof (prove)\nusing this:\n  B * b n \\<le> 0\n  0 < b n\n  0 < B\n  \\<lbrakk>(0::?'a) < ?a; (0::?'a) < ?b\\<rbrakk>\n  \\<Longrightarrow> (0::?'a) < ?a * ?b\n  (\\<not> ?x \\<le> ?y) = (?y < ?x)\n\ngoal (1 subgoal):\n 1. False", "by blast"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have bc_epsilon:\"\\<forall>\\<^sub>F n in sequentially. b (n+1) / b n >  (c (n+1) - \\<epsilon>) / c n\" when \"\\<epsilon>>0\" \"\\<epsilon><1\" for \\<epsilon>::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>c (Suc x) / a x\\<bar> < \\<epsilon> / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n       < \\<epsilon> / 2", "using ca_vanish[unfolded tendsto_iff,rule_format, of \"\\<epsilon>/2\"] \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon> / 2 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real_of_int (c (Suc x)) / real_of_int (a x)) 0 < \\<epsilon> / 2\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n       < \\<epsilon> / 2", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>c (x+2) / a (x+1)\\<bar> < \\<epsilon> / 2\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n       < \\<epsilon> / 2", "apply (subst (asm) eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       \\<bar>real_of_int (c (Suc (Suc i))) / real_of_int (a (Suc i))\\<bar>\n       < \\<epsilon> / 2 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n       < \\<epsilon> / 2", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"\\<forall>\\<^sub>F n in sequentially. B * b (n+1) = c (n+1) * a (n+1) - c (n + 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)", "using abc_event"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)", "apply (subst (asm) eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       B * b (Suc i) = c (Suc i) * a (Suc i) - c (Suc i + 1) \\<and>\n       \\<bar>real_of_int (c (Suc i + 1))\\<bar>\n       < real_of_int (a (Suc i)) / 2 \\<Longrightarrow>\n    \\<forall>\\<^sub>F n in sequentially.\n       B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"\\<forall>\\<^sub>F n in sequentially. c n > 0 \\<and> c (n+1) > 0 \\<and> c (n+2) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "have \"\\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "by (subst eventually_sequentially_Suc) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "have \"\\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))", "by (subst eventually_sequentially_Suc) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "using ab_event abc_event"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real_of_int (b (n + 1)) / real_of_int (b n)", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "case (elim n)"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "define \\<epsilon>\\<^sub>0 \\<epsilon>\\<^sub>1 where \"\\<epsilon>\\<^sub>0 = c (n+1) / a n\" and \"\\<epsilon>\\<^sub>1 = c (n+2) / a (n+1)\""], ["proof (state)\nthis:\n  \\<epsilon>\\<^sub>0 = real_of_int (c (n + 1)) / real_of_int (a n)\n  \\<epsilon>\\<^sub>1 = real_of_int (c (n + 2)) / real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"\\<epsilon>\\<^sub>0 > 0\" \"\\<epsilon>\\<^sub>1 > 0\" \"\\<epsilon>\\<^sub>0 < \\<epsilon>/2\" \"\\<epsilon>\\<^sub>1 < \\<epsilon>/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 < \\<epsilon>\\<^sub>0 &&& 0 < \\<epsilon>\\<^sub>1) &&&\n    \\<epsilon>\\<^sub>0 < \\<epsilon> / 2 &&&\n    \\<epsilon>\\<^sub>1 < \\<epsilon> / 2", "using a_pos elim"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. (0 < \\<epsilon>\\<^sub>0 &&& 0 < \\<epsilon>\\<^sub>1) &&&\n    \\<epsilon>\\<^sub>0 < \\<epsilon> / 2 &&&\n    \\<epsilon>\\<^sub>1 < \\<epsilon> / 2", "by (auto simp add: \\<epsilon>\\<^sub>0_def \\<epsilon>\\<^sub>1_def)"], ["proof (state)\nthis:\n  0 < \\<epsilon>\\<^sub>0\n  0 < \\<epsilon>\\<^sub>1\n  \\<epsilon>\\<^sub>0 < \\<epsilon> / 2\n  \\<epsilon>\\<^sub>1 < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"(\\<epsilon> - \\<epsilon>\\<^sub>1) * c n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)", "apply (rule mult_pos_pos)"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < \\<epsilon> - \\<epsilon>\\<^sub>1\n 2. 0 < real_of_int (c n)", "using \\<open>\\<epsilon>\\<^sub>1 > 0\\<close> \\<open>\\<epsilon>\\<^sub>1 < \\<epsilon>/2\\<close> \\<open>\\<epsilon>>0\\<close> elim"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\\<^sub>1\n  \\<epsilon>\\<^sub>1 < \\<epsilon> / 2\n  0 < \\<epsilon>\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (2 subgoals):\n 1. 0 < \\<epsilon> - \\<epsilon>\\<^sub>1\n 2. 0 < real_of_int (c n)", "by auto"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"\\<epsilon>\\<^sub>0 * (c (n+1) - \\<epsilon>) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "apply (rule mult_pos_pos[OF \\<open>\\<epsilon>\\<^sub>0 > 0\\<close>])"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (c (n + 1)) - \\<epsilon>", "using elim(4) that(2)"], ["proof (prove)\nusing this:\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  \\<epsilon> < 1\n\ngoal (1 subgoal):\n 1. 0 < real_of_int (c (n + 1)) - \\<epsilon>", "by linarith"], ["proof (state)\nthis:\n  0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "ultimately"], ["proof (chain)\npicking this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n  0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "have \"(\\<epsilon> - \\<epsilon>\\<^sub>1) * c n + \\<epsilon>\\<^sub>0 * (c (n+1) - \\<epsilon>) > 0\""], ["proof (prove)\nusing this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n  0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. 0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n        \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "by auto"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"c n - \\<epsilon>\\<^sub>0 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (c n) - \\<epsilon>\\<^sub>0", "using \\<open>\\<epsilon>\\<^sub>0 < \\<epsilon> / 2\\<close> elim(4) that(2)"], ["proof (prove)\nusing this:\n  \\<epsilon>\\<^sub>0 < \\<epsilon> / 2\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  \\<epsilon> < 1\n\ngoal (1 subgoal):\n 1. 0 < real_of_int (c n) - \\<epsilon>\\<^sub>0", "by linarith"], ["proof (state)\nthis:\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"c n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < c n", "by (simp add: elim(4))"], ["proof (state)\nthis:\n  0 < c n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "ultimately"], ["proof (chain)\npicking this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n  0 < c n", "have \"(c (n+1) - \\<epsilon>) / c n < (c (n+1) - \\<epsilon>\\<^sub>1) / (c n -  \\<epsilon>\\<^sub>0)\""], ["proof (prove)\nusing this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n  0 < c n\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n    < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "by (auto simp add: field_simps)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "also"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"... \\<le> (c (n+1) - \\<epsilon>\\<^sub>1) / (c n -  \\<epsilon>\\<^sub>0) * (a (n+1) / a n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "have \"(c (n+1) - \\<epsilon>\\<^sub>1) / (c n -  \\<epsilon>\\<^sub>0) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "by (smt \\<open>0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\\<close> \\<open>0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\\<close> \n              divide_pos_pos elim(4) mult_le_0_iff of_int_less_1_iff that(2))"], ["proof (state)\nthis:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "moreover"], ["proof (state)\nthis:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "have \"(a (n+1) / a n) \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)", "using a_pos elim(5)"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n  0 < b n \\<and> a n \\<le> a (n + 1)\n\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)", "by auto"], ["proof (state)\nthis:\n  1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "ultimately"], ["proof (chain)\npicking this:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "by (metis mult_cancel_left1 mult_le_cancel_iff2)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n        (real_of_int (a (n + 1)) / real_of_int (a n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n        (real_of_int (a (n + 1)) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "also"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n        (real_of_int (a (n + 1)) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"... = (B * b (n+1)) / (B * b n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "have \"B * b n = c n * a n - c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B * b n = c n * a n - c (n + 1)", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. B * b n = c n * a n - c (n + 1)", "by auto"], ["proof (state)\nthis:\n  B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "also"], ["proof (state)\nthis:\n  B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "have \"... = a n * (c n - \\<epsilon>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) =\n    real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) =\n    real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "unfolding \\<epsilon>\\<^sub>0_def"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) =\n    real_of_int (a n) *\n    (real_of_int (c n) - real_of_int (c (n + 1)) / real_of_int (a n))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (c n * a n - c (n + 1)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "finally"], ["proof (chain)\npicking this:\n  real_of_int (B * b n) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "have \"B * b n = a n * (c n - \\<epsilon>\\<^sub>0)\""], ["proof (prove)\nusing this:\n  real_of_int (B * b n) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. real_of_int (B * b n) =\n    real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "."], ["proof (state)\nthis:\n  real_of_int (B * b n) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "moreover"], ["proof (state)\nthis:\n  real_of_int (B * b n) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "have \"B * b (n+1) = a (n+1) * (c (n+1) - \\<epsilon>\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * b (n + 1)) =\n    real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)", "unfolding \\<epsilon>\\<^sub>1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * b (n + 1)) =\n    real_of_int (a (n + 1)) *\n    (real_of_int (c (n + 1)) -\n     real_of_int (c (n + 2)) / real_of_int (a (n + 1)))", "using a_pos[rule_format,of \"n+1\"]"], ["proof (prove)\nusing this:\n  0 < a (n + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (B * b (n + 1)) =\n    real_of_int (a (n + 1)) *\n    (real_of_int (c (n + 1)) -\n     real_of_int (c (n + 2)) / real_of_int (a (n + 1)))", "apply (subst \\<open>B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < a (n + 1) \\<Longrightarrow>\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2)) =\n    real_of_int (a (n + 1)) *\n    (real_of_int (c (n + 1)) -\n     real_of_int (c (n + 2)) / real_of_int (a (n + 1)))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (B * b (n + 1)) =\n  real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (B * b n) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  real_of_int (B * b (n + 1)) =\n  real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (B * b n) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  real_of_int (B * b (n + 1)) =\n  real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * b (n + 1)) / real_of_int (B * b n)", "by (simp add: mult.commute)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n  (real_of_int (a (n + 1)) / real_of_int (a n)) =\n  real_of_int (B * b (n + 1)) / real_of_int (B * b n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n  (real_of_int (a (n + 1)) / real_of_int (a n)) =\n  real_of_int (B * b (n + 1)) / real_of_int (B * b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "also"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n  (real_of_int (a (n + 1)) / real_of_int (a n)) =\n  real_of_int (B * b (n + 1)) / real_of_int (B * b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "have \"... = b (n+1) / b n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * b (n + 1)) / real_of_int (B * b n) =\n    real_of_int (b (n + 1)) / real_of_int (b n)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (B * b (n + 1)) / real_of_int (B * b n) =\n    real_of_int (b (n + 1)) / real_of_int (b n)", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * b (n + 1)) / real_of_int (B * b n) =\n  real_of_int (b (n + 1)) / real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * b (n + 1) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real_of_int (b (n + 1)) / real_of_int (b n)", "finally"], ["proof (chain)\npicking this:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)", "show ?case"], ["proof (prove)\nusing this:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n    < real_of_int (b (n + 1)) / real_of_int (b n)", "."], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?\\<epsilon>; ?\\<epsilon> < 1\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially.\n                       (real_of_int (c (n + 1)) - ?\\<epsilon>) /\n                       real_of_int (c n)\n                       < real_of_int (b (n + 1)) / real_of_int (b n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have eq_2_11:\"\\<exists>\\<^sub>F n in sequentially. b (n+1) > b n + (1 - \\<epsilon>)^2 * a n / B\" \n    when \"\\<epsilon>>0\" \"\\<epsilon><1\" \"\\<not> (\\<forall>\\<^sub>F n in sequentially. c (n+1) \\<le> c n)\"  for \\<epsilon>::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "have \"\\<exists>\\<^sub>F x in sequentially. c x < c (Suc x) \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)", "using that(3)"], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)", "by (simp add:not_eventually frequently_elim1)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>c (Suc x) / a x\\<bar> < \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>", "using ca_vanish[unfolded tendsto_iff,rule_format, of \\<epsilon>] \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon> \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real_of_int (c (Suc x)) / real_of_int (a x)) 0 < \\<epsilon>\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "have \"\\<forall>\\<^sub>F n in sequentially. c n > 0 \\<and> c (n+1) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "have \"\\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "by (subst eventually_sequentially_Suc) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "using ab_event abc_event bc_epsilon[OF \\<open>\\<epsilon>>0\\<close> \\<open>\\<epsilon><1\\<close>]"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially. c x < c (Suc x)\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "proof (elim frequently_rev_mp,eventually_elim)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "case (elim n)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)", "have \"c (n+1) / a n < \\<epsilon>\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>", "by auto"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... \\<le> \\<epsilon> * c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<le> \\<epsilon> * real_of_int (c n)", "using elim(7) that(1)"], ["proof (prove)\nusing this:\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<le> \\<epsilon> * real_of_int (c n)", "by auto"], ["proof (state)\nthis:\n  \\<epsilon> \\<le> \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "finally"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)", "have \"c (n+1) / a n < \\<epsilon> * c n\""], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n)\n    < \\<epsilon> * real_of_int (c n)", "."], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "then"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)", "have \"c (n+1) / c n < \\<epsilon> * a n\""], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (c n)\n    < \\<epsilon> * real_of_int (a n)", "using a_pos[rule_format,of n] elim"], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n  0 < a n\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (c n)\n    < \\<epsilon> * real_of_int (a n)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (c n)\n  < \\<epsilon> * real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "then"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (c n)\n  < \\<epsilon> * real_of_int (a n)", "have \"(1 - \\<epsilon>) * a n < a n - c (n+1) / c n\""], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (c n)\n  < \\<epsilon> * real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (1 - \\<epsilon>) * real_of_int (a n)\n    < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  (1 - \\<epsilon>) * real_of_int (a n)\n  < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "then"], ["proof (chain)\npicking this:\n  (1 - \\<epsilon>) * real_of_int (a n)\n  < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)", "have \"(1 - \\<epsilon>)^2 * a n / B < (1 - \\<epsilon>) * (a n - c (n+1) / c n) / B\""], ["proof (prove)\nusing this:\n  (1 - \\<epsilon>) * real_of_int (a n)\n  < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)\n\ngoal (1 subgoal):\n 1. (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "apply (subst (asm) mult_less_iff1[symmetric, of \"(1-\\<epsilon>)/B\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < (1 - \\<epsilon>) / real_of_int B\n 2. (1 - \\<epsilon>) * real_of_int (a n) *\n    ((1 - \\<epsilon>) / real_of_int B)\n    < (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) *\n      ((1 - \\<epsilon>) / real_of_int B) \\<Longrightarrow>\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "using \\<open>\\<epsilon><1\\<close> \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  \\<epsilon> < 1\n  0 < B\n\ngoal (2 subgoals):\n 1. 0 < (1 - \\<epsilon>) / real_of_int B\n 2. (1 - \\<epsilon>) * real_of_int (a n) *\n    ((1 - \\<epsilon>) / real_of_int B)\n    < (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) *\n      ((1 - \\<epsilon>) / real_of_int B) \\<Longrightarrow>\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "by (auto simp: divide_simps power2_eq_square mult_less_iff1)"], ["proof (state)\nthis:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "then"], ["proof (chain)\npicking this:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B", "have \"b n + (1 - \\<epsilon>)^2 * a n / B < b n + (1 - \\<epsilon>) * (a n - c (n+1) / c n) / B\""], ["proof (prove)\nusing this:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < real_of_int (b n) +\n      (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < real_of_int (b n) +\n      (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "by auto"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... = b n + (1 - \\<epsilon>) * ((c n *a n - c (n+1)) / c n) / B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B", "using elim"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... = b n + (1 - \\<epsilon>) * (b n / c n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))", "have \"B * b n = c n * a n - c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B * b n = c n * a n - c (n + 1)", "using elim"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. B * b n = c n * a n - c (n + 1)", "by auto"], ["proof (state)\nthis:\n  B * b n = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))", "from this[symmetric]"], ["proof (chain)\npicking this:\n  c n * a n - c (n + 1) = B * b n", "show ?thesis"], ["proof (prove)\nusing this:\n  c n * a n - c (n + 1) = B * b n\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  c n * a n - c (n + 1) = B * b n\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real_of_int (b n) +\n    (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))", "by simp"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real_of_int (b n) +\n  (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real_of_int (b n) +\n  (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real_of_int (b n) +\n  (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... = (1+(1-\\<epsilon>)/c n) * b n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n)) =\n    (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n)) =\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>) * (real_of_int (b n) / real_of_int (c n)) =\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... = ((c n+1-\\<epsilon>)/c n) * b n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n) =\n    (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)", "using elim"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n) =\n    (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n) =\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real_of_int (b n) =\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... \\<le> ((c (n+1) -\\<epsilon>)/c n) * b n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "define cp where \"cp = c n+1\""], ["proof (state)\nthis:\n  cp = c n + 1\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "have \"c (n+1) \\<ge> cp\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cp \\<le> c (n + 1)", "unfolding cp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. c n + 1 \\<le> c (n + 1)", "using \\<open>c n < c (Suc n)\\<close>"], ["proof (prove)\nusing this:\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. c n + 1 \\<le> c (n + 1)", "by auto"], ["proof (state)\nthis:\n  cp \\<le> c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "moreover"], ["proof (state)\nthis:\n  cp \\<le> c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "have \"c n>0\" \"b n>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < c n &&& 0 < b n", "using elim"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. 0 < c n &&& 0 < b n", "by auto"], ["proof (state)\nthis:\n  0 < c n\n  0 < b n\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "ultimately"], ["proof (chain)\npicking this:\n  cp \\<le> c (n + 1)\n  0 < c n\n  0 < b n", "show ?thesis"], ["proof (prove)\nusing this:\n  cp \\<le> c (n + 1)\n  0 < c n\n  0 < b n\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real_of_int (b n)", "apply (fold cp_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>cp \\<le> c (n + 1); 0 < c n; 0 < b n\\<rbrakk>\n    \\<Longrightarrow> (real_of_int cp - \\<epsilon>) / real_of_int (c n) *\n                      real_of_int (b n)\n                      \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                            real_of_int (c n) *\n                            real_of_int (b n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real_of_int (b n)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n        real_of_int (b n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real_of_int (b n)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n        real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "also"], ["proof (state)\nthis:\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real_of_int (b n)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n        real_of_int (b n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "have \"... < b (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    < real_of_int (b (n + 1))", "using elim"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * b n = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real_of_int (b (n + 1)) / real_of_int (b n)\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < b n \\<and> a n \\<le> a (n + 1)\n  B * b n = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real_of_int (b (n + 1)) / real_of_int (b n)\n  c n < c (Suc n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n    real_of_int (b n)\n    < real_of_int (b (n + 1))", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n  real_of_int (b n)\n  < real_of_int (b (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>\\<^sub>F x in sequentially.\n                   \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n                   < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           0 < b n \\<and> a n \\<le> a (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * b n = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real_of_int (b (n + 1)) / real_of_int (b n);\n        \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n        < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1); 0 < b n \\<and> a n \\<le> a (n + 1);\n        B * b n = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real_of_int (b (n + 1)) / real_of_int (b n);\n        c n < c (Suc n)\\<rbrakk>\n       \\<Longrightarrow> real_of_int (b n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real_of_int (b (n + 1))", "finally"], ["proof (chain)\npicking this:\n  real_of_int (b n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real_of_int (b (n + 1))", "show ?case"], ["proof (prove)\nusing this:\n  real_of_int (b n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real_of_int (b (n + 1))\n\ngoal (1 subgoal):\n 1. real_of_int (b n) +\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < real_of_int (b (n + 1))", "."], ["proof (state)\nthis:\n  real_of_int (b n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real_of_int (b (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (b n) +\n     (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n     < real_of_int (b (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?\\<epsilon>; ?\\<epsilon> < 1;\n   \\<not> (\\<forall>\\<^sub>F n in sequentially.\n              c (n + 1) \\<le> c n)\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<^sub>F n in sequentially.\n                       real_of_int (b n) +\n                       (1 - ?\\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                       real_of_int B\n                       < real_of_int (b (n + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F n in sequentially. c (n+1) \\<le> c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "assume \"\\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "from eq_2_11[OF _ _ this,of \"1/2\"]"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < 1 / 2; 1 / 2 < 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<^sub>F n in sequentially.\n                       real_of_int (b n) +\n                       (1 - 1 / 2)\\<^sup>2 * real_of_int (a n) /\n                       real_of_int B\n                       < real_of_int (b (n + 1))", "have \"\\<exists>\\<^sub>F n in sequentially. b (n+1) > b n + 1/4 * a n / B\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < 1 / 2; 1 / 2 < 1\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<^sub>F n in sequentially.\n                       real_of_int (b n) +\n                       (1 - 1 / 2)\\<^sup>2 * real_of_int (a n) /\n                       real_of_int B\n                       < real_of_int (b (n + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (b n) + 1 / 4 * real_of_int (a n) / real_of_int B\n       < real_of_int (b (n + 1))", "by (auto simp:algebra_simps power2_eq_square)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (b n) + 1 / 4 * real_of_int (a n) / real_of_int B\n     < real_of_int (b (n + 1))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (b n) + 1 / 4 * real_of_int (a n) / real_of_int B\n     < real_of_int (b (n + 1))", "have *:\"\\<exists>\\<^sub>F n in sequentially. (b (n+1) - b n) / a n > 1 / (B * 4)\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (b n) + 1 / 4 * real_of_int (a n) / real_of_int B\n     < real_of_int (b (n + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       1 / real_of_int (B * 4)\n       < real_of_int (b (n + 1) - b n) / real_of_int (a n)", "apply (elim frequently_elim1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       real_of_int (b i) + 1 / 4 * real_of_int (a i) / real_of_int B\n       < real_of_int (b (i + 1)) \\<Longrightarrow>\n       1 / real_of_int (B * 4)\n       < real_of_int (b (i + 1) - b i) / real_of_int (a i)", "subgoal for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (b n) + 1 / 4 * real_of_int (a n) / real_of_int B\n    < real_of_int (b (n + 1)) \\<Longrightarrow>\n    1 / real_of_int (B * 4)\n    < real_of_int (b (n + 1) - b n) / real_of_int (a n)", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (b n) + 1 / 4 * real_of_int (a n) / real_of_int B\n    < real_of_int (b (n + 1)) \\<Longrightarrow>\n    1 / real_of_int (B * 4)\n    < real_of_int (b (n + 1) - b n) / real_of_int (a n)", "by (auto simp:field_simps)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     1 / real_of_int (B * 4)\n     < real_of_int (b (n + 1) - b n) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "define f where \"f = (\\<lambda>n. (b (n+1) - b n) / a n)\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "have \"f \\<longlonglongrightarrow> lim f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> lim f", "using convergent_LIMSEQ_iff ba_lim_exist"], ["proof (prove)\nusing this:\n  convergent ?X = ?X \\<longlonglongrightarrow> lim ?X\n  convergent (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> lim f", "unfolding f_def"], ["proof (prove)\nusing this:\n  convergent ?X = ?X \\<longlonglongrightarrow> lim ?X\n  convergent (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n    \\<longlonglongrightarrow> lim (\\<lambda>n.\nreal_of_int (b (n + 1) - b n) / real_of_int (a n))", "by auto"], ["proof (state)\nthis:\n  f \\<longlonglongrightarrow> lim f\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "from this[unfolded tendsto_iff,rule_format, of \"1 / (B*4)\"]"], ["proof (chain)\npicking this:\n  0 < 1 / real_of_int (B * 4) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x) (lim f) < 1 / real_of_int (B * 4)", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>f x - lim f\\<bar> < 1 / (B * 4)\""], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (B * 4) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x) (lim f) < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (B * 4) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x) (lim f) < 1 / real_of_int (B * 4)\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)", "by (auto simp:dist_real_def)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "have \"\\<exists>\\<^sub>F n in sequentially. f n > 1 / (B * 4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. 1 / real_of_int (B * 4) < f n", "using *"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially.\n     1 / real_of_int (B * 4)\n     < real_of_int (b (n + 1) - b n) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. 1 / real_of_int (B * 4) < f n", "unfolding f_def"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially.\n     1 / real_of_int (B * 4)\n     < real_of_int (b (n + 1) - b n) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       1 / real_of_int (B * 4)\n       < real_of_int (b (n + 1) - b n) / real_of_int (a n)", "by auto"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially. 1 / real_of_int (B * 4) < f n\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)\n  \\<exists>\\<^sub>F n in sequentially. 1 / real_of_int (B * 4) < f n", "have \"\\<exists>\\<^sub>F n in sequentially. f n > 1 / (B * 4) \\<and> \\<bar>f n - lim f\\<bar> < 1 / (B * 4)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)\n  \\<exists>\\<^sub>F n in sequentially. 1 / real_of_int (B * 4) < f n\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       1 / real_of_int (B * 4) < f n \\<and>\n       \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)", "by (auto elim:frequently_eventually_frequently[rotated])"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     1 / real_of_int (B * 4) < f n \\<and>\n     \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "from frequently_ex[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     1 / real_of_int (B * 4) < f x \\<and>\n     \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)", "obtain n where \"f n > 1 / (B * 4)\" \"\\<bar>f n - lim f\\<bar> < 1 / (B * 4)\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     1 / real_of_int (B * 4) < f x \\<and>\n     \\<bar>f x - lim f\\<bar> < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>1 / real_of_int (B * 4) < f n;\n         \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  1 / real_of_int (B * 4) < f n\n  \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  1 / real_of_int (B * 4) < f n\n  \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "have \"lim f \\<le> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. lim f \\<le> 0", "using ba_lim_leq"], ["proof (prove)\nusing this:\n  lim (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n  \\<le> 0\n\ngoal (1 subgoal):\n 1. lim f \\<le> 0", "unfolding f_def"], ["proof (prove)\nusing this:\n  lim (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n  \\<le> 0\n\ngoal (1 subgoal):\n 1. lim (\\<lambda>n. real_of_int (b (n + 1) - b n) / real_of_int (a n))\n    \\<le> 0", "by auto"], ["proof (state)\nthis:\n  lim f \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<le> c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  1 / real_of_int (B * 4) < f n\n  \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)\n  lim f \\<le> 0", "show False"], ["proof (prove)\nusing this:\n  1 / real_of_int (B * 4) < f n\n  \\<bar>f n - lim f\\<bar> < 1 / real_of_int (B * 4)\n  lim f \\<le> 0\n\ngoal (1 subgoal):\n 1. False", "by linarith"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n", "obtain N where N_dec:\"\\<forall>n\\<ge>N. c (n+1) \\<le> c n\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<le> c n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N. c (n + 1) \\<le> c n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by (meson eventually_at_top_linorder)"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N. c (n + 1) \\<le> c n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "define max_c where \"max_c = (MAX n \\<in> {..N}. c n)\""], ["proof (state)\nthis:\n  max_c = Max (c ` {..N})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have max_c:\"c n \\<le> max_c\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. c n \\<le> max_c", "proof (cases \"n\\<le>N\")"], ["proof (state)\ngoal (2 subgoals):\n 1. n \\<le> N \\<Longrightarrow> c n \\<le> max_c\n 2. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "case True"], ["proof (state)\nthis:\n  n \\<le> N\n\ngoal (2 subgoals):\n 1. n \\<le> N \\<Longrightarrow> c n \\<le> max_c\n 2. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "then"], ["proof (chain)\npicking this:\n  n \\<le> N", "show ?thesis"], ["proof (prove)\nusing this:\n  n \\<le> N\n\ngoal (1 subgoal):\n 1. c n \\<le> max_c", "unfolding max_c_def"], ["proof (prove)\nusing this:\n  n \\<le> N\n\ngoal (1 subgoal):\n 1. c n \\<le> Max (c ` {..N})", "by simp"], ["proof (state)\nthis:\n  c n \\<le> max_c\n\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "case False"], ["proof (state)\nthis:\n  \\<not> n \\<le> N\n\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "then"], ["proof (chain)\npicking this:\n  \\<not> n \\<le> N", "have \"n\\<ge>N\""], ["proof (prove)\nusing this:\n  \\<not> n \\<le> N\n\ngoal (1 subgoal):\n 1. N \\<le> n", "by auto"], ["proof (state)\nthis:\n  N \\<le> n\n\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "then"], ["proof (chain)\npicking this:\n  N \\<le> n", "have \"c n\\<le>c N\""], ["proof (prove)\nusing this:\n  N \\<le> n\n\ngoal (1 subgoal):\n 1. c n \\<le> c N", "proof (induct rule:nat_induct_at_least)"], ["proof (state)\ngoal (2 subgoals):\n 1. c N \\<le> c N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n; c n \\<le> c N\\<rbrakk>\n       \\<Longrightarrow> c (Suc n) \\<le> c N", "case base"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. c N \\<le> c N\n 2. \\<And>n.\n       \\<lbrakk>N \\<le> n; c n \\<le> c N\\<rbrakk>\n       \\<Longrightarrow> c (Suc n) \\<le> c N", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. c N \\<le> c N", "by simp"], ["proof (state)\nthis:\n  c N \\<le> c N\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n; c n \\<le> c N\\<rbrakk>\n       \\<Longrightarrow> c (Suc n) \\<le> c N", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n; c n \\<le> c N\\<rbrakk>\n       \\<Longrightarrow> c (Suc n) \\<le> c N", "case (Suc n)"], ["proof (state)\nthis:\n  N \\<le> n\n  c n \\<le> c N\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n; c n \\<le> c N\\<rbrakk>\n       \\<Longrightarrow> c (Suc n) \\<le> c N", "then"], ["proof (chain)\npicking this:\n  N \\<le> n\n  c n \\<le> c N", "have \"c (n+1) \\<le> c n\""], ["proof (prove)\nusing this:\n  N \\<le> n\n  c n \\<le> c N\n\ngoal (1 subgoal):\n 1. c (n + 1) \\<le> c n", "using N_dec"], ["proof (prove)\nusing this:\n  N \\<le> n\n  c n \\<le> c N\n  \\<forall>n\\<ge>N. c (n + 1) \\<le> c n\n\ngoal (1 subgoal):\n 1. c (n + 1) \\<le> c n", "by auto"], ["proof (state)\nthis:\n  c (n + 1) \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>N \\<le> n; c n \\<le> c N\\<rbrakk>\n       \\<Longrightarrow> c (Suc n) \\<le> c N", "then"], ["proof (chain)\npicking this:\n  c (n + 1) \\<le> c n", "show ?case"], ["proof (prove)\nusing this:\n  c (n + 1) \\<le> c n\n\ngoal (1 subgoal):\n 1. c (Suc n) \\<le> c N", "using \\<open>c n \\<le> c N\\<close>"], ["proof (prove)\nusing this:\n  c (n + 1) \\<le> c n\n  c n \\<le> c N\n\ngoal (1 subgoal):\n 1. c (Suc n) \\<le> c N", "by auto"], ["proof (state)\nthis:\n  c (Suc n) \\<le> c N\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c n \\<le> c N\n\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "moreover"], ["proof (state)\nthis:\n  c n \\<le> c N\n\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "have \"c N \\<le> max_c\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c N \\<le> max_c", "unfolding max_c_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. c N \\<le> Max (c ` {..N})", "by auto"], ["proof (state)\nthis:\n  c N \\<le> max_c\n\ngoal (1 subgoal):\n 1. \\<not> n \\<le> N \\<Longrightarrow> c n \\<le> max_c", "ultimately"], ["proof (chain)\npicking this:\n  c n \\<le> c N\n  c N \\<le> max_c", "show ?thesis"], ["proof (prove)\nusing this:\n  c n \\<le> c N\n  c N \\<le> max_c\n\ngoal (1 subgoal):\n 1. c n \\<le> max_c", "by auto"], ["proof (state)\nthis:\n  c n \\<le> max_c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c ?n \\<le> max_c\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have \"max_c > 0 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < max_c", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 < max_c", "obtain N where \"\\<forall>n\\<ge>N. 0 < c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N. 0 < c n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using c_pos[unfolded eventually_at_top_linorder]"], ["proof (prove)\nusing this:\n  \\<exists>N. \\<forall>n\\<ge>N. 0 < c n\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N. 0 < c n \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N. 0 < c n\n\ngoal (1 subgoal):\n 1. 0 < max_c", "then"], ["proof (chain)\npicking this:\n  \\<forall>n\\<ge>N. 0 < c n", "have \"c N > 0\""], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N. 0 < c n\n\ngoal (1 subgoal):\n 1. 0 < c N", "by auto"], ["proof (state)\nthis:\n  0 < c N\n\ngoal (1 subgoal):\n 1. 0 < max_c", "then"], ["proof (chain)\npicking this:\n  0 < c N", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < c N\n\ngoal (1 subgoal):\n 1. 0 < max_c", "using max_c[of N]"], ["proof (prove)\nusing this:\n  0 < c N\n  c N \\<le> max_c\n\ngoal (1 subgoal):\n 1. 0 < max_c", "by simp"], ["proof (state)\nthis:\n  0 < max_c\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < max_c\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have ba_limsup_bound:\"1/(B*(B+1)) \\<le> limsup (\\<lambda>n. b n/a n)\" \n    \"limsup (\\<lambda>n. b n/a n) \\<le> max_c / B + 1 / (B+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup\n           (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x))) &&&\n    limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "proof -"], ["proof (state)\ngoal (2 subgoals):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n 2. limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "define f where \"f = (\\<lambda>n. b n/a n)\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. real_of_int (b n) / real_of_int (a n))\n\ngoal (2 subgoals):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n 2. limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "from tendsto_mult_right_zero[OF bac_close,of \"1/B\"]"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      1 / real_of_int B *\n      (real_of_int (B * b x) / real_of_int (a x) - real_of_int (c x)))\n  \\<longlonglongrightarrow> 0", "have \"(\\<lambda>n. f n - c n / B) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      1 / real_of_int B *\n      (real_of_int (B * b x) / real_of_int (a x) - real_of_int (c x)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. f n - real_of_int (c n) / real_of_int B)\n    \\<longlonglongrightarrow> 0", "unfolding f_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      1 / real_of_int B *\n      (real_of_int (B * b x) / real_of_int (a x) - real_of_int (c x)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (b n) / real_of_int (a n) -\n        real_of_int (c n) / real_of_int B)\n    \\<longlonglongrightarrow> 0", "using  \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      1 / real_of_int B *\n      (real_of_int (B * b x) / real_of_int (a x) - real_of_int (c x)))\n  \\<longlonglongrightarrow> 0\n  0 < B\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (b n) / real_of_int (a n) -\n        real_of_int (c n) / real_of_int B)\n    \\<longlonglongrightarrow> 0", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  (\\<lambda>n. f n - real_of_int (c n) / real_of_int B)\n  \\<longlonglongrightarrow> 0\n\ngoal (2 subgoals):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n 2. limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "from this[unfolded tendsto_iff,rule_format,of \"1/(B+1)\"]"], ["proof (chain)\npicking this:\n  0 < 1 / real_of_int (B + 1) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x - real_of_int (c x) / real_of_int B) 0\n     < 1 / real_of_int (B + 1)", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>f x - c x / B\\<bar> < 1 / (B+1)\""], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (B + 1) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x - real_of_int (c x) / real_of_int B) 0\n     < 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>f x - real_of_int (c x) / real_of_int B\\<bar>\n       < 1 / real_of_int (B + 1)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (B + 1) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (f x - real_of_int (c x) / real_of_int B) 0\n     < 1 / real_of_int (B + 1)\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>f x - real_of_int (c x) / real_of_int B\\<bar>\n       < 1 / real_of_int (B + 1)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - real_of_int (c x) / real_of_int B\\<bar>\n     < 1 / real_of_int (B + 1)\n\ngoal (2 subgoals):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n 2. limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - real_of_int (c x) / real_of_int B\\<bar>\n     < 1 / real_of_int (B + 1)", "have *:\"\\<forall>\\<^sub>F n in sequentially. 1/(B*(B+1)) \\<le> ereal (f n) \\<and> ereal (f n) \\<le> max_c / B + 1 / (B+1)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - real_of_int (c x) / real_of_int B\\<bar>\n     < 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n       ereal (f n)\n       \\<le> ereal\n              (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>f x - real_of_int (c x) / real_of_int B\\<bar>\n     < 1 / real_of_int (B + 1)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n       ereal (f n)\n       \\<le> ereal\n              (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "case (elim n)"], ["proof (state)\nthis:\n  \\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n  < 1 / real_of_int (B + 1)\n  0 < c n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "then"], ["proof (chain)\npicking this:\n  \\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n  < 1 / real_of_int (B + 1)\n  0 < c n", "have \"f n - c n / B < 1 / (B+1)\""], ["proof (prove)\nusing this:\n  \\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n  < 1 / real_of_int (B + 1)\n  0 < c n\n\ngoal (1 subgoal):\n 1. f n - real_of_int (c n) / real_of_int B < 1 / real_of_int (B + 1)", "by auto"], ["proof (state)\nthis:\n  f n - real_of_int (c n) / real_of_int B < 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "then"], ["proof (chain)\npicking this:\n  f n - real_of_int (c n) / real_of_int B < 1 / real_of_int (B + 1)", "have \"f n < c n / B + 1 / (B+1)\""], ["proof (prove)\nusing this:\n  f n - real_of_int (c n) / real_of_int B < 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. f n < real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)", "by simp"], ["proof (state)\nthis:\n  f n < real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "also"], ["proof (state)\nthis:\n  f n < real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "have \"... \\<le> max_c / B + 1 / (B+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)\n    \\<le> real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)", "using max_c[of n]"], ["proof (prove)\nusing this:\n  c n \\<le> max_c\n\ngoal (1 subgoal):\n 1. real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)\n    \\<le> real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  c n \\<le> max_c\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)\n    \\<le> real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  real_of_int (c n) / real_of_int B + 1 / real_of_int (B + 1)\n  \\<le> real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "finally"], ["proof (chain)\npicking this:\n  f n < real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)", "have *:\"f n < max_c / B + 1 / (B+1)\""], ["proof (prove)\nusing this:\n  f n < real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. f n < real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)", "."], ["proof (state)\nthis:\n  f n < real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "have \"1/(B*(B+1)) = 1/B - 1 / (B+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int (B * (B + 1)) =\n    1 / real_of_int B - 1 / real_of_int (B + 1)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (B * (B + 1)) =\n    1 / real_of_int B - 1 / real_of_int (B + 1)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  1 / real_of_int (B * (B + 1)) =\n  1 / real_of_int B - 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "also"], ["proof (state)\nthis:\n  1 / real_of_int (B * (B + 1)) =\n  1 / real_of_int B - 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "have \"... \\<le> c n/B - 1 / (B+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 / real_of_int B - 1 / real_of_int (B + 1)\n    \\<le> real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1)", "using \\<open>0 < c n\\<close> \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < c n\n  0 < B\n\ngoal (1 subgoal):\n 1. 1 / real_of_int B - 1 / real_of_int (B + 1)\n    \\<le> real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1)", "by (auto,auto simp:divide_simps)"], ["proof (state)\nthis:\n  1 / real_of_int B - 1 / real_of_int (B + 1)\n  \\<le> real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "also"], ["proof (state)\nthis:\n  1 / real_of_int B - 1 / real_of_int (B + 1)\n  \\<le> real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "have \"... < f n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1) < f n", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n  < 1 / real_of_int (B + 1)\n  0 < c n\n\ngoal (1 subgoal):\n 1. real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1) < f n", "by auto"], ["proof (state)\nthis:\n  real_of_int (c n) / real_of_int B - 1 / real_of_int (B + 1) < f n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "finally"], ["proof (chain)\npicking this:\n  1 / real_of_int (B * (B + 1)) < f n", "have \"1/(B*(B+1)) < f n\""], ["proof (prove)\nusing this:\n  1 / real_of_int (B * (B + 1)) < f n\n\ngoal (1 subgoal):\n 1. 1 / real_of_int (B * (B + 1)) < f n", "."], ["proof (state)\nthis:\n  1 / real_of_int (B * (B + 1)) < f n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>f n - real_of_int (c n) / real_of_int B\\<bar>\n                < 1 / real_of_int (B + 1);\n        0 < c n\\<rbrakk>\n       \\<Longrightarrow> ereal (1 / real_of_int (B * (B + 1)))\n                         \\<le> ereal (f n) \\<and>\n                         ereal (f n)\n                         \\<le> ereal\n                                (real_of_int max_c / real_of_int B +\n                                 1 / real_of_int (B + 1))", "with *"], ["proof (chain)\npicking this:\n  f n < real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)\n  1 / real_of_int (B * (B + 1)) < f n", "show ?case"], ["proof (prove)\nusing this:\n  f n < real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)\n  1 / real_of_int (B * (B + 1)) < f n\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n    ereal (f n)\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "by simp"], ["proof (state)\nthis:\n  ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n  ereal (f n)\n  \\<le> ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n     ereal (f n)\n     \\<le> ereal\n            (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))\n\ngoal (2 subgoals):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n 2. limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "show \"limsup f \\<le> max_c / B + 1 / (B+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. limsup (\\<lambda>x. ereal (f x))\n    \\<le> ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "apply (rule Limsup_bounded)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (f n)\n       \\<le> ereal\n              (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "using *"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n     ereal (f n)\n     \\<le> ereal\n            (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (f n)\n       \\<le> ereal\n              (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  limsup (\\<lambda>x. ereal (f x))\n  \\<le> ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "have \"1/(B*(B+1)) \\<le> liminf f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> liminf (\\<lambda>x. ereal (f x))", "apply (rule Liminf_bounded)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n)", "using *"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n) \\<and>\n     ereal (f n)\n     \\<le> ereal\n            (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ereal (1 / real_of_int (B * (B + 1))) \\<le> ereal (f n)", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> liminf (\\<lambda>x. ereal (f x))\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "also"], ["proof (state)\nthis:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> liminf (\\<lambda>x. ereal (f x))\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "have \"liminf f \\<le> limsup f\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (f x)) \\<le> limsup (\\<lambda>x. ereal (f x))", "by (simp add: Liminf_le_Limsup)"], ["proof (state)\nthis:\n  liminf (\\<lambda>x. ereal (f x)) \\<le> limsup (\\<lambda>x. ereal (f x))\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "finally"], ["proof (chain)\npicking this:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> limsup (\\<lambda>x. ereal (f x))", "show \"1/(B*(B+1)) \\<le> limsup f\""], ["proof (prove)\nusing this:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> limsup (\\<lambda>x. ereal (f x))\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (f x))", "."], ["proof (state)\nthis:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> limsup (\\<lambda>x. ereal (f x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n  limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n  \\<le> ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have \"0 < inverse (ereal (max_c / B + 1 / (B+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < inverse\n         (ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))", "using \\<open>max_c > 0\\<close> \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < max_c\n  0 < B\n\ngoal (1 subgoal):\n 1. 0 < inverse\n         (ereal\n           (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))", "by (simp add: pos_add_strict)"], ["proof (state)\nthis:\n  0 < inverse\n       (ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  0 < inverse\n       (ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have \"... \\<le> inverse (limsup (\\<lambda>n. b n/a n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse\n     (ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))\n    \\<le> inverse\n           (limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x))))", "proof (rule ereal_inverse_antimono[OF _ ba_limsup_bound(2)])"], ["proof (state)\ngoal (1 subgoal):\n 1. 0 \\<le> limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "have \"0<1/(B*(B+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < 1 / real_of_int (B * (B + 1))", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. 0 < 1 / real_of_int (B * (B + 1))", "by auto"], ["proof (state)\nthis:\n  0 < 1 / real_of_int (B * (B + 1))\n\ngoal (1 subgoal):\n 1. 0 \\<le> limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "also"], ["proof (state)\nthis:\n  0 < 1 / real_of_int (B * (B + 1))\n\ngoal (1 subgoal):\n 1. 0 \\<le> limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "have \"... \\<le> limsup (\\<lambda>n. b n/a n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "using ba_limsup_bound(1)"], ["proof (prove)\nusing this:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n\ngoal (1 subgoal):\n 1. ereal (1 / real_of_int (B * (B + 1)))\n    \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "."], ["proof (state)\nthis:\n  ereal (1 / real_of_int (B * (B + 1)))\n  \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "finally"], ["proof (chain)\npicking this:\n  (\\<And>x y. x < y \\<Longrightarrow> ereal x < ereal y) \\<Longrightarrow>\n  ereal 0\n  < limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "show \"0\\<le>limsup (\\<lambda>n. b n/a n)\""], ["proof (prove)\nusing this:\n  (\\<And>x y. x < y \\<Longrightarrow> ereal x < ereal y) \\<Longrightarrow>\n  ereal 0\n  < limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n\ngoal (1 subgoal):\n 1. 0 \\<le> limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "using zero_ereal_def"], ["proof (prove)\nusing this:\n  (\\<And>x y. x < y \\<Longrightarrow> ereal x < ereal y) \\<Longrightarrow>\n  ereal 0\n  < limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n  0 = ereal 0\n\ngoal (1 subgoal):\n 1. 0 \\<le> limsup\n             (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))", "by auto"], ["proof (state)\nthis:\n  0 \\<le> limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  inverse\n   (ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))\n  \\<le> inverse\n         (limsup\n           (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x))))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  inverse\n   (ereal (real_of_int max_c / real_of_int B + 1 / real_of_int (B + 1)))\n  \\<le> inverse\n         (limsup\n           (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x))))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have \"... = liminf (\\<lambda>n. inverse (ereal ( b n/a n)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. inverse\n     (limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))) =\n    liminf\n     (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n))))", "apply (subst Liminf_inverse_ereal[symmetric])"], ["proof (prove)\ngoal (3 subgoals):\n 1. sequentially \\<noteq> bot\n 2. \\<forall>\\<^sub>F x in sequentially.\n       0 \\<le> ereal (real_of_int (b x) / real_of_int (a x))\n 3. liminf\n     (\\<lambda>x. inverse (ereal (real_of_int (b x) / real_of_int (a x)))) =\n    liminf\n     (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n))))", "using a_pos ab_event"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n\ngoal (3 subgoals):\n 1. sequentially \\<noteq> bot\n 2. \\<forall>\\<^sub>F x in sequentially.\n       0 \\<le> ereal (real_of_int (b x) / real_of_int (a x))\n 3. liminf\n     (\\<lambda>x. inverse (ereal (real_of_int (b x) / real_of_int (a x)))) =\n    liminf\n     (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n))))", "by (auto elim!:eventually_mono simp:divide_simps)"], ["proof (state)\nthis:\n  inverse\n   (limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))) =\n  liminf\n   (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n))))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "also"], ["proof (state)\nthis:\n  inverse\n   (limsup (\\<lambda>x. ereal (real_of_int (b x) / real_of_int (a x)))) =\n  liminf\n   (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n))))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have \"... = liminf (\\<lambda>n. ( a n/b n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n)))) =\n    liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))", "apply (rule Liminf_eq)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       inverse (ereal (real_of_int (b x) / real_of_int (a x))) =\n       ereal (real_of_int (a x) / real_of_int (b x))", "using a_pos ab_event"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n  \\<forall>\\<^sub>F n in sequentially. 0 < b n \\<and> a n \\<le> a (n + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       inverse (ereal (real_of_int (b x) / real_of_int (a x))) =\n       ereal (real_of_int (a x) / real_of_int (b x))", "apply (auto elim!:eventually_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>\\<forall>n. 0 < a n; 0 < b x; 0 \\<le> a (Suc x);\n        a x = 0\\<rbrakk>\n       \\<Longrightarrow> False", "by (metis less_int_code(1))"], ["proof (state)\nthis:\n  liminf\n   (\\<lambda>n. inverse (ereal (real_of_int (b n) / real_of_int (a n)))) =\n  liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "finally"], ["proof (chain)\npicking this:\n  0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))", "have \"liminf (\\<lambda>n. ( a n/b n)) > 0\""], ["proof (prove)\nusing this:\n  0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))\n\ngoal (1 subgoal):\n 1. 0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))", "."], ["proof (state)\nthis:\n  0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (b n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))", "show False"], ["proof (prove)\nusing this:\n  0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))\n\ngoal (1 subgoal):\n 1. False", "using \\<open>liminf (\\<lambda>n. a n / b n) = 0\\<close>"], ["proof (prove)\nusing this:\n  0 < liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x)))\n  liminf (\\<lambda>x. ereal (real_of_int (a x) / real_of_int (b x))) = 0\n\ngoal (1 subgoal):\n 1. False", "by simp"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "end"], ["", "section\\<open>Some auxiliary results on the prime numbers. \\<close>"], ["", "lemma nth_prime_nonzero[simp]:\"nth_prime n \\<noteq> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nth_prime n \\<noteq> 0", "by (simp add: prime_gt_0_nat prime_nth_prime)"], ["", "lemma nth_prime_gt_zero[simp]:\"nth_prime n >0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < nth_prime n", "by (simp add: prime_gt_0_nat prime_nth_prime)"], ["", "lemma ratio_of_consecutive_primes:\n  \"(\\<lambda>n. nth_prime (n+1)/nth_prime n) \\<longlonglongrightarrow>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "define f where \"f=(\\<lambda>x. real (nth_prime (Suc x)) /real (nth_prime x))\""], ["proof (state)\nthis:\n  f = (\\<lambda>x. real (nth_prime (Suc x)) / real (nth_prime x))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "define g where \"g=(\\<lambda>x. (real x * ln (real x)) \n                              / (real (Suc x) * ln (real (Suc x))))\""], ["proof (state)\nthis:\n  g =\n  (\\<lambda>x. real x * ln (real x) / (real (Suc x) * ln (real (Suc x))))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "have p_n:\"(\\<lambda>x. real (nth_prime x) / (real x * ln (real x))) \\<longlonglongrightarrow> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "using nth_prime_asymptotics[unfolded asymp_equiv_def,simplified]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "."], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "have p_sn:\"(\\<lambda>n. real (nth_prime (Suc n)) \n                        / (real (Suc n) * ln (real (Suc n)))) \\<longlonglongrightarrow> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n    \\<longlonglongrightarrow> 1", "using nth_prime_asymptotics[unfolded asymp_equiv_def,simplified\n        ,THEN LIMSEQ_Suc]"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n    \\<longlonglongrightarrow> 1", "."], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n  (\\<lambda>n.\n      real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n  \\<longlonglongrightarrow> 1", "have \"(\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n  (\\<lambda>n.\n      real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1", "using tendsto_divide[OF p_sn p_n]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n  (\\<lambda>n.\n      real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n  \\<longlonglongrightarrow> 1\n  1 \\<noteq> 0 \\<Longrightarrow>\n  (\\<lambda>x.\n      real (nth_prime (Suc x)) / (real (Suc x) * ln (real (Suc x))) /\n      (real (nth_prime x) / (real x * ln (real x))))\n  \\<longlonglongrightarrow> 1 / 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1", "unfolding f_def g_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n  (\\<lambda>n.\n      real (nth_prime (Suc n)) / (real (Suc n) * ln (real (Suc n))))\n  \\<longlonglongrightarrow> 1\n  1 \\<noteq> 0 \\<Longrightarrow>\n  (\\<lambda>x.\n      real (nth_prime (Suc x)) / (real (Suc x) * ln (real (Suc x))) /\n      (real (nth_prime x) / (real x * ln (real x))))\n  \\<longlonglongrightarrow> 1 / 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real (nth_prime (Suc x)) / real (nth_prime x) *\n        (real x * ln (real x) / (real (Suc x) * ln (real (Suc x)))))\n    \\<longlonglongrightarrow> 1", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  (\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "have \"g \\<longlonglongrightarrow> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<longlonglongrightarrow> 1", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real x * ln (real x) / (real (Suc x) * ln (real (Suc x))))\n    \\<longlonglongrightarrow> 1", "by real_asymp"], ["proof (state)\nthis:\n  g \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1\n  g \\<longlonglongrightarrow> 1", "have \"(\\<lambda>x. if g x = 0 then 0 else f x) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. f x * g x) \\<longlonglongrightarrow> 1\n  g \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. if g x = 0 then 0 else f x) \\<longlonglongrightarrow> 1", "apply (drule_tac tendsto_divide[OF _ \\<open>g \\<longlonglongrightarrow> 1\\<close>])"], ["proof (prove)\ngoal (2 subgoals):\n 1. g \\<longlonglongrightarrow> 1 \\<Longrightarrow> 1 \\<noteq> 0\n 2. \\<lbrakk>g \\<longlonglongrightarrow> 1;\n     (\\<lambda>x. f x * g x / g x) \\<longlonglongrightarrow> 1 / 1\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x. if g x = 0 then 0 else f x)\n                      \\<longlonglongrightarrow> 1", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. if g x = 0 then 0 else f x) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "then"], ["proof (chain)\npicking this:\n  (\\<lambda>x. if g x = 0 then 0 else f x) \\<longlonglongrightarrow> 1", "have \"f \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. if g x = 0 then 0 else f x) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> 1", "proof (elim filterlim_mono_eventually)"], ["proof (state)\ngoal (3 subgoals):\n 1. nhds 1 \\<le> nhds 1\n 2. sequentially \\<le> sequentially\n 3. \\<forall>\\<^sub>F x in sequentially. (if g x = 0 then 0 else f x) = f x", "have \"\\<forall>\\<^sub>F x in sequentially. (if g (x+3) = 0 then 0 \n                else f (x+3)) = f (x+3)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       (if g (x + 3) = 0 then 0 else f (x + 3)) = f (x + 3)", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       (if real (x + 3) * ln (real (x + 3)) /\n           (real (Suc (x + 3)) * ln (real (Suc (x + 3)))) =\n           0\n        then 0 else f (x + 3)) =\n       f (x + 3)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     (if g (x + 3) = 0 then 0 else f (x + 3)) = f (x + 3)\n\ngoal (3 subgoals):\n 1. nhds 1 \\<le> nhds 1\n 2. sequentially \\<le> sequentially\n 3. \\<forall>\\<^sub>F x in sequentially. (if g x = 0 then 0 else f x) = f x", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     (if g (x + 3) = 0 then 0 else f (x + 3)) = f (x + 3)", "show \"\\<forall>\\<^sub>F x in sequentially. (if g x = 0 then 0 else f x) = f x\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     (if g (x + 3) = 0 then 0 else f (x + 3)) = f (x + 3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. (if g x = 0 then 0 else f x) = f x", "apply (subst (asm) eventually_sequentially_seg)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F a in sequentially.\n       (if g a = 0 then 0 else f a) = f a \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in sequentially. (if g x = 0 then 0 else f x) = f x", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. (if g x = 0 then 0 else f x) = f x\n\ngoal (2 subgoals):\n 1. nhds 1 \\<le> nhds 1\n 2. sequentially \\<le> sequentially", "qed auto"], ["proof (state)\nthis:\n  f \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "then"], ["proof (chain)\npicking this:\n  f \\<longlonglongrightarrow> 1", "show ?thesis"], ["proof (prove)\nusing this:\n  f \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "unfolding f_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime (Suc x)) / real (nth_prime x))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n    \\<longlonglongrightarrow> 1", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. real (nth_prime (n + 1)) / real (nth_prime n))\n  \\<longlonglongrightarrow> 1\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma nth_prime_double_sqrt_less:\n  assumes \"\\<epsilon> > 0\"\n  shows \"\\<forall>\\<^sub>F n in sequentially. (nth_prime (2*n) - nth_prime n) \n            / sqrt (nth_prime n) < n powr (1/2+\\<epsilon>)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "define pp ll where \n    \"pp=(\\<lambda>n. (nth_prime (2*n) - nth_prime n) / sqrt (nth_prime n))\" and\n    \"ll=(\\<lambda>x::nat. x * ln x)\""], ["proof (state)\nthis:\n  pp =\n  (\\<lambda>n.\n      real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n)))\n  ll = (\\<lambda>x. real x * ln (real x))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have pp_pos:\"pp (n+1) > 0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < pp (n + 1)", "unfolding pp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real (nth_prime (2 * (n + 1)) - nth_prime (n + 1)) /\n        sqrt (real (nth_prime (n + 1)))", "by simp"], ["proof (state)\nthis:\n  0 < pp (?n + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have \"(\\<lambda>x. nth_prime (2 * x)) \\<sim>[sequentially] (\\<lambda>x. (2 * x) * ln (2 * x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real\n         (nth_prime\n           (2 *\n            x))) \\<sim>[sequentially] (\\<lambda>x.\n    real (2 * x) * ln (real (2 * x)))", "using nth_prime_asymptotics[THEN asymp_equiv_compose\n        ,of \"(*) 2\" sequentially,unfolded comp_def]"], ["proof (prove)\nusing this:\n  filterlim ((*) 2) sequentially sequentially \\<Longrightarrow>\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>x.\n  real (2 * x) * ln (real (2 * x)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real\n         (nth_prime\n           (2 *\n            x))) \\<sim>[sequentially] (\\<lambda>x.\n    real (2 * x) * ln (real (2 * x)))", "using mult_nat_left_at_top pos2"], ["proof (prove)\nusing this:\n  filterlim ((*) 2) sequentially sequentially \\<Longrightarrow>\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>x.\n  real (2 * x) * ln (real (2 * x)))\n  0 < ?c \\<Longrightarrow> filterlim ((*) ?c) sequentially sequentially\n  0 < 2\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real\n         (nth_prime\n           (2 *\n            x))) \\<sim>[sequentially] (\\<lambda>x.\n    real (2 * x) * ln (real (2 * x)))", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>x.\n  real (2 * x) * ln (real (2 * x)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "also"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>x.\n  real (2 * x) * ln (real (2 * x)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have \"... \\<sim>[sequentially] (\\<lambda>x. 2 *x * ln x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real (2 * x) *\n        ln (real\n             (2 *\n              x))) \\<sim>[sequentially] (\\<lambda>x.\n      real (2 * x) * ln (real x))", "by real_asymp"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      real (2 * x) *\n      ln (real\n           (2 *\n            x))) \\<sim>[sequentially] (\\<lambda>x.\n    real (2 * x) * ln (real x))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "finally"], ["proof (chain)\npicking this:\n  (\\<And>c d.\n      c \\<sim>[sequentially] d \\<Longrightarrow>\n      c \\<sim>[sequentially] d) \\<Longrightarrow>\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>a. real (2 * a) * ln (real a))", "have \"(\\<lambda>x. nth_prime (2 * x)) \\<sim>[sequentially] (\\<lambda>x. 2 *x * ln x)\""], ["proof (prove)\nusing this:\n  (\\<And>c d.\n      c \\<sim>[sequentially] d \\<Longrightarrow>\n      c \\<sim>[sequentially] d) \\<Longrightarrow>\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>a. real (2 * a) * ln (real a))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real\n         (nth_prime\n           (2 *\n            x))) \\<sim>[sequentially] (\\<lambda>x.\n    real (2 * x) * ln (real x))", "."], ["proof (state)\nthis:\n  (\\<lambda>x.\n      real\n       (nth_prime\n         (2 *\n          x))) \\<sim>[sequentially] (\\<lambda>x. real (2 * x) * ln (real x))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "from this[unfolded asymp_equiv_def, THEN tendsto_mult_left,of 2]"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      2 *\n      (if real (nth_prime (2 * x)) = 0 \\<and> real (2 * x) * ln (real x) = 0\n       then 1 else real (nth_prime (2 * x)) / (real (2 * x) * ln (real x))))\n  \\<longlonglongrightarrow> 2 * 1", "have \"(\\<lambda>x. nth_prime (2 * x) / (x * ln x)) \\<longlonglongrightarrow> 2\""], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      2 *\n      (if real (nth_prime (2 * x)) = 0 \\<and> real (2 * x) * ln (real x) = 0\n       then 1 else real (nth_prime (2 * x)) / (real (2 * x) * ln (real x))))\n  \\<longlonglongrightarrow> 2 * 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 2", "unfolding asymp_equiv_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      2 *\n      (if real (nth_prime (2 * x)) = 0 \\<and> real (2 * x) * ln (real x) = 0\n       then 1 else real (nth_prime (2 * x)) / (real (2 * x) * ln (real x))))\n  \\<longlonglongrightarrow> 2 * 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 2", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have *:\"(\\<lambda>x. nth_prime x / (x * ln x)) \\<longlonglongrightarrow> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "using nth_prime_asymptotics"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      real\n       (nth_prime\n         n)) \\<sim>[sequentially] (\\<lambda>n. real n * ln (real n))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "unfolding asymp_equiv_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      if real (nth_prime x) = 0 \\<and> real x * ln (real x) = 0 then 1\n      else real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 2\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1", "have \"(\\<lambda>x. (nth_prime (2 * x) - nth_prime x) / ll x) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 2\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime (2 * x) - nth_prime x) / ll x)\n    \\<longlonglongrightarrow> 1", "unfolding ll_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 2\n  (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        real (nth_prime (2 * x) - nth_prime x) / (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. real (nth_prime (2 * x)) / (real x * ln (real x)))\n             \\<longlonglongrightarrow> 2;\n     (\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n     \\<longlonglongrightarrow> 1\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x.\n                          real (nth_prime (2 * x) - nth_prime x) /\n                          (real x * ln (real x)))\n                      \\<longlonglongrightarrow> 1", "apply (drule (1) tendsto_diff)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n             \\<longlonglongrightarrow> 1;\n     (\\<lambda>x.\n         real (nth_prime (2 * x)) / (real x * ln (real x)) -\n         real (nth_prime x) / (real x * ln (real x)))\n     \\<longlonglongrightarrow> 2 - 1\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x.\n                          real (nth_prime (2 * x) - nth_prime x) /\n                          (real x * ln (real x)))\n                      \\<longlonglongrightarrow> 1", "apply (subst of_nat_diff,simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. real (nth_prime x) / (real x * ln (real x)))\n             \\<longlonglongrightarrow> 1;\n     (\\<lambda>x.\n         real (nth_prime (2 * x)) / (real x * ln (real x)) -\n         real (nth_prime x) / (real x * ln (real x)))\n     \\<longlonglongrightarrow> 2 - 1\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x.\n                          (real (nth_prime (2 * x)) - real (nth_prime x)) /\n                          (real x * ln (real x)))\n                      \\<longlonglongrightarrow> 1", "by (subst diff_divide_distrib,simp)"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime (2 * x) - nth_prime x) / ll x)\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime (2 * x) - nth_prime x) / ll x)\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have \"(\\<lambda>x. sqrt (nth_prime x) / sqrt (ll x)) \\<longlonglongrightarrow> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (ll x))\n    \\<longlonglongrightarrow> 1", "unfolding ll_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "using tendsto_real_sqrt[OF *]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. sqrt (real (nth_prime x) / (real x * ln (real x))))\n  \\<longlonglongrightarrow> sqrt 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (real x * ln (real x)))\n    \\<longlonglongrightarrow> 1", "by (auto simp: real_sqrt_divide)"], ["proof (state)\nthis:\n  (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (ll x))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. real (nth_prime (2 * x) - nth_prime x) / ll x)\n  \\<longlonglongrightarrow> 1\n  (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (ll x))\n  \\<longlonglongrightarrow> 1", "have \"(\\<lambda>x. pp x * (sqrt (ll x) / (ll x))) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime (2 * x) - nth_prime x) / ll x)\n  \\<longlonglongrightarrow> 1\n  (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (ll x))\n  \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. pp x * (sqrt (ll x) / ll x)) \\<longlonglongrightarrow> 1", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. real (nth_prime (2 * x) - nth_prime x) / ll x)\n             \\<longlonglongrightarrow> 1;\n     (\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (ll x))\n     \\<longlonglongrightarrow> 1\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x. pp x * (sqrt (ll x) / ll x))\n                      \\<longlonglongrightarrow> 1", "apply (drule (1) tendsto_divide,simp)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. sqrt (real (nth_prime x)) / sqrt (ll x))\n             \\<longlonglongrightarrow> 1;\n     (\\<lambda>x.\n         real (nth_prime (2 * x) - nth_prime x) / ll x /\n         (sqrt (real (nth_prime x)) / sqrt (ll x)))\n     \\<longlonglongrightarrow> 1 / 1\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x. pp x * (sqrt (ll x) / ll x))\n                      \\<longlonglongrightarrow> 1", "by (auto simp:field_simps of_nat_diff pp_def)"], ["proof (state)\nthis:\n  (\\<lambda>x. pp x * (sqrt (ll x) / ll x)) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. pp x * (sqrt (ll x) / ll x)) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have \"\\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / ll x = 1/sqrt (ll x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / ll x = 1 / sqrt (ll x)", "apply (subst eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       sqrt (ll (Suc i)) / ll (Suc i) = 1 / sqrt (ll (Suc i))", "by (auto intro!:eventuallyI simp:ll_def divide_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / ll x = 1 / sqrt (ll x)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. pp x * (sqrt (ll x) / ll x)) \\<longlonglongrightarrow> 1\n  \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / ll x = 1 / sqrt (ll x)", "have \"(\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. pp x * (sqrt (ll x) / ll x)) \\<longlonglongrightarrow> 1\n  \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / ll x = 1 / sqrt (ll x)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1", "apply (elim filterlim_mono_eventually)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / ll x = 1 / sqrt (ll x) \\<Longrightarrow>\n    nhds 1 \\<le> nhds 1\n 2. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / ll x = 1 / sqrt (ll x) \\<Longrightarrow>\n    sequentially \\<le> sequentially\n 3. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / ll x = 1 / sqrt (ll x) \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in sequentially.\n       pp x * (sqrt (ll x) / ll x) = pp x / sqrt (ll x)", "by (auto elim!:eventually_mono) (metis mult.right_neutral times_divide_eq_right)"], ["proof (state)\nthis:\n  (\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have \"(\\<lambda>x. sqrt (ll x) / x powr (1/2+\\<epsilon>)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>))\n    \\<longlonglongrightarrow> 0", "unfolding ll_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        sqrt (real x * ln (real x)) / real x powr (1 / 2 + \\<epsilon>))\n    \\<longlonglongrightarrow> 0", "using \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        sqrt (real x * ln (real x)) / real x powr (1 / 2 + \\<epsilon>))\n    \\<longlonglongrightarrow> 0", "by real_asymp"], ["proof (state)\nthis:\n  (\\<lambda>x. sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1\n  (\\<lambda>x. sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>))\n  \\<longlonglongrightarrow> 0", "have \"(\\<lambda>x. pp x / x powr (1/2+\\<epsilon>) * \n                      (sqrt (ll x) / sqrt (ll x))) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1\n  (\\<lambda>x. sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>x.\n        pp x / real x powr (1 / 2 + \\<epsilon>) *\n        (sqrt (ll x) / sqrt (ll x)))\n    \\<longlonglongrightarrow> 0", "apply -"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. pp x / sqrt (ll x)) \\<longlonglongrightarrow> 1;\n     (\\<lambda>x. sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>))\n     \\<longlonglongrightarrow> 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x.\n                          pp x / real x powr (1 / 2 + \\<epsilon>) *\n                          (sqrt (ll x) / sqrt (ll x)))\n                      \\<longlonglongrightarrow> 0", "apply (drule (1) tendsto_mult)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>(\\<lambda>x. sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>))\n             \\<longlonglongrightarrow> 0;\n     (\\<lambda>x.\n         pp x / sqrt (ll x) *\n         (sqrt (ll x) / real x powr (1 / 2 + \\<epsilon>)))\n     \\<longlonglongrightarrow> 1 * 0\\<rbrakk>\n    \\<Longrightarrow> (\\<lambda>x.\n                          pp x / real x powr (1 / 2 + \\<epsilon>) *\n                          (sqrt (ll x) / sqrt (ll x)))\n                      \\<longlonglongrightarrow> 0", "by (auto elim:filterlim_mono_eventually)"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      pp x / real x powr (1 / 2 + \\<epsilon>) * (sqrt (ll x) / sqrt (ll x)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>x.\n      pp x / real x powr (1 / 2 + \\<epsilon>) * (sqrt (ll x) / sqrt (ll x)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "have \"\\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / sqrt (ll x) = 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / sqrt (ll x) = 1", "apply (subst eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       sqrt (ll (Suc i)) / sqrt (ll (Suc i)) = 1", "by (auto intro!:eventuallyI simp:ll_def )"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / sqrt (ll x) = 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      pp x / real x powr (1 / 2 + \\<epsilon>) * (sqrt (ll x) / sqrt (ll x)))\n  \\<longlonglongrightarrow> 0\n  \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / sqrt (ll x) = 1", "have \"(\\<lambda>x. pp x / x powr (1/2+\\<epsilon>)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      pp x / real x powr (1 / 2 + \\<epsilon>) * (sqrt (ll x) / sqrt (ll x)))\n  \\<longlonglongrightarrow> 0\n  \\<forall>\\<^sub>F x in sequentially. sqrt (ll x) / sqrt (ll x) = 1\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. pp x / real x powr (1 / 2 + \\<epsilon>))\n    \\<longlonglongrightarrow> 0", "apply (elim filterlim_mono_eventually)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / sqrt (ll x) = 1 \\<Longrightarrow>\n    nhds 0 \\<le> nhds 0\n 2. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / sqrt (ll x) = 1 \\<Longrightarrow>\n    sequentially \\<le> sequentially\n 3. \\<forall>\\<^sub>F x in sequentially.\n       sqrt (ll x) / sqrt (ll x) = 1 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in sequentially.\n       pp x / real x powr (1 / 2 + \\<epsilon>) *\n       (sqrt (ll x) / sqrt (ll x)) =\n       pp x / real x powr (1 / 2 + \\<epsilon>)", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  (\\<lambda>x. pp x / real x powr (1 / 2 + \\<epsilon>))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (1 / 2 + \\<epsilon>)", "from tendstoD[OF this, of 1,simplified]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>pp x\\<bar> / real x powr (1 / 2 + \\<epsilon>) < 1", "show \"\\<forall>\\<^sub>F x in sequentially. pp x < x powr (1 / 2 + \\<epsilon>)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>pp x\\<bar> / real x powr (1 / 2 + \\<epsilon>) < 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       pp x < real x powr (1 / 2 + \\<epsilon>)", "apply (elim eventually_mono_sequentially[of _ 1])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>pp (x + 1)\\<bar> / real (x + 1) powr (1 / 2 + \\<epsilon>)\n       < 1 \\<Longrightarrow>\n       pp (x + 1) < real (x + 1) powr (1 / 2 + \\<epsilon>)", "using pp_pos"], ["proof (prove)\nusing this:\n  0 < pp (?n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>pp (x + 1)\\<bar> / real (x + 1) powr (1 / 2 + \\<epsilon>)\n       < 1 \\<Longrightarrow>\n       pp (x + 1) < real (x + 1) powr (1 / 2 + \\<epsilon>)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     pp x < real x powr (1 / 2 + \\<epsilon>)\n\ngoal:\nNo subgoals!", "qed"], ["", "section \\<open>Theorem 3.1\\<close>"], ["", "text\\<open>Theorem 3.1 is an application of Theorem 2.1 with the sequences considered involving \nthe prime numbers.\\<close>"], ["", "theorem theorem_3_10_Erdos_Straus:\n  fixes a::\"nat \\<Rightarrow> int\"\n  assumes a_pos:\"\\<forall> n. a n >0\" and \"mono a\"\n    and nth_1:\"(\\<lambda>n. nth_prime n / (a n)^2) \\<longlonglongrightarrow> 0\"\n    and nth_2:\"liminf (\\<lambda>n. a n / nth_prime n) = 0\"\n  shows \"(\\<Sum>n. (nth_prime n / (\\<Prod>i \\<le> n. a i))) \\<notin> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<notin> \\<rat>", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "assume asm:\"(\\<Sum>n. (nth_prime n / (\\<Prod>i \\<le> n. a i))) \\<in> \\<rat>\""], ["proof (state)\nthis:\n  (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a2_omega:\"(\\<lambda>n. (a n)^2) \\<in> \\<omega>(\\<lambda>x. x * ln x)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "have \"(\\<lambda>n. real (nth_prime n)) \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (nth_prime n))\n    \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))", "apply (rule smalloI_tendsto[OF nth_1])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       real_of_int ((a x)\\<^sup>2) \\<noteq> 0", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       real_of_int ((a x)\\<^sup>2) \\<noteq> 0", "by (metis (mono_tags, lifting) less_int_code(1) \n          not_eventuallyD of_int_0_eq_iff zero_eq_power2)"], ["proof (state)\nthis:\n  (\\<lambda>n. real (nth_prime n))\n  \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n. real (nth_prime n))\n  \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "have \"(\\<lambda>x. real (nth_prime x)) \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x))\n    \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))", "using nth_prime_bigtheta"], ["proof (prove)\nusing this:\n  (\\<lambda>x. real (nth_prime x))\n  \\<in> \\<Theta>(\\<lambda>x. real x * ln (real x))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real (nth_prime x))\n    \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>x. real (nth_prime x))\n  \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "ultimately"], ["proof (chain)\npicking this:\n  (\\<lambda>n. real (nth_prime n))\n  \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))\n  (\\<lambda>x. real (nth_prime x))\n  \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>n. real (nth_prime n))\n  \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))\n  (\\<lambda>x. real (nth_prime x))\n  \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "using landau_omega.small_big_trans smallo_imp_smallomega"], ["proof (prove)\nusing this:\n  (\\<lambda>n. real (nth_prime n))\n  \\<in> o(\\<lambda>n. real_of_int ((a n)\\<^sup>2))\n  (\\<lambda>x. real (nth_prime x))\n  \\<in> \\<Omega>(\\<lambda>x. real x * ln (real x))\n  \\<lbrakk>?f \\<in> \\<omega>[?F](?g); ?g \\<in> \\<Omega>[?F](?h)\\<rbrakk>\n  \\<Longrightarrow> ?f \\<in> \\<omega>[?F](?h)\n  ?f \\<in> o[?F](?g) \\<Longrightarrow> ?g \\<in> \\<omega>[?F](?f)\n\ngoal (1 subgoal):\n 1. (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n    \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))", "by blast"], ["proof (state)\nthis:\n  (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n  \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>x. real_of_int ((a x)\\<^sup>2))\n  \\<in> \\<omega>(\\<lambda>x. real x * ln (real x))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_gt_1:\"\\<forall>\\<^sub>F n in sequentially. 1 < a n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a n", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>x * ln x\\<bar> \\<le> (a x)\\<^sup>2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real x * ln (real x)\\<bar> \\<le> real_of_int ((a x)\\<^sup>2)", "using a2_omega[unfolded smallomega_def,simplified,rule_format,of 1]"], ["proof (prove)\nusing this:\n  0 < 1 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     1 * \\<bar>real x * ln (real x)\\<bar> \\<le> (real_of_int (a x))\\<^sup>2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real x * ln (real x)\\<bar> \\<le> real_of_int ((a x)\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real x * ln (real x)\\<bar> \\<le> real_of_int ((a x)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a n", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real x * ln (real x)\\<bar> \\<le> real_of_int ((a x)\\<^sup>2)", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>(x+3) * ln (x+3)\\<bar> \\<le> (a (x+3))\\<^sup>2\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real x * ln (real x)\\<bar> \\<le> real_of_int ((a x)\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2)", "apply (subst (asm) eventually_sequentially_seg[symmetric, of _ 3])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<bar>real (n + 3) * ln (real (n + 3))\\<bar>\n       \\<le> real_of_int ((a (n + 3))\\<^sup>2) \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2)", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n     \\<le> real_of_int ((a (x + 3))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a n", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n     \\<le> real_of_int ((a (x + 3))\\<^sup>2)", "have \"\\<forall>\\<^sub>F n in sequentially. 1 < a ( n+3)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n     \\<le> real_of_int ((a (x + 3))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a (n + 3)", "proof (elim eventually_mono)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2) \\<Longrightarrow>\n       1 < a (x + 3)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2) \\<Longrightarrow>\n       1 < a (x + 3)", "assume \"\\<bar>real (x + 3) * ln (real (x + 3))\\<bar> \\<le> real_of_int ((a (x + 3))\\<^sup>2)\""], ["proof (state)\nthis:\n  \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n  \\<le> real_of_int ((a (x + 3))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2) \\<Longrightarrow>\n       1 < a (x + 3)", "moreover"], ["proof (state)\nthis:\n  \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n  \\<le> real_of_int ((a (x + 3))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2) \\<Longrightarrow>\n       1 < a (x + 3)", "have \"\\<bar>real (x + 3) * ln (real (x + 3))\\<bar> > 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "have \"ln (real (x + 3)) > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < ln (real (x + 3))", "apply simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < ln (real x + 3)", "using ln3_gt_1 ln_gt_1"], ["proof (prove)\nusing this:\n  1 < ln 3\n  3 < ?x \\<Longrightarrow> 1 < ln ?x\n\ngoal (1 subgoal):\n 1. 1 < ln (real x + 3)", "by force"], ["proof (state)\nthis:\n  1 < ln (real (x + 3))\n\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "moreover"], ["proof (state)\nthis:\n  1 < ln (real (x + 3))\n\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "have \"real(x+3) \\<ge> 3\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 3 \\<le> real (x + 3)", "by simp"], ["proof (state)\nthis:\n  3 \\<le> real (x + 3)\n\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "ultimately"], ["proof (chain)\npicking this:\n  1 < ln (real (x + 3))\n  3 \\<le> real (x + 3)", "have \"(x+3)*ln (real (x + 3)) > 3*1 \""], ["proof (prove)\nusing this:\n  1 < ln (real (x + 3))\n  3 \\<le> real (x + 3)\n\ngoal (1 subgoal):\n 1. 3 * 1 < real (x + 3) * ln (real (x + 3))", "apply (rule_tac mult_le_less_imp_less)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>1 < ln (real (x + 3)); 3 \\<le> real (x + 3)\\<rbrakk>\n    \\<Longrightarrow> 3 \\<le> real (x + 3)\n 2. \\<lbrakk>1 < ln (real (x + 3)); 3 \\<le> real (x + 3)\\<rbrakk>\n    \\<Longrightarrow> 1 < ln (real (x + 3))\n 3. \\<lbrakk>1 < ln (real (x + 3)); 3 \\<le> real (x + 3)\\<rbrakk>\n    \\<Longrightarrow> 0 < 3\n 4. \\<lbrakk>1 < ln (real (x + 3)); 3 \\<le> real (x + 3)\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> 1", "by auto"], ["proof (state)\nthis:\n  3 * 1 < real (x + 3) * ln (real (x + 3))\n\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "then"], ["proof (chain)\npicking this:\n  3 * 1 < real (x + 3) * ln (real (x + 3))", "show ?thesis"], ["proof (prove)\nusing this:\n  3 * 1 < real (x + 3) * ln (real (x + 3))\n\ngoal (1 subgoal):\n 1. 3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "by auto"], ["proof (state)\nthis:\n  3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2) \\<Longrightarrow>\n       1 < a (x + 3)", "ultimately"], ["proof (chain)\npicking this:\n  \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n  \\<le> real_of_int ((a (x + 3))\\<^sup>2)\n  3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>", "have \"real_of_int ((a (x + 3))\\<^sup>2) > 3\""], ["proof (prove)\nusing this:\n  \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n  \\<le> real_of_int ((a (x + 3))\\<^sup>2)\n  3 < \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n\ngoal (1 subgoal):\n 1. 3 < real_of_int ((a (x + 3))\\<^sup>2)", "by auto"], ["proof (state)\nthis:\n  3 < real_of_int ((a (x + 3))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<bar>real (x + 3) * ln (real (x + 3))\\<bar>\n       \\<le> real_of_int ((a (x + 3))\\<^sup>2) \\<Longrightarrow>\n       1 < a (x + 3)", "then"], ["proof (chain)\npicking this:\n  3 < real_of_int ((a (x + 3))\\<^sup>2)", "show \"1 < a (x + 3)\""], ["proof (prove)\nusing this:\n  3 < real_of_int ((a (x + 3))\\<^sup>2)\n\ngoal (1 subgoal):\n 1. 1 < a (x + 3)", "by (smt Suc3_eq_add_3 a_pos add.commute of_int_1 one_power2)"], ["proof (state)\nthis:\n  1 < a (x + 3)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a (n + 3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a n", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a (n + 3)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a (n + 3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a n", "apply (subst eventually_sequentially_seg[symmetric, of _ 3])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 1 < a (n + 3) \\<Longrightarrow>\n    \\<forall>\\<^sub>F n in sequentially. 1 < a (n + 3)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "obtain B::int and c where \n    \"B>0\" and Bc_large:\"\\<forall>\\<^sub>F n in sequentially. B * nth_prime n \n                = c n * a n - c (n + 1) \\<and> \\<bar>c (n + 1)\\<bar> <  a n / 2\"\n    and ca_vanish: \"(\\<lambda>n. c (Suc n) / real_of_int (a n)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "note a_gt_1"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(\\<lambda>n. real_of_int \\<bar>int (nth_prime n)\\<bar> \n                    / real_of_int (a (n - 1) * a n)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "define f where \"f=(\\<lambda>n. nth_prime (n+1) / (a n * a (n+1)))\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. real (nth_prime (n + 1)) / real_of_int (a n * a (n + 1)))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "define g where \"g=(\\<lambda>n. 2*nth_prime n / (a n)^2)\""], ["proof (state)\nthis:\n  g = (\\<lambda>n. real (2 * nth_prime n) / real_of_int ((a n)\\<^sup>2))\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "have \"\\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x", "have \"\\<forall>\\<^sub>F n in sequentially. nth_prime (n+1) < 2*nth_prime n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n", "using ratio_of_consecutive_primes[unfolded tendsto_iff\n              ,rule_format,of 1,simplified]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real (nth_prime (Suc x)) / real (nth_prime x)) 1 < 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n", "apply (elim eventually_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       dist (real (nth_prime (Suc x)) / real (nth_prime x)) 1\n       < 1 \\<Longrightarrow>\n       nth_prime (x + 1) < 2 * nth_prime x", "by (auto simp :divide_simps dist_norm)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x", "have \"\\<forall>\\<^sub>F n in sequentially. real_of_int (a n * a (n+1))\n                           \\<ge> (a n)^2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int ((a n)\\<^sup>2) \\<le> real_of_int (a n * a (n + 1))", "apply (rule eventuallyI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. real_of_int ((a x)\\<^sup>2) \\<le> real_of_int (a x * a (x + 1))", "using \\<open>mono a\\<close>"], ["proof (prove)\nusing this:\n  incseq a\n\ngoal (1 subgoal):\n 1. \\<And>x. real_of_int ((a x)\\<^sup>2) \\<le> real_of_int (a x * a (x + 1))", "by (auto simp:power2_eq_square a_pos incseq_SucD)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int ((a n)\\<^sup>2) \\<le> real_of_int (a n * a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int ((a n)\\<^sup>2) \\<le> real_of_int (a n * a (n + 1))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int ((a n)\\<^sup>2) \\<le> real_of_int (a n * a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x", "unfolding f_def g_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. nth_prime (n + 1) < 2 * nth_prime n\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int ((a n)\\<^sup>2) \\<le> real_of_int (a n * a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       norm (real (nth_prime (x + 1)) / real_of_int (a x * a (x + 1)))\n       \\<le> real (2 * nth_prime x) / real_of_int ((a x)\\<^sup>2)", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> norm\n                          (real (nth_prime (x + 1)) /\n                           real_of_int (a x * a (x + 1)))\n                         \\<le> real (2 * nth_prime x) /\n                               real_of_int ((a x)\\<^sup>2)", "apply (subst norm_divide)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> norm (real (nth_prime (x + 1))) /\n                         norm (real_of_int (a x * a (x + 1)))\n                         \\<le> real (2 * nth_prime x) /\n                               real_of_int ((a x)\\<^sup>2)", "apply (rule_tac linordered_field_class.frac_le)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> real (2 * nth_prime x)\n 2. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> norm (real (nth_prime (x + 1)))\n                         \\<le> real (2 * nth_prime x)\n 3. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> 0 < real_of_int ((a x)\\<^sup>2)\n 4. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> real_of_int ((a x)\\<^sup>2)\n                         \\<le> norm (real_of_int (a x * a (x + 1)))", "using a_pos[rule_format, THEN order.strict_implies_not_eq ]"], ["proof (prove)\nusing this:\n  0 \\<noteq> a ?n1\n\ngoal (4 subgoals):\n 1. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> 0 \\<le> real (2 * nth_prime x)\n 2. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> norm (real (nth_prime (x + 1)))\n                         \\<le> real (2 * nth_prime x)\n 3. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> 0 < real_of_int ((a x)\\<^sup>2)\n 4. \\<And>x.\n       \\<lbrakk>nth_prime (x + 1) < 2 * nth_prime x;\n        real_of_int ((a x)\\<^sup>2)\n        \\<le> real_of_int (a x * a (x + 1))\\<rbrakk>\n       \\<Longrightarrow> real_of_int ((a x)\\<^sup>2)\n                         \\<le> norm (real_of_int (a x * a (x + 1)))", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "have \"g \\<longlonglongrightarrow> 0 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. g \\<longlonglongrightarrow> 0", "using nth_1[THEN tendsto_mult_right_zero,of 2]"], ["proof (prove)\nusing this:\n  (\\<lambda>x. 2 * (real (nth_prime x) / real_of_int ((a x)\\<^sup>2)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. g \\<longlonglongrightarrow> 0", "unfolding g_def"], ["proof (prove)\nusing this:\n  (\\<lambda>x. 2 * (real (nth_prime x) / real_of_int ((a x)\\<^sup>2)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n. real (2 * nth_prime n) / real_of_int ((a n)\\<^sup>2))\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  g \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\n  g \\<longlonglongrightarrow> 0", "have \"f \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\n  g \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> 0", "using Lim_null_comparison[of f g sequentially]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x\n  g \\<longlonglongrightarrow> 0\n  \\<lbrakk>\\<forall>\\<^sub>F x in sequentially. norm (f x) \\<le> g x;\n   g \\<longlonglongrightarrow> 0\\<rbrakk>\n  \\<Longrightarrow> f \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. f \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  f \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  f \\<longlonglongrightarrow> 0", "show ?thesis"], ["proof (prove)\nusing this:\n  f \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "unfolding f_def"], ["proof (prove)\nusing this:\n  (\\<lambda>n. real (nth_prime (n + 1)) / real_of_int (a n * a (n + 1)))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int \\<bar>int (nth_prime n)\\<bar> /\n        real_of_int (a (n - 1) * a n))\n    \\<longlonglongrightarrow> 0", "by (rule_tac LIMSEQ_imp_Suc) auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int \\<bar>int (nth_prime n)\\<bar> /\n      real_of_int (a (n - 1) * a n))\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int \\<bar>int (nth_prime n)\\<bar> /\n      real_of_int (a (n - 1) * a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int \\<bar>int (nth_prime n)\\<bar> /\n      real_of_int (a (n - 1) * a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"(\\<Sum>n. real_of_int (int (nth_prime n)) \n                    / real_of_int (prod a {..n})) \\<in> \\<rat>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n    \\<in> \\<rat>", "using asm"], ["proof (prove)\nusing this:\n  (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n})) \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n    \\<in> \\<rat>", "by simp"], ["proof (state)\nthis:\n  (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n  \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n  (\\<lambda>n.\n      real_of_int \\<bar>int (nth_prime n)\\<bar> /\n      real_of_int (a (n - 1) * a n))\n  \\<longlonglongrightarrow> 0\n  (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n  \\<in> \\<rat>", "have \"\\<exists>B>0. \\<exists>c. (\\<forall>\\<^sub>F n in sequentially.\n              B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n)) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n  (\\<lambda>n.\n      real_of_int \\<bar>int (nth_prime n)\\<bar> /\n      real_of_int (a (n - 1) * a n))\n  \\<longlonglongrightarrow> 0\n  (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n  \\<in> \\<rat>\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "using ab_rationality_imp[OF a_pos,of nth_prime]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n  (\\<lambda>n.\n      real_of_int \\<bar>int (nth_prime n)\\<bar> /\n      real_of_int (a (n - 1) * a n))\n  \\<longlonglongrightarrow> 0\n  (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n  \\<in> \\<rat>\n  \\<lbrakk>\\<forall>\\<^sub>F n in sequentially. 1 < a n;\n   (\\<lambda>n.\n       real_of_int \\<bar>int (nth_prime n)\\<bar> /\n       real_of_int (a (n - 1) * a n))\n   \\<longlonglongrightarrow> 0;\n   (\\<Sum>n. real_of_int (int (nth_prime n)) / real_of_int (prod a {..n}))\n   \\<in> \\<rat>\\<rbrakk>\n  \\<Longrightarrow> \\<exists>B>0.\n                       \\<exists>c.\n                          (\\<forall>\\<^sub>F n in sequentially.\n                              B * int (nth_prime n) =\n                              c n * a n - c (n + 1) \\<and>\n                              real_of_int \\<bar>c (n + 1)\\<bar>\n                              < real_of_int (a n) / 2) \\<and>\n                          (\\<lambda>n.\n                              real_of_int (c (Suc n)) / real_of_int (a n))\n                          \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<exists>B>0.\n       \\<exists>c.\n          (\\<forall>\\<^sub>F n in sequentially.\n              B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n              real_of_int \\<bar>c (n + 1)\\<bar>\n              < real_of_int (a n) / 2) \\<and>\n          (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n          \\<longlonglongrightarrow> 0", "by fast"], ["proof (state)\nthis:\n  \\<exists>B>0.\n     \\<exists>c.\n        (\\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<And>B c.\n        \\<lbrakk>0 < B;\n         \\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n         (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n         \\<longlonglongrightarrow> 0\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<exists>B>0.\n     \\<exists>c.\n        (\\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0", "show thesis"], ["proof (prove)\nusing this:\n  \\<exists>B>0.\n     \\<exists>c.\n        (\\<forall>\\<^sub>F n in sequentially.\n            B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n            real_of_int \\<bar>c (n + 1)\\<bar>\n            < real_of_int (a n) / 2) \\<and>\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. thesis", "apply clarify"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>B c.\n       \\<lbrakk>0 < B;\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\\<rbrakk>\n       \\<Longrightarrow> thesis", "apply (rule_tac c=c and B=B in that)"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<And>B c.\n       \\<lbrakk>0 < B;\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\\<rbrakk>\n       \\<Longrightarrow> 0 < B\n 2. \\<And>B c.\n       \\<lbrakk>0 < B;\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\\<rbrakk>\n       \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially.\n                            B * int (nth_prime n) =\n                            c n * a n - c (n + 1) \\<and>\n                            \\<bar>real_of_int (c (n + 1))\\<bar>\n                            < real_of_int (a n) / 2\n 3. \\<And>B c.\n       \\<lbrakk>0 < B;\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n        \\<longlonglongrightarrow> 0\\<rbrakk>\n       \\<Longrightarrow> (\\<lambda>n.\n                             real_of_int (c (Suc n)) / real_of_int (a n))\n                         \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  0 < B\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (\\<lambda>n. real_of_int (c (Suc n)) / real_of_int (a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have bac_close:\"(\\<lambda>n. B * nth_prime n / a n - c n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "have \"\\<forall>\\<^sub>F n in sequentially. B * nth_prime n - c n * a n + c (n + 1) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime n) - c n * a n + c (n + 1) = 0", "using Bc_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime n) - c n * a n + c (n + 1) = 0", "by (auto elim!:eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) - c n * a n + c (n + 1) = 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) - c n * a n + c (n + 1) = 0", "have \"\\<forall>\\<^sub>F n in sequentially. (B * nth_prime n - c n * a n + c (n+1)) / a n = 0 \""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) - c n * a n + c (n + 1) = 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (B * int (nth_prime n) - c n * a n + c (n + 1)) /\n       real_of_int (a n) =\n       0", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * int (nth_prime n) - c n * a n + c (n + 1)) /\n     real_of_int (a n) =\n     0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * int (nth_prime n) - c n * a n + c (n + 1)) /\n     real_of_int (a n) =\n     0", "have \"\\<forall>\\<^sub>F n in sequentially. B * nth_prime n / a n - c n  + c (n + 1) / a n = 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * int (nth_prime n) - c n * a n + c (n + 1)) /\n     real_of_int (a n) =\n     0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n       real_of_int (c n) +\n       real_of_int (c (n + 1)) / real_of_int (a n) =\n       0", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       real_of_int (B * int (nth_prime n) - c n * a n + c (n + 1)) /\n       real_of_int (a n) =\n       0 \\<Longrightarrow>\n       real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n       real_of_int (c n) +\n       real_of_int (c (n + 1)) / real_of_int (a n) =\n       0", "using a_pos"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       real_of_int (B * int (nth_prime n) - c n * a n + c (n + 1)) /\n       real_of_int (a n) =\n       0 \\<Longrightarrow>\n       real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n       real_of_int (c n) +\n       real_of_int (c (n + 1)) / real_of_int (a n) =\n       0", "by (auto simp:divide_simps) (metis less_irrefl)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n     real_of_int (c n) +\n     real_of_int (c (n + 1)) / real_of_int (a n) =\n     0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n     real_of_int (c n) +\n     real_of_int (c (n + 1)) / real_of_int (a n) =\n     0", "have \"(\\<lambda>n. B * nth_prime n / a n - c n  + c (n + 1) / a n) \\<longlonglongrightarrow> 0\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n     real_of_int (c n) +\n     real_of_int (c (n + 1)) / real_of_int (a n) =\n     0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n) +\n        real_of_int (c (n + 1)) / real_of_int (a n))\n    \\<longlonglongrightarrow> 0", "by (simp add: eventually_mono tendsto_iff)"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n      real_of_int (c n) +\n      real_of_int (c (n + 1)) / real_of_int (a n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "from tendsto_diff[OF this ca_vanish]"], ["proof (chain)\npicking this:\n  (\\<lambda>x.\n      real_of_int (B * int (nth_prime x)) / real_of_int (a x) -\n      real_of_int (c x) +\n      real_of_int (c (x + 1)) / real_of_int (a x) -\n      real_of_int (c (Suc x)) / real_of_int (a x))\n  \\<longlonglongrightarrow> 0 - 0", "show ?thesis"], ["proof (prove)\nusing this:\n  (\\<lambda>x.\n      real_of_int (B * int (nth_prime x)) / real_of_int (a x) -\n      real_of_int (c x) +\n      real_of_int (c (x + 1)) / real_of_int (a x) -\n      real_of_int (c (Suc x)) / real_of_int (a x))\n  \\<longlonglongrightarrow> 0 - 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n      real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (\\<lambda>n.\n      real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n      real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have c_pos:\"\\<forall>\\<^sub>F n in sequentially. c n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "from bac_close"], ["proof (chain)\npicking this:\n  (\\<lambda>n.\n      real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n      real_of_int (c n))\n  \\<longlonglongrightarrow> 0", "have *:\"\\<forall>\\<^sub>F n in sequentially. c n \\<ge> 0\""], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n      real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n", "apply (elim tendsto_of_int_diff_0)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < real_of_int (B * int (nth_prime n)) / real_of_int (a n)", "using a_gt_1"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 1 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < real_of_int (B * int (nth_prime n)) / real_of_int (a n)", "apply (eventually_elim)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 < a n \\<Longrightarrow>\n       0 < real_of_int (B * int (nth_prime n)) / real_of_int (a n)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       1 < a n \\<Longrightarrow>\n       0 < real_of_int (B * int (nth_prime n)) / real_of_int (a n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "show ?thesis"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "assume \"\\<not> (\\<forall>\\<^sub>F n in sequentially. c n > 0)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F n in sequentially. c (Suc n) \\<ge> 0 \\<and> c n\\<ge>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 \\<le> c (Suc n) \\<and> 0 \\<le> c n", "using * eventually_sequentially_Suc[of \"\\<lambda>n. c n\\<ge>0\"]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n\n  (\\<forall>\\<^sub>F i in sequentially. 0 \\<le> c (Suc i)) =\n  (\\<forall>\\<^sub>F n in sequentially. 0 \\<le> c n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 \\<le> c (Suc n) \\<and> 0 \\<le> c n", "by (metis (mono_tags, lifting) eventually_at_top_linorder le_Suc_eq)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n", "have \"\\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> c (Suc n) \\<ge> 0\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)", "using eventually_elim2 frequently_def"], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n)\n  \\<forall>\\<^sub>F n in sequentially. 0 \\<le> c (Suc n) \\<and> 0 \\<le> c n\n  \\<lbrakk>eventually ?P ?F; eventually ?Q ?F;\n   \\<And>i. \\<lbrakk>?P i; ?Q i\\<rbrakk> \\<Longrightarrow> ?R i\\<rbrakk>\n  \\<Longrightarrow> eventually ?R ?F\n  frequently ?P ?F = (\\<not> (\\<forall>\\<^sub>F x in ?F. \\<not> ?P x))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F n in sequentially. nth_prime n > 0 \n                        \\<and> B * nth_prime n = c n * a n - c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < nth_prime n \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)", "using Bc_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < nth_prime n \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < nth_prime n \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < nth_prime n \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)", "have \"\\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> c (Suc n) \\<ge> 0 \n          \\<and> B * nth_prime n = c n * a n - c (n + 1)\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < nth_prime n \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       c n = 0 \\<and>\n       0 \\<le> c (Suc n) \\<and>\n       B * int (nth_prime n) = c n * a n - c (n + 1)", "using frequently_eventually_frequently"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F n in sequentially. c n = 0 \\<and> 0 \\<le> c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < nth_prime n \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)\n  \\<lbrakk>frequently ?P ?F; eventually ?Q ?F\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<^sub>F x in ?F. ?P x \\<and> ?Q x\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       c n = 0 \\<and>\n       0 \\<le> c (Suc n) \\<and>\n       B * int (nth_prime n) = c n * a n - c (n + 1)", "by fastforce"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     c n = 0 \\<and>\n     0 \\<le> c (Suc n) \\<and> B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "from frequently_ex[OF this]"], ["proof (chain)\npicking this:\n  \\<exists>x.\n     c x = 0 \\<and>\n     0 \\<le> c (Suc x) \\<and> B * int (nth_prime x) = c x * a x - c (x + 1)", "obtain n where \"c n = 0\" \"c (Suc n) \\<ge> 0\"\n        \"B * nth_prime n = c n * a n - c (n + 1)\""], ["proof (prove)\nusing this:\n  \\<exists>x.\n     c x = 0 \\<and>\n     0 \\<le> c (Suc x) \\<and> B * int (nth_prime x) = c x * a x - c (x + 1)\n\ngoal (1 subgoal):\n 1. (\\<And>n.\n        \\<lbrakk>c n = 0; 0 \\<le> c (Suc n);\n         B * int (nth_prime n) = c n * a n - c (n + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  c n = 0\n  0 \\<le> c (Suc n)\n  B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  c n = 0\n  0 \\<le> c (Suc n)\n  B * int (nth_prime n) = c n * a n - c (n + 1)", "have \"B * nth_prime n \\<le> 0\""], ["proof (prove)\nusing this:\n  c n = 0\n  0 \\<le> c (Suc n)\n  B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. B * int (nth_prime n) \\<le> 0", "by auto"], ["proof (state)\nthis:\n  B * int (nth_prime n) \\<le> 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially. 0 < c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  B * int (nth_prime n) \\<le> 0", "show False"], ["proof (prove)\nusing this:\n  B * int (nth_prime n) \\<le> 0\n\ngoal (1 subgoal):\n 1. False", "using \\<open>B > 0\\<close>"], ["proof (prove)\nusing this:\n  B * int (nth_prime n) \\<le> 0\n  0 < B\n\ngoal (1 subgoal):\n 1. False", "by (simp add: mult_le_0_iff)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have B_nth_prime:\"\\<forall>\\<^sub>F n in sequentially. nth_prime n > B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)", "have \"\\<forall>\\<^sub>F x in sequentially. B+1 \\<le> nth_prime x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. B + 1 \\<le> int (nth_prime x)", "using nth_prime_at_top[unfolded filterlim_at_top_ge[where c=\"nat B+1\"]\n          ,rule_format,of \"nat B + 1\",simplified]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. Suc (nat B) \\<le> nth_prime x\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. B + 1 \\<le> int (nth_prime x)", "apply (elim eventually_mono)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x.\n       Suc (nat B) \\<le> nth_prime x \\<Longrightarrow>\n       B + 1 \\<le> int (nth_prime x)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       Suc (nat B) \\<le> nth_prime x \\<Longrightarrow>\n       B + 1 \\<le> int (nth_prime x)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. B + 1 \\<le> int (nth_prime x)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially. B + 1 \\<le> int (nth_prime x)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. B + 1 \\<le> int (nth_prime x)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)", "by (auto elim: eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have bc_epsilon:\"\\<forall>\\<^sub>F n in sequentially. nth_prime (n+1) \n            / nth_prime n >  (c (n+1) - \\<epsilon>) / c n\" when \"\\<epsilon>>0\" \"\\<epsilon><1\" for \\<epsilon>::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>c (Suc x) / a x\\<bar> < \\<epsilon> / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n       < \\<epsilon> / 2", "using ca_vanish[unfolded tendsto_iff,rule_format, of \"\\<epsilon>/2\"] \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon> / 2 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real_of_int (c (Suc x)) / real_of_int (a x)) 0 < \\<epsilon> / 2\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n       < \\<epsilon> / 2", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>c (x+2) / a (x+1)\\<bar> < \\<epsilon> / 2\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n       < \\<epsilon> / 2", "apply (subst (asm) eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       \\<bar>real_of_int (c (Suc (Suc i))) / real_of_int (a (Suc i))\\<bar>\n       < \\<epsilon> / 2 \\<Longrightarrow>\n    \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n       < \\<epsilon> / 2", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"\\<forall>\\<^sub>F n in sequentially. B * nth_prime (n+1) = c (n+1) * a (n+1) - c (n + 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)", "using Bc_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)", "apply (subst (asm) eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       B * int (nth_prime (Suc i)) =\n       c (Suc i) * a (Suc i) - c (Suc i + 1) \\<and>\n       \\<bar>real_of_int (c (Suc i + 1))\\<bar>\n       < real_of_int (a (Suc i)) / 2 \\<Longrightarrow>\n    \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"\\<forall>\\<^sub>F n in sequentially. c n > 0 \\<and> c (n+1) > 0 \\<and> c (n+2) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "have \"\\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "by (subst eventually_sequentially_Suc) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "have \"\\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))", "by (subst eventually_sequentially_Suc) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc (Suc n))\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "using Bc_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (x + 2)) / real_of_int (a (x + 1))\\<bar>\n     < \\<epsilon> / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n       < real (nth_prime (n + 1)) / real (nth_prime n)", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "case (elim n)"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "define \\<epsilon>\\<^sub>0 \\<epsilon>\\<^sub>1 where \"\\<epsilon>\\<^sub>0 = c (n+1) / a n\" and \"\\<epsilon>\\<^sub>1 = c (n+2) / a (n+1)\""], ["proof (state)\nthis:\n  \\<epsilon>\\<^sub>0 = real_of_int (c (n + 1)) / real_of_int (a n)\n  \\<epsilon>\\<^sub>1 = real_of_int (c (n + 2)) / real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"\\<epsilon>\\<^sub>0 > 0\" \"\\<epsilon>\\<^sub>1 > 0\" \"\\<epsilon>\\<^sub>0 < \\<epsilon>/2\" \"\\<epsilon>\\<^sub>1 < \\<epsilon>/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (0 < \\<epsilon>\\<^sub>0 &&& 0 < \\<epsilon>\\<^sub>1) &&&\n    \\<epsilon>\\<^sub>0 < \\<epsilon> / 2 &&&\n    \\<epsilon>\\<^sub>1 < \\<epsilon> / 2", "using a_pos elim \\<open>mono a\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  incseq a\n\ngoal (1 subgoal):\n 1. (0 < \\<epsilon>\\<^sub>0 &&& 0 < \\<epsilon>\\<^sub>1) &&&\n    \\<epsilon>\\<^sub>0 < \\<epsilon> / 2 &&&\n    \\<epsilon>\\<^sub>1 < \\<epsilon> / 2", "by (auto simp add: \\<epsilon>\\<^sub>0_def \\<epsilon>\\<^sub>1_def abs_of_pos)"], ["proof (state)\nthis:\n  0 < \\<epsilon>\\<^sub>0\n  0 < \\<epsilon>\\<^sub>1\n  \\<epsilon>\\<^sub>0 < \\<epsilon> / 2\n  \\<epsilon>\\<^sub>1 < \\<epsilon> / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"(\\<epsilon> - \\<epsilon>\\<^sub>1) * c n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)", "using \\<open>\\<epsilon>\\<^sub>1 > 0\\<close> \\<open>\\<epsilon>\\<^sub>1 < \\<epsilon>/2\\<close> \\<open>\\<epsilon>>0\\<close> elim"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\\<^sub>1\n  \\<epsilon>\\<^sub>1 < \\<epsilon> / 2\n  0 < \\<epsilon>\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. 0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)", "by auto"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"\\<epsilon>\\<^sub>0 * (c (n+1) - \\<epsilon>) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "using \\<open>\\<epsilon>\\<^sub>0 > 0\\<close> elim(4) that(2)"], ["proof (prove)\nusing this:\n  0 < \\<epsilon>\\<^sub>0\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  \\<epsilon> < 1\n\ngoal (1 subgoal):\n 1. 0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "by force"], ["proof (state)\nthis:\n  0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "ultimately"], ["proof (chain)\npicking this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n  0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "have \"(\\<epsilon> - \\<epsilon>\\<^sub>1) * c n + \\<epsilon>\\<^sub>0 * (c (n+1) - \\<epsilon>) > 0\""], ["proof (prove)\nusing this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\n  0 < \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. 0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n        \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)", "by auto"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"c n - \\<epsilon>\\<^sub>0 > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < real_of_int (c n) - \\<epsilon>\\<^sub>0", "using \\<open>\\<epsilon>\\<^sub>0 < \\<epsilon> / 2\\<close> elim(4) that(2)"], ["proof (prove)\nusing this:\n  \\<epsilon>\\<^sub>0 < \\<epsilon> / 2\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  \\<epsilon> < 1\n\ngoal (1 subgoal):\n 1. 0 < real_of_int (c n) - \\<epsilon>\\<^sub>0", "by linarith"], ["proof (state)\nthis:\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"c n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < c n", "by (simp add: elim(4))"], ["proof (state)\nthis:\n  0 < c n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "ultimately"], ["proof (chain)\npicking this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n  0 < c n", "have \"(c (n+1) - \\<epsilon>) / c n < (c (n+1) - \\<epsilon>\\<^sub>1) / (c n -  \\<epsilon>\\<^sub>0)\""], ["proof (prove)\nusing this:\n  0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n) +\n      \\<epsilon>\\<^sub>0 * (real_of_int (c (n + 1)) - \\<epsilon>)\n  0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\n  0 < c n\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n    < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "by (auto simp add:field_simps)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "also"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"... \\<le> (c (n+1) - \\<epsilon>\\<^sub>1) / (c n -  \\<epsilon>\\<^sub>0) * (a (n+1) / a n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "have \"(c (n+1) - \\<epsilon>\\<^sub>1) / (c n -  \\<epsilon>\\<^sub>0) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "by (smt \\<open>0 < (\\<epsilon> - \\<epsilon>\\<^sub>1) * real_of_int (c n)\\<close> \\<open>0 < real_of_int (c n) - \\<epsilon>\\<^sub>0\\<close> \n              divide_pos_pos elim(4) mult_le_0_iff of_int_less_1_iff that(2))"], ["proof (state)\nthis:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "moreover"], ["proof (state)\nthis:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "have \"(a (n+1) / a n) \\<ge> 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)", "using a_pos \\<open>mono a\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n. 0 < a n\n  incseq a\n\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)", "by (simp add: mono_def)"], ["proof (state)\nthis:\n  1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "ultimately"], ["proof (chain)\npicking this:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)", "show ?thesis"], ["proof (prove)\nusing this:\n  0 < (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n      (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  1 \\<le> real_of_int (a (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n          (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n          (real_of_int (a (n + 1)) / real_of_int (a n))", "by (metis mult_cancel_left1 mult_le_cancel_iff2)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n        (real_of_int (a (n + 1)) / real_of_int (a n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n        (real_of_int (a (n + 1)) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "also"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n        (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n        (real_of_int (a (n + 1)) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"... = (B * nth_prime (n+1)) / (B * nth_prime n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "have \"B * nth_prime n = c n * a n - c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B * int (nth_prime n) = c n * a n - c (n + 1)", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon> / 2\n  \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n  < \\<epsilon> / 2\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. B * int (nth_prime n) = c n * a n - c (n + 1)", "by auto"], ["proof (state)\nthis:\n  B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "also"], ["proof (state)\nthis:\n  B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "have \"... = a n * (c n - \\<epsilon>\\<^sub>0)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) =\n    real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) =\n    real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "unfolding \\<epsilon>\\<^sub>0_def"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) =\n    real_of_int (a n) *\n    (real_of_int (c n) - real_of_int (c (n + 1)) / real_of_int (a n))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (c n * a n - c (n + 1)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "finally"], ["proof (chain)\npicking this:\n  real_of_int (B * int (nth_prime n)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "have \"B * nth_prime n = a n * (c n - \\<epsilon>\\<^sub>0)\""], ["proof (prove)\nusing this:\n  real_of_int (B * int (nth_prime n)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) =\n    real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)", "."], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "moreover"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "have \"B * nth_prime (n+1) = a (n+1) * (c (n+1) - \\<epsilon>\\<^sub>1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime (n + 1))) =\n    real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)", "unfolding \\<epsilon>\\<^sub>1_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime (n + 1))) =\n    real_of_int (a (n + 1)) *\n    (real_of_int (c (n + 1)) -\n     real_of_int (c (n + 2)) / real_of_int (a (n + 1)))", "using a_pos[rule_format,of \"n+1\"]"], ["proof (prove)\nusing this:\n  0 < a (n + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime (n + 1))) =\n    real_of_int (a (n + 1)) *\n    (real_of_int (c (n + 1)) -\n     real_of_int (c (n + 2)) / real_of_int (a (n + 1)))", "apply (subst \\<open>B * nth_prime (n + 1) = c (n + 1) * a (n + 1) - c (n + 2)\\<close>)"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < a (n + 1) \\<Longrightarrow>\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2)) =\n    real_of_int (a (n + 1)) *\n    (real_of_int (c (n + 1)) -\n     real_of_int (c (n + 2)) / real_of_int (a (n + 1)))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime (n + 1))) =\n  real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (B * int (nth_prime n)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  real_of_int (B * int (nth_prime (n + 1))) =\n  real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (B * int (nth_prime n)) =\n  real_of_int (a n) * (real_of_int (c n) - \\<epsilon>\\<^sub>0)\n  real_of_int (B * int (nth_prime (n + 1))) =\n  real_of_int (a (n + 1)) * (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n    (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n    (real_of_int (a (n + 1)) / real_of_int (a n)) =\n    real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n))", "by (simp add: mult.commute)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n  (real_of_int (a (n + 1)) / real_of_int (a n)) =\n  real_of_int (B * int (nth_prime (n + 1))) /\n  real_of_int (B * int (nth_prime n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n  (real_of_int (a (n + 1)) / real_of_int (a n)) =\n  real_of_int (B * int (nth_prime (n + 1))) /\n  real_of_int (B * int (nth_prime n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "also"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>\\<^sub>1) /\n  (real_of_int (c n) - \\<epsilon>\\<^sub>0) *\n  (real_of_int (a (n + 1)) / real_of_int (a n)) =\n  real_of_int (B * int (nth_prime (n + 1))) /\n  real_of_int (B * int (nth_prime n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "have \"... = nth_prime (n+1) / nth_prime n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n)) =\n    real (nth_prime (n + 1)) / real (nth_prime n)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime (n + 1))) /\n    real_of_int (B * int (nth_prime n)) =\n    real (nth_prime (n + 1)) / real (nth_prime n)", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime (n + 1))) /\n  real_of_int (B * int (nth_prime n)) =\n  real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon> / 2;\n        \\<bar>real_of_int (c (n + 2)) / real_of_int (a (n + 1))\\<bar>\n        < \\<epsilon> / 2;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        0 < c n \\<and> 0 < c (n + 1) \\<and> 0 < c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                         real_of_int (c n)\n                         < real (nth_prime (n + 1)) / real (nth_prime n)", "finally"], ["proof (chain)\npicking this:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)", "show ?case"], ["proof (prove)\nusing this:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n    < real (nth_prime (n + 1)) / real (nth_prime n)", "."], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?\\<epsilon>; ?\\<epsilon> < 1\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially.\n                       (real_of_int (c (n + 1)) - ?\\<epsilon>) /\n                       real_of_int (c n)\n                       < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have c_ubound:\"\\<forall>x. \\<exists>n. c n > x\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. \\<exists>n. x < c n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "assume \" \\<not> (\\<forall>x. \\<exists>n. x < c n)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>x. \\<exists>n. x < c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>x. \\<exists>n. x < c n)", "obtain ub where \"\\<forall>n. c n \\<le> ub\" \"ub > 0\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>x. \\<exists>n. x < c n)\n\ngoal (1 subgoal):\n 1. (\\<And>ub.\n        \\<lbrakk>\\<forall>n. c n \\<le> ub; 0 < ub\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by (meson dual_order.trans int_one_le_iff_zero_less le_cases not_le)"], ["proof (state)\nthis:\n  \\<forall>n. c n \\<le> ub\n  0 < ub\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "define pa where \"pa = (\\<lambda>n. nth_prime n / a n)\""], ["proof (state)\nthis:\n  pa = (\\<lambda>n. real (nth_prime n) / real_of_int (a n))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "have pa_pos:\"\\<And>n. pa n > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. 0 < pa n", "unfolding pa_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n. 0 < real (nth_prime n) / real_of_int (a n)", "by (simp add: a_pos)"], ["proof (state)\nthis:\n  0 < pa ?n\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "have \"liminf (\\<lambda>n. 1 / pa n) = 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (1 / pa x)) = 0", "using nth_2"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>x. ereal (real_of_int (a x) / real (nth_prime x))) = 0\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (1 / pa x)) = 0", "unfolding pa_def"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>x. ereal (real_of_int (a x) / real (nth_prime x))) = 0\n\ngoal (1 subgoal):\n 1. liminf\n     (\\<lambda>x. ereal (1 / (real (nth_prime x) / real_of_int (a x)))) =\n    0", "by auto"], ["proof (state)\nthis:\n  liminf (\\<lambda>x. ereal (1 / pa x)) = 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  liminf (\\<lambda>x. ereal (1 / pa x)) = 0", "have \"(\\<exists>y<ereal (real_of_int B / real_of_int (ub + 1)). \n      \\<exists>\\<^sub>F x in sequentially. ereal (1 / pa x) \\<le> y)\""], ["proof (prove)\nusing this:\n  liminf (\\<lambda>x. ereal (1 / pa x)) = 0\n\ngoal (1 subgoal):\n 1. \\<exists>y<ereal (real_of_int B / real_of_int (ub + 1)).\n       \\<exists>\\<^sub>F x in sequentially. ereal (1 / pa x) \\<le> y", "apply (subst less_Liminf_iff[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (1 / pa x)) = 0 \\<Longrightarrow>\n    liminf (\\<lambda>x. ereal (1 / pa x))\n    < ereal (real_of_int B / real_of_int (ub + 1))", "using \\<open>0 < B\\<close> \\<open>0 < ub\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n  0 < ub\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (1 / pa x)) = 0 \\<Longrightarrow>\n    liminf (\\<lambda>x. ereal (1 / pa x))\n    < ereal (real_of_int B / real_of_int (ub + 1))", "by auto"], ["proof (state)\nthis:\n  \\<exists>y<ereal (real_of_int B / real_of_int (ub + 1)).\n     \\<exists>\\<^sub>F x in sequentially. ereal (1 / pa x) \\<le> y\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>y<ereal (real_of_int B / real_of_int (ub + 1)).\n     \\<exists>\\<^sub>F x in sequentially. ereal (1 / pa x) \\<le> y", "have \"\\<exists>\\<^sub>F x in sequentially. 1 / pa x < B/(ub+1)\""], ["proof (prove)\nusing this:\n  \\<exists>y<ereal (real_of_int B / real_of_int (ub + 1)).\n     \\<exists>\\<^sub>F x in sequentially. ereal (1 / pa x) \\<le> y\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially.\n       1 / pa x < real_of_int B / real_of_int (ub + 1)", "by (meson frequently_mono le_less_trans less_ereal.simps(1))"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 / pa x < real_of_int B / real_of_int (ub + 1)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 / pa x < real_of_int B / real_of_int (ub + 1)", "have \"\\<exists>\\<^sub>F x in sequentially. B*pa x > (ub+1)\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 / pa x < real_of_int B / real_of_int (ub + 1)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially.\n       real_of_int (ub + 1) < real_of_int B * pa x", "apply (elim frequently_elim1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       1 / pa i < real_of_int B / real_of_int (ub + 1) \\<Longrightarrow>\n       real_of_int (ub + 1) < real_of_int B * pa i", "by (metis \\<open>0 < ub\\<close> mult.left_neutral of_int_0_less_iff pa_pos pos_divide_less_eq \n          pos_less_divide_eq times_divide_eq_left zless_add1_eq)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially.\n     real_of_int (ub + 1) < real_of_int B * pa x\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially.\n     real_of_int (ub + 1) < real_of_int B * pa x\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "have \"\\<forall>\\<^sub>F x in sequentially. c x \\<le> ub\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. c x \\<le> ub", "using \\<open>\\<forall>n. c n \\<le> ub\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n. c n \\<le> ub\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially. c x \\<le> ub", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. c x \\<le> ub\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F x in sequentially.\n     real_of_int (ub + 1) < real_of_int B * pa x\n  \\<forall>\\<^sub>F x in sequentially. c x \\<le> ub", "have \"\\<exists>\\<^sub>F x in sequentially. B*pa x - c x > 1\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially.\n     real_of_int (ub + 1) < real_of_int B * pa x\n  \\<forall>\\<^sub>F x in sequentially. c x \\<le> ub\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially.\n       1 < real_of_int B * pa x - real_of_int (c x)", "by (elim frequently_rev_mp eventually_mono) linarith"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "have \"(\\<lambda>n. B * pa n - c n) \\<longlonglongrightarrow>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n. real_of_int B * pa n - real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "unfolding pa_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int B * (real (nth_prime n) / real_of_int (a n)) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "using bac_close"], ["proof (prove)\nusing this:\n  (\\<lambda>n.\n      real_of_int (B * int (nth_prime n)) / real_of_int (a n) -\n      real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. (\\<lambda>n.\n        real_of_int B * (real (nth_prime n) / real_of_int (a n)) -\n        real_of_int (c n))\n    \\<longlonglongrightarrow> 0", "by auto"], ["proof (state)\nthis:\n  (\\<lambda>n. real_of_int B * pa n - real_of_int (c n))\n  \\<longlonglongrightarrow> 0\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "from tendstoD[OF this,of 1]"], ["proof (chain)\npicking this:\n  0 < 1 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real_of_int B * pa x - real_of_int (c x)) 0 < 1", "have \"\\<forall>\\<^sub>F n in sequentially.  \\<bar>B * pa n - c n\\<bar> < 1\""], ["proof (prove)\nusing this:\n  0 < 1 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real_of_int B * pa x - real_of_int (c x)) 0 < 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       \\<bar>real_of_int B * pa n - real_of_int (c n)\\<bar> < 1", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>real_of_int B * pa n - real_of_int (c n)\\<bar> < 1\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x)\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>real_of_int B * pa n - real_of_int (c n)\\<bar> < 1", "have \"\\<exists>\\<^sub>F x in sequentially. B*pa x - c x > 1 \\<and> \\<bar>B * pa x - c x\\<bar> < 1\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x)\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>real_of_int B * pa n - real_of_int (c n)\\<bar> < 1\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially.\n       1 < real_of_int B * pa x - real_of_int (c x) \\<and>\n       \\<bar>real_of_int B * pa x - real_of_int (c x)\\<bar> < 1", "using frequently_eventually_frequently"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x)\n  \\<forall>\\<^sub>F n in sequentially.\n     \\<bar>real_of_int B * pa n - real_of_int (c n)\\<bar> < 1\n  \\<lbrakk>frequently ?P ?F; eventually ?Q ?F\\<rbrakk>\n  \\<Longrightarrow> \\<exists>\\<^sub>F x in ?F. ?P x \\<and> ?Q x\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F x in sequentially.\n       1 < real_of_int B * pa x - real_of_int (c x) \\<and>\n       \\<bar>real_of_int B * pa x - real_of_int (c x)\\<bar> < 1", "by blast"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x) \\<and>\n     \\<bar>real_of_int B * pa x - real_of_int (c x)\\<bar> < 1\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>x. \\<exists>n. x < c n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x) \\<and>\n     \\<bar>real_of_int B * pa x - real_of_int (c x)\\<bar> < 1", "show False"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F x in sequentially.\n     1 < real_of_int B * pa x - real_of_int (c x) \\<and>\n     \\<bar>real_of_int B * pa x - real_of_int (c x)\\<bar> < 1\n\ngoal (1 subgoal):\n 1. False", "by (simp add: frequently_def)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x. \\<exists>n. x < c n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have eq_2_11:\"\\<forall>\\<^sub>F n in sequentially. c (n+1)>c n \\<longrightarrow> \n                  nth_prime (n+1) > nth_prime n + (1 - \\<epsilon>)^2 * a n / B\" \n    when \"\\<epsilon>>0\" \"\\<epsilon><1\" for \\<epsilon>::real"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "have \"\\<forall>\\<^sub>F x in sequentially. \\<bar>c (Suc x) / a x\\<bar> < \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>", "using ca_vanish[unfolded tendsto_iff,rule_format, of \\<epsilon>] \\<open>\\<epsilon>>0\\<close>"], ["proof (prove)\nusing this:\n  0 < \\<epsilon> \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real_of_int (c (Suc x)) / real_of_int (a x)) 0 < \\<epsilon>\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "have \"\\<forall>\\<^sub>F n in sequentially. c n > 0 \\<and> c (n+1) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "have \"\\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "by (subst eventually_sequentially_Suc) simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "using c_pos"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (Suc n)\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "using Bc_large bc_epsilon[OF \\<open>\\<epsilon>>0\\<close> \\<open>\\<epsilon><1\\<close>]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar> < \\<epsilon>\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n     < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c n < c (n + 1) \\<longrightarrow>\n       real (nth_prime n) +\n       (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n       < real (nth_prime (n + 1))", "proof (eventually_elim, rule_tac impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "case (elim n)"], ["proof (state)\nthis:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "assume \"c n < c (n + 1)\""], ["proof (state)\nthis:\n  c n < c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"c (n+1) / a n < \\<epsilon>\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>", "using elim(1,2)"], ["proof (prove)\nusing this:\n  0 < a n\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>", "by auto"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n) < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... \\<le> \\<epsilon> * c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<epsilon> \\<le> \\<epsilon> * real_of_int (c n)", "using elim(2) that(1)"], ["proof (prove)\nusing this:\n  0 < c n \\<and> 0 < c (n + 1)\n  0 < \\<epsilon>\n\ngoal (1 subgoal):\n 1. \\<epsilon> \\<le> \\<epsilon> * real_of_int (c n)", "by auto"], ["proof (state)\nthis:\n  \\<epsilon> \\<le> \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "finally"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)", "have \"c (n+1) / a n < \\<epsilon> * c n\""], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n)\n    < \\<epsilon> * real_of_int (c n)", "."], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "then"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)", "have \"c (n+1) / c n < \\<epsilon> * a n\""], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (c n)\n    < \\<epsilon> * real_of_int (a n)", "using a_pos[rule_format,of n] elim"], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < \\<epsilon> * real_of_int (c n)\n  0 < a n\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (c n)\n    < \\<epsilon> * real_of_int (a n)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (c n)\n  < \\<epsilon> * real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "then"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (c n)\n  < \\<epsilon> * real_of_int (a n)", "have \"(1 - \\<epsilon>) * a n < a n - c (n+1) / c n\""], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (c n)\n  < \\<epsilon> * real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (1 - \\<epsilon>) * real_of_int (a n)\n    < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  (1 - \\<epsilon>) * real_of_int (a n)\n  < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "then"], ["proof (chain)\npicking this:\n  (1 - \\<epsilon>) * real_of_int (a n)\n  < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)", "have \"(1 - \\<epsilon>)^2 * a n / B < (1 - \\<epsilon>) * (a n - c (n+1) / c n) / B\""], ["proof (prove)\nusing this:\n  (1 - \\<epsilon>) * real_of_int (a n)\n  < real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)\n\ngoal (1 subgoal):\n 1. (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "apply (subst (asm) mult_less_iff1[symmetric, of \"(1-\\<epsilon>)/B\"])"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < (1 - \\<epsilon>) / real_of_int B\n 2. (1 - \\<epsilon>) * real_of_int (a n) *\n    ((1 - \\<epsilon>) / real_of_int B)\n    < (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) *\n      ((1 - \\<epsilon>) / real_of_int B) \\<Longrightarrow>\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "using \\<open>\\<epsilon><1\\<close> \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  \\<epsilon> < 1\n  0 < B\n\ngoal (2 subgoals):\n 1. 0 < (1 - \\<epsilon>) / real_of_int B\n 2. (1 - \\<epsilon>) * real_of_int (a n) *\n    ((1 - \\<epsilon>) / real_of_int B)\n    < (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) *\n      ((1 - \\<epsilon>) / real_of_int B) \\<Longrightarrow>\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "by (auto simp: divide_simps power2_eq_square mult_less_iff1)"], ["proof (state)\nthis:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "then"], ["proof (chain)\npicking this:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B", "have \"nth_prime n + (1 - \\<epsilon>)^2 * a n / B < nth_prime n + (1 - \\<epsilon>) * (a n - c (n+1) / c n) / B\""], ["proof (prove)\nusing this:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < real (nth_prime n) +\n      (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n  0 < B\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < real (nth_prime n) +\n      (1 - \\<epsilon>) *\n      (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n      real_of_int B", "by auto"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... = nth_prime n + (1 - \\<epsilon>) * ((c n *a n - c (n+1)) / c n) / B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (a n) - real_of_int (c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... = nth_prime n + (1 - \\<epsilon>) * (nth_prime n / c n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))", "have \"B * nth_prime n = c n * a n - c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B * int (nth_prime n) = c n * a n - c (n + 1)", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. B * int (nth_prime n) = c n * a n - c (n + 1)", "by auto"], ["proof (state)\nthis:\n  B * int (nth_prime n) = c n * a n - c (n + 1)\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))", "from this[symmetric]"], ["proof (chain)\npicking this:\n  c n * a n - c (n + 1) = B * int (nth_prime n)", "show ?thesis"], ["proof (prove)\nusing this:\n  c n * a n - c (n + 1) = B * int (nth_prime n)\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  c n * a n - c (n + 1) = B * int (nth_prime n)\n  0 < B\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) *\n    (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n    real_of_int B =\n    real (nth_prime n) +\n    (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))", "by simp"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real (nth_prime n) +\n  (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real (nth_prime n) +\n  (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) *\n  (real_of_int (c n * a n - c (n + 1)) / real_of_int (c n)) /\n  real_of_int B =\n  real (nth_prime n) +\n  (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... = (1+(1-\\<epsilon>)/c n) * nth_prime n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n)) =\n    (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n)) =\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>) * (real (nth_prime n) / real_of_int (c n)) =\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... = ((c n+1-\\<epsilon>)/c n) * nth_prime n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n) =\n    (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n) =\n    (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n) =\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  (1 + (1 - \\<epsilon>) / real_of_int (c n)) * real (nth_prime n) =\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... \\<le> ((c (n+1) -\\<epsilon>)/c n) * nth_prime n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "define cp where \"cp = c n+1\""], ["proof (state)\nthis:\n  cp = c n + 1\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "have \"c (n+1) \\<ge> cp\""], ["proof (prove)\ngoal (1 subgoal):\n 1. cp \\<le> c (n + 1)", "unfolding cp_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. c n + 1 \\<le> c (n + 1)", "using \\<open>c n < c (n + 1)\\<close>"], ["proof (prove)\nusing this:\n  c n < c (n + 1)\n\ngoal (1 subgoal):\n 1. c n + 1 \\<le> c (n + 1)", "by auto"], ["proof (state)\nthis:\n  cp \\<le> c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  cp \\<le> c (n + 1)\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "have \"c n>0\" \"nth_prime n>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < c n &&& 0 < nth_prime n", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. 0 < c n &&& 0 < nth_prime n", "by auto"], ["proof (state)\nthis:\n  0 < c n\n  0 < nth_prime n\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "ultimately"], ["proof (chain)\npicking this:\n  cp \\<le> c (n + 1)\n  0 < c n\n  0 < nth_prime n", "show ?thesis"], ["proof (prove)\nusing this:\n  cp \\<le> c (n + 1)\n  0 < c n\n  0 < nth_prime n\n\ngoal (1 subgoal):\n 1. (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n          real (nth_prime n)", "apply (fold cp_def)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>cp \\<le> c (n + 1); 0 < c n; 0 < nth_prime n\\<rbrakk>\n    \\<Longrightarrow> (real_of_int cp - \\<epsilon>) / real_of_int (c n) *\n                      real (nth_prime n)\n                      \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) /\n                            real_of_int (c n) *\n                            real (nth_prime n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real (nth_prime n)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n        real (nth_prime n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real (nth_prime n)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n        real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  (real_of_int (c n + 1) - \\<epsilon>) / real_of_int (c n) *\n  real (nth_prime n)\n  \\<le> (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n        real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "have \"... < nth_prime (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    < real (nth_prime (n + 1))", "using elim"], ["proof (prove)\nusing this:\n  \\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar> < \\<epsilon>\n  0 < c n \\<and> 0 < c (n + 1)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n  < real (nth_prime (n + 1)) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n    real (nth_prime n)\n    < real (nth_prime (n + 1))", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n) *\n  real (nth_prime n)\n  < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<bar>real_of_int (c (Suc n)) / real_of_int (a n)\\<bar>\n                < \\<epsilon>;\n        0 < c n \\<and> 0 < c (n + 1);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n        < real (nth_prime (n + 1)) / real (nth_prime n);\n        \\<forall>\\<^sub>F x in sequentially.\n           \\<bar>real_of_int (c (Suc x)) / real_of_int (a x)\\<bar>\n           < \\<epsilon>;\n        \\<forall>\\<^sub>F n in sequentially. 0 < c n \\<and> 0 < c (n + 1);\n        \\<forall>\\<^sub>F n in sequentially.\n           B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n           \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        \\<forall>\\<^sub>F n in sequentially.\n           (real_of_int (c (n + 1)) - \\<epsilon>) / real_of_int (c n)\n           < real (nth_prime (n + 1)) / real (nth_prime n);\n        c n < c (n + 1)\\<rbrakk>\n       \\<Longrightarrow> real (nth_prime n) +\n                         (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                         real_of_int B\n                         < real (nth_prime (n + 1))", "finally"], ["proof (chain)\npicking this:\n  real (nth_prime n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real (nth_prime (n + 1))", "show \"real (nth_prime n) + (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) \n          / real_of_int B < real (nth_prime (n + 1))\""], ["proof (prove)\nusing this:\n  real (nth_prime n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. real (nth_prime n) +\n    (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n    < real (nth_prime (n + 1))", "."], ["proof (state)\nthis:\n  real (nth_prime n) +\n  (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n  < real (nth_prime (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c n < c (n + 1) \\<longrightarrow>\n     real (nth_prime n) +\n     (1 - \\<epsilon>)\\<^sup>2 * real_of_int (a n) / real_of_int B\n     < real (nth_prime (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>0 < ?\\<epsilon>; ?\\<epsilon> < 1\\<rbrakk>\n  \\<Longrightarrow> \\<forall>\\<^sub>F n in sequentially.\n                       c n < c (n + 1) \\<longrightarrow>\n                       real (nth_prime n) +\n                       (1 - ?\\<epsilon>)\\<^sup>2 * real_of_int (a n) /\n                       real_of_int B\n                       < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have c_neq_large:\"\\<forall>\\<^sub>F n in sequentially. c (n+1) \\<noteq> c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "assume \"\\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n)\""], ["proof (state)\nthis:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n)", "have that:\"\\<exists>\\<^sub>F n in sequentially. c (n + 1) = c n\""], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n)\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially. c (n + 1) = c n", "unfolding frequently_def"], ["proof (prove)\nusing this:\n  \\<not> (\\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F x in sequentially. c (x + 1) \\<noteq> c x)", "."], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially. c (n + 1) = c n\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F x in sequentially. (B * int (nth_prime x) = c x * a x - c (x + 1) \n        \\<and> \\<bar>real_of_int (c (x + 1))\\<bar> < real_of_int (a x) / 2) \\<and> 0 < c x \\<and> B < int (nth_prime x)\n        \\<and> (c (x+1)>c x \\<longrightarrow> nth_prime (x+1) > nth_prime x +  a x / (2* B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       (B * int (nth_prime x) = c x * a x - c (x + 1) \\<and>\n        \\<bar>real_of_int (c (x + 1))\\<bar> < real_of_int (a x) / 2) \\<and>\n       0 < c x \\<and>\n       B < int (nth_prime x) \\<and>\n       (c x < c (x + 1) \\<longrightarrow>\n        real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n        < real (nth_prime (x + 1)))", "using Bc_large c_pos B_nth_prime eq_2_11[of \"1-1/ sqrt 2\",simplified]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially. 0 < c n\n  \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)\n  \\<forall>\\<^sub>F n in sequentially.\n     c n < c (Suc n) \\<longrightarrow>\n     real (nth_prime n) +\n     (1 / sqrt 2)\\<^sup>2 * real_of_int (a n) / real_of_int B\n     < real (nth_prime (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       (B * int (nth_prime x) = c x * a x - c (x + 1) \\<and>\n        \\<bar>real_of_int (c (x + 1))\\<bar> < real_of_int (a x) / 2) \\<and>\n       0 < c x \\<and>\n       B < int (nth_prime x) \\<and>\n       (c x < c (x + 1) \\<longrightarrow>\n        real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n        < real (nth_prime (x + 1)))", "by eventually_elim (auto simp:divide_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     (B * int (nth_prime x) = c x * a x - c (x + 1) \\<and>\n      \\<bar>real_of_int (c (x + 1))\\<bar> < real_of_int (a x) / 2) \\<and>\n     0 < c x \\<and>\n     B < int (nth_prime x) \\<and>\n     (c x < c (x + 1) \\<longrightarrow>\n      real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n      < real (nth_prime (x + 1)))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     (B * int (nth_prime x) = c x * a x - c (x + 1) \\<and>\n      \\<bar>real_of_int (c (x + 1))\\<bar> < real_of_int (a x) / 2) \\<and>\n     0 < c x \\<and>\n     B < int (nth_prime x) \\<and>\n     (c x < c (x + 1) \\<longrightarrow>\n      real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n      < real (nth_prime (x + 1)))", "have \"\\<exists>\\<^sub>F m in sequentially. nth_prime (m+1) > (1+1/(2*B))*nth_prime m\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     (B * int (nth_prime x) = c x * a x - c (x + 1) \\<and>\n      \\<bar>real_of_int (c (x + 1))\\<bar> < real_of_int (a x) / 2) \\<and>\n     0 < c x \\<and>\n     B < int (nth_prime x) \\<and>\n     (c x < c (x + 1) \\<longrightarrow>\n      real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n      < real (nth_prime (x + 1)))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F m in sequentially.\n       (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n       < real (nth_prime (m + 1))", "proof (elim frequently_eventually_at_top[OF that, THEN frequently_at_top_elim])"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "assume \"c (n + 1) = c n \\<and>\n           (\\<forall>y\\<ge>n. (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n                    \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2) \\<and>\n                   0 < c y \\<and> B < int (nth_prime y) \\<and> (c y < c (y + 1) \\<longrightarrow>\n                   real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n                   < real (nth_prime (y + 1))))\""], ["proof (state)\nthis:\n  c (n + 1) = c n \\<and>\n  (\\<forall>y\\<ge>n.\n      (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n       \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2) \\<and>\n      0 < c y \\<and>\n      B < int (nth_prime y) \\<and>\n      (c y < c (y + 1) \\<longrightarrow>\n       real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n       < real (nth_prime (y + 1))))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "then"], ["proof (chain)\npicking this:\n  c (n + 1) = c n \\<and>\n  (\\<forall>y\\<ge>n.\n      (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n       \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2) \\<and>\n      0 < c y \\<and>\n      B < int (nth_prime y) \\<and>\n      (c y < c (y + 1) \\<longrightarrow>\n       real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n       < real (nth_prime (y + 1))))", "have \"c (n + 1) = c n\" \n        and Bc_eq:\"\\<forall>y\\<ge>n. B * int (nth_prime y) = c y * a y - c (y + 1) \\<and> 0 < c y \n                            \\<and> \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2 \n                            \\<and> B < int (nth_prime y)\n                            \\<and> (c y < c (y + 1) \\<longrightarrow>\n                   real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n                   < real (nth_prime (y + 1)))\""], ["proof (prove)\nusing this:\n  c (n + 1) = c n \\<and>\n  (\\<forall>y\\<ge>n.\n      (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n       \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2) \\<and>\n      0 < c y \\<and>\n      B < int (nth_prime y) \\<and>\n      (c y < c (y + 1) \\<longrightarrow>\n       real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n       < real (nth_prime (y + 1))))\n\ngoal (1 subgoal):\n 1. c (n + 1) = c n &&&\n    \\<forall>y\\<ge>n.\n       B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n       0 < c y \\<and>\n       \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2 \\<and>\n       B < int (nth_prime y) \\<and>\n       (c y < c (y + 1) \\<longrightarrow>\n        real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n        < real (nth_prime (y + 1)))", "by auto"], ["proof (state)\nthis:\n  c (n + 1) = c n\n  \\<forall>y\\<ge>n.\n     B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n     0 < c y \\<and>\n     \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2 \\<and>\n     B < int (nth_prime y) \\<and>\n     (c y < c (y + 1) \\<longrightarrow>\n      real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n      < real (nth_prime (y + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "obtain m where \"n<m\" \"c m \\<le> c n\" \"c n<c (m+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"\\<exists>N. N > n \\<and> c N > c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>N>n. c n < c N", "using c_ubound[rule_format, of \"MAX x\\<in>{..n}. c x\"]"], ["proof (prove)\nusing this:\n  \\<exists>na. Max (c ` {..n}) < c na\n\ngoal (1 subgoal):\n 1. \\<exists>N>n. c n < c N", "by (metis Max_ge atMost_iff dual_order.trans finite_atMost finite_imageI image_eqI \n              linorder_not_le order_refl)"], ["proof (state)\nthis:\n  \\<exists>N>n. c n < c N\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  \\<exists>N>n. c n < c N", "obtain N where \"N>n\" \"c N>c n\""], ["proof (prove)\nusing this:\n  \\<exists>N>n. c n < c N\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<lbrakk>n < N; c n < c N\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  n < N\n  c n < c N\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "define A m where \"A={m. n<m \\<and> (m+1)\\<le>N \\<and> c (m+1) > c n}\" and \"m = Min A\""], ["proof (state)\nthis:\n  A = {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}\n  m = Min A\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"finite A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite A", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}", "by (metis (no_types, lifting) A_def add_leE finite_nat_set_iff_bounded_le mem_Collect_eq)"], ["proof (state)\nthis:\n  finite A\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  finite A\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"N-1\\<in>A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N - 1 \\<in> A", "unfolding A_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. N - 1 \\<in> {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}", "using \\<open>c n < c N\\<close> \\<open>n < N\\<close> \\<open>c (n + 1) = c n\\<close>"], ["proof (prove)\nusing this:\n  c n < c N\n  n < N\n  c (n + 1) = c n\n\ngoal (1 subgoal):\n 1. N - 1 \\<in> {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}", "by (smt Suc_diff_Suc Suc_eq_plus1 Suc_leI Suc_pred  add.commute \n              add_diff_inverse_nat add_leD1 diff_is_0_eq' mem_Collect_eq nat_add_left_cancel_less\n              zero_less_one)"], ["proof (state)\nthis:\n  N - 1 \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  finite A\n  N - 1 \\<in> A", "have \"m\\<in>A\""], ["proof (prove)\nusing this:\n  finite A\n  N - 1 \\<in> A\n\ngoal (1 subgoal):\n 1. m \\<in> A", "using Min_in"], ["proof (prove)\nusing this:\n  finite A\n  N - 1 \\<in> A\n  \\<lbrakk>finite ?A; ?A \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> Min ?A \\<in> ?A\n\ngoal (1 subgoal):\n 1. m \\<in> A", "unfolding m_def"], ["proof (prove)\nusing this:\n  finite A\n  N - 1 \\<in> A\n  \\<lbrakk>finite ?A; ?A \\<noteq> {}\\<rbrakk>\n  \\<Longrightarrow> Min ?A \\<in> ?A\n\ngoal (1 subgoal):\n 1. Min A \\<in> A", "by auto"], ["proof (state)\nthis:\n  m \\<in> A\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "then"], ["proof (chain)\npicking this:\n  m \\<in> A", "have \"n<m\"  \"c n<c (m+1)\" \"m>0\""], ["proof (prove)\nusing this:\n  m \\<in> A\n\ngoal (1 subgoal):\n 1. n < m &&& c n < c (m + 1) &&& 0 < m", "unfolding m_def A_def"], ["proof (prove)\nusing this:\n  Min {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}\n  \\<in> {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}\n\ngoal (1 subgoal):\n 1. n < Min {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)} &&&\n    c n\n    < c (Min {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)} + 1) &&&\n    0 < Min {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}", "by auto"], ["proof (state)\nthis:\n  n < m\n  c n < c (m + 1)\n  0 < m\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "moreover"], ["proof (state)\nthis:\n  n < m\n  c n < c (m + 1)\n  0 < m\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "have \"c m \\<le> c n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c m \\<le> c n", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> c m \\<le> c n \\<Longrightarrow> False", "assume \" \\<not> c m \\<le> c n\""], ["proof (state)\nthis:\n  \\<not> c m \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<not> c m \\<le> c n \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> c m \\<le> c n", "have \"m-1\\<in>A\""], ["proof (prove)\nusing this:\n  \\<not> c m \\<le> c n\n\ngoal (1 subgoal):\n 1. m - 1 \\<in> A", "using \\<open>m\\<in>A\\<close> \\<open>c (n + 1) = c n\\<close>"], ["proof (prove)\nusing this:\n  \\<not> c m \\<le> c n\n  m \\<in> A\n  c (n + 1) = c n\n\ngoal (1 subgoal):\n 1. m - 1 \\<in> A", "unfolding A_def"], ["proof (prove)\nusing this:\n  \\<not> c m \\<le> c n\n  m \\<in> {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}\n  c (n + 1) = c n\n\ngoal (1 subgoal):\n 1. m - 1 \\<in> {m. n < m \\<and> m + 1 \\<le> N \\<and> c n < c (m + 1)}", "by auto (smt One_nat_def Suc_eq_plus1 Suc_lessI less_diff_conv)"], ["proof (state)\nthis:\n  m - 1 \\<in> A\n\ngoal (1 subgoal):\n 1. \\<not> c m \\<le> c n \\<Longrightarrow> False", "from  Min_le[OF \\<open>finite A\\<close> this,folded m_def] \\<open>m>0\\<close>"], ["proof (chain)\npicking this:\n  m \\<le> m - 1\n  0 < m", "show False"], ["proof (prove)\nusing this:\n  m \\<le> m - 1\n  0 < m\n\ngoal (1 subgoal):\n 1. False", "by auto"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c m \\<le> c n\n\ngoal (1 subgoal):\n 1. (\\<And>m.\n        \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n        \\<Longrightarrow> thesis) \\<Longrightarrow>\n    thesis", "ultimately"], ["proof (chain)\npicking this:\n  n < m\n  c n < c (m + 1)\n  0 < m\n  c m \\<le> c n", "show ?thesis"], ["proof (prove)\nusing this:\n  n < m\n  c n < c (m + 1)\n  0 < m\n  c m \\<le> c n\n\ngoal (1 subgoal):\n 1. thesis", "using that[of m]"], ["proof (prove)\nusing this:\n  n < m\n  c n < c (m + 1)\n  0 < m\n  c m \\<le> c n\n  \\<lbrakk>n < m; c m \\<le> c n; c n < c (m + 1)\\<rbrakk>\n  \\<Longrightarrow> thesis\n\ngoal (1 subgoal):\n 1. thesis", "by auto"], ["proof (state)\nthis:\n  thesis\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  n < m\n  c m \\<le> c n\n  c n < c (m + 1)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "have \"(1 + 1 / (2 * B)) * nth_prime m < nth_prime m + a m / (2*B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n    < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n    < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)", "have \"nth_prime m < a m\""], ["proof (prove)\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "have \"B * int (nth_prime m) < c m * (a m - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. B * int (nth_prime m) < c m * (a m - 1)", "using Bc_eq[rule_format,of m] \\<open>c m \\<le> c n\\<close> \\<open>c n < c (m + 1)\\<close> \\<open>n < m\\<close>"], ["proof (prove)\nusing this:\n  n \\<le> m \\<Longrightarrow>\n  B * int (nth_prime m) = c m * a m - c (m + 1) \\<and>\n  0 < c m \\<and>\n  \\<bar>real_of_int (c (m + 1))\\<bar> < real_of_int (a m) / 2 \\<and>\n  B < int (nth_prime m) \\<and>\n  (c m < c (m + 1) \\<longrightarrow>\n   real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n   < real (nth_prime (m + 1)))\n  c m \\<le> c n\n  c n < c (m + 1)\n  n < m\n\ngoal (1 subgoal):\n 1. B * int (nth_prime m) < c m * (a m - 1)", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  B * int (nth_prime m) < c m * (a m - 1)\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "also"], ["proof (state)\nthis:\n  B * int (nth_prime m) < c m * (a m - 1)\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "have \"... \\<le> c n * (a m - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c m * (a m - 1) \\<le> c n * (a m - 1)", "by (simp add: \\<open>c m \\<le> c n\\<close> a_pos mult_right_mono)"], ["proof (state)\nthis:\n  c m * (a m - 1) \\<le> c n * (a m - 1)\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "finally"], ["proof (chain)\npicking this:\n  B * int (nth_prime m) < c n * (a m - 1)", "have \"B * int (nth_prime m) < c n * (a m - 1)\""], ["proof (prove)\nusing this:\n  B * int (nth_prime m) < c n * (a m - 1)\n\ngoal (1 subgoal):\n 1. B * int (nth_prime m) < c n * (a m - 1)", "."], ["proof (state)\nthis:\n  B * int (nth_prime m) < c n * (a m - 1)\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "moreover"], ["proof (state)\nthis:\n  B * int (nth_prime m) < c n * (a m - 1)\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "have \"c n\\<le>B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c n \\<le> B", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. c n \\<le> B", "have \" B * int (nth_prime n) = c n * (a n - 1)\" \"B < int (nth_prime n)\"\n              and c_a:\"\\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (B * int (nth_prime n) = c n * (a n - 1) &&& B < int (nth_prime n)) &&&\n    \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2", "using Bc_eq[rule_format,of n] \\<open>c (n + 1) = c n\\<close>"], ["proof (prove)\nusing this:\n  n \\<le> n \\<Longrightarrow>\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  0 < c n \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2 \\<and>\n  B < int (nth_prime n) \\<and>\n  (c n < c (n + 1) \\<longrightarrow>\n   real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n   < real (nth_prime (n + 1)))\n  c (n + 1) = c n\n\ngoal (1 subgoal):\n 1. (B * int (nth_prime n) = c n * (a n - 1) &&& B < int (nth_prime n)) &&&\n    \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  B * int (nth_prime n) = c n * (a n - 1)\n  B < int (nth_prime n)\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "from this(1)"], ["proof (chain)\npicking this:\n  B * int (nth_prime n) = c n * (a n - 1)", "have \" c n dvd (B * int (nth_prime n))\""], ["proof (prove)\nusing this:\n  B * int (nth_prime n) = c n * (a n - 1)\n\ngoal (1 subgoal):\n 1. c n dvd B * int (nth_prime n)", "by simp"], ["proof (state)\nthis:\n  c n dvd B * int (nth_prime n)\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "moreover"], ["proof (state)\nthis:\n  c n dvd B * int (nth_prime n)\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "have \"coprime (c n) (int (nth_prime n))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "have \"c n < int (nth_prime n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c n < int (nth_prime n)", "proof (rule ccontr)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "assume \"\\<not> c n < int (nth_prime n)\""], ["proof (state)\nthis:\n  \\<not> c n < int (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  \\<not> c n < int (nth_prime n)", "have asm:\"c n \\<ge> int (nth_prime n)\""], ["proof (prove)\nusing this:\n  \\<not> c n < int (nth_prime n)\n\ngoal (1 subgoal):\n 1. int (nth_prime n) \\<le> c n", "by auto"], ["proof (state)\nthis:\n  int (nth_prime n) \\<le> c n\n\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  int (nth_prime n) \\<le> c n", "have \"a n > 2 * nth_prime n\""], ["proof (prove)\nusing this:\n  int (nth_prime n) \\<le> c n\n\ngoal (1 subgoal):\n 1. int (2 * nth_prime n) < a n", "using c_a \\<open>c (n + 1) = c n\\<close>"], ["proof (prove)\nusing this:\n  int (nth_prime n) \\<le> c n\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  c (n + 1) = c n\n\ngoal (1 subgoal):\n 1. int (2 * nth_prime n) < a n", "by auto"], ["proof (state)\nthis:\n  int (2 * nth_prime n) < a n\n\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  int (2 * nth_prime n) < a n", "have \"a n -1 \\<ge> 2 * nth_prime n\""], ["proof (prove)\nusing this:\n  int (2 * nth_prime n) < a n\n\ngoal (1 subgoal):\n 1. int (2 * nth_prime n) \\<le> a n - 1", "by simp"], ["proof (state)\nthis:\n  int (2 * nth_prime n) \\<le> a n - 1\n\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  int (2 * nth_prime n) \\<le> a n - 1", "have \"a n - 1 > 2 * B\""], ["proof (prove)\nusing this:\n  int (2 * nth_prime n) \\<le> a n - 1\n\ngoal (1 subgoal):\n 1. 2 * B < a n - 1", "using \\<open>B < int (nth_prime n)\\<close>"], ["proof (prove)\nusing this:\n  int (2 * nth_prime n) \\<le> a n - 1\n  B < int (nth_prime n)\n\ngoal (1 subgoal):\n 1. 2 * B < a n - 1", "by auto"], ["proof (state)\nthis:\n  2 * B < a n - 1\n\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "from mult_le_less_imp_less[OF asm this] \\<open>B>0\\<close>"], ["proof (chain)\npicking this:\n  \\<lbrakk>0 < int (nth_prime n); 0 \\<le> 2 * B\\<rbrakk>\n  \\<Longrightarrow> int (nth_prime n) * (2 * B) < c n * (a n - 1)\n  0 < B", "have \"int (nth_prime n) * (2 * B) < c n * (a n - 1)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>0 < int (nth_prime n); 0 \\<le> 2 * B\\<rbrakk>\n  \\<Longrightarrow> int (nth_prime n) * (2 * B) < c n * (a n - 1)\n  0 < B\n\ngoal (1 subgoal):\n 1. int (nth_prime n) * (2 * B) < c n * (a n - 1)", "by auto"], ["proof (state)\nthis:\n  int (nth_prime n) * (2 * B) < c n * (a n - 1)\n\ngoal (1 subgoal):\n 1. \\<not> c n < int (nth_prime n) \\<Longrightarrow> False", "then"], ["proof (chain)\npicking this:\n  int (nth_prime n) * (2 * B) < c n * (a n - 1)", "show False"], ["proof (prove)\nusing this:\n  int (nth_prime n) * (2 * B) < c n * (a n - 1)\n\ngoal (1 subgoal):\n 1. False", "using \\<open>B * int (nth_prime n) = c n * (a n - 1)\\<close>"], ["proof (prove)\nusing this:\n  int (nth_prime n) * (2 * B) < c n * (a n - 1)\n  B * int (nth_prime n) = c n * (a n - 1)\n\ngoal (1 subgoal):\n 1. False", "by (smt \\<open>0 < B\\<close> \\<open>B < int (nth_prime n)\\<close> combine_common_factor \n                      mult.commute mult_pos_pos)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c n < int (nth_prime n)\n\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "then"], ["proof (chain)\npicking this:\n  c n < int (nth_prime n)", "have \"\\<not> nth_prime n dvd c n\""], ["proof (prove)\nusing this:\n  c n < int (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<not> int (nth_prime n) dvd c n", "by (simp add: Bc_eq zdvd_not_zless)"], ["proof (state)\nthis:\n  \\<not> int (nth_prime n) dvd c n\n\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "then"], ["proof (chain)\npicking this:\n  \\<not> int (nth_prime n) dvd c n", "have \"coprime (int (nth_prime n)) (c n)\""], ["proof (prove)\nusing this:\n  \\<not> int (nth_prime n) dvd c n\n\ngoal (1 subgoal):\n 1. coprime (int (nth_prime n)) (c n)", "by (auto intro!:prime_imp_coprime_int)"], ["proof (state)\nthis:\n  coprime (int (nth_prime n)) (c n)\n\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "then"], ["proof (chain)\npicking this:\n  coprime (int (nth_prime n)) (c n)", "show ?thesis"], ["proof (prove)\nusing this:\n  coprime (int (nth_prime n)) (c n)\n\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "using coprime_commute"], ["proof (prove)\nusing this:\n  coprime (int (nth_prime n)) (c n)\n  coprime ?b ?a = coprime ?a ?b\n\ngoal (1 subgoal):\n 1. coprime (c n) (int (nth_prime n))", "by blast"], ["proof (state)\nthis:\n  coprime (c n) (int (nth_prime n))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  coprime (c n) (int (nth_prime n))\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "ultimately"], ["proof (chain)\npicking this:\n  c n dvd B * int (nth_prime n)\n  coprime (c n) (int (nth_prime n))", "have \"c n dvd B\""], ["proof (prove)\nusing this:\n  c n dvd B * int (nth_prime n)\n  coprime (c n) (int (nth_prime n))\n\ngoal (1 subgoal):\n 1. c n dvd B", "using coprime_dvd_mult_left_iff"], ["proof (prove)\nusing this:\n  c n dvd B * int (nth_prime n)\n  coprime (c n) (int (nth_prime n))\n  coprime ?a ?c \\<Longrightarrow> (?a dvd ?b * ?c) = (?a dvd ?b)\n\ngoal (1 subgoal):\n 1. c n dvd B", "by auto"], ["proof (state)\nthis:\n  c n dvd B\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "then"], ["proof (chain)\npicking this:\n  c n dvd B", "show ?thesis"], ["proof (prove)\nusing this:\n  c n dvd B\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "using \\<open>0 < B\\<close> zdvd_imp_le"], ["proof (prove)\nusing this:\n  c n dvd B\n  0 < B\n  \\<lbrakk>?z dvd ?n; 0 < ?n\\<rbrakk> \\<Longrightarrow> ?z \\<le> ?n\n\ngoal (1 subgoal):\n 1. c n \\<le> B", "by blast"], ["proof (state)\nthis:\n  c n \\<le> B\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  c n \\<le> B\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "moreover"], ["proof (state)\nthis:\n  c n \\<le> B\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "have \"c n > 0 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < c n", "using Bc_eq"], ["proof (prove)\nusing this:\n  \\<forall>y\\<ge>n.\n     B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n     0 < c y \\<and>\n     \\<bar>real_of_int (c (y + 1))\\<bar> < real_of_int (a y) / 2 \\<and>\n     B < int (nth_prime y) \\<and>\n     (c y < c (y + 1) \\<longrightarrow>\n      real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n      < real (nth_prime (y + 1)))\n\ngoal (1 subgoal):\n 1. 0 < c n", "by blast"], ["proof (state)\nthis:\n  0 < c n\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "ultimately"], ["proof (chain)\npicking this:\n  B * int (nth_prime m) < c n * (a m - 1)\n  c n \\<le> B\n  0 < c n", "show ?thesis"], ["proof (prove)\nusing this:\n  B * int (nth_prime m) < c n * (a m - 1)\n  c n \\<le> B\n  0 < c n\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  B * int (nth_prime m) < c n * (a m - 1)\n  c n \\<le> B\n  0 < c n\n  0 < B\n\ngoal (1 subgoal):\n 1. int (nth_prime m) < a m", "by (smt a_pos mult_mono)"], ["proof (state)\nthis:\n  int (nth_prime m) < a m\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  int (nth_prime m) < a m\n\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n    < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)", "then"], ["proof (chain)\npicking this:\n  int (nth_prime m) < a m", "show ?thesis"], ["proof (prove)\nusing this:\n  int (nth_prime m) < a m\n\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n    < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  int (nth_prime m) < a m\n  0 < B\n\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n    < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n  < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n  < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "also"], ["proof (state)\nthis:\n  (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n  < real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "have \"... < nth_prime (m+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n    < real (nth_prime (m + 1))", "using Bc_eq[rule_format, of m] \\<open>n<m\\<close> \\<open>c m \\<le> c n\\<close> \\<open>c n < c (m+1)\\<close>"], ["proof (prove)\nusing this:\n  n \\<le> m \\<Longrightarrow>\n  B * int (nth_prime m) = c m * a m - c (m + 1) \\<and>\n  0 < c m \\<and>\n  \\<bar>real_of_int (c (m + 1))\\<bar> < real_of_int (a m) / 2 \\<and>\n  B < int (nth_prime m) \\<and>\n  (c m < c (m + 1) \\<longrightarrow>\n   real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n   < real (nth_prime (m + 1)))\n  n < m\n  c m \\<le> c n\n  c n < c (m + 1)\n\ngoal (1 subgoal):\n 1. real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n    < real (nth_prime (m + 1))", "by linarith"], ["proof (state)\nthis:\n  real (nth_prime m) + real_of_int (a m) / real_of_int (2 * B)\n  < real (nth_prime (m + 1))\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       c (i + 1) = c i \\<and>\n       (\\<forall>y\\<ge>i.\n           (B * int (nth_prime y) = c y * a y - c (y + 1) \\<and>\n            \\<bar>real_of_int (c (y + 1))\\<bar>\n            < real_of_int (a y) / 2) \\<and>\n           0 < c y \\<and>\n           B < int (nth_prime y) \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))) \\<Longrightarrow>\n       \\<exists>j>i.\n          (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n          < real (nth_prime (j + 1))", "finally"], ["proof (chain)\npicking this:\n  (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n  < real (nth_prime (m + 1))", "show \"\\<exists>j>n. (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n                       < real (nth_prime (j + 1))\""], ["proof (prove)\nusing this:\n  (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n  < real (nth_prime (m + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>j>n.\n       (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n       < real (nth_prime (j + 1))", "using \\<open>m>n\\<close>"], ["proof (prove)\nusing this:\n  (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n  < real (nth_prime (m + 1))\n  n < m\n\ngoal (1 subgoal):\n 1. \\<exists>j>n.\n       (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n       < real (nth_prime (j + 1))", "by auto"], ["proof (state)\nthis:\n  \\<exists>j>n.\n     (1 + 1 / real_of_int (2 * B)) * real (nth_prime j)\n     < real (nth_prime (j + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F m in sequentially.\n     (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n     < real (nth_prime (m + 1))\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "then"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F m in sequentially.\n     (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n     < real (nth_prime (m + 1))", "have \"\\<exists>\\<^sub>F m in sequentially. nth_prime (m+1)/nth_prime m > (1+1/(2*B))\""], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F m in sequentially.\n     (1 + 1 / real_of_int (2 * B)) * real (nth_prime m)\n     < real (nth_prime (m + 1))\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F m in sequentially.\n       1 + 1 / real_of_int (2 * B)\n       < real (nth_prime (m + 1)) / real (nth_prime m)", "by (auto elim:frequently_elim1 simp:field_simps)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F m in sequentially.\n     1 + 1 / real_of_int (2 * B)\n     < real (nth_prime (m + 1)) / real (nth_prime m)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "moreover"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F m in sequentially.\n     1 + 1 / real_of_int (2 * B)\n     < real (nth_prime (m + 1)) / real (nth_prime m)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "have \"\\<forall>\\<^sub>F m in sequentially. nth_prime (m+1)/nth_prime m < (1+1/(2*B))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F m in sequentially.\n       real (nth_prime (m + 1)) / real (nth_prime m)\n       < 1 + 1 / real_of_int (2 * B)", "using ratio_of_consecutive_primes[unfolded tendsto_iff,rule_format,of \"1/(2*B)\"]\n        \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (2 * B) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (real (nth_prime (x + 1)) / real (nth_prime x)) 1\n     < 1 / real_of_int (2 * B)\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F m in sequentially.\n       real (nth_prime (m + 1)) / real (nth_prime m)\n       < 1 + 1 / real_of_int (2 * B)", "unfolding dist_real_def"], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (2 * B) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<bar>real (nth_prime (x + 1)) / real (nth_prime x) - 1\\<bar>\n     < 1 / real_of_int (2 * B)\n  0 < B\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F m in sequentially.\n       real (nth_prime (m + 1)) / real (nth_prime m)\n       < 1 + 1 / real_of_int (2 * B)", "by (auto elim!:eventually_mono simp:algebra_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F m in sequentially.\n     real (nth_prime (m + 1)) / real (nth_prime m)\n     < 1 + 1 / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. \\<not> (\\<forall>\\<^sub>F n in sequentially.\n               c (n + 1) \\<noteq> c n) \\<Longrightarrow>\n    False", "ultimately"], ["proof (chain)\npicking this:\n  \\<exists>\\<^sub>F m in sequentially.\n     1 + 1 / real_of_int (2 * B)\n     < real (nth_prime (m + 1)) / real (nth_prime m)\n  \\<forall>\\<^sub>F m in sequentially.\n     real (nth_prime (m + 1)) / real (nth_prime m)\n     < 1 + 1 / real_of_int (2 * B)", "show False"], ["proof (prove)\nusing this:\n  \\<exists>\\<^sub>F m in sequentially.\n     1 + 1 / real_of_int (2 * B)\n     < real (nth_prime (m + 1)) / real (nth_prime m)\n  \\<forall>\\<^sub>F m in sequentially.\n     real (nth_prime (m + 1)) / real (nth_prime m)\n     < 1 + 1 / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. False", "by (simp add: eventually_mono frequently_def)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have c_gt_half:\"\\<forall>\\<^sub>F N in sequentially. card {n\\<in>{N..<2*N}.  c n > c (n+1)} > N / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "define h where \"h=(\\<lambda>n. (nth_prime (2*n) - nth_prime n) \n                              /  sqrt (nth_prime n))\""], ["proof (state)\nthis:\n  h =\n  (\\<lambda>n.\n      real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "have \"\\<forall>\\<^sub>F n in sequentially. h n < n / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n / 2", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n / 2", "have \"\\<forall>\\<^sub>F n in sequentially. h n < n powr (5/6)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n powr (5 / 6)", "using nth_prime_double_sqrt_less[of \"1/3\"]"], ["proof (prove)\nusing this:\n  0 < 1 / 3 \\<Longrightarrow>\n  \\<forall>\\<^sub>F n in sequentially.\n     real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n     < real n powr (1 / 2 + 1 / 3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n powr (5 / 6)", "unfolding h_def"], ["proof (prove)\nusing this:\n  0 < 1 / 3 \\<Longrightarrow>\n  \\<forall>\\<^sub>F n in sequentially.\n     real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n     < real n powr (1 / 2 + 1 / 3)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime (2 * n) - nth_prime n) / sqrt (real (nth_prime n))\n       < real n powr (5 / 6)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n powr (5 / 6)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n / 2", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n powr (5 / 6)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n / 2", "have \"\\<forall>\\<^sub>F n in sequentially. n powr (5/6) < (n /2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. real n powr (5 / 6) < real n / 2", "by real_asymp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. real n powr (5 / 6) < real n / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n / 2", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n powr (5 / 6)\n  \\<forall>\\<^sub>F n in sequentially. real n powr (5 / 6) < real n / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n powr (5 / 6)\n  \\<forall>\\<^sub>F n in sequentially. real n powr (5 / 6) < real n / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. h n < real n / 2", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n / 2\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "have \"\\<forall>\\<^sub>F n in sequentially. sqrt (nth_prime n) / a n < 1 / (2*B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real (nth_prime n)) / real_of_int (a n)\n       < 1 / real_of_int (2 * B)", "using nth_1[THEN tendsto_real_sqrt,unfolded tendsto_iff\n          ,rule_format,of \"1/(2*B)\"] \\<open>B>0\\<close> a_pos"], ["proof (prove)\nusing this:\n  0 < 1 / real_of_int (2 * B) \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     dist (sqrt (real (nth_prime x) / real_of_int ((a x)\\<^sup>2))) (sqrt 0)\n     < 1 / real_of_int (2 * B)\n  0 < B\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real (nth_prime n)) / real_of_int (a n)\n       < 1 / real_of_int (2 * B)", "by (auto simp:real_sqrt_divide abs_of_pos)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real (nth_prime n)) / real_of_int (a n) < 1 / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real (nth_prime n)) / real_of_int (a n) < 1 / real_of_int (2 * B)", "have \"\\<forall>\\<^sub>F x in sequentially. c (x+1) \\<noteq> c x\n        \\<and> sqrt (nth_prime x) / a x < 1 / (2*B)\n        \\<and>  h x < x / 2\n        \\<and> (c (x+1)>c x \\<longrightarrow> nth_prime (x+1) > nth_prime x +  a x / (2* B))\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real (nth_prime n)) / real_of_int (a n) < 1 / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       c (x + 1) \\<noteq> c x \\<and>\n       sqrt (real (nth_prime x)) / real_of_int (a x)\n       < 1 / real_of_int (2 * B) \\<and>\n       h x < real x / 2 \\<and>\n       (c x < c (x + 1) \\<longrightarrow>\n        real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n        < real (nth_prime (x + 1)))", "using c_neq_large B_nth_prime eq_2_11[of \"1-1/ sqrt 2\",simplified]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. h n < real n / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real (nth_prime n)) / real_of_int (a n) < 1 / real_of_int (2 * B)\n  \\<forall>\\<^sub>F n in sequentially. c (n + 1) \\<noteq> c n\n  \\<forall>\\<^sub>F n in sequentially. B < int (nth_prime n)\n  \\<forall>\\<^sub>F n in sequentially.\n     c n < c (Suc n) \\<longrightarrow>\n     real (nth_prime n) +\n     (1 / sqrt 2)\\<^sup>2 * real_of_int (a n) / real_of_int B\n     < real (nth_prime (Suc n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       c (x + 1) \\<noteq> c x \\<and>\n       sqrt (real (nth_prime x)) / real_of_int (a x)\n       < 1 / real_of_int (2 * B) \\<and>\n       h x < real x / 2 \\<and>\n       (c x < c (x + 1) \\<longrightarrow>\n        real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n        < real (nth_prime (x + 1)))", "by eventually_elim (auto simp:divide_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     c (x + 1) \\<noteq> c x \\<and>\n     sqrt (real (nth_prime x)) / real_of_int (a x)\n     < 1 / real_of_int (2 * B) \\<and>\n     h x < real x / 2 \\<and>\n     (c x < c (x + 1) \\<longrightarrow>\n      real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n      < real (nth_prime (x + 1)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     c (x + 1) \\<noteq> c x \\<and>\n     sqrt (real (nth_prime x)) / real_of_int (a x)\n     < 1 / real_of_int (2 * B) \\<and>\n     h x < real x / 2 \\<and>\n     (c x < c (x + 1) \\<longrightarrow>\n      real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n      < real (nth_prime (x + 1)))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     c (x + 1) \\<noteq> c x \\<and>\n     sqrt (real (nth_prime x)) / real_of_int (a x)\n     < 1 / real_of_int (2 * B) \\<and>\n     h x < real x / 2 \\<and>\n     (c x < c (x + 1) \\<longrightarrow>\n      real (nth_prime x) + real_of_int (a x) / real_of_int (2 * B)\n      < real (nth_prime (x + 1)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "proof (elim eventually_at_top_mono)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "fix N"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "assume \"N\\<ge>1\" and N_asm:\"\\<forall>y\\<ge>N. c (y + 1) \\<noteq> c y \\<and>\n               sqrt (real (nth_prime y)) / real_of_int (a y)\n               < 1 / real_of_int (2 * B) \\<and>  h y < y / 2 \\<and>\n               (c y < c (y + 1) \\<longrightarrow>\n                real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n                < real (nth_prime (y + 1)))\""], ["proof (state)\nthis:\n  1 \\<le> N\n  \\<forall>y\\<ge>N.\n     c (y + 1) \\<noteq> c y \\<and>\n     sqrt (real (nth_prime y)) / real_of_int (a y)\n     < 1 / real_of_int (2 * B) \\<and>\n     h y < real y / 2 \\<and>\n     (c y < c (y + 1) \\<longrightarrow>\n      real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n      < real (nth_prime (y + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "define S where \"S={n \\<in> {N..<2 * N}. c n < c (n + 1)}\""], ["proof (state)\nthis:\n  S = {n \\<in> {N..<2 * N}. c n < c (n + 1)}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "define g where \"g=(\\<lambda>n. (nth_prime (n+1) - nth_prime n) \n                              /  sqrt (nth_prime n))\""], ["proof (state)\nthis:\n  g =\n  (\\<lambda>n.\n      real (nth_prime (n + 1) - nth_prime n) / sqrt (real (nth_prime n)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "define f where \"f=(\\<lambda>n. nth_prime (n+1) - nth_prime n)\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. nth_prime (n + 1) - nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have g_gt_1:\"g n>1\" when \"n\\<ge>N\" \"c n < c (n + 1)\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < g n", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < g n", "have \"nth_prime n + sqrt (nth_prime n) < nth_prime (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime (n + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime (n + 1))", "have \"nth_prime n + sqrt (nth_prime n) < nth_prime n + a n / (2*B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)", "using N_asm[rule_format,OF \\<open>n\\<ge>N\\<close>] a_pos"], ["proof (prove)\nusing this:\n  c (n + 1) \\<noteq> c n \\<and>\n  sqrt (real (nth_prime n)) / real_of_int (a n)\n  < 1 / real_of_int (2 * B) \\<and>\n  h n < real n / 2 \\<and>\n  (c n < c (n + 1) \\<longrightarrow>\n   real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n   < real (nth_prime (n + 1)))\n  \\<forall>n. 0 < a n\n\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real (nth_prime n) + sqrt (real (nth_prime n))\n  < real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime (n + 1))", "also"], ["proof (state)\nthis:\n  real (nth_prime n) + sqrt (real (nth_prime n))\n  < real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime (n + 1))", "have \"... < nth_prime (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n    < real (nth_prime (n + 1))", "using N_asm[rule_format,OF \\<open>n\\<ge>N\\<close>] \\<open>c n < c (n + 1)\\<close>"], ["proof (prove)\nusing this:\n  c (n + 1) \\<noteq> c n \\<and>\n  sqrt (real (nth_prime n)) / real_of_int (a n)\n  < 1 / real_of_int (2 * B) \\<and>\n  h n < real n / 2 \\<and>\n  (c n < c (n + 1) \\<longrightarrow>\n   real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n   < real (nth_prime (n + 1)))\n  c n < c (n + 1)\n\ngoal (1 subgoal):\n 1. real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n    < real (nth_prime (n + 1))", "by auto"], ["proof (state)\nthis:\n  real (nth_prime n) + real_of_int (a n) / real_of_int (2 * B)\n  < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime (n + 1))", "finally"], ["proof (chain)\npicking this:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))", "show ?thesis"], ["proof (prove)\nusing this:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. real (nth_prime n) + sqrt (real (nth_prime n))\n    < real (nth_prime (n + 1))", "."], ["proof (state)\nthis:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. 1 < g n", "then"], ["proof (chain)\npicking this:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))", "show ?thesis"], ["proof (prove)\nusing this:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. 1 < g n", "unfolding g_def"], ["proof (prove)\nusing this:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. 1 < real (nth_prime (n + 1) - nth_prime n) / sqrt (real (nth_prime n))", "using \\<open>c n < c (n + 1)\\<close>"], ["proof (prove)\nusing this:\n  real (nth_prime n) + sqrt (real (nth_prime n)) < real (nth_prime (n + 1))\n  c n < c (n + 1)\n\ngoal (1 subgoal):\n 1. 1 < real (nth_prime (n + 1) - nth_prime n) / sqrt (real (nth_prime n))", "by auto"], ["proof (state)\nthis:\n  1 < g n\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<lbrakk>N \\<le> ?n; c ?n < c (?n + 1)\\<rbrakk> \\<Longrightarrow> 1 < g ?n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have g_geq_0:\"g n \\<ge> 0\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> g n", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> real (nth_prime (n + 1) - nth_prime n) /\n            sqrt (real (nth_prime n))", "by auto"], ["proof (state)\nthis:\n  0 \\<le> g ?n\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"finite S\" \"\\<forall>x\\<in>S. x\\<ge>N \\<and> c x<c (x+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. finite S &&& \\<forall>x\\<in>S. N \\<le> x \\<and> c x < c (x + 1)", "unfolding S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. finite {n \\<in> {N..<2 * N}. c n < c (n + 1)} &&&\n    \\<forall>x\\<in>{n \\<in> {N..<2 * N}. c n < c (n + 1)}.\n       N \\<le> x \\<and> c x < c (x + 1)", "by auto"], ["proof (state)\nthis:\n  finite S\n  \\<forall>x\\<in>S. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "then"], ["proof (chain)\npicking this:\n  finite S\n  \\<forall>x\\<in>S. N \\<le> x \\<and> c x < c (x + 1)", "have \"card S \\<le> sum g S\""], ["proof (prove)\nusing this:\n  finite S\n  \\<forall>x\\<in>S. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (1 subgoal):\n 1. real (card S) \\<le> sum g S", "proof (induct S)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>x\\<in>{}. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n    real (card {}) \\<le> sum g {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "case empty"], ["proof (state)\nthis:\n  \\<forall>x\\<in>{}. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (2 subgoals):\n 1. \\<forall>x\\<in>{}. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n    real (card {}) \\<le> sum g {}\n 2. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "then"], ["proof (chain)\npicking this:\n  \\<forall>x\\<in>{}. N \\<le> x \\<and> c x < c (x + 1)", "show ?case"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>{}. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (1 subgoal):\n 1. real (card {}) \\<le> sum g {}", "by auto"], ["proof (state)\nthis:\n  real (card {}) \\<le> sum g {}\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "case (insert x F)"], ["proof (state)\nthis:\n  finite F\n  x \\<notin> F\n  \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n  real (card F) \\<le> sum g F\n  \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "moreover"], ["proof (state)\nthis:\n  finite F\n  x \\<notin> F\n  \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n  real (card F) \\<le> sum g F\n  \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "have \"g x>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 1 < g x", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. 1 < g x", "have \"c x < c (x+1)\" \"x\\<ge>N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. c x < c (x + 1) &&& N \\<le> x", "using insert(4)"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\n\ngoal (1 subgoal):\n 1. c x < c (x + 1) &&& N \\<le> x", "by auto"], ["proof (state)\nthis:\n  c x < c (x + 1)\n  N \\<le> x\n\ngoal (1 subgoal):\n 1. 1 < g x", "then"], ["proof (chain)\npicking this:\n  c x < c (x + 1)\n  N \\<le> x", "show ?thesis"], ["proof (prove)\nusing this:\n  c x < c (x + 1)\n  N \\<le> x\n\ngoal (1 subgoal):\n 1. 1 < g x", "using g_gt_1"], ["proof (prove)\nusing this:\n  c x < c (x + 1)\n  N \\<le> x\n  \\<lbrakk>N \\<le> ?n; c ?n < c (?n + 1)\\<rbrakk> \\<Longrightarrow> 1 < g ?n\n\ngoal (1 subgoal):\n 1. 1 < g x", "by auto"], ["proof (state)\nthis:\n  1 < g x\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  1 < g x\n\ngoal (1 subgoal):\n 1. \\<And>x F.\n       \\<lbrakk>finite F; x \\<notin> F;\n        \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n        real (card F) \\<le> sum g F;\n        \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\\<rbrakk>\n       \\<Longrightarrow> real (card (insert x F)) \\<le> sum g (insert x F)", "ultimately"], ["proof (chain)\npicking this:\n  finite F\n  x \\<notin> F\n  \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n  real (card F) \\<le> sum g F\n  \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\n  1 < g x", "show ?case"], ["proof (prove)\nusing this:\n  finite F\n  x \\<notin> F\n  \\<forall>x\\<in>F. N \\<le> x \\<and> c x < c (x + 1) \\<Longrightarrow>\n  real (card F) \\<le> sum g F\n  \\<forall>x\\<in>insert x F. N \\<le> x \\<and> c x < c (x + 1)\n  1 < g x\n\ngoal (1 subgoal):\n 1. real (card (insert x F)) \\<le> sum g (insert x F)", "by simp"], ["proof (state)\nthis:\n  real (card (insert x F)) \\<le> sum g (insert x F)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (card S) \\<le> sum g S\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  real (card S) \\<le> sum g S\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... \\<le> sum g {N..<2*N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum g S \\<le> sum g {N..<2 * N}", "apply (rule sum_mono2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. S \\<subseteq> {N..<2 * N}\n 3. \\<And>b. b \\<in> {N..<2 * N} - S \\<Longrightarrow> 0 \\<le> g b", "unfolding S_def"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. {n \\<in> {N..<2 * N}. c n < c (n + 1)} \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} -\n               {n \\<in> {N..<2 * N}. c n < c (n + 1)} \\<Longrightarrow>\n       0 \\<le> g b", "using g_geq_0"], ["proof (prove)\nusing this:\n  0 \\<le> g ?n\n\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. {n \\<in> {N..<2 * N}. c n < c (n + 1)} \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} -\n               {n \\<in> {N..<2 * N}. c n < c (n + 1)} \\<Longrightarrow>\n       0 \\<le> g b", "by auto"], ["proof (state)\nthis:\n  sum g S \\<le> sum g {N..<2 * N}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  sum g S \\<le> sum g {N..<2 * N}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... \\<le> sum (\\<lambda>n. f n/sqrt (nth_prime N)) {N..<2*N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum g {N..<2 * N}\n    \\<le> (\\<Sum>n = N..<2 * N. real (f n) / sqrt (real (nth_prime N)))", "unfolding f_def g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = N..<2 * N.\n        real (nth_prime (n + 1) - nth_prime n) / sqrt (real (nth_prime n)))\n    \\<le> (\\<Sum>n = N..<2 * N.\n              real (nth_prime (n + 1) - nth_prime n) /\n              sqrt (real (nth_prime N)))", "by (auto intro!:sum_mono divide_left_mono)"], ["proof (state)\nthis:\n  sum g {N..<2 * N}\n  \\<le> (\\<Sum>n = N..<2 * N. real (f n) / sqrt (real (nth_prime N)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  sum g {N..<2 * N}\n  \\<le> (\\<Sum>n = N..<2 * N. real (f n) / sqrt (real (nth_prime N)))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... = sum f {N..<2*N} / sqrt (nth_prime N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = N..<2 * N. real (f n) / sqrt (real (nth_prime N))) =\n    real (sum f {N..<2 * N}) / sqrt (real (nth_prime N))", "unfolding sum_divide_distrib[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n = N..<2 * N. real (f n)) / sqrt (real (nth_prime N)) =\n    real (sum f {N..<2 * N}) / sqrt (real (nth_prime N))", "by auto"], ["proof (state)\nthis:\n  (\\<Sum>n = N..<2 * N. real (f n) / sqrt (real (nth_prime N))) =\n  real (sum f {N..<2 * N}) / sqrt (real (nth_prime N))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  (\\<Sum>n = N..<2 * N. real (f n) / sqrt (real (nth_prime N))) =\n  real (sum f {N..<2 * N}) / sqrt (real (nth_prime N))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... = (nth_prime (2*N) - nth_prime N) / sqrt (nth_prime N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n    real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n    real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))", "have \"sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N", "proof (induct N)"], ["proof (state)\ngoal (2 subgoals):\n 1. sum f {0..<2 * 0} = nth_prime (2 * 0) - nth_prime 0\n 2. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "case 0"], ["proof (state)\nthis:\n  \n\ngoal (2 subgoals):\n 1. sum f {0..<2 * 0} = nth_prime (2 * 0) - nth_prime 0\n 2. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "then"], ["proof (chain)\npicking this:", "show ?case"], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {0..<2 * 0} = nth_prime (2 * 0) - nth_prime 0", "by simp"], ["proof (state)\nthis:\n  sum f {0..<2 * 0} = nth_prime (2 * 0) - nth_prime 0\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "case (Suc N)"], ["proof (state)\nthis:\n  sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have ?case if \"N=0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have \"sum f {Suc N..<2 * Suc N} = sum f {1}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = sum f {1}", "using that"], ["proof (prove)\nusing this:\n  N = 0\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = sum f {1}", "by (simp add: numeral_2_eq_2)"], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = sum f {1}\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "also"], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = sum f {1}\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have \"... = nth_prime 2 - nth_prime 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {1} = nth_prime 2 - nth_prime 1", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>n\\<in>{1}. nth_prime (n + 1) - nth_prime n) =\n    nth_prime 2 - nth_prime 1", "by (simp add:numeral_2_eq_2)"], ["proof (state)\nthis:\n  sum f {1} = nth_prime 2 - nth_prime 1\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "also"], ["proof (state)\nthis:\n  sum f {1} = nth_prime 2 - nth_prime 1\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have \"... = nth_prime (2 * Suc N) - nth_prime (Suc N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. nth_prime 2 - nth_prime 1 = nth_prime (2 * Suc N) - nth_prime (Suc N)", "using that"], ["proof (prove)\nusing this:\n  N = 0\n\ngoal (1 subgoal):\n 1. nth_prime 2 - nth_prime 1 = nth_prime (2 * Suc N) - nth_prime (Suc N)", "by auto"], ["proof (state)\nthis:\n  nth_prime 2 - nth_prime 1 = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "finally"], ["proof (chain)\npicking this:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "show ?thesis"], ["proof (prove)\nusing this:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "."], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N = 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "moreover"], ["proof (state)\nthis:\n  N = 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have ?case if \"N\\<noteq>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have \"sum f {Suc N..<2 * Suc N} = sum f {N..<2 * Suc N} - f N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = sum f {N..<2 * Suc N} - f N", "apply (subst (2) sum.atLeast_Suc_lessThan)"], ["proof (prove)\ngoal (2 subgoals):\n 1. N < 2 * Suc N\n 2. sum f {Suc N..<2 * Suc N} = f N + sum f {Suc N..<2 * Suc N} - f N", "using that"], ["proof (prove)\nusing this:\n  N \\<noteq> 0\n\ngoal (2 subgoals):\n 1. N < 2 * Suc N\n 2. sum f {Suc N..<2 * Suc N} = f N + sum f {Suc N..<2 * Suc N} - f N", "by auto"], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = sum f {N..<2 * Suc N} - f N\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "also"], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = sum f {N..<2 * Suc N} - f N\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have \"... = sum f {N..<2 * N}+ f (2*N) + f(2*N+1) - f N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {N..<2 * Suc N} - f N =\n    sum f {N..<2 * N} + f (2 * N) + f (2 * N + 1) - f N", "by auto"], ["proof (state)\nthis:\n  sum f {N..<2 * Suc N} - f N =\n  sum f {N..<2 * N} + f (2 * N) + f (2 * N + 1) - f N\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "also"], ["proof (state)\nthis:\n  sum f {N..<2 * Suc N} - f N =\n  sum f {N..<2 * N} + f (2 * N) + f (2 * N + 1) - f N\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "have \"... = nth_prime (2 * Suc N) - nth_prime (Suc N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sum f {N..<2 * N} + f (2 * N) + f (2 * N + 1) - f N =\n    nth_prime (2 * Suc N) - nth_prime (Suc N)", "using Suc"], ["proof (prove)\nusing this:\n  sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N\n\ngoal (1 subgoal):\n 1. sum f {N..<2 * N} + f (2 * N) + f (2 * N + 1) - f N =\n    nth_prime (2 * Suc N) - nth_prime (Suc N)", "unfolding f_def"], ["proof (prove)\nusing this:\n  (\\<Sum>a = N..<2 * N. nth_prime (a + 1) - nth_prime a) =\n  nth_prime (2 * N) - nth_prime N\n\ngoal (1 subgoal):\n 1. (\\<Sum>n = N..<2 * N. nth_prime (n + 1) - nth_prime n) +\n    (nth_prime (2 * N + 1) - nth_prime (2 * N)) +\n    (nth_prime (2 * N + 1 + 1) - nth_prime (2 * N + 1)) -\n    (nth_prime (N + 1) - nth_prime N) =\n    nth_prime (2 * Suc N) - nth_prime (Suc N)", "by auto"], ["proof (state)\nthis:\n  sum f {N..<2 * N} + f (2 * N) + f (2 * N + 1) - f N =\n  nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "finally"], ["proof (chain)\npicking this:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "show ?thesis"], ["proof (prove)\nusing this:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "."], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  N \\<noteq> 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N \\<Longrightarrow>\n       sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "ultimately"], ["proof (chain)\npicking this:\n  N = 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n  N \\<noteq> 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "show ?case"], ["proof (prove)\nusing this:\n  N = 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n  N \\<noteq> 0 \\<Longrightarrow>\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal (1 subgoal):\n 1. sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)", "by blast"], ["proof (state)\nthis:\n  sum f {Suc N..<2 * Suc N} = nth_prime (2 * Suc N) - nth_prime (Suc N)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N\n\ngoal (1 subgoal):\n 1. real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n    real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))", "then"], ["proof (chain)\npicking this:\n  sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N", "show ?thesis"], ["proof (prove)\nusing this:\n  sum f {N..<2 * N} = nth_prime (2 * N) - nth_prime N\n\ngoal (1 subgoal):\n 1. real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n    real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))", "by auto"], ["proof (state)\nthis:\n  real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n  real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n  real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  real (sum f {N..<2 * N}) / sqrt (real (nth_prime N)) =\n  real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... = h N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N)) = h N", "unfolding h_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N)) =\n    real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N))", "by auto"], ["proof (state)\nthis:\n  real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N)) = h N\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  real (nth_prime (2 * N) - nth_prime N) / sqrt (real (nth_prime N)) = h N\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... < N/2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. h N < real N / 2", "using N_asm"], ["proof (prove)\nusing this:\n  \\<forall>y\\<ge>N.\n     c (y + 1) \\<noteq> c y \\<and>\n     sqrt (real (nth_prime y)) / real_of_int (a y)\n     < 1 / real_of_int (2 * B) \\<and>\n     h y < real y / 2 \\<and>\n     (c y < c (y + 1) \\<longrightarrow>\n      real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n      < real (nth_prime (y + 1)))\n\ngoal (1 subgoal):\n 1. h N < real N / 2", "by auto"], ["proof (state)\nthis:\n  h N < real N / 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "finally"], ["proof (chain)\npicking this:\n  real (card S) < real N / 2", "have \"card S < N/2\""], ["proof (prove)\nusing this:\n  real (card S) < real N / 2\n\ngoal (1 subgoal):\n 1. real (card S) < real N / 2", "."], ["proof (state)\nthis:\n  real (card S) < real N / 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "define T where \"T={n \\<in> {N..<2 * N}. c n > c (n + 1)}\""], ["proof (state)\nthis:\n  T = {n \\<in> {N..<2 * N}. c (n + 1) < c n}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"T \\<union> S = {N..<2 * N}\" \"T \\<inter> S = {}\" \"finite T\""], ["proof (prove)\ngoal (1 subgoal):\n 1. T \\<union> S = {N..<2 * N} &&& T \\<inter> S = {} &&& finite T", "unfolding T_def S_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<union>\n    {n \\<in> {N..<2 * N}. c n < c (n + 1)} =\n    {N..<2 * N} &&&\n    {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<inter>\n    {n \\<in> {N..<2 * N}. c n < c (n + 1)} =\n    {} &&&\n    finite {n \\<in> {N..<2 * N}. c (n + 1) < c n}", "using N_asm"], ["proof (prove)\nusing this:\n  \\<forall>y\\<ge>N.\n     c (y + 1) \\<noteq> c y \\<and>\n     sqrt (real (nth_prime y)) / real_of_int (a y)\n     < 1 / real_of_int (2 * B) \\<and>\n     h y < real y / 2 \\<and>\n     (c y < c (y + 1) \\<longrightarrow>\n      real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n      < real (nth_prime (y + 1)))\n\ngoal (1 subgoal):\n 1. {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<union>\n    {n \\<in> {N..<2 * N}. c n < c (n + 1)} =\n    {N..<2 * N} &&&\n    {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<inter>\n    {n \\<in> {N..<2 * N}. c n < c (n + 1)} =\n    {} &&&\n    finite {n \\<in> {N..<2 * N}. c (n + 1) < c n}", "by fastforce+"], ["proof (state)\nthis:\n  T \\<union> S = {N..<2 * N}\n  T \\<inter> S = {}\n  finite T\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "then"], ["proof (chain)\npicking this:\n  T \\<union> S = {N..<2 * N}\n  T \\<inter> S = {}\n  finite T", "have \"card T + card S = card {N..<2 * N}\""], ["proof (prove)\nusing this:\n  T \\<union> S = {N..<2 * N}\n  T \\<inter> S = {}\n  finite T\n\ngoal (1 subgoal):\n 1. card T + card S = card {N..<2 * N}", "using card_Un_disjoint \\<open>finite S\\<close>"], ["proof (prove)\nusing this:\n  T \\<union> S = {N..<2 * N}\n  T \\<inter> S = {}\n  finite T\n  \\<lbrakk>finite ?A; finite ?B; ?A \\<inter> ?B = {}\\<rbrakk>\n  \\<Longrightarrow> card (?A \\<union> ?B) = card ?A + card ?B\n  finite S\n\ngoal (1 subgoal):\n 1. card T + card S = card {N..<2 * N}", "by metis"], ["proof (state)\nthis:\n  card T + card S = card {N..<2 * N}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "also"], ["proof (state)\nthis:\n  card T + card S = card {N..<2 * N}\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "have \"... = N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. card {N..<2 * N} = N", "by simp"], ["proof (state)\nthis:\n  card {N..<2 * N} = N\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "finally"], ["proof (chain)\npicking this:\n  card T + card S = N", "have \"card T + card S = N\""], ["proof (prove)\nusing this:\n  card T + card S = N\n\ngoal (1 subgoal):\n 1. card T + card S = N", "."], ["proof (state)\nthis:\n  card T + card S = N\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       \\<lbrakk>?z1 \\<le> x;\n        \\<forall>y\\<ge>x.\n           c (y + 1) \\<noteq> c y \\<and>\n           sqrt (real (nth_prime y)) / real_of_int (a y)\n           < 1 / real_of_int (2 * B) \\<and>\n           h y < real y / 2 \\<and>\n           (c y < c (y + 1) \\<longrightarrow>\n            real (nth_prime y) + real_of_int (a y) / real_of_int (2 * B)\n            < real (nth_prime (y + 1)))\\<rbrakk>\n       \\<Longrightarrow> real x / 2\n                         < real\n                            (card {n \\<in> {x..<2 * x}. c (n + 1) < c n})", "with \\<open>card S < N/2\\<close>"], ["proof (chain)\npicking this:\n  real (card S) < real N / 2\n  card T + card S = N", "show \"card T > N/2\""], ["proof (prove)\nusing this:\n  real (card S) < real N / 2\n  card T + card S = N\n\ngoal (1 subgoal):\n 1. real N / 2 < real (card T)", "by linarith"], ["proof (state)\nthis:\n  real N / 2 < real (card T)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "text\\<open>Inequality (3.5) in the original paper required a slight modification: \\<close>"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_gt_plus:\"\\<forall>\\<^sub>F n in sequentially. c n > c (n+1) \\<longrightarrow>a (n+1) > a n + (a n - c(n+1) - 1) / c (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "note a_gt_1[THEN eventually_all_ge_at_top] c_pos[THEN eventually_all_ge_at_top]"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 1 < a y\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 0 < c y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 1 < a y\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 0 < c y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "have \"\\<forall>\\<^sub>F n in sequentially. \n              B * int (nth_prime (n+1)) = c (n+1) * a (n+1) - c (n + 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)", "using Bc_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)", "apply (subst (asm) eventually_sequentially_Suc[symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F i in sequentially.\n       B * int (nth_prime (Suc i)) =\n       c (Suc i) * a (Suc i) - c (Suc i + 1) \\<and>\n       \\<bar>real_of_int (c (Suc i + 1))\\<bar>\n       < real_of_int (a (Suc i)) / 2 \\<Longrightarrow>\n    \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "have \"\\<forall>\\<^sub>F n in sequentially. \n                        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and> \\<bar>c (n + 1)\\<bar> <  a n / 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n       real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "using Bc_large"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n       real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "by (auto elim:eventually_mono)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 1 < a y\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 0 < c y\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 1 < a y\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 0 < c y\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) +\n       real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n       < real_of_int (a (n + 1))", "apply (eventually_elim)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> c (n + 1) < c n \\<longrightarrow>\n                         real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "proof (rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "assume \"\\<forall>y\\<ge>n. 1 < a y\" \"\\<forall>y\\<ge>n. 0 < c y\"\n        and\n        Suc_n_eq:\"B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\" and\n        \"B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\" \n        and \"c (n + 1) < c n\""], ["proof (state)\nthis:\n  \\<forall>y\\<ge>n. 1 < a y\n  \\<forall>y\\<ge>n. 0 < c y\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n  c (n + 1) < c n\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "then"], ["proof (chain)\npicking this:\n  \\<forall>y\\<ge>n. 1 < a y\n  \\<forall>y\\<ge>n. 0 < c y\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n  c (n + 1) < c n", "have n_eq:\"B * int (nth_prime n) = c n * a n - c (n + 1)\" and \n        c_less_a: \"real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<ge>n. 1 < a y\n  \\<forall>y\\<ge>n. 0 < c y\n  B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n  c (n + 1) < c n\n\ngoal (1 subgoal):\n 1. B * int (nth_prime n) = c n * a n - c (n + 1) &&&\n    real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2", "by auto"], ["proof (state)\nthis:\n  B * int (nth_prime n) = c n * a n - c (n + 1)\n  real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "from \\<open>\\<forall>y\\<ge>n. 1 < a y\\<close> \\<open>\\<forall>y\\<ge>n. 0 < c y\\<close>"], ["proof (chain)\npicking this:\n  \\<forall>y\\<ge>n. 1 < a y\n  \\<forall>y\\<ge>n. 0 < c y", "have *:\"a n>1\" \"a (n+1) > 1\" \"c n > 0\" \n        \"c (n+1) > 0\"  \"c (n+2) > 0\""], ["proof (prove)\nusing this:\n  \\<forall>y\\<ge>n. 1 < a y\n  \\<forall>y\\<ge>n. 0 < c y\n\ngoal (1 subgoal):\n 1. (1 < a n &&& 1 < a (n + 1)) &&&\n    0 < c n &&& 0 < c (n + 1) &&& 0 < c (n + 2)", "by auto"], ["proof (state)\nthis:\n  1 < a n\n  1 < a (n + 1)\n  0 < c n\n  0 < c (n + 1)\n  0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "then"], ["proof (chain)\npicking this:\n  1 < a n\n  1 < a (n + 1)\n  0 < c n\n  0 < c (n + 1)\n  0 < c (n + 2)", "have \"(1+1/c (n+1))* (a n - 1)/a (n+1) = (c (n+1)+1) * ((a n - 1) / (c (n+1) * a (n+1)))\""], ["proof (prove)\nusing this:\n  1 < a n\n  1 < a (n + 1)\n  0 < c n\n  0 < c (n + 1)\n  0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n    real_of_int (a (n + 1)) =\n    real_of_int (c (n + 1) + 1) *\n    (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1)) =\n  real_of_int (c (n + 1) + 1) *\n  (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1)) =\n  real_of_int (c (n + 1) + 1) *\n  (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "have \"... \\<le> c n * ((a n - 1) / (c (n+1) * a (n+1)))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1) + 1) *\n    (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n    \\<le> real_of_int (c n) *\n          (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))", "apply (rule mult_right_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. real_of_int (c (n + 1) + 1) \\<le> real_of_int (c n)\n 2. 0 \\<le> real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1) + 1) \\<le> real_of_int (c n)", "using \\<open>c (n + 1) < c n\\<close>"], ["proof (prove)\nusing this:\n  c (n + 1) < c n\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1) + 1) \\<le> real_of_int (c n)", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 \\<le> real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1))", "by (smt \\<open>0 < c (n + 1)\\<close> a_pos divide_nonneg_pos mult_pos_pos of_int_0_le_iff \n              of_int_0_less_iff)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  real_of_int (c (n + 1) + 1) *\n  (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n  \\<le> real_of_int (c n) *\n        (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c (n + 1) + 1) *\n  (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n  \\<le> real_of_int (c n) *\n        (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1)))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "have \"... = (c n * (a n - 1)) / (c (n+1) * a (n+1))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n) *\n    (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1))) =\n    real_of_int (c n * (a n - 1)) / real_of_int (c (n + 1) * a (n + 1))", "by auto"], ["proof (state)\nthis:\n  real_of_int (c n) *\n  (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1))) =\n  real_of_int (c n * (a n - 1)) / real_of_int (c (n + 1) * a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c n) *\n  (real_of_int (a n - 1) / real_of_int (c (n + 1) * a (n + 1))) =\n  real_of_int (c n * (a n - 1)) / real_of_int (c (n + 1) * a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "have \"... < (c n * (a n - 1)) / (c (n+1) * a (n+1)  - c (n+2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n * (a n - 1)) / real_of_int (c (n + 1) * a (n + 1))\n    < real_of_int (c n * (a n - 1)) /\n      real_of_int (c (n + 1) * a (n + 1) - c (n + 2))", "apply (rule divide_strict_left_mono)"], ["proof (prove)\ngoal (3 subgoals):\n 1. real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n    < real_of_int (c (n + 1) * a (n + 1))\n 2. 0 < real_of_int (c n * (a n - 1))\n 3. 0 < real_of_int (c (n + 1) * a (n + 1)) *\n        real_of_int (c (n + 1) * a (n + 1) - c (n + 2))", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n    < real_of_int (c (n + 1) * a (n + 1))", "using \\<open>c (n+2) > 0\\<close>"], ["proof (prove)\nusing this:\n  0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n    < real_of_int (c (n + 1) * a (n + 1))", "by auto"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < real_of_int (c n * (a n - 1))\n 2. 0 < real_of_int (c (n + 1) * a (n + 1)) *\n        real_of_int (c (n + 1) * a (n + 1) - c (n + 2))", "unfolding Suc_n_eq[symmetric]"], ["proof (prove)\ngoal (2 subgoals):\n 1. 0 < real_of_int (c n * (a n - 1))\n 2. 0 < real_of_int (c (n + 1) * a (n + 1)) *\n        real_of_int (B * int (nth_prime (n + 1)))", "using * \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  1 < a n\n  1 < a (n + 1)\n  0 < c n\n  0 < c (n + 1)\n  0 < c (n + 2)\n  0 < B\n\ngoal (2 subgoals):\n 1. 0 < real_of_int (c n * (a n - 1))\n 2. 0 < real_of_int (c (n + 1) * a (n + 1)) *\n        real_of_int (B * int (nth_prime (n + 1)))", "by auto"], ["proof (state)\nthis:\n  real_of_int (c n * (a n - 1)) / real_of_int (c (n + 1) * a (n + 1))\n  < real_of_int (c n * (a n - 1)) /\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c n * (a n - 1)) / real_of_int (c (n + 1) * a (n + 1))\n  < real_of_int (c n * (a n - 1)) /\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "have \"... < (c n * a n - c (n+1)) / (c (n+1) * a (n+1)  - c (n+2))\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n * (a n - 1)) /\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n    < real_of_int (c n * a n - c (n + 1)) /\n      real_of_int (c (n + 1) * a (n + 1) - c (n + 2))", "apply (rule frac_less)"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 \\<le> real_of_int (c n * (a n - 1))\n 2. real_of_int (c n * (a n - 1)) < real_of_int (c n * a n - c (n + 1))\n 3. 0 < real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n 4. real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n    \\<le> real_of_int (c (n + 1) * a (n + 1) - c (n + 2))", "unfolding Suc_n_eq[symmetric]"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 \\<le> real_of_int (c n * (a n - 1))\n 2. real_of_int (c n * (a n - 1)) < real_of_int (c n * a n - c (n + 1))\n 3. 0 < real_of_int (B * int (nth_prime (n + 1)))\n 4. real_of_int (B * int (nth_prime (n + 1)))\n    \\<le> real_of_int (B * int (nth_prime (n + 1)))", "using * \\<open>B>0\\<close> \\<open>c (n + 1) < c n\\<close>"], ["proof (prove)\nusing this:\n  1 < a n\n  1 < a (n + 1)\n  0 < c n\n  0 < c (n + 1)\n  0 < c (n + 2)\n  0 < B\n  c (n + 1) < c n\n\ngoal (4 subgoals):\n 1. 0 \\<le> real_of_int (c n * (a n - 1))\n 2. real_of_int (c n * (a n - 1)) < real_of_int (c n * a n - c (n + 1))\n 3. 0 < real_of_int (B * int (nth_prime (n + 1)))\n 4. real_of_int (B * int (nth_prime (n + 1)))\n    \\<le> real_of_int (B * int (nth_prime (n + 1)))", "by (auto simp:algebra_simps)"], ["proof (state)\nthis:\n  real_of_int (c n * (a n - 1)) /\n  real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n  < real_of_int (c n * a n - c (n + 1)) /\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c n * (a n - 1)) /\n  real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n  < real_of_int (c n * a n - c (n + 1)) /\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "have \"... = nth_prime n / nth_prime (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c n * a n - c (n + 1)) /\n    real_of_int (c (n + 1) * a (n + 1) - c (n + 2)) =\n    real (nth_prime n) / real (nth_prime (n + 1))", "unfolding Suc_n_eq[symmetric] n_eq[symmetric]"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) /\n    real_of_int (B * int (nth_prime (n + 1))) =\n    real (nth_prime n) / real (nth_prime (n + 1))", "using \\<open>B>0\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) /\n    real_of_int (B * int (nth_prime (n + 1))) =\n    real (nth_prime n) / real (nth_prime (n + 1))", "by auto"], ["proof (state)\nthis:\n  real_of_int (c n * a n - c (n + 1)) /\n  real_of_int (c (n + 1) * a (n + 1) - c (n + 2)) =\n  real (nth_prime n) / real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (c n * a n - c (n + 1)) /\n  real_of_int (c (n + 1) * a (n + 1) - c (n + 2)) =\n  real (nth_prime n) / real (nth_prime (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "have \"... < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (nth_prime n) / real (nth_prime (n + 1)) < 1", "by auto"], ["proof (state)\nthis:\n  real (nth_prime n) / real (nth_prime (n + 1)) < 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "finally"], ["proof (chain)\npicking this:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1))\n  < 1", "have \"(1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) \n        / real_of_int (a (n + 1)) < 1 \""], ["proof (prove)\nusing this:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1))\n  < 1\n\ngoal (1 subgoal):\n 1. (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n    real_of_int (a (n + 1))\n    < 1", "."], ["proof (state)\nthis:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1))\n  < 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>\\<forall>y\\<ge>n. 1 < a y; \\<forall>y\\<ge>n. 0 < c y;\n        B * int (nth_prime (n + 1)) = c (n + 1) * a (n + 1) - c (n + 2);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        real_of_int \\<bar>c (n + 1)\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) +\n                         real_of_int (a n - c (n + 1) - 1) /\n                         real_of_int (c (n + 1))\n                         < real_of_int (a (n + 1))", "then"], ["proof (chain)\npicking this:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1))\n  < 1", "show \"a n + (a n - c (n + 1) - 1) /  (c (n + 1)) < (a (n + 1))\""], ["proof (prove)\nusing this:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1))\n  < 1\n\ngoal (1 subgoal):\n 1. real_of_int (a n) +\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n    < real_of_int (a (n + 1))", "using *"], ["proof (prove)\nusing this:\n  (1 + 1 / real_of_int (c (n + 1))) * real_of_int (a n - 1) /\n  real_of_int (a (n + 1))\n  < 1\n  1 < a n\n  1 < a (n + 1)\n  0 < c n\n  0 < c (n + 1)\n  0 < c (n + 2)\n\ngoal (1 subgoal):\n 1. real_of_int (a n) +\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n    < real_of_int (a (n + 1))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) +\n     real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n     < real_of_int (a (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) +\n     real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n     < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_gt_1:\"\\<forall>\\<^sub>F n in sequentially. c n > c (n+1) \\<longrightarrow> a (n+1) > a n + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow> a n + 1 < a (n + 1)", "using Bc_large a_gt_plus c_pos[THEN eventually_all_ge_at_top]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) +\n     real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n     < real_of_int (a (n + 1))\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 0 < c y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow> a n + 1 < a (n + 1)", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y\\<rbrakk>\n       \\<Longrightarrow> c (n + 1) < c n \\<longrightarrow>\n                         a n + 1 < a (n + 1)", "proof (rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "assume  \n      \"c (n + 1) < c n \\<longrightarrow> a n +  (a n - c (n + 1) - 1) / c (n + 1) <  a (n + 1)\" \n      \"c (n + 1) < c n\" and B_eq:\"B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n         \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\" and c_pos:\"\\<forall>y\\<ge>n. 0 < c y\""], ["proof (state)\nthis:\n  c (n + 1) < c n \\<longrightarrow>\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  c (n + 1) < c n\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  \\<forall>y\\<ge>n. 0 < c y\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "from this(1,2)"], ["proof (chain)\npicking this:\n  c (n + 1) < c n \\<longrightarrow>\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  c (n + 1) < c n", "have \"a n +  (a n - c (n + 1) - 1) / c (n + 1) <  a (n + 1)\""], ["proof (prove)\nusing this:\n  c (n + 1) < c n \\<longrightarrow>\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  c (n + 1) < c n\n\ngoal (1 subgoal):\n 1. real_of_int (a n) +\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n    < real_of_int (a (n + 1))", "by auto"], ["proof (state)\nthis:\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "moreover"], ["proof (state)\nthis:\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "have \"a n - 2 * c (n+1) > 0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < a n - 2 * c (n + 1)", "using B_eq c_pos[rule_format,of \"n+1\"]"], ["proof (prove)\nusing this:\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  n \\<le> n + 1 \\<Longrightarrow> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. 0 < a n - 2 * c (n + 1)", "by auto"], ["proof (state)\nthis:\n  0 < a n - 2 * c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "then"], ["proof (chain)\npicking this:\n  0 < a n - 2 * c (n + 1)", "have \"a n - 2 * c (n+1) \\<ge> 1\""], ["proof (prove)\nusing this:\n  0 < a n - 2 * c (n + 1)\n\ngoal (1 subgoal):\n 1. 1 \\<le> a n - 2 * c (n + 1)", "by simp"], ["proof (state)\nthis:\n  1 \\<le> a n - 2 * c (n + 1)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "then"], ["proof (chain)\npicking this:\n  1 \\<le> a n - 2 * c (n + 1)", "have \"(a n - c (n + 1) - 1) / c (n + 1) \\<ge> 1\""], ["proof (prove)\nusing this:\n  1 \\<le> a n - 2 * c (n + 1)\n\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))", "using c_pos[rule_format,of \"n+1\"]"], ["proof (prove)\nusing this:\n  1 \\<le> a n - 2 * c (n + 1)\n  n \\<le> n + 1 \\<Longrightarrow> 0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. 1 \\<le> real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  1 \\<le> real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n                \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        \\<forall>y\\<ge>n. 0 < c y; c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> a n + 1 < a (n + 1)", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  1 \\<le> real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))", "show \"a n + 1 < a (n + 1)\""], ["proof (prove)\nusing this:\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  1 \\<le> real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n\ngoal (1 subgoal):\n 1. a n + 1 < a (n + 1)", "by auto"], ["proof (state)\nthis:\n  a n + 1 < a (n + 1)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow> a n + 1 < a (n + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "text\\<open>The following corresponds to inequality (3.6) in the paper, which had to be\n        slightly corrected:  \\<close>"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow> a n + 1 < a (n + 1)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_gt_sqrt:\"\\<forall>\\<^sub>F n in sequentially. c n > c (n+1) \\<longrightarrow> a (n+1) > a n + (sqrt n - 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "have a_2N:\"\\<forall>\\<^sub>F N in sequentially. a (2*N) \\<ge> N /2 +1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "using c_gt_half a_gt_1[THEN eventually_all_ge_at_top]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<forall>y\\<ge>x. c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "case (elim N)"], ["proof (state)\nthis:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N. c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "define S where \"S={n \\<in> {N..<2 * N}. c (n + 1) < c n}\""], ["proof (state)\nthis:\n  S = {n \\<in> {N..<2 * N}. c (n + 1) < c n}\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "define f where \"f = (\\<lambda>n. a (Suc n) - a n)\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. a (Suc n) - a n)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "have f_1:\"\\<forall>x\\<in>S. f x\\<ge>1\" and f_0:\"\\<forall>x. f x\\<ge>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S. 1 \\<le> f x &&& \\<forall>x. 0 \\<le> f x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S. 1 \\<le> f x", "using elim"], ["proof (prove)\nusing this:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N. c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S. 1 \\<le> f x", "unfolding S_def f_def"], ["proof (prove)\nusing this:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N. c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>{n \\<in> {N..<2 * N}. c (n + 1) < c n}.\n       1 \\<le> a (Suc x) - a x", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> f x", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> f x", "using \\<open>mono a\\<close>[THEN incseq_SucD]"], ["proof (prove)\nusing this:\n  a ?i \\<le> a (Suc ?i)\n\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> f x", "unfolding f_def"], ["proof (prove)\nusing this:\n  a ?i \\<le> a (Suc ?i)\n\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> a (Suc x) - a x", "by auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>x\\<in>S. 1 \\<le> f x\n  \\<forall>x. 0 \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "have \"N / 2 < card S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real N / 2 < real (card S)", "using elim"], ["proof (prove)\nusing this:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N. c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\n\ngoal (1 subgoal):\n 1. real N / 2 < real (card S)", "unfolding S_def"], ["proof (prove)\nusing this:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N. c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\n\ngoal (1 subgoal):\n 1. real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "by auto"], ["proof (state)\nthis:\n  real N / 2 < real (card S)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "also"], ["proof (state)\nthis:\n  real N / 2 < real (card S)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "have \"... \\<le> sum f S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (card S) \\<le> real_of_int (sum f S)", "unfolding of_int_sum"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (card S) \\<le> (\\<Sum>x\\<in>S. real_of_int (f x))", "apply (rule sum_bounded_below[of _ 1,simplified])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> 1 \\<le> real_of_int (f i)", "using f_1"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>S. 1 \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<And>i. i \\<in> S \\<Longrightarrow> 1 \\<le> real_of_int (f i)", "by auto"], ["proof (state)\nthis:\n  real (card S) \\<le> real_of_int (sum f S)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "also"], ["proof (state)\nthis:\n  real (card S) \\<le> real_of_int (sum f S)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "have \"... \\<le> sum f {N..<2 * N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (sum f S) \\<le> real_of_int (sum f {N..<2 * N})", "unfolding of_int_sum"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>S. real_of_int (f x))\n    \\<le> (\\<Sum>x = N..<2 * N. real_of_int (f x))", "apply (rule sum_mono2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. S \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} - S \\<Longrightarrow> 0 \\<le> real_of_int (f b)", "unfolding S_def"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} -\n               {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<Longrightarrow>\n       0 \\<le> real_of_int (f b)", "using f_0"], ["proof (prove)\nusing this:\n  \\<forall>x. 0 \\<le> f x\n\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} -\n               {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<Longrightarrow>\n       0 \\<le> real_of_int (f b)", "by auto"], ["proof (state)\nthis:\n  real_of_int (sum f S) \\<le> real_of_int (sum f {N..<2 * N})\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "also"], ["proof (state)\nthis:\n  real_of_int (sum f S) \\<le> real_of_int (sum f {N..<2 * N})\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "have \"... = a (2*N) - a N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (sum f {N..<2 * N}) = real_of_int (a (2 * N) - a N)", "unfolding of_int_sum f_def of_int_diff"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x = N..<2 * N. real_of_int (a (Suc x)) - real_of_int (a x)) =\n    real_of_int (a (2 * N)) - real_of_int (a N)", "apply (rule sum_Suc_diff')"], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<le> 2 * N", "by auto"], ["proof (state)\nthis:\n  real_of_int (sum f {N..<2 * N}) = real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "finally"], ["proof (chain)\npicking this:\n  real N / 2 < real_of_int (a (2 * N) - a N)", "have \"N / 2 < a (2*N) - a N\""], ["proof (prove)\nusing this:\n  real N / 2 < real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. real N / 2 < real_of_int (a (2 * N) - a N)", "."], ["proof (state)\nthis:\n  real N / 2 < real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow> a y + 1 < a (y + 1)\\<rbrakk>\n       \\<Longrightarrow> real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "then"], ["proof (chain)\npicking this:\n  real N / 2 < real_of_int (a (2 * N) - a N)", "show ?case"], ["proof (prove)\nusing this:\n  real N / 2 < real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "using a_pos[rule_format,of N]"], ["proof (prove)\nusing this:\n  real N / 2 < real_of_int (a (2 * N) - a N)\n  0 < a N\n\ngoal (1 subgoal):\n 1. real N / 2 + 1 \\<le> real_of_int (a (2 * N))", "by linarith"], ["proof (state)\nthis:\n  real N / 2 + 1 \\<le> real_of_int (a (2 * N))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 + 1 \\<le> real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "have a_n4:\"\\<forall>\\<^sub>F n in sequentially. a n > n/4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)", "obtain N where a_N:\"\\<forall>n\\<ge>N. a (2*n) \\<ge> n /2+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           real n / 2 + 1 \\<le> real_of_int (a (2 * n)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "using a_2N"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 + 1 \\<le> real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           real n / 2 + 1 \\<le> real_of_int (a (2 * n)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  \\<exists>N. \\<forall>n\\<ge>N. real n / 2 + 1 \\<le> real_of_int (a (2 * n))\n\ngoal (1 subgoal):\n 1. (\\<And>N.\n        \\<forall>n\\<ge>N.\n           real n / 2 + 1 \\<le> real_of_int (a (2 * n)) \\<Longrightarrow>\n        thesis) \\<Longrightarrow>\n    thesis", "by auto"], ["proof (state)\nthis:\n  \\<forall>n\\<ge>N. real n / 2 + 1 \\<le> real_of_int (a (2 * n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)", "have \"a n>n/4\" when \"n\\<ge>2*N\" for n"], ["proof (prove)\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "define n' where \"n'=n div 2\""], ["proof (state)\nthis:\n  n' = n div 2\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "have \"n'\\<ge>N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<le> n'", "unfolding n'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<le> n div 2", "using that"], ["proof (prove)\nusing this:\n  2 * N \\<le> n\n\ngoal (1 subgoal):\n 1. N \\<le> n div 2", "by auto"], ["proof (state)\nthis:\n  N \\<le> n'\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "have \"n/4 < n' /2+1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n / 4 < real n' / 2 + 1", "unfolding n'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real n / 4 < real (n div 2) / 2 + 1", "by auto"], ["proof (state)\nthis:\n  real n / 4 < real n' / 2 + 1\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "also"], ["proof (state)\nthis:\n  real n / 4 < real n' / 2 + 1\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "have \"... \\<le> a (2*n')\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n' / 2 + 1 \\<le> real_of_int (a (2 * n'))", "using a_N \\<open>n'\\<ge>N\\<close>"], ["proof (prove)\nusing this:\n  \\<forall>n\\<ge>N. real n / 2 + 1 \\<le> real_of_int (a (2 * n))\n  N \\<le> n'\n\ngoal (1 subgoal):\n 1. real n' / 2 + 1 \\<le> real_of_int (a (2 * n'))", "by auto"], ["proof (state)\nthis:\n  real n' / 2 + 1 \\<le> real_of_int (a (2 * n'))\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "also"], ["proof (state)\nthis:\n  real n' / 2 + 1 \\<le> real_of_int (a (2 * n'))\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "have \"... \\<le>a n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a (2 * n')) \\<le> real_of_int (a n)", "unfolding n'_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a (2 * (n div 2))) \\<le> real_of_int (a n)", "apply (cases \"even n\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. even n \\<Longrightarrow>\n    real_of_int (a (2 * (n div 2))) \\<le> real_of_int (a n)\n 2. odd n \\<Longrightarrow>\n    real_of_int (a (2 * (n div 2))) \\<le> real_of_int (a n)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. even n \\<Longrightarrow>\n    real_of_int (a (2 * (n div 2))) \\<le> real_of_int (a n)", "by simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. odd n \\<Longrightarrow>\n    real_of_int (a (2 * (n div 2))) \\<le> real_of_int (a n)", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. odd n \\<Longrightarrow>\n    real_of_int (a (2 * (n div 2))) \\<le> real_of_int (a n)", "by (simp add: assms(2) incseqD)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  real_of_int (a (2 * n')) \\<le> real_of_int (a n)\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "finally"], ["proof (chain)\npicking this:\n  real n / 4 < real_of_int (a n)", "show ?thesis"], ["proof (prove)\nusing this:\n  real n / 4 < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "."], ["proof (state)\nthis:\n  real n / 4 < real_of_int (a n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  2 * N \\<le> ?n \\<Longrightarrow> real ?n / 4 < real_of_int (a ?n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)", "then"], ["proof (chain)\npicking this:\n  2 * N \\<le> ?n \\<Longrightarrow> real ?n / 4 < real_of_int (a ?n)", "show ?thesis"], ["proof (prove)\nusing this:\n  2 * N \\<le> ?n \\<Longrightarrow> real ?n / 4 < real_of_int (a ?n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)", "unfolding eventually_at_top_linorder"], ["proof (prove)\nusing this:\n  2 * N \\<le> ?n \\<Longrightarrow> real ?n / 4 < real_of_int (a ?n)\n\ngoal (1 subgoal):\n 1. \\<exists>N. \\<forall>n\\<ge>N. real n / 4 < real_of_int (a n)", "by auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "have c_sqrt:\"\\<forall>\\<^sub>F n in sequentially. c n < sqrt n / 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "have \"\\<forall>\\<^sub>F x in sequentially. x>1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) 1) sequentially", "by simp"], ["proof (state)\nthis:\n  eventually ((<) 1) sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "moreover"], ["proof (state)\nthis:\n  eventually ((<) 1) sequentially\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "have \"\\<forall>\\<^sub>F x in sequentially. real (nth_prime x) / (real x * ln (real x)) < 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       real (nth_prime x) / (real x * ln (real x)) < 2", "using nth_prime_asymptotics[unfolded asymp_equiv_def,THEN order_tendstoD(2),of 2]"], ["proof (prove)\nusing this:\n  1 < 2 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     (if real (nth_prime x) = 0 \\<and> real x * ln (real x) = 0 then 1\n      else real (nth_prime x) / (real x * ln (real x)))\n     < 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       real (nth_prime x) / (real x * ln (real x)) < 2", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "ultimately"], ["proof (chain)\npicking this:\n  eventually ((<) 1) sequentially\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2", "have \"\\<forall>\\<^sub>F n in sequentially. c n < B*8 *ln n + 1\""], ["proof (prove)\nusing this:\n  eventually ((<) 1) sequentially\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1", "using a_n4 Bc_large"], ["proof (prove)\nusing this:\n  eventually ((<) 1) sequentially\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2\n  \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)\n  \\<forall>\\<^sub>F n in sequentially.\n     B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n     \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "case (elim n)"], ["proof (state)\nthis:\n  1 < n\n  real (nth_prime n) / (real n * ln (real n)) < 2\n  real n / 4 < real_of_int (a n)\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "from this(4)"], ["proof (chain)\npicking this:\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2", "have \"c n=(B*nth_prime n+c (n+1))/a n\""], ["proof (prove)\nusing this:\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. real_of_int (c n) =\n    real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n)", "using a_pos[rule_format,of n]"], ["proof (prove)\nusing this:\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n  0 < a n\n\ngoal (1 subgoal):\n 1. real_of_int (c n) =\n    real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  real_of_int (c n) =\n  real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "also"], ["proof (state)\nthis:\n  real_of_int (c n) =\n  real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "have \"... = (B*nth_prime n)/a n+c (n+1)/a n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n) =\n    real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n    real_of_int (c (n + 1)) / real_of_int (a n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n) =\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n  real_of_int (c (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "also"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n) + c (n + 1)) / real_of_int (a n) =\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n  real_of_int (c (n + 1)) / real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "have \"... < (B*nth_prime n)/a n + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n    real_of_int (c (n + 1)) / real_of_int (a n)\n    < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n    real_of_int (c (n + 1)) / real_of_int (a n)\n    < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1", "have \"c (n+1)/a n < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < 1", "using elim(4)"], ["proof (prove)\nusing this:\n  B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n  \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\n\ngoal (1 subgoal):\n 1. real_of_int (c (n + 1)) / real_of_int (a n) < 1", "by auto"], ["proof (state)\nthis:\n  real_of_int (c (n + 1)) / real_of_int (a n) < 1\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n    real_of_int (c (n + 1)) / real_of_int (a n)\n    < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1", "then"], ["proof (chain)\npicking this:\n  real_of_int (c (n + 1)) / real_of_int (a n) < 1", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (c (n + 1)) / real_of_int (a n) < 1\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n    real_of_int (c (n + 1)) / real_of_int (a n)\n    < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "also"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) +\n  real_of_int (c (n + 1)) / real_of_int (a n)\n  < real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "have \"... < B*8 * ln n + 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "have \"B*nth_prime n < 2*B*n*ln n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n))\n    < real_of_int (2 * B * int n) * ln (real n)", "using \\<open>real (nth_prime n) / (real n * ln (real n)) < 2\\<close> \\<open>B>0\\<close> \\<open> 1 < n\\<close>"], ["proof (prove)\nusing this:\n  real (nth_prime n) / (real n * ln (real n)) < 2\n  0 < B\n  1 < n\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n))\n    < real_of_int (2 * B * int n) * ln (real n)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n))\n  < real_of_int (2 * B * int n) * ln (real n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "moreover"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n))\n  < real_of_int (2 * B * int n) * ln (real n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "have \"real n / 4 < real_of_int (a n)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real n / 4 < real_of_int (a n)", "by fact"], ["proof (state)\nthis:\n  real n / 4 < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (B * int (nth_prime n))\n  < real_of_int (2 * B * int n) * ln (real n)\n  real n / 4 < real_of_int (a n)", "have \"(B*nth_prime n) / a n < (2*B*n*ln n) / (n/4)\""], ["proof (prove)\nusing this:\n  real_of_int (B * int (nth_prime n))\n  < real_of_int (2 * B * int n) * ln (real n)\n  real n / 4 < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n)\n    < real_of_int (2 * B * int n) * ln (real n) / (real n / 4)", "apply (rule_tac frac_less)"], ["proof (prove)\ngoal (4 subgoals):\n 1. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> real_of_int (B * int (nth_prime n))\n 2. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> real_of_int (B * int (nth_prime n))\n                      < real_of_int (2 * B * int n) * ln (real n)\n 3. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> 0 < real n / 4\n 4. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> real n / 4 \\<le> real_of_int (a n)", "using \\<open>B>0\\<close> \\<open> 1 < n\\<close>"], ["proof (prove)\nusing this:\n  0 < B\n  1 < n\n\ngoal (4 subgoals):\n 1. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> 0 \\<le> real_of_int (B * int (nth_prime n))\n 2. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> real_of_int (B * int (nth_prime n))\n                      < real_of_int (2 * B * int n) * ln (real n)\n 3. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> 0 < real n / 4\n 4. \\<lbrakk>real_of_int (B * int (nth_prime n))\n             < real_of_int (2 * B * int n) * ln (real n);\n     real n / 4 < real_of_int (a n)\\<rbrakk>\n    \\<Longrightarrow> real n / 4 \\<le> real_of_int (a n)", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n)\n  < real_of_int (2 * B * int n) * ln (real n) / (real n / 4)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "also"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n)\n  < real_of_int (2 * B * int n) * ln (real n) / (real n / 4)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "have \"... = B*8 * ln n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (2 * B * int n) * ln (real n) / (real n / 4) =\n    real_of_int (B * 8) * ln (real n)", "using \\<open> 1 < n\\<close>"], ["proof (prove)\nusing this:\n  1 < n\n\ngoal (1 subgoal):\n 1. real_of_int (2 * B * int n) * ln (real n) / (real n / 4) =\n    real_of_int (B * 8) * ln (real n)", "by auto"], ["proof (state)\nthis:\n  real_of_int (2 * B * int n) * ln (real n) / (real n / 4) =\n  real_of_int (B * 8) * ln (real n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "finally"], ["proof (chain)\npicking this:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n)\n  < real_of_int (B * 8) * ln (real n)", "show ?thesis"], ["proof (prove)\nusing this:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n)\n  < real_of_int (B * 8) * ln (real n)\n\ngoal (1 subgoal):\n 1. real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n    < real_of_int (B * 8) * ln (real n) + 1", "by auto"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n  < real_of_int (B * 8) * ln (real n) + 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  real_of_int (B * int (nth_prime n)) / real_of_int (a n) + 1\n  < real_of_int (B * 8) * ln (real n) + 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>1 < n; real (nth_prime n) / (real n * ln (real n)) < 2;\n        real n / 4 < real_of_int (a n);\n        B * int (nth_prime n) = c n * a n - c (n + 1) \\<and>\n        \\<bar>real_of_int (c (n + 1))\\<bar> < real_of_int (a n) / 2\\<rbrakk>\n       \\<Longrightarrow> real_of_int (c n)\n                         < real_of_int (B * 8) * ln (real n) + 1", "finally"], ["proof (chain)\npicking this:\n  real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1", "show ?case"], ["proof (prove)\nusing this:\n  real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1\n\ngoal (1 subgoal):\n 1. real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1", "."], ["proof (state)\nthis:\n  real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "have \"\\<forall>\\<^sub>F n in sequentially. B*8 *ln n + 1 < sqrt n / 4\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (B * 8) * ln (real n) + 1 < sqrt (real n) / 4", "by real_asymp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * 8) * ln (real n) + 1 < sqrt (real n) / 4\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * 8) * ln (real n) + 1 < sqrt (real n) / 4", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c n) < real_of_int (B * 8) * ln (real n) + 1\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (B * 8) * ln (real n) + 1 < sqrt (real n) / 4\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c n) < sqrt (real n) / 4", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. real_of_int (c n) < sqrt (real n) / 4\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. real_of_int (c n) < sqrt (real n) / 4\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "have \n      \"\\<forall>\\<^sub>F n in sequentially. 0 < c (n+1)\"\n      \"\\<forall>\\<^sub>F n in sequentially. c (n+1) < sqrt (n+1) / 4\"\n      \"\\<forall>\\<^sub>F n in sequentially. n > 4\"\n      \"\\<forall>\\<^sub>F n in sequentially. (n - 4) / sqrt (n + 1) + 1 > sqrt n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1) &&&\n     \\<forall>\\<^sub>F n in sequentially.\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4) &&&\n    eventually ((<) 4) sequentially &&&\n    \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1)", "using c_pos[THEN eventually_all_ge_at_top]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially. \\<forall>y\\<ge>x. 0 < c y\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1)", "by eventually_elim auto"], ["proof (prove)\ngoal (3 subgoals):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n 2. eventually ((<) 4) sequentially\n 3. \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4", "using  c_sqrt[THEN eventually_all_ge_at_top]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<forall>y\\<ge>x. real_of_int (c y) < sqrt (real y) / 4\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4", "by eventually_elim (use le_add1 in blast)"], ["proof (prove)\ngoal (2 subgoals):\n 1. eventually ((<) 4) sequentially\n 2. \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. eventually ((<) 4) sequentially", "by simp"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1", "by real_asymp"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n  eventually ((<) 4) sequentially\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "then"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n  eventually ((<) 4) sequentially\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n  eventually ((<) 4) sequentially\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "using a_gt_plus a_n4"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially. 0 < c (n + 1)\n  \\<forall>\\<^sub>F n in sequentially.\n     real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n  eventually ((<) 4) sequentially\n  \\<forall>\\<^sub>F n in sequentially.\n     sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) +\n     real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n     < real_of_int (a (n + 1))\n  \\<forall>\\<^sub>F n in sequentially. real n / 4 < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       c (n + 1) < c n \\<longrightarrow>\n       real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n)\\<rbrakk>\n       \\<Longrightarrow> c (n + 1) < c n \\<longrightarrow>\n                         real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "proof (rule impI)"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "fix n"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "assume asm:\"0 < c (n + 1)\" \"c (n + 1) < sqrt (real (n + 1)) / 4\" and\n        a_ineq:\"c (n + 1) < c n \\<longrightarrow> a n +  (a n - c (n + 1) - 1) /  c (n + 1) < a (n + 1)\" \n        \"c (n + 1) < c n\"  and \"n / 4 < a n\" \"n > 4\" \n        and n_neq:\" sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1\""], ["proof (state)\nthis:\n  0 < c (n + 1)\n  real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n  c (n + 1) < c n \\<longrightarrow>\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  c (n + 1) < c n\n  real n / 4 < real_of_int (a n)\n  4 < n\n  sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "have \"(n-4) / sqrt(n+1) = (n/4 - 1)/ (sqrt (real (n + 1)) / 4)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (n - 4) / sqrt (real (n + 1)) =\n    (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)", "using \\<open>n>4\\<close>"], ["proof (prove)\nusing this:\n  4 < n\n\ngoal (1 subgoal):\n 1. real (n - 4) / sqrt (real (n + 1)) =\n    (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)", "by (auto simp:divide_simps)"], ["proof (state)\nthis:\n  real (n - 4) / sqrt (real (n + 1)) =\n  (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real (n - 4) / sqrt (real (n + 1)) =\n  (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "have \"... < (a n - 1) /  c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)\n    < real_of_int (a n - 1) / real_of_int (c (n + 1))", "apply (rule frac_less)"], ["proof (prove)\ngoal (4 subgoals):\n 1. 0 \\<le> real n / 4 - 1\n 2. real n / 4 - 1 < real_of_int (a n - 1)\n 3. 0 < real_of_int (c (n + 1))\n 4. real_of_int (c (n + 1)) \\<le> sqrt (real (n + 1)) / 4", "using \\<open>n > 4\\<close> \\<open>n / 4 < a n\\<close> \\<open>0 < c (n + 1)\\<close> \\<open>c (n + 1) < sqrt (real (n + 1)) / 4\\<close>"], ["proof (prove)\nusing this:\n  4 < n\n  real n / 4 < real_of_int (a n)\n  0 < c (n + 1)\n  real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4\n\ngoal (4 subgoals):\n 1. 0 \\<le> real n / 4 - 1\n 2. real n / 4 - 1 < real_of_int (a n - 1)\n 3. 0 < real_of_int (c (n + 1))\n 4. real_of_int (c (n + 1)) \\<le> sqrt (real (n + 1)) / 4", "by auto"], ["proof (state)\nthis:\n  (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)\n  < real_of_int (a n - 1) / real_of_int (c (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  (real n / 4 - 1) / (sqrt (real (n + 1)) / 4)\n  < real_of_int (a n - 1) / real_of_int (c (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "have \"... - 1 = (a n - c (n + 1) - 1) /  c (n + 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a n - 1) / real_of_int (c (n + 1)) - 1 =\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))", "using \\<open>0 < c (n + 1)\\<close>"], ["proof (prove)\nusing this:\n  0 < c (n + 1)\n\ngoal (1 subgoal):\n 1. real_of_int (a n - 1) / real_of_int (c (n + 1)) - 1 =\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real_of_int (a n - 1) / real_of_int (c (n + 1)) - 1 =\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "also"], ["proof (state)\nthis:\n  real_of_int (a n - 1) / real_of_int (c (n + 1)) - 1 =\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "have \"a n + ... < a (n+1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (a n) +\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n    < real_of_int (a (n + 1))", "using a_ineq"], ["proof (prove)\nusing this:\n  c (n + 1) < c n \\<longrightarrow>\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n  c (n + 1) < c n\n\ngoal (1 subgoal):\n 1. real_of_int (a n) +\n    real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n    < real_of_int (a (n + 1))", "by auto"], ["proof (state)\nthis:\n  real_of_int (a n) +\n  real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n  < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "finally"], ["proof (chain)\npicking this:\n  \\<lbrakk>\\<And>x y. x < y \\<Longrightarrow> x - 1 < y - 1;\n   \\<And>x y.\n      x < y \\<Longrightarrow>\n      real_of_int (a n) + x < real_of_int (a n) + y\\<rbrakk>\n  \\<Longrightarrow> real_of_int (a n) +\n                    (real (n - 4) / sqrt (real (n + 1)) - 1)\n                    < real_of_int (a (n + 1))", "have \"a n + ((n - 4) / sqrt (n + 1) - 1) < a (n + 1)\""], ["proof (prove)\nusing this:\n  \\<lbrakk>\\<And>x y. x < y \\<Longrightarrow> x - 1 < y - 1;\n   \\<And>x y.\n      x < y \\<Longrightarrow>\n      real_of_int (a n) + x < real_of_int (a n) + y\\<rbrakk>\n  \\<Longrightarrow> real_of_int (a n) +\n                    (real (n - 4) / sqrt (real (n + 1)) - 1)\n                    < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. real_of_int (a n) + (real (n - 4) / sqrt (real (n + 1)) - 1)\n    < real_of_int (a (n + 1))", "by simp"], ["proof (state)\nthis:\n  real_of_int (a n) + (real (n - 4) / sqrt (real (n + 1)) - 1)\n  < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "moreover"], ["proof (state)\nthis:\n  real_of_int (a n) + (real (n - 4) / sqrt (real (n + 1)) - 1)\n  < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "have \"(n - 4) / sqrt (n + 1) - 1 > sqrt n - 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt (real n) - 2 < real (n - 4) / sqrt (real (n + 1)) - 1", "using n_neq[THEN diff_strict_right_mono,of 2] \\<open>n>4\\<close>"], ["proof (prove)\nusing this:\n  sqrt (real n) - 2 < real (n - 4) / sqrt (real (n + 1)) + 1 - 2\n  4 < n\n\ngoal (1 subgoal):\n 1. sqrt (real n) - 2 < real (n - 4) / sqrt (real (n + 1)) - 1", "by (auto simp:algebra_simps of_nat_diff)"], ["proof (state)\nthis:\n  sqrt (real n) - 2 < real (n - 4) / sqrt (real (n + 1)) - 1\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>0 < c (n + 1);\n        real_of_int (c (n + 1)) < sqrt (real (n + 1)) / 4; 4 < n;\n        sqrt (real n) < real (n - 4) / sqrt (real (n + 1)) + 1;\n        c (n + 1) < c n \\<longrightarrow>\n        real_of_int (a n) +\n        real_of_int (a n - c (n + 1) - 1) / real_of_int (c (n + 1))\n        < real_of_int (a (n + 1));\n        real n / 4 < real_of_int (a n); c (n + 1) < c n\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a n) + (sqrt (real n) - 2)\n                         < real_of_int (a (n + 1))", "ultimately"], ["proof (chain)\npicking this:\n  real_of_int (a n) + (real (n - 4) / sqrt (real (n + 1)) - 1)\n  < real_of_int (a (n + 1))\n  sqrt (real n) - 2 < real (n - 4) / sqrt (real (n + 1)) - 1", "show \"real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))\""], ["proof (prove)\nusing this:\n  real_of_int (a n) + (real (n - 4) / sqrt (real (n + 1)) - 1)\n  < real_of_int (a (n + 1))\n  sqrt (real n) - 2 < real (n - 4) / sqrt (real (n + 1)) - 1\n\ngoal (1 subgoal):\n 1. real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))", "by argo"], ["proof (state)\nthis:\n  real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "text\\<open>The following corresponds to inequality $ a_{2N} > N^{3/2}/2$ in the paper,\n which had to be slightly corrected: \\<close>"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     c (n + 1) < c n \\<longrightarrow>\n     real_of_int (a n) + (sqrt (real n) - 2) < real_of_int (a (n + 1))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_2N_sqrt:\"\\<forall>\\<^sub>F N in sequentially. a (2*N) >  real N * (sqrt (real N)/2 - 1)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "using c_gt_half a_gt_sqrt[THEN eventually_all_ge_at_top] eventually_gt_at_top[of 4]"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>\\<^sub>F x in sequentially.\n     \\<forall>y\\<ge>x.\n        c (y + 1) < c y \\<longrightarrow>\n        real_of_int (a y) + (sqrt (real y) - 2) < real_of_int (a (y + 1))\n  eventually ((<) (4::?'a1)) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "case (elim N)"], ["proof (state)\nthis:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N.\n     c (y + 1) < c y \\<longrightarrow>\n     real_of_int (a y) + (sqrt (real y) - 2) < real_of_int (a (y + 1))\n  4 < N\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "define S where \"S={n \\<in> {N..<2 * N}. c (n + 1) < c n}\""], ["proof (state)\nthis:\n  S = {n \\<in> {N..<2 * N}. c (n + 1) < c n}\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "define f where \"f = (\\<lambda>n. a (Suc n) - a n)\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. a (Suc n) - a n)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "have f_N:\"\\<forall>x\\<in>S. f x\\<ge>sqrt N - 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x\\<in>S. sqrt (real N) - 2 \\<le> real_of_int (f x)", "proof"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f x)", "fix x"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f x)", "assume \"x\\<in>S\""], ["proof (state)\nthis:\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f x)", "then"], ["proof (chain)\npicking this:\n  x \\<in> S", "have \"sqrt (real x) - 2 < f x\" \"x\\<ge>N\""], ["proof (prove)\nusing this:\n  x \\<in> S\n\ngoal (1 subgoal):\n 1. sqrt (real x) - 2 < real_of_int (f x) &&& N \\<le> x", "using elim"], ["proof (prove)\nusing this:\n  x \\<in> S\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N.\n     c (y + 1) < c y \\<longrightarrow>\n     real_of_int (a y) + (sqrt (real y) - 2) < real_of_int (a (y + 1))\n  4 < N\n\ngoal (1 subgoal):\n 1. sqrt (real x) - 2 < real_of_int (f x) &&& N \\<le> x", "unfolding S_def f_def"], ["proof (prove)\nusing this:\n  x \\<in> {n \\<in> {N..<2 * N}. c (n + 1) < c n}\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N.\n     c (y + 1) < c y \\<longrightarrow>\n     real_of_int (a y) + (sqrt (real y) - 2) < real_of_int (a (y + 1))\n  4 < N\n\ngoal (1 subgoal):\n 1. sqrt (real x) - 2 < real_of_int (a (Suc x) - a x) &&& N \\<le> x", "by auto"], ["proof (state)\nthis:\n  sqrt (real x) - 2 < real_of_int (f x)\n  N \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f x)", "moreover"], ["proof (state)\nthis:\n  sqrt (real x) - 2 < real_of_int (f x)\n  N \\<le> x\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f x)", "have \"sqrt x - 2 \\<ge> sqrt N - 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. sqrt (real N) - 2 \\<le> sqrt (real x) - 2", "using \\<open>x\\<ge>N\\<close>"], ["proof (prove)\nusing this:\n  N \\<le> x\n\ngoal (1 subgoal):\n 1. sqrt (real N) - 2 \\<le> sqrt (real x) - 2", "by simp"], ["proof (state)\nthis:\n  sqrt (real N) - 2 \\<le> sqrt (real x) - 2\n\ngoal (1 subgoal):\n 1. \\<And>x.\n       x \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f x)", "ultimately"], ["proof (chain)\npicking this:\n  sqrt (real x) - 2 < real_of_int (f x)\n  N \\<le> x\n  sqrt (real N) - 2 \\<le> sqrt (real x) - 2", "show  \"sqrt (real N) - 2 \\<le> real_of_int (f x)\""], ["proof (prove)\nusing this:\n  sqrt (real x) - 2 < real_of_int (f x)\n  N \\<le> x\n  sqrt (real N) - 2 \\<le> sqrt (real x) - 2\n\ngoal (1 subgoal):\n 1. sqrt (real N) - 2 \\<le> real_of_int (f x)", "by argo"], ["proof (state)\nthis:\n  sqrt (real N) - 2 \\<le> real_of_int (f x)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>x\\<in>S. sqrt (real N) - 2 \\<le> real_of_int (f x)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "have f_0:\"\\<forall>x. f x\\<ge>0\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> f x", "using \\<open>mono a\\<close>[THEN incseq_SucD]"], ["proof (prove)\nusing this:\n  a ?i \\<le> a (Suc ?i)\n\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> f x", "unfolding f_def"], ["proof (prove)\nusing this:\n  a ?i \\<le> a (Suc ?i)\n\ngoal (1 subgoal):\n 1. \\<forall>x. 0 \\<le> a (Suc x) - a x", "by auto"], ["proof (state)\nthis:\n  \\<forall>x. 0 \\<le> f x\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "have \"(N / 2)  * (sqrt N - 2) < card S * (sqrt N - 2)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real N / 2 * (sqrt (real N) - 2) < real (card S) * (sqrt (real N) - 2)", "apply (rule mult_strict_right_mono)"], ["proof (prove)\ngoal (2 subgoals):\n 1. real N / 2 < real (card S)\n 2. 0 < sqrt (real N) - 2", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. real N / 2 < real (card S)", "using elim"], ["proof (prove)\nusing this:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N.\n     c (y + 1) < c y \\<longrightarrow>\n     real_of_int (a y) + (sqrt (real y) - 2) < real_of_int (a (y + 1))\n  4 < N\n\ngoal (1 subgoal):\n 1. real N / 2 < real (card S)", "unfolding S_def"], ["proof (prove)\nusing this:\n  real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})\n  \\<forall>y\\<ge>N.\n     c (y + 1) < c y \\<longrightarrow>\n     real_of_int (a y) + (sqrt (real y) - 2) < real_of_int (a (y + 1))\n  4 < N\n\ngoal (1 subgoal):\n 1. real N / 2 < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n})", "by auto"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < sqrt (real N) - 2", "subgoal"], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < sqrt (real N) - 2", "using \\<open>N>4\\<close>"], ["proof (prove)\nusing this:\n  4 < N\n\ngoal (1 subgoal):\n 1. 0 < sqrt (real N) - 2", "by (metis diff_gt_0_iff_gt numeral_less_real_of_nat_iff real_sqrt_four real_sqrt_less_iff)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["proof (state)\nthis:\n  real N / 2 * (sqrt (real N) - 2) < real (card S) * (sqrt (real N) - 2)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "also"], ["proof (state)\nthis:\n  real N / 2 * (sqrt (real N) - 2) < real (card S) * (sqrt (real N) - 2)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "have \"...  \\<le> sum f S\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real (card S) * (sqrt (real N) - 2) \\<le> real_of_int (sum f S)", "unfolding of_int_sum"], ["proof (prove)\ngoal (1 subgoal):\n 1. real (card S) * (sqrt (real N) - 2)\n    \\<le> (\\<Sum>x\\<in>S. real_of_int (f x))", "apply (rule sum_bounded_below)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f i)", "using f_N"], ["proof (prove)\nusing this:\n  \\<forall>x\\<in>S. sqrt (real N) - 2 \\<le> real_of_int (f x)\n\ngoal (1 subgoal):\n 1. \\<And>i.\n       i \\<in> S \\<Longrightarrow> sqrt (real N) - 2 \\<le> real_of_int (f i)", "by auto"], ["proof (state)\nthis:\n  real (card S) * (sqrt (real N) - 2) \\<le> real_of_int (sum f S)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "also"], ["proof (state)\nthis:\n  real (card S) * (sqrt (real N) - 2) \\<le> real_of_int (sum f S)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "have \"... \\<le> sum f {N..<2 * N}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (sum f S) \\<le> real_of_int (sum f {N..<2 * N})", "unfolding of_int_sum"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x\\<in>S. real_of_int (f x))\n    \\<le> (\\<Sum>x = N..<2 * N. real_of_int (f x))", "apply (rule sum_mono2)"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. S \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} - S \\<Longrightarrow> 0 \\<le> real_of_int (f b)", "unfolding S_def"], ["proof (prove)\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} -\n               {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<Longrightarrow>\n       0 \\<le> real_of_int (f b)", "using f_0"], ["proof (prove)\nusing this:\n  \\<forall>x. 0 \\<le> f x\n\ngoal (3 subgoals):\n 1. finite {N..<2 * N}\n 2. {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<subseteq> {N..<2 * N}\n 3. \\<And>b.\n       b \\<in> {N..<2 * N} -\n               {n \\<in> {N..<2 * N}. c (n + 1) < c n} \\<Longrightarrow>\n       0 \\<le> real_of_int (f b)", "by auto"], ["proof (state)\nthis:\n  real_of_int (sum f S) \\<le> real_of_int (sum f {N..<2 * N})\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "also"], ["proof (state)\nthis:\n  real_of_int (sum f S) \\<le> real_of_int (sum f {N..<2 * N})\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "have \"... = a (2*N) - a N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. real_of_int (sum f {N..<2 * N}) = real_of_int (a (2 * N) - a N)", "unfolding of_int_sum f_def of_int_diff"], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<Sum>x = N..<2 * N. real_of_int (a (Suc x)) - real_of_int (a x)) =\n    real_of_int (a (2 * N)) - real_of_int (a N)", "apply (rule sum_Suc_diff')"], ["proof (prove)\ngoal (1 subgoal):\n 1. N \\<le> 2 * N", "by auto"], ["proof (state)\nthis:\n  real_of_int (sum f {N..<2 * N}) = real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "finally"], ["proof (chain)\npicking this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)", "have \"real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)\""], ["proof (prove)\nusing this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)", "."], ["proof (state)\nthis:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "then"], ["proof (chain)\npicking this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)", "have \"real N / 2 * (sqrt (real N) - 2) < a (2 * N)\""], ["proof (prove)\nusing this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)\n\ngoal (1 subgoal):\n 1. real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N))", "using a_pos[rule_format,of N]"], ["proof (prove)\nusing this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N) - a N)\n  0 < a N\n\ngoal (1 subgoal):\n 1. real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N))", "by linarith"], ["proof (state)\nthis:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<And>N.\n       \\<lbrakk>real N / 2\n                < real (card {n \\<in> {N..<2 * N}. c (n + 1) < c n});\n        \\<forall>y\\<ge>N.\n           c (y + 1) < c y \\<longrightarrow>\n           real_of_int (a y) + (sqrt (real y) - 2)\n           < real_of_int (a (y + 1));\n        4 < N\\<rbrakk>\n       \\<Longrightarrow> real N * (sqrt (real N) / 2 - 1)\n                         < real_of_int (a (2 * N))", "then"], ["proof (chain)\npicking this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N))", "show ?case"], ["proof (prove)\nusing this:\n  real N / 2 * (sqrt (real N) - 2) < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "by (auto simp:field_simps)"], ["proof (state)\nthis:\n  real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "text\\<open>The following part is required to derive the final contradiction of the proof.\\<close>"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_n_sqrt:\"\\<forall>\\<^sub>F n in sequentially. a n > (((n-1)/2) powr (3/2) - (n-1)) /2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2\n       < real_of_int (a n)", "proof (rule sequentially_even_odd_imp)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real_of_int (a (2 * N))\n 2. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "define f where \"f=(\\<lambda>N. ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2)\""], ["proof (state)\nthis:\n  f =\n  (\\<lambda>N. ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2)\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real_of_int (a (2 * N))\n 2. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "define g where \"g=(\\<lambda>N. real N * (sqrt (real N) / 2 - 1))\""], ["proof (state)\nthis:\n  g = (\\<lambda>N. real N * (sqrt (real N) / 2 - 1))\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real_of_int (a (2 * N))\n 2. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "have \"\\<forall>\\<^sub>F N in sequentially. g N > f N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. f N < g N", "unfolding f_def g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real N * (sqrt (real N) / 2 - 1)", "by real_asymp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. f N < g N\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real_of_int (a (2 * N))\n 2. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. f N < g N\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real_of_int (a (2 * N))\n 2. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "have \"\\<forall>\\<^sub>F N in sequentially. a (2 * N) > g N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "using a_2N_sqrt"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))\n\ngoal (2 subgoals):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N - 1) / 2) powr (3 / 2) - real (2 * N - 1)) / 2\n       < real_of_int (a (2 * N))\n 2. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F N in sequentially. f N < g N\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))", "show \"\\<forall>\\<^sub>F N in sequentially. f N < a (2 * N)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially. f N < g N\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. f N < real_of_int (a (2 * N))", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. f N < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "define f where \"f=(\\<lambda>N. ((real (2 * N + 1 - 1) / 2) powr (3 / 2) \n                                  - real (2 * N + 1 - 1)) / 2)\""], ["proof (state)\nthis:\n  f =\n  (\\<lambda>N.\n      ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "define g where \"g=(\\<lambda>N. real N * (sqrt (real N) / 2 - 1))\""], ["proof (state)\nthis:\n  g = (\\<lambda>N. real N * (sqrt (real N) / 2 - 1))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "have \"\\<forall>\\<^sub>F N in sequentially. g N = f N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. g N = f N", "using eventually_gt_at_top[of 0]"], ["proof (prove)\nusing this:\n  eventually ((<) (0::?'a1)) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. g N = f N", "apply eventually_elim"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>N. 0 < N \\<Longrightarrow> g N = f N", "unfolding f_def g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>N.\n       0 < N \\<Longrightarrow>\n       real N * (sqrt (real N) / 2 - 1) =\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2", "by (auto simp:algebra_simps powr_half_sqrt[symmetric] powr_mult_base)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. g N = f N\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. g N = f N\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "have \"\\<forall>\\<^sub>F N in sequentially. a (2 * N) > g N\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))", "unfolding g_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "using a_2N_sqrt"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially.\n     real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       real N * (sqrt (real N) / 2 - 1) < real_of_int (a (2 * N))", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "have \"\\<forall>\\<^sub>F N in sequentially. a (2 * N + 1) \\<ge> a (2*N)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. a (2 * N) \\<le> a (2 * N + 1)", "apply (rule eventuallyI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>x. a (2 * x) \\<le> a (2 * x + 1)", "using \\<open>mono a\\<close>"], ["proof (prove)\nusing this:\n  incseq a\n\ngoal (1 subgoal):\n 1. \\<And>x. a (2 * x) \\<le> a (2 * x + 1)", "by (simp add: incseqD)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. a (2 * N) \\<le> a (2 * N + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       ((real (2 * N + 1 - 1) / 2) powr (3 / 2) - real (2 * N + 1 - 1)) / 2\n       < real_of_int (a (2 * N + 1))", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F N in sequentially. g N = f N\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))\n  \\<forall>\\<^sub>F N in sequentially. a (2 * N) \\<le> a (2 * N + 1)", "show \"\\<forall>\\<^sub>F N in sequentially. f N < (a (2 * N + 1))\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F N in sequentially. g N = f N\n  \\<forall>\\<^sub>F N in sequentially. g N < real_of_int (a (2 * N))\n  \\<forall>\\<^sub>F N in sequentially. a (2 * N) \\<le> a (2 * N + 1)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. f N < real_of_int (a (2 * N + 1))", "by eventually_elim auto"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. f N < real_of_int (a (2 * N + 1))\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2\n     < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_nth_prime_gt:\"\\<forall>\\<^sub>F n in sequentially. a n / nth_prime n > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "define f where \"f=(\\<lambda>n::nat. (((n-1)/2) powr (3/2) - (n-1)) /2)\""], ["proof (state)\nthis:\n  f = (\\<lambda>n. ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "have \"\\<forall>\\<^sub>F x in sequentially. real (nth_prime x) / (real x * ln (real x)) < 2\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       real (nth_prime x) / (real x * ln (real x)) < 2", "using nth_prime_asymptotics[unfolded asymp_equiv_def,THEN order_tendstoD(2),of 2]"], ["proof (prove)\nusing this:\n  1 < 2 \\<Longrightarrow>\n  \\<forall>\\<^sub>F x in sequentially.\n     (if real (nth_prime x) = 0 \\<and> real x * ln (real x) = 0 then 1\n      else real (nth_prime x) / (real x * ln (real x)))\n     < 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F x in sequentially.\n       real (nth_prime x) / (real x * ln (real x)) < 2", "by simp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "from this eventually_gt_at_top[of 1]"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2\n  eventually ((<) (1::?'a1)) at_top", "have \"\\<forall>\\<^sub>F n in sequentially. real (nth_prime n)   < 2*(real n * ln n)\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F x in sequentially.\n     real (nth_prime x) / (real x * ln (real x)) < 2\n  eventually ((<) (1::?'a1)) at_top\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       real (nth_prime n) < 2 * (real n * ln (real n))", "by eventually_elim (auto simp:field_simps)"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (nth_prime n) < 2 * (real n * ln (real n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (nth_prime n) < 2 * (real n * ln (real n))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "have *:\"\\<forall>\\<^sub>F N in sequentially. f N >0 \""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially. 0 < f N", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F N in sequentially.\n       0 < ((real (N - 1) / 2) powr (3 / 2) - real (N - 1)) / 2", "by real_asymp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. 0 < f N\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F N in sequentially. 0 < f N\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "have \" \\<forall>\\<^sub>F n in sequentially. f n < a n\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. f n < real_of_int (a n)", "using a_n_sqrt"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2\n     < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially. f n < real_of_int (a n)", "unfolding f_def"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2\n     < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2\n       < real_of_int (a n)", "."], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially. f n < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (nth_prime n) < 2 * (real n * ln (real n))\n  \\<forall>\\<^sub>F N in sequentially. 0 < f N\n  \\<forall>\\<^sub>F n in sequentially. f n < real_of_int (a n)", "have \"\\<forall>\\<^sub>F n in sequentially. a n / nth_prime n > f n / (2*(real n * ln n))\""], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     real (nth_prime n) < 2 * (real n * ln (real n))\n  \\<forall>\\<^sub>F N in sequentially. 0 < f N\n  \\<forall>\\<^sub>F n in sequentially. f n < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       f n / (2 * (real n * ln (real n)))\n       < real_of_int (a n) / real (nth_prime n)", "proof eventually_elim"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>real (nth_prime n) < 2 * (real n * ln (real n)); 0 < f n;\n        f n < real_of_int (a n)\\<rbrakk>\n       \\<Longrightarrow> f n / (2 * (real n * ln (real n)))\n                         < real_of_int (a n) / real (nth_prime n)", "case (elim n)"], ["proof (state)\nthis:\n  real (nth_prime n) < 2 * (real n * ln (real n))\n  0 < f n\n  f n < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. \\<And>n.\n       \\<lbrakk>real (nth_prime n) < 2 * (real n * ln (real n)); 0 < f n;\n        f n < real_of_int (a n)\\<rbrakk>\n       \\<Longrightarrow> f n / (2 * (real n * ln (real n)))\n                         < real_of_int (a n) / real (nth_prime n)", "then"], ["proof (chain)\npicking this:\n  real (nth_prime n) < 2 * (real n * ln (real n))\n  0 < f n\n  f n < real_of_int (a n)", "show ?case"], ["proof (prove)\nusing this:\n  real (nth_prime n) < 2 * (real n * ln (real n))\n  0 < f n\n  f n < real_of_int (a n)\n\ngoal (1 subgoal):\n 1. f n / (2 * (real n * ln (real n)))\n    < real_of_int (a n) / real (nth_prime n)", "by (auto intro: frac_less2)"], ["proof (state)\nthis:\n  f n / (2 * (real n * ln (real n)))\n  < real_of_int (a n) / real (nth_prime n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     f n / (2 * (real n * ln (real n)))\n     < real_of_int (a n) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "moreover"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     f n / (2 * (real n * ln (real n)))\n     < real_of_int (a n) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "have \"\\<forall>\\<^sub>F n in sequentially. (f n)/ (2*(real n * ln n)) > 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < f n / (2 * (real n * ln (real n)))", "unfolding f_def"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < ((real (n - 1) / 2) powr (3 / 2) - real (n - 1)) / 2 /\n           (2 * (real n * ln (real n)))", "by real_asymp"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < f n / (2 * (real n * ln (real n)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "ultimately"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     f n / (2 * (real n * ln (real n)))\n     < real_of_int (a n) / real (nth_prime n)\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < f n / (2 * (real n * ln (real n)))", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     f n / (2 * (real n * ln (real n)))\n     < real_of_int (a n) / real (nth_prime n)\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < f n / (2 * (real n * ln (real n)))\n\ngoal (1 subgoal):\n 1. \\<forall>\\<^sub>F n in sequentially.\n       1 < real_of_int (a n) / real (nth_prime n)", "by eventually_elim argo"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < real_of_int (a n) / real (nth_prime n)\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < real_of_int (a n) / real (nth_prime n)\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "have a_nth_prime_lt:\"\\<exists>\\<^sub>F n in sequentially. a n / nth_prime n < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (a n) / real (nth_prime n) < 1", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (a n) / real (nth_prime n) < 1", "have \"liminf (\\<lambda>x. a x / nth_prime x) < 1\""], ["proof (prove)\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (real_of_int (a x) / real (nth_prime x))) < 1", "using nth_2"], ["proof (prove)\nusing this:\n  liminf (\\<lambda>x. ereal (real_of_int (a x) / real (nth_prime x))) = 0\n\ngoal (1 subgoal):\n 1. liminf (\\<lambda>x. ereal (real_of_int (a x) / real (nth_prime x))) < 1", "by auto"], ["proof (state)\nthis:\n  liminf (\\<lambda>x. ereal (real_of_int (a x) / real (nth_prime x))) < 1\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (a n) / real (nth_prime n) < 1", "from this[unfolded less_Liminf_iff]"], ["proof (chain)\npicking this:\n  \\<exists>y<1.\n     \\<exists>\\<^sub>F x in sequentially.\n        ereal (real_of_int (a x) / real (nth_prime x)) \\<le> y", "show ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>y<1.\n     \\<exists>\\<^sub>F x in sequentially.\n        ereal (real_of_int (a x) / real (nth_prime x)) \\<le> y\n\ngoal (1 subgoal):\n 1. \\<exists>\\<^sub>F n in sequentially.\n       real_of_int (a n) / real (nth_prime n) < 1", "apply (auto elim!:frequently_elim1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>y i.\n       \\<lbrakk>y < 1;\n        ereal (real_of_int (a i) / real (nth_prime i)) \\<le> y\\<rbrakk>\n       \\<Longrightarrow> real_of_int (a i) < real (nth_prime i)", "by (meson divide_less_eq_1 ereal_less_eq(7) leD leI \n          nth_prime_nonzero of_nat_eq_0_iff of_nat_less_0_iff order.trans)"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (a n) / real (nth_prime n) < 1\n\ngoal:\nNo subgoals!", "qed"], ["proof (state)\nthis:\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (a n) / real (nth_prime n) < 1\n\ngoal (1 subgoal):\n 1. (\\<Sum>n. real (nth_prime n) / real_of_int (prod a {..n}))\n    \\<in> \\<rat> \\<Longrightarrow>\n    False", "from a_nth_prime_gt a_nth_prime_lt"], ["proof (chain)\npicking this:\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < real_of_int (a n) / real (nth_prime n)\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (a n) / real (nth_prime n) < 1", "show False"], ["proof (prove)\nusing this:\n  \\<forall>\\<^sub>F n in sequentially.\n     1 < real_of_int (a n) / real (nth_prime n)\n  \\<exists>\\<^sub>F n in sequentially.\n     real_of_int (a n) / real (nth_prime n) < 1\n\ngoal (1 subgoal):\n 1. False", "by (simp add: eventually_mono frequently_def)"], ["proof (state)\nthis:\n  False\n\ngoal:\nNo subgoals!", "qed"], ["", "section\\<open>Acknowledgements\\<close>"], ["", "text\\<open>A.K.-A. and W.L. were supported by the ERC Advanced Grant ALEXANDRIA (Project 742178)\n funded by the European Research Council and led by Professor Lawrence Paulson\n at the University of Cambridge, UK.\\<close>"], ["", "end"]]}