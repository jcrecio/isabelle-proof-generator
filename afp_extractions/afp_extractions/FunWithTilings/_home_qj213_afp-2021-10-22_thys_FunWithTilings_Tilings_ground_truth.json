{"file_name": "/home/qj213/afp-2021-10-22/thys/FunWithTilings/Tilings.thy", "working_directory": "/home/qj213/afp-2021-10-22/thys/FunWithTilings", "problem_names": ["lemma tiling_UnI [intro]:\n  \"\\<lbrakk> t \\<in> tiling A; u \\<in> tiling A; t \\<inter> u = {} \\<rbrakk> \\<Longrightarrow>  t \\<union> u \\<in> tiling A\"", "lemma tiling_Diff1E:\nassumes \"t-a \\<in> tiling A\" and \"a \\<in> A\" and \"a \\<subseteq> t\"\nshows \"t \\<in> tiling A\"", "lemma tiling_finite:\n  assumes \"\\<And>a. a \\<in> A \\<Longrightarrow> finite a\"\n  shows \"t \\<in> tiling A \\<Longrightarrow> finite t\"", "lemma domino_finite: \"d \\<in> domino \\<Longrightarrow> finite d\"", "lemma Sigma_Suc1 [simp]:\n  \"{0..< Suc n} \\<times> B = ({n} \\<times> B) \\<union> ({0..<n} \\<times> B)\"", "lemma Sigma_Suc2 [simp]:\n  \"A \\<times> {0..< Suc n} = (A \\<times> {n}) \\<union> (A \\<times> {0..<n})\"", "lemma dominoes_tile_row [intro!]: \"{i} \\<times> {0..< 2*n} \\<in> tiling domino\"", "lemma dominoes_tile_matrix: \"{0..<m} \\<times> {0..< 2*n} \\<in> tiling domino\"", "lemma coloured_insert [simp]:\n  \"coloured b \\<inter> (insert (i, j) t) =\n   (if (i + j) mod 2 = b then insert (i, j) (coloured b \\<inter> t)\n    else coloured b \\<inter> t)\"", "lemma domino_singletons:\n  \"d \\<in> domino \\<Longrightarrow>\n   (\\<exists>i j. whites \\<inter> d = {(i, j)}) \\<and>\n   (\\<exists>m n. blacks \\<inter> d = {(m, n)})\"", "lemma tiling_domino_0_1:\n  \"t \\<in> tiling domino ==> card(whites \\<inter> t) = card(blacks \\<inter> t)\"", "theorem gen_mutil_not_tiling:\n  \"t \\<in> tiling domino ==>\n  (i + j) mod 2 = 0 ==> (m + n) mod 2 = 0 ==>\n  {(i, j), (m, n)} \\<subseteq> t\n  ==> (t - {(i,j)} - {(m,n)}) \\<notin> tiling domino\"", "theorem mutil_not_tiling:\n  \"t = {0..< 2 * Suc m} \\<times> {0..< 2 * Suc n}\n   ==> t - {(0,0)} - {(Suc(2 * m), Suc(2 * n))} \\<notin> tiling domino\"", "lemma LinLs: \"L0 i j : Ls & L1 i j : Ls & L2 i j : Ls & L3 i j : Ls\"", "lemma in_square2[simp]:\n  \"(a,b) : square2 n i j \\<longleftrightarrow> i\\<le>a \\<and> a<2^n+i \\<and> j\\<le>b \\<and> b<2^n+j\"", "lemma square2_Suc: \"square2 (Suc n) i j =\n  square2 n i j \\<union> square2 n (2^n + i) j \\<union> square2 n i (2^n + j) \\<union>\n  square2 n (2^n + i) (2^n + j)\"", "lemma square2_disj: \"square2 n i j \\<inter> square2 n x y = {} \\<longleftrightarrow>\n  (2^n+i \\<le> x \\<or> 2^n+x \\<le> i) \\<or> (2^n+j \\<le> y \\<or> 2^n+y \\<le> j)\" (is \"?A = ?B\")", "lemma pos_pow2: \"(0::nat) < 2^(n::nat)\"", "lemma Diff_insert_if: shows\n  \"B \\<noteq> {} \\<Longrightarrow> a:A \\<Longrightarrow> A - insert a B = (A-B - {a})\" and\n  \"B \\<noteq> {} \\<Longrightarrow> a ~: A \\<Longrightarrow> A - insert a B = A-B\"", "lemma DisjI1: \"A Int B = {} \\<Longrightarrow> (A-X) Int B = {}\"", "lemma DisjI2: \"A Int B = {} \\<Longrightarrow> A Int (B-X) = {}\"", "theorem Ls_can_tile: \"i \\<le> a \\<Longrightarrow> a < 2^n + i \\<Longrightarrow> j \\<le> b \\<Longrightarrow> b < 2^n + j\n  \\<Longrightarrow> square2 n i j - {(a,b)} : tiling Ls\""], "translations": [["", "lemma tiling_UnI [intro]:\n  \"\\<lbrakk> t \\<in> tiling A; u \\<in> tiling A; t \\<inter> u = {} \\<rbrakk> \\<Longrightarrow>  t \\<union> u \\<in> tiling A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> tiling A; u \\<in> tiling A; t \\<inter> u = {}\\<rbrakk>\n    \\<Longrightarrow> t \\<union> u \\<in> tiling A", "apply (induct set: tiling)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>u \\<in> tiling A; {} \\<inter> u = {}\\<rbrakk>\n    \\<Longrightarrow> {} \\<union> u \\<in> tiling A\n 2. \\<And>a t.\n       \\<lbrakk>a \\<in> A; t \\<in> tiling A;\n        \\<lbrakk>u \\<in> tiling A; t \\<inter> u = {}\\<rbrakk>\n        \\<Longrightarrow> t \\<union> u \\<in> tiling A;\n        a \\<inter> t = {}; u \\<in> tiling A;\n        (a \\<union> t) \\<inter> u = {}\\<rbrakk>\n       \\<Longrightarrow> a \\<union> t \\<union> u \\<in> tiling A", "apply (auto simp add: Un_assoc)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma tiling_Diff1E:\nassumes \"t-a \\<in> tiling A\" and \"a \\<in> A\" and \"a \\<subseteq> t\"\nshows \"t \\<in> tiling A\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> tiling A", "proof -"], ["proof (state)\ngoal (1 subgoal):\n 1. t \\<in> tiling A", "from assms(2-3)"], ["proof (chain)\npicking this:\n  a \\<in> A\n  a \\<subseteq> t", "have  \"\\<exists>r. t = r Un a & r Int a = {}\""], ["proof (prove)\nusing this:\n  a \\<in> A\n  a \\<subseteq> t\n\ngoal (1 subgoal):\n 1. \\<exists>r. t = r \\<union> a \\<and> r \\<inter> a = {}", "by (metis Diff_disjoint Int_commute Un_Diff_cancel Un_absorb1 Un_commute)"], ["proof (state)\nthis:\n  \\<exists>r. t = r \\<union> a \\<and> r \\<inter> a = {}\n\ngoal (1 subgoal):\n 1. t \\<in> tiling A", "thus ?thesis"], ["proof (prove)\nusing this:\n  \\<exists>r. t = r \\<union> a \\<and> r \\<inter> a = {}\n\ngoal (1 subgoal):\n 1. t \\<in> tiling A", "using assms(1,2)"], ["proof (prove)\nusing this:\n  \\<exists>r. t = r \\<union> a \\<and> r \\<inter> a = {}\n  t - a \\<in> tiling A\n  a \\<in> A\n\ngoal (1 subgoal):\n 1. t \\<in> tiling A", "by (auto simp:Un_Diff)\n       (metis Compl_Diff_eq Diff_Compl Diff_empty Int_commute Un_Diff_cancel\n              Un_commute double_complement tiling.Un)"], ["proof (state)\nthis:\n  t \\<in> tiling A\n\ngoal:\nNo subgoals!", "qed"], ["", "lemma tiling_finite:\n  assumes \"\\<And>a. a \\<in> A \\<Longrightarrow> finite a\"\n  shows \"t \\<in> tiling A \\<Longrightarrow> finite t\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> tiling A \\<Longrightarrow> finite t", "apply (induct set: tiling)"], ["proof (prove)\ngoal (2 subgoals):\n 1. finite {}\n 2. \\<And>a t.\n       \\<lbrakk>a \\<in> A; t \\<in> tiling A; finite t;\n        a \\<inter> t = {}\\<rbrakk>\n       \\<Longrightarrow> finite (a \\<union> t)", "using assms"], ["proof (prove)\nusing this:\n  ?a \\<in> A \\<Longrightarrow> finite ?a\n\ngoal (2 subgoals):\n 1. finite {}\n 2. \\<And>a t.\n       \\<lbrakk>a \\<in> A; t \\<in> tiling A; finite t;\n        a \\<inter> t = {}\\<rbrakk>\n       \\<Longrightarrow> finite (a \\<union> t)", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "section\\<open>The Mutilated Chess Board Cannot be Tiled by Dominoes\\<close>"], ["", "text \\<open>The originator of this problem is Max Black, according to J A\nRobinson. It was popularized as the \\emph{Mutilated Checkerboard Problem} by\nJ McCarthy.\\<close>"], ["", "inductive_set domino :: \"(nat \\<times> nat) set set\" where\nhoriz [simp]: \"{(i, j), (i, Suc j)} \\<in> domino\" |\nvertl [simp]: \"{(i, j), (Suc i, j)} \\<in> domino\""], ["", "lemma domino_finite: \"d \\<in> domino \\<Longrightarrow> finite d\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d \\<in> domino \\<Longrightarrow> finite d", "by (erule domino.cases, auto)"], ["", "declare tiling_finite[OF domino_finite, simp]"], ["", "text \\<open>\\medskip Sets of squares of the given colour\\<close>"], ["", "definition\n  coloured :: \"nat \\<Rightarrow> (nat \\<times> nat) set\" where\n  \"coloured b = {(i, j). (i + j) mod 2 = b}\""], ["", "abbreviation\n  whites  :: \"(nat \\<times> nat) set\" where\n  \"whites \\<equiv> coloured 0\""], ["", "abbreviation\n  blacks  :: \"(nat \\<times> nat) set\" where\n  \"blacks \\<equiv> coloured (Suc 0)\""], ["", "text \\<open>\\medskip Chess boards\\<close>"], ["", "lemma Sigma_Suc1 [simp]:\n  \"{0..< Suc n} \\<times> B = ({n} \\<times> B) \\<union> ({0..<n} \\<times> B)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..<Suc n} \\<times> B = {n} \\<times> B \\<union> {0..<n} \\<times> B", "by auto"], ["", "lemma Sigma_Suc2 [simp]:\n  \"A \\<times> {0..< Suc n} = (A \\<times> {n}) \\<union> (A \\<times> {0..<n})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<times> {0..<Suc n} = A \\<times> {n} \\<union> A \\<times> {0..<n}", "by auto"], ["", "lemma dominoes_tile_row [intro!]: \"{i} \\<times> {0..< 2*n} \\<in> tiling domino\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {i} \\<times> {0..<2 * n} \\<in> tiling domino", "apply (induct n)"], ["proof (prove)\ngoal (2 subgoals):\n 1. {i} \\<times> {0..<2 * 0} \\<in> tiling domino\n 2. \\<And>n.\n       {i} \\<times> {0..<2 * n} \\<in> tiling domino \\<Longrightarrow>\n       {i} \\<times> {0..<2 * Suc n} \\<in> tiling domino", "apply (simp_all del:Un_insert_left add: Un_assoc [symmetric])"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "lemma dominoes_tile_matrix: \"{0..<m} \\<times> {0..< 2*n} \\<in> tiling domino\""], ["proof (prove)\ngoal (1 subgoal):\n 1. {0..<m} \\<times> {0..<2 * n} \\<in> tiling domino", "by (induct m) auto"], ["", "text \\<open>\\medskip @{term coloured} and Dominoes\\<close>"], ["", "lemma coloured_insert [simp]:\n  \"coloured b \\<inter> (insert (i, j) t) =\n   (if (i + j) mod 2 = b then insert (i, j) (coloured b \\<inter> t)\n    else coloured b \\<inter> t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. coloured b \\<inter> insert (i, j) t =\n    (if (i + j) mod 2 = b then insert (i, j) (coloured b \\<inter> t)\n     else coloured b \\<inter> t)", "by (auto simp add: coloured_def)"], ["", "lemma domino_singletons:\n  \"d \\<in> domino \\<Longrightarrow>\n   (\\<exists>i j. whites \\<inter> d = {(i, j)}) \\<and>\n   (\\<exists>m n. blacks \\<inter> d = {(m, n)})\""], ["proof (prove)\ngoal (1 subgoal):\n 1. d \\<in> domino \\<Longrightarrow>\n    (\\<exists>i j. whites \\<inter> d = {(i, j)}) \\<and>\n    (\\<exists>m n. blacks \\<inter> d = {(m, n)})", "apply (erule domino.cases)"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>i j.\n       d = {(i, j), (i, Suc j)} \\<Longrightarrow>\n       (\\<exists>i j. whites \\<inter> d = {(i, j)}) \\<and>\n       (\\<exists>m n. blacks \\<inter> d = {(m, n)})\n 2. \\<And>i j.\n       d = {(i, j), (Suc i, j)} \\<Longrightarrow>\n       (\\<exists>i j. whites \\<inter> d = {(i, j)}) \\<and>\n       (\\<exists>m n. blacks \\<inter> d = {(m, n)})", "apply (auto simp add: mod_Suc)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\\medskip Tilings of dominoes\\<close>"], ["", "declare\n  Int_Un_distrib [simp]\n  Diff_Int_distrib [simp]"], ["", "lemma tiling_domino_0_1:\n  \"t \\<in> tiling domino ==> card(whites \\<inter> t) = card(blacks \\<inter> t)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t \\<in> tiling domino \\<Longrightarrow>\n    card (whites \\<inter> t) = card (blacks \\<inter> t)", "apply (induct set: tiling)"], ["proof (prove)\ngoal (2 subgoals):\n 1. card (whites \\<inter> {}) = card (blacks \\<inter> {})\n 2. \\<And>a t.\n       \\<lbrakk>a \\<in> domino; t \\<in> tiling domino;\n        card (whites \\<inter> t) = card (blacks \\<inter> t);\n        a \\<inter> t = {}\\<rbrakk>\n       \\<Longrightarrow> card (whites \\<inter> (a \\<union> t)) =\n                         card (blacks \\<inter> (a \\<union> t))", "apply (drule_tac [2] domino_singletons)"], ["proof (prove)\ngoal (2 subgoals):\n 1. card (whites \\<inter> {}) = card (blacks \\<inter> {})\n 2. \\<And>a t.\n       \\<lbrakk>t \\<in> tiling domino;\n        card (whites \\<inter> t) = card (blacks \\<inter> t);\n        a \\<inter> t = {};\n        (\\<exists>i j. whites \\<inter> a = {(i, j)}) \\<and>\n        (\\<exists>m n. blacks \\<inter> a = {(m, n)})\\<rbrakk>\n       \\<Longrightarrow> card (whites \\<inter> (a \\<union> t)) =\n                         card (blacks \\<inter> (a \\<union> t))", "apply (auto)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a t i m j n.\n       \\<lbrakk>t \\<in> tiling domino;\n        card (whites \\<inter> t) = card (blacks \\<inter> t);\n        a \\<inter> t = {}; whites \\<inter> a = {(i, j)};\n        blacks \\<inter> a = {(m, n)}\\<rbrakk>\n       \\<Longrightarrow> card (insert (i, j) (whites \\<inter> t)) =\n                         card (insert (m, n) (blacks \\<inter> t))", "apply (subgoal_tac \"\\<forall>p C. C \\<inter> a = {p} --> p \\<notin> t\")\n  \\<comment> \\<open>this lemma tells us that both ``inserts'' are non-trivial\\<close>"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<And>a t i m j n.\n       \\<lbrakk>t \\<in> tiling domino;\n        card (whites \\<inter> t) = card (blacks \\<inter> t);\n        a \\<inter> t = {}; whites \\<inter> a = {(i, j)};\n        blacks \\<inter> a = {(m, n)};\n        \\<forall>p C.\n           C \\<inter> a = {p} \\<longrightarrow> p \\<notin> t\\<rbrakk>\n       \\<Longrightarrow> card (insert (i, j) (whites \\<inter> t)) =\n                         card (insert (m, n) (blacks \\<inter> t))\n 2. \\<And>a t i m j n.\n       \\<lbrakk>t \\<in> tiling domino;\n        card (whites \\<inter> t) = card (blacks \\<inter> t);\n        a \\<inter> t = {}; whites \\<inter> a = {(i, j)};\n        blacks \\<inter> a = {(m, n)}\\<rbrakk>\n       \\<Longrightarrow> \\<forall>p C.\n                            C \\<inter> a = {p} \\<longrightarrow>\n                            p \\<notin> t", "apply (simp (no_asm_simp))"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<And>a t i m j n.\n       \\<lbrakk>t \\<in> tiling domino;\n        card (whites \\<inter> t) = card (blacks \\<inter> t);\n        a \\<inter> t = {}; whites \\<inter> a = {(i, j)};\n        blacks \\<inter> a = {(m, n)}\\<rbrakk>\n       \\<Longrightarrow> \\<forall>p C.\n                            C \\<inter> a = {p} \\<longrightarrow>\n                            p \\<notin> t", "apply blast"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>\\medskip Final argument is surprisingly complex\\<close>"], ["", "theorem gen_mutil_not_tiling:\n  \"t \\<in> tiling domino ==>\n  (i + j) mod 2 = 0 ==> (m + n) mod 2 = 0 ==>\n  {(i, j), (m, n)} \\<subseteq> t\n  ==> (t - {(i,j)} - {(m,n)}) \\<notin> tiling domino\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> tiling domino; (i + j) mod 2 = 0; (m + n) mod 2 = 0;\n     {(i, j), (m, n)} \\<subseteq> t\\<rbrakk>\n    \\<Longrightarrow> t - {(i, j)} - {(m, n)} \\<notin> tiling domino", "apply (rule notI)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> tiling domino; (i + j) mod 2 = 0; (m + n) mod 2 = 0;\n     {(i, j), (m, n)} \\<subseteq> t;\n     t - {(i, j)} - {(m, n)} \\<in> tiling domino\\<rbrakk>\n    \\<Longrightarrow> False", "apply (subgoal_tac\n  \"card (whites \\<inter> (t - {(i,j)} - {(m,n)})) <\n   card (blacks \\<inter> (t - {(i,j)} - {(m,n)}))\")"], ["proof (prove)\ngoal (2 subgoals):\n 1. \\<lbrakk>t \\<in> tiling domino; (i + j) mod 2 = 0; (m + n) mod 2 = 0;\n     {(i, j), (m, n)} \\<subseteq> t;\n     t - {(i, j)} - {(m, n)} \\<in> tiling domino;\n     card (whites \\<inter> (t - {(i, j)} - {(m, n)}))\n     < card (blacks \\<inter> (t - {(i, j)} - {(m, n)}))\\<rbrakk>\n    \\<Longrightarrow> False\n 2. \\<lbrakk>t \\<in> tiling domino; (i + j) mod 2 = 0; (m + n) mod 2 = 0;\n     {(i, j), (m, n)} \\<subseteq> t;\n     t - {(i, j)} - {(m, n)} \\<in> tiling domino\\<rbrakk>\n    \\<Longrightarrow> card (whites \\<inter> (t - {(i, j)} - {(m, n)}))\n                      < card (blacks \\<inter> (t - {(i, j)} - {(m, n)}))", "apply (force simp only: tiling_domino_0_1)"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> tiling domino; (i + j) mod 2 = 0; (m + n) mod 2 = 0;\n     {(i, j), (m, n)} \\<subseteq> t;\n     t - {(i, j)} - {(m, n)} \\<in> tiling domino\\<rbrakk>\n    \\<Longrightarrow> card (whites \\<inter> (t - {(i, j)} - {(m, n)}))\n                      < card (blacks \\<inter> (t - {(i, j)} - {(m, n)}))", "apply (simp add: tiling_domino_0_1 [symmetric])"], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>t \\<in> tiling domino; (i + j) mod 2 = 0; (m + n) mod 2 = 0;\n     (i, j) \\<in> t \\<and> (m, n) \\<in> t;\n     t - {(i, j)} - {(m, n)} \\<in> tiling domino\\<rbrakk>\n    \\<Longrightarrow> card (whites \\<inter> t - {(i, j)} - {(m, n)})\n                      < card (whites \\<inter> t)", "apply (simp add: coloured_def card_Diff2_less)"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "text \\<open>Apply the general theorem to the well-known case\\<close>"], ["", "theorem mutil_not_tiling:\n  \"t = {0..< 2 * Suc m} \\<times> {0..< 2 * Suc n}\n   ==> t - {(0,0)} - {(Suc(2 * m), Suc(2 * n))} \\<notin> tiling domino\""], ["proof (prove)\ngoal (1 subgoal):\n 1. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    t - {(0, 0)} - {(Suc (2 * m), Suc (2 * n))} \\<notin> tiling domino", "apply (rule gen_mutil_not_tiling)"], ["proof (prove)\ngoal (4 subgoals):\n 1. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    t \\<in> tiling domino\n 2. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    (0 + 0) mod 2 = 0\n 3. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    (Suc (2 * m) + Suc (2 * n)) mod 2 = 0\n 4. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    {(0, 0), (Suc (2 * m), Suc (2 * n))} \\<subseteq> t", "apply (blast intro!: dominoes_tile_matrix)"], ["proof (prove)\ngoal (3 subgoals):\n 1. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    (0 + 0) mod 2 = 0\n 2. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    (Suc (2 * m) + Suc (2 * n)) mod 2 = 0\n 3. t = {0..<2 * Suc m} \\<times> {0..<2 * Suc n} \\<Longrightarrow>\n    {(0, 0), (Suc (2 * m), Suc (2 * n))} \\<subseteq> t", "apply auto"], ["proof (prove)\ngoal:\nNo subgoals!", "done"], ["", "section\\<open>The Mutilated Chess Board Can be Tiled by Ls\\<close>"], ["", "text\\<open>Remove a arbitrary square from a chess board of size $2^n \\times 2^n$.\nThe result can be tiled by L-shaped tiles:\n\\begin{picture}(8,8)\n\\put(0,0){\\framebox(4,4){}}\n\\put(4,0){\\framebox(4,4){}}\n\\put(0,4){\\framebox(4,4){}}\n\\end{picture}.\nThe four possible L-shaped tiles are obtained by dropping\none of the four squares from $\\{(x,y),(x+1,y),(x,y+1),(x+1,y+1)\\}$:\\<close>"], ["", "definition \"L2 (x::nat) (y::nat) = {(x,y), (x+1,y), (x, y+1)}\""], ["", "definition \"L3 (x::nat) (y::nat) = {(x,y), (x+1,y), (x+1, y+1)}\""], ["", "definition \"L0 (x::nat) (y::nat) = {(x+1,y), (x,y+1), (x+1, y+1)}\""], ["", "definition \"L1 (x::nat) (y::nat) = {(x,y), (x,y+1), (x+1, y+1)}\""], ["", "text\\<open>All tiles:\\<close>"], ["", "definition Ls :: \"(nat * nat) set set\" where\n\"Ls \\<equiv> { L0 x y | x y. True} \\<union> { L1 x y | x y. True} \\<union>\n      { L2 x y | x y. True} \\<union> { L3 x y | x y. True}\""], ["", "lemma LinLs: \"L0 i j : Ls & L1 i j : Ls & L2 i j : Ls & L3 i j : Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. L0 i j \\<in> Ls \\<and>\n    L1 i j \\<in> Ls \\<and> L2 i j \\<in> Ls \\<and> L3 i j \\<in> Ls", "by(fastforce simp:Ls_def)"], ["", "text\\<open>Square $2^n \\times 2^n$ grid, shifted by $i$ and $j$:\\<close>"], ["", "definition \"square2 (n::nat) (i::nat) (j::nat) = {i..< 2^n+i} \\<times> {j..< 2^n+j}\""], ["", "lemma in_square2[simp]:\n  \"(a,b) : square2 n i j \\<longleftrightarrow> i\\<le>a \\<and> a<2^n+i \\<and> j\\<le>b \\<and> b<2^n+j\""], ["proof (prove)\ngoal (1 subgoal):\n 1. ((a, b) \\<in> square2 n i j) =\n    (i \\<le> a \\<and> a < 2 ^ n + i \\<and> j \\<le> b \\<and> b < 2 ^ n + j)", "by(simp add:square2_def)"], ["", "lemma square2_Suc: \"square2 (Suc n) i j =\n  square2 n i j \\<union> square2 n (2^n + i) j \\<union> square2 n i (2^n + j) \\<union>\n  square2 n (2^n + i) (2^n + j)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 (Suc n) i j =\n    square2 n i j \\<union> square2 n (2 ^ n + i) j \\<union>\n    square2 n i (2 ^ n + j) \\<union>\n    square2 n (2 ^ n + i) (2 ^ n + j)", "by(auto simp:square2_def)"], ["", "lemma square2_disj: \"square2 n i j \\<inter> square2 n x y = {} \\<longleftrightarrow>\n  (2^n+i \\<le> x \\<or> 2^n+x \\<le> i) \\<or> (2^n+j \\<le> y \\<or> 2^n+y \\<le> j)\" (is \"?A = ?B\")"], ["proof (prove)\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "proof-"], ["proof (state)\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "{"], ["proof (state)\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "assume ?B"], ["proof (state)\nthis:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "hence ?A"], ["proof (prove)\nusing this:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j\n\ngoal (1 subgoal):\n 1. square2 n i j \\<inter> square2 n x y = {}", "by(auto simp:square2_def)"], ["proof (state)\nthis:\n  square2 n i j \\<inter> square2 n x y = {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "}"], ["proof (state)\nthis:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y = {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "moreover"], ["proof (state)\nthis:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y = {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "{"], ["proof (state)\nthis:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y = {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "assume \"\\<not> ?B\""], ["proof (state)\nthis:\n  \\<not> ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n          2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "hence \"(max i x, max j y) : square2 n i j \\<inter> square2 n x y\""], ["proof (prove)\nusing this:\n  \\<not> ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n          2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)\n\ngoal (1 subgoal):\n 1. (max i x, max j y) \\<in> square2 n i j \\<inter> square2 n x y", "by simp"], ["proof (state)\nthis:\n  (max i x, max j y) \\<in> square2 n i j \\<inter> square2 n x y\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "hence \"\\<not> ?A\""], ["proof (prove)\nusing this:\n  (max i x, max j y) \\<in> square2 n i j \\<inter> square2 n x y\n\ngoal (1 subgoal):\n 1. square2 n i j \\<inter> square2 n x y \\<noteq> {}", "by blast"], ["proof (state)\nthis:\n  square2 n i j \\<inter> square2 n x y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "}"], ["proof (state)\nthis:\n  \\<not> ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n          2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j) \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "ultimately"], ["proof (chain)\npicking this:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y = {}\n  \\<not> ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n          2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j) \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y \\<noteq> {}", "show ?thesis"], ["proof (prove)\nusing this:\n  (2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n  2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y = {}\n  \\<not> ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n          2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j) \\<Longrightarrow>\n  square2 n i j \\<inter> square2 n x y \\<noteq> {}\n\ngoal (1 subgoal):\n 1. (square2 n i j \\<inter> square2 n x y = {}) =\n    ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n     2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)", "by blast"], ["proof (state)\nthis:\n  (square2 n i j \\<inter> square2 n x y = {}) =\n  ((2 ^ n + i \\<le> x \\<or> 2 ^ n + x \\<le> i) \\<or>\n   2 ^ n + j \\<le> y \\<or> 2 ^ n + y \\<le> j)\n\ngoal:\nNo subgoals!", "qed"], ["", "text\\<open>Some specific lemmas:\\<close>"], ["", "lemma pos_pow2: \"(0::nat) < 2^(n::nat)\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 0 < 2 ^ n", "by simp"], ["", "declare nat_zero_less_power_iff[simp del] zero_less_power[simp del]"], ["", "lemma Diff_insert_if: shows\n  \"B \\<noteq> {} \\<Longrightarrow> a:A \\<Longrightarrow> A - insert a B = (A-B - {a})\" and\n  \"B \\<noteq> {} \\<Longrightarrow> a ~: A \\<Longrightarrow> A - insert a B = A-B\""], ["proof (prove)\ngoal (1 subgoal):\n 1. (\\<lbrakk>B \\<noteq> {}; a \\<in> A\\<rbrakk>\n     \\<Longrightarrow> A - insert a B = A - B - {a}) &&&\n    (\\<lbrakk>B \\<noteq> {}; a \\<notin> A\\<rbrakk>\n     \\<Longrightarrow> A - insert a B = A - B)", "by auto"], ["", "lemma DisjI1: \"A Int B = {} \\<Longrightarrow> (A-X) Int B = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> B = {} \\<Longrightarrow> (A - X) \\<inter> B = {}", "by blast"], ["", "lemma DisjI2: \"A Int B = {} \\<Longrightarrow> A Int (B-X) = {}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. A \\<inter> B = {} \\<Longrightarrow> A \\<inter> (B - X) = {}", "by blast"], ["", "text\\<open>The main theorem:\\<close>"], ["", "theorem Ls_can_tile: \"i \\<le> a \\<Longrightarrow> a < 2^n + i \\<Longrightarrow> j \\<le> b \\<Longrightarrow> b < 2^n + j\n  \\<Longrightarrow> square2 n i j - {(a,b)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b; b < 2 ^ n + j\\<rbrakk>\n    \\<Longrightarrow> square2 n i j - {(a, b)} \\<in> tiling Ls", "proof(induct n arbitrary: a b i j)"], ["proof (state)\ngoal (2 subgoals):\n 1. \\<And>a b i j.\n       \\<lbrakk>i \\<le> a; a < 2 ^ 0 + i; j \\<le> b; b < 2 ^ 0 + j\\<rbrakk>\n       \\<Longrightarrow> square2 0 i j - {(a, b)} \\<in> tiling Ls\n 2. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "case 0"], ["proof (state)\nthis:\n  i \\<le> a\n  a < 2 ^ 0 + i\n  j \\<le> b\n  b < 2 ^ 0 + j\n\ngoal (2 subgoals):\n 1. \\<And>a b i j.\n       \\<lbrakk>i \\<le> a; a < 2 ^ 0 + i; j \\<le> b; b < 2 ^ 0 + j\\<rbrakk>\n       \\<Longrightarrow> square2 0 i j - {(a, b)} \\<in> tiling Ls\n 2. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "thus ?case"], ["proof (prove)\nusing this:\n  i \\<le> a\n  a < 2 ^ 0 + i\n  j \\<le> b\n  b < 2 ^ 0 + j\n\ngoal (1 subgoal):\n 1. square2 0 i j - {(a, b)} \\<in> tiling Ls", "by (simp add:square2_def)"], ["proof (state)\nthis:\n  square2 0 i j - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "next"], ["proof (state)\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "case (Suc n)"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "note IH = Suc(1) and a = Suc(2-3) and b = Suc(4-5)"], ["proof (state)\nthis:\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "hence \"a<2^n+i \\<and> b<2^n+j \\<or>\n         2^n+i\\<le>a \\<and> a<2^(n+1)+i \\<and> b<2^n+j \\<or>\n         a<2^n+i \\<and> 2^n+j\\<le>b \\<and> b<2^(n+1)+j \\<or>\n         2^n+i\\<le>a \\<and> a<2^(n+1)+i \\<and> 2^n+j\\<le>b \\<and> b<2^(n+1)+j\" (is \"?A|?B|?C|?D\")"], ["proof (prove)\nusing this:\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<or>\n    2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<or>\n    a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<or>\n    2 ^ n + i \\<le> a \\<and>\n    a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j", "by simp arith"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<or>\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<or>\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<or>\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<or>\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<or>\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<or>\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "{"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<or>\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<or>\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<or>\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "assume \"?A\""], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "hence \"square2 n i j - {(a,b)} : tiling Ls\""], ["proof (prove)\nusing this:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j\n\ngoal (1 subgoal):\n 1. square2 n i j - {(a, b)} \\<in> tiling Ls", "using IH a b"], ["proof (prove)\nusing this:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. square2 n i j - {(a, b)} \\<in> tiling Ls", "by auto"], ["proof (state)\nthis:\n  square2 n i j - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i j - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n (2^n+i) j - {(2^n+i,2^n+j - 1)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n i (2^n+j) - {(2^n+i - 1, 2^n+j)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n (2^n+i) (2^n+j) - {(2^n+i, 2^n+j)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n    \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "ultimately"], ["proof (chain)\npicking this:\n  square2 n i j - {(a, b)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls", "have \"square2 (n+1) i j - {(a,b)} - L0 (2^n+i - 1) (2^n+j - 1) \\<in> tiling Ls\""], ["proof (prove)\nusing this:\n  square2 n i j - {(a, b)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "using  a b \\<open>?A\\<close>"], ["proof (prove)\nusing this:\n  square2 n i j - {(a, b)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "by (clarsimp simp: square2_Suc L0_def Un_Diff Diff_insert_if)\n         (fastforce intro!: tiling_UnI DisjI1 DisjI2 square2_disj[THEN iffD2]\n                   simp:Int_Un_distrib2)"], ["proof (state)\nthis:\n  square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "}"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "{"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "assume \"?B\""], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "hence \"square2 n (2^n+i) j - {(a,b)} : tiling Ls\""], ["proof (prove)\nusing this:\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j\n\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls", "using IH a b"], ["proof (prove)\nusing this:\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls", "by auto"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n i j - {(2^n+i - 1,2^n+j - 1)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n i (2^n+j) - {(2^n+i - 1, 2^n+j)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n (2^n+i) (2^n+j) - {(2^n+i, 2^n+j)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n    \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "ultimately"], ["proof (chain)\npicking this:\n  square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls", "have \"square2 (n+1) i j - {(a,b)} - L1 (2^n+i - 1) (2^n+j - 1) \\<in> tiling Ls\""], ["proof (prove)\nusing this:\n  square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "using  a b \\<open>?B\\<close>"], ["proof (prove)\nusing this:\n  square2 n (2 ^ n + i) j - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "by (simp add: square2_Suc L1_def Un_Diff Diff_insert_if le_diff_conv2)\n         (fastforce intro!: tiling_UnI DisjI1 DisjI2 square2_disj[THEN iffD2]\n                   simp:Int_Un_distrib2)"], ["proof (state)\nthis:\n  square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "}"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "{"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "assume \"?C\""], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "hence \"square2 n i (2^n+j) - {(a,b)} : tiling Ls\""], ["proof (prove)\nusing this:\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls", "using IH a b"], ["proof (prove)\nusing this:\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls", "by auto"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n i j - {(2^n+i - 1,2^n+j - 1)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n (2^n+i) j - {(2^n+i, 2^n+j - 1)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n (2^n+i) (2^n+j) - {(2^n+i, 2^n+j)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n    \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "ultimately"], ["proof (chain)\npicking this:\n  square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls", "have \"square2 (n+1) i j - {(a,b)} - L3 (2^n+i - 1) (2^n+j - 1) \\<in> tiling Ls\""], ["proof (prove)\nusing this:\n  square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "using  a b \\<open>?C\\<close>"], ["proof (prove)\nusing this:\n  square2 n i (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(2 ^ n + i, 2 ^ n + j)}\n  \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "by (simp add: square2_Suc L3_def Un_Diff Diff_insert_if le_diff_conv2)\n         (fastforce intro!: tiling_UnI DisjI1 DisjI2 square2_disj[THEN iffD2]\n                   simp:Int_Un_distrib2)"], ["proof (state)\nthis:\n  square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "}"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "{"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "assume \"?D\""], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "hence \"square2 n (2^n+i) (2^n+j) -{(a,b)} : tiling Ls\""], ["proof (prove)\nusing this:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls", "using IH a b"], ["proof (prove)\nusing this:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n  \\<lbrakk>?i \\<le> ?a; ?a < 2 ^ n + ?i; ?j \\<le> ?b;\n   ?b < 2 ^ n + ?j\\<rbrakk>\n  \\<Longrightarrow> square2 n ?i ?j - {(?a, ?b)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls", "by auto"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n i j - {(2^n+i - 1,2^n+j - 1)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n (2^n+i) j - {(2^n+i, 2^n+j - 1)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"square2 n i (2^n+j) - {(2^n+i - 1, 2^n+j)} : tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls", "by(rule IH)(insert pos_pow2[of n], auto)"], ["proof (state)\nthis:\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "ultimately"], ["proof (chain)\npicking this:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls", "have \"square2 (n+1) i j - {(a,b)} - L2 (2^n+i - 1) (2^n+j - 1) \\<in> tiling Ls\""], ["proof (prove)\nusing this:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "using  a b \\<open>?D\\<close>"], ["proof (prove)\nusing this:\n  square2 n (2 ^ n + i) (2 ^ n + j) - {(a, b)} \\<in> tiling Ls\n  square2 n i j - {(2 ^ n + i - 1, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n (2 ^ n + i) j - {(2 ^ n + i, 2 ^ n + j - 1)} \\<in> tiling Ls\n  square2 n i (2 ^ n + j) - {(2 ^ n + i - 1, 2 ^ n + j)} \\<in> tiling Ls\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n\ngoal (1 subgoal):\n 1. square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<in> tiling Ls", "by (simp add: square2_Suc L2_def Un_Diff Diff_insert_if le_diff_conv2)\n         (fastforce intro!: tiling_UnI DisjI1 DisjI2 square2_disj[THEN iffD2]\n                   simp:Int_Un_distrib2)"], ["proof (state)\nthis:\n  square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "}"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"?A \\<Longrightarrow> L0 (2^n + i - 1) (2^n + j - 1) \\<subseteq> square2 (n+1) i j - {(a, b)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n    L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "using a b"], ["proof (prove)\nusing this:\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n    L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "by(simp add:L0_def) arith"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"?B \\<Longrightarrow> L1 (2^n + i - 1) (2^n + j - 1) \\<subseteq> square2 (n+1) i j - {(a, b)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ n + i \\<le> a \\<and>\n    a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n    L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "using a b"], ["proof (prove)\nusing this:\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. 2 ^ n + i \\<le> a \\<and>\n    a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n    L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "by(simp add:L1_def) arith"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"?C \\<Longrightarrow> L3 (2^n + i - 1) (2^n + j - 1) \\<subseteq> square2 (n+1) i j - {(a, b)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. a < 2 ^ n + i \\<and>\n    2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n    L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "using a b"], ["proof (prove)\nusing this:\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. a < 2 ^ n + i \\<and>\n    2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n    L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "by(simp add:L3_def) arith"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "moreover"], ["proof (state)\nthis:\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "have \"?D \\<Longrightarrow> L2 (2^n + i - 1) (2^n + j - 1) \\<subseteq> square2 (n+1) i j - {(a, b)}\""], ["proof (prove)\ngoal (1 subgoal):\n 1. 2 ^ n + i \\<le> a \\<and>\n    a < 2 ^ (n + 1) + i \\<and>\n    2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n    L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "using a b"], ["proof (prove)\nusing this:\n  i \\<le> a\n  a < 2 ^ Suc n + i\n  j \\<le> b\n  b < 2 ^ Suc n + j\n\ngoal (1 subgoal):\n 1. 2 ^ n + i \\<le> a \\<and>\n    a < 2 ^ (n + 1) + i \\<and>\n    2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n    L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n    \\<subseteq> square2 (n + 1) i j - {(a, b)}", "by(simp add:L2_def) arith"], ["proof (state)\nthis:\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. \\<And>n a b i j.\n       \\<lbrakk>\\<And>a b i j.\n                   \\<lbrakk>i \\<le> a; a < 2 ^ n + i; j \\<le> b;\n                    b < 2 ^ n + j\\<rbrakk>\n                   \\<Longrightarrow> square2 n i j - {(a, b)}\n                                     \\<in> tiling Ls;\n        i \\<le> a; a < 2 ^ Suc n + i; j \\<le> b; b < 2 ^ Suc n + j\\<rbrakk>\n       \\<Longrightarrow> square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "ultimately"], ["proof (chain)\npicking this:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<or>\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<or>\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<or>\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}", "show ?case"], ["proof (prove)\nusing this:\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<or>\n  2 ^ n + i \\<le> a \\<and> a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<or>\n  a < 2 ^ n + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<or>\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> 2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  square2 (n + 1) i j - {(a, b)} - L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<in> tiling Ls\n  a < 2 ^ n + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L0 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and> b < 2 ^ n + j \\<Longrightarrow>\n  L1 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n  a < 2 ^ n + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L3 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n  2 ^ n + i \\<le> a \\<and>\n  a < 2 ^ (n + 1) + i \\<and>\n  2 ^ n + j \\<le> b \\<and> b < 2 ^ (n + 1) + j \\<Longrightarrow>\n  L2 (2 ^ n + i - 1) (2 ^ n + j - 1)\n  \\<subseteq> square2 (n + 1) i j - {(a, b)}\n\ngoal (1 subgoal):\n 1. square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls", "by simp (metis LinLs tiling_Diff1E)"], ["proof (state)\nthis:\n  square2 (Suc n) i j - {(a, b)} \\<in> tiling Ls\n\ngoal:\nNo subgoals!", "qed"], ["", "corollary Ls_can_tile00:\n  \"a < 2^n \\<Longrightarrow> b < 2^n \\<Longrightarrow> square2 n 0 0 - {(a, b)} \\<in> tiling Ls\""], ["proof (prove)\ngoal (1 subgoal):\n 1. \\<lbrakk>a < 2 ^ n; b < 2 ^ n\\<rbrakk>\n    \\<Longrightarrow> square2 n 0 0 - {(a, b)} \\<in> tiling Ls", "by(rule Ls_can_tile) auto"], ["", "end"]]}